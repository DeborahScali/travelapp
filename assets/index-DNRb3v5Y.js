var FN=Object.defineProperty;var kN=(t,e,n)=>e in t?FN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fe=(t,e,n)=>kN(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var LN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var LE={exports:{}},vm={},VE={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd=Symbol.for("react.element"),UN=Symbol.for("react.portal"),BN=Symbol.for("react.fragment"),WN=Symbol.for("react.strict_mode"),$N=Symbol.for("react.profiler"),HN=Symbol.for("react.provider"),YN=Symbol.for("react.context"),qN=Symbol.for("react.forward_ref"),GN=Symbol.for("react.suspense"),KN=Symbol.for("react.memo"),QN=Symbol.for("react.lazy"),Ox=Symbol.iterator;function XN(t){return t===null||typeof t!="object"?null:(t=Ox&&t[Ox]||t["@@iterator"],typeof t=="function"?t:null)}var zE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UE=Object.assign,BE={};function Uu(t,e,n){this.props=t,this.context=e,this.refs=BE,this.updater=n||zE}Uu.prototype.isReactComponent={};Uu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WE(){}WE.prototype=Uu.prototype;function Qv(t,e,n){this.props=t,this.context=e,this.refs=BE,this.updater=n||zE}var Xv=Qv.prototype=new WE;Xv.constructor=Qv;UE(Xv,Uu.prototype);Xv.isPureReactComponent=!0;var jx=Array.isArray,$E=Object.prototype.hasOwnProperty,Jv={current:null},HE={key:!0,ref:!0,__self:!0,__source:!0};function YE(t,e,n){var r,s={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)$E.call(e,r)&&!HE.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+2];s.children=d}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Rd,type:t,key:a,ref:o,props:s,_owner:Jv.current}}function JN(t,e){return{$$typeof:Rd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rd}function ZN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mx=/\/+/g;function Tg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZN(""+t.key):e.toString(36)}function rh(t,e,n,r,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Rd:case UN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Tg(o,0):r,jx(s)?(n="",t!=null&&(n=t.replace(Mx,"$&/")+"/"),rh(s,e,n,"",function(h){return h})):s!=null&&(Zv(s)&&(s=JN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Mx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",jx(t))for(var c=0;c<t.length;c++){a=t[c];var d=r+Tg(a,c);o+=rh(a,e,n,d,s)}else if(d=XN(t),typeof d=="function")for(t=d.call(t),c=0;!(a=t.next()).done;)a=a.value,d=r+Tg(a,c++),o+=rh(a,e,n,d,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vf(t,e,n){if(t==null)return t;var r=[],s=0;return rh(t,r,"","",function(a){return e.call(n,a,s++)}),r}function eO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hn={current:null},sh={transition:null},tO={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:sh,ReactCurrentOwner:Jv};function qE(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:vf,forEach:function(t,e,n){vf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vf(t,function(){e++}),e},toArray:function(t){return vf(t,function(e){return e})||[]},only:function(t){if(!Zv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ze.Component=Uu;ze.Fragment=BN;ze.Profiler=$N;ze.PureComponent=Qv;ze.StrictMode=WN;ze.Suspense=GN;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tO;ze.act=qE;ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=UE({},t.props),s=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Jv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(d in e)$E.call(e,d)&&!HE.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&c!==void 0?c[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Rd,type:t.type,key:s,ref:a,props:r,_owner:o}};ze.createContext=function(t){return t={$$typeof:YN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HN,_context:t},t.Consumer=t};ze.createElement=YE;ze.createFactory=function(t){var e=YE.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:qN,render:t}};ze.isValidElement=Zv;ze.lazy=function(t){return{$$typeof:QN,_payload:{_status:-1,_result:t},_init:eO}};ze.memo=function(t,e){return{$$typeof:KN,type:t,compare:e===void 0?null:e}};ze.startTransition=function(t){var e=sh.transition;sh.transition={};try{t()}finally{sh.transition=e}};ze.unstable_act=qE;ze.useCallback=function(t,e){return Hn.current.useCallback(t,e)};ze.useContext=function(t){return Hn.current.useContext(t)};ze.useDebugValue=function(){};ze.useDeferredValue=function(t){return Hn.current.useDeferredValue(t)};ze.useEffect=function(t,e){return Hn.current.useEffect(t,e)};ze.useId=function(){return Hn.current.useId()};ze.useImperativeHandle=function(t,e,n){return Hn.current.useImperativeHandle(t,e,n)};ze.useInsertionEffect=function(t,e){return Hn.current.useInsertionEffect(t,e)};ze.useLayoutEffect=function(t,e){return Hn.current.useLayoutEffect(t,e)};ze.useMemo=function(t,e){return Hn.current.useMemo(t,e)};ze.useReducer=function(t,e,n){return Hn.current.useReducer(t,e,n)};ze.useRef=function(t){return Hn.current.useRef(t)};ze.useState=function(t){return Hn.current.useState(t)};ze.useSyncExternalStore=function(t,e,n){return Hn.current.useSyncExternalStore(t,e,n)};ze.useTransition=function(){return Hn.current.useTransition()};ze.version="18.3.1";VE.exports=ze;var L=VE.exports;const Qr=VN(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nO=L,rO=Symbol.for("react.element"),sO=Symbol.for("react.fragment"),iO=Object.prototype.hasOwnProperty,aO=nO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oO={key:!0,ref:!0,__self:!0,__source:!0};function GE(t,e,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)iO.call(e,r)&&!oO.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:rO,type:t,key:a,ref:o,props:s,_owner:aO.current}}vm.Fragment=sO;vm.jsx=GE;vm.jsxs=GE;LE.exports=vm;var l=LE.exports,Cp={},KE={exports:{}},Sr={},QE={exports:{}},XE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,de){var ue=ee.length;ee.push(de);e:for(;0<ue;){var Pe=ue-1>>>1,J=ee[Pe];if(0<s(J,de))ee[Pe]=de,ee[ue]=J,ue=Pe;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var de=ee[0],ue=ee.pop();if(ue!==de){ee[0]=ue;e:for(var Pe=0,J=ee.length,q=J>>>1;Pe<q;){var U=2*(Pe+1)-1,A=ee[U],G=U+1,oe=ee[G];if(0>s(A,ue))G<J&&0>s(oe,A)?(ee[Pe]=oe,ee[G]=ue,Pe=G):(ee[Pe]=A,ee[U]=ue,Pe=U);else if(G<J&&0>s(oe,ue))ee[Pe]=oe,ee[G]=ue,Pe=G;else break e}}return de}function s(ee,de){var ue=ee.sortIndex-de.sortIndex;return ue!==0?ue:ee.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],g=1,v=null,y=3,b=!1,N=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(ee){for(var de=n(h);de!==null;){if(de.callback===null)r(h);else if(de.startTime<=ee)r(h),de.sortIndex=de.expirationTime,e(d,de);else break;de=n(h)}}function R(ee){if(E=!1,I(ee),!N)if(n(d)!==null)N=!0,Z($);else{var de=n(h);de!==null&&Ae(R,de.startTime-ee)}}function $(ee,de){N=!1,E&&(E=!1,S(w),w=-1),b=!0;var ue=y;try{for(I(de),v=n(d);v!==null&&(!(v.expirationTime>de)||ee&&!M());){var Pe=v.callback;if(typeof Pe=="function"){v.callback=null,y=v.priorityLevel;var J=Pe(v.expirationTime<=de);de=t.unstable_now(),typeof J=="function"?v.callback=J:v===n(d)&&r(d),I(de)}else r(d);v=n(d)}if(v!==null)var q=!0;else{var U=n(h);U!==null&&Ae(R,U.startTime-de),q=!1}return q}finally{v=null,y=ue,b=!1}}var H=!1,D=null,w=-1,P=5,O=-1;function M(){return!(t.unstable_now()-O<P)}function V(){if(D!==null){var ee=t.unstable_now();O=ee;var de=!0;try{de=D(!0,ee)}finally{de?C():(H=!1,D=null)}}else H=!1}var C;if(typeof T=="function")C=function(){T(V)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,tt=et.port2;et.port1.onmessage=V,C=function(){tt.postMessage(null)}}else C=function(){k(V,0)};function Z(ee){D=ee,H||(H=!0,C())}function Ae(ee,de){w=k(function(){ee(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){N||b||(N=!0,Z($))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ee){switch(y){case 1:case 2:case 3:var de=3;break;default:de=y}var ue=y;y=de;try{return ee()}finally{y=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=y;y=ee;try{return de()}finally{y=ue}},t.unstable_scheduleCallback=function(ee,de,ue){var Pe=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Pe+ue:Pe):ue=Pe,ee){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ue+J,ee={id:g++,callback:de,priorityLevel:ee,startTime:ue,expirationTime:J,sortIndex:-1},ue>Pe?(ee.sortIndex=ue,e(h,ee),n(d)===null&&ee===n(h)&&(E?(S(w),w=-1):E=!0,Ae(R,ue-Pe))):(ee.sortIndex=J,e(d,ee),N||b||(N=!0,Z($))),ee},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(ee){var de=y;return function(){var ue=y;y=de;try{return ee.apply(this,arguments)}finally{y=ue}}}})(XE);QE.exports=XE;var lO=QE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uO=L,Er=lO;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JE=new Set,ld={};function _l(t,e){Eu(t,e),Eu(t+"Capture",e)}function Eu(t,e){for(ld[t]=e,t=0;t<e.length;t++)JE.add(e[t])}var Ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Np=Object.prototype.hasOwnProperty,cO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rx={},Ax={};function dO(t){return Np.call(Ax,t)?!0:Np.call(Rx,t)?!1:cO.test(t)?Ax[t]=!0:(Rx[t]=!0,!1)}function fO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hO(t,e,n,r){if(e===null||typeof e>"u"||fO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yn(t,e,n,r,s,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vn[t]=new Yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vn[e]=new Yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vn[t]=new Yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vn[t]=new Yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vn[t]=new Yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vn[t]=new Yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vn[t]=new Yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vn[t]=new Yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vn[t]=new Yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var e0=/[\-:]([a-z])/g;function t0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(e0,t0);vn[e]=new Yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(e0,t0);vn[e]=new Yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(e0,t0);vn[e]=new Yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vn[t]=new Yn(t,1,!1,t.toLowerCase(),null,!1,!1)});vn.xlinkHref=new Yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vn[t]=new Yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function n0(t,e,n,r){var s=vn.hasOwnProperty(e)?vn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hO(e,n,s,r)&&(n=null),r||s===null?dO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var la=uO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yf=Symbol.for("react.element"),eu=Symbol.for("react.portal"),tu=Symbol.for("react.fragment"),r0=Symbol.for("react.strict_mode"),Op=Symbol.for("react.profiler"),ZE=Symbol.for("react.provider"),e2=Symbol.for("react.context"),s0=Symbol.for("react.forward_ref"),jp=Symbol.for("react.suspense"),Mp=Symbol.for("react.suspense_list"),i0=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),t2=Symbol.for("react.offscreen"),Fx=Symbol.iterator;function gc(t){return t===null||typeof t!="object"?null:(t=Fx&&t[Fx]||t["@@iterator"],typeof t=="function"?t:null)}var jt=Object.assign,Pg;function kc(t){if(Pg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pg=e&&e[1]||""}return`
`+Pg+t}var Ig=!1;function Cg(t,e){if(!t||Ig)return"";Ig=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,c=a.length-1;1<=o&&0<=c&&s[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==a[c]){var d=`
`+s[o].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=o&&0<=c);break}}}finally{Ig=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kc(t):""}function mO(t){switch(t.tag){case 5:return kc(t.type);case 16:return kc("Lazy");case 13:return kc("Suspense");case 19:return kc("SuspenseList");case 0:case 2:case 15:return t=Cg(t.type,!1),t;case 11:return t=Cg(t.type.render,!1),t;case 1:return t=Cg(t.type,!0),t;default:return""}}function Rp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tu:return"Fragment";case eu:return"Portal";case Op:return"Profiler";case r0:return"StrictMode";case jp:return"Suspense";case Mp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case e2:return(t.displayName||"Context")+".Consumer";case ZE:return(t._context.displayName||"Context")+".Provider";case s0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case i0:return e=t.displayName||null,e!==null?e:Rp(t.type)||"Memo";case eo:e=t._payload,t=t._init;try{return Rp(t(e))}catch{}}return null}function gO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rp(e);case 8:return e===r0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function So(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function n2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pO(t){var e=n2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _f(t){t._valueTracker||(t._valueTracker=pO(t))}function r2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=n2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ap(t,e){var n=e.checked;return jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=So(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function s2(t,e){e=e.checked,e!=null&&n0(t,"checked",e,!1)}function Fp(t,e){s2(t,e);var n=So(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kp(t,e.type,n):e.hasOwnProperty("defaultValue")&&kp(t,e.type,So(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kp(t,e,n){(e!=="number"||Sh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Lc=Array.isArray;function hu(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+So(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Lp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(Lc(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:So(n)}}function i2(t,e){var n=So(e.value),r=So(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function a2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?a2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xf,o2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xf=xf||document.createElement("div"),xf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ud(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vO=["Webkit","ms","Moz","O"];Object.keys(Yc).forEach(function(t){vO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yc[e]=Yc[t]})});function l2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yc.hasOwnProperty(t)&&Yc[t]?(""+e).trim():e+"px"}function u2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=l2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var yO=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zp(t,e){if(e){if(yO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Up(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bp=null;function a0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wp=null,mu=null,gu=null;function Ux(t){if(t=kd(t)){if(typeof Wp!="function")throw Error(re(280));var e=t.stateNode;e&&(e=bm(e),Wp(t.stateNode,t.type,e))}}function c2(t){mu?gu?gu.push(t):gu=[t]:mu=t}function d2(){if(mu){var t=mu,e=gu;if(gu=mu=null,Ux(t),e)for(t=0;t<e.length;t++)Ux(e[t])}}function f2(t,e){return t(e)}function h2(){}var Ng=!1;function m2(t,e,n){if(Ng)return t(e,n);Ng=!0;try{return f2(t,e,n)}finally{Ng=!1,(mu!==null||gu!==null)&&(h2(),d2())}}function cd(t,e){var n=t.stateNode;if(n===null)return null;var r=bm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var $p=!1;if(Ji)try{var pc={};Object.defineProperty(pc,"passive",{get:function(){$p=!0}}),window.addEventListener("test",pc,pc),window.removeEventListener("test",pc,pc)}catch{$p=!1}function _O(t,e,n,r,s,a,o,c,d){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(g){this.onError(g)}}var qc=!1,Th=null,Ph=!1,Hp=null,xO={onError:function(t){qc=!0,Th=t}};function wO(t,e,n,r,s,a,o,c,d){qc=!1,Th=null,_O.apply(xO,arguments)}function bO(t,e,n,r,s,a,o,c,d){if(wO.apply(this,arguments),qc){if(qc){var h=Th;qc=!1,Th=null}else throw Error(re(198));Ph||(Ph=!0,Hp=h)}}function xl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function g2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bx(t){if(xl(t)!==t)throw Error(re(188))}function EO(t){var e=t.alternate;if(!e){if(e=xl(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Bx(s),t;if(a===r)return Bx(s),e;a=a.sibling}throw Error(re(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,r=a;break}if(c===r){o=!0,r=s,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=s;break}if(c===r){o=!0,r=a,n=s;break}c=c.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function p2(t){return t=EO(t),t!==null?v2(t):null}function v2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=v2(t);if(e!==null)return e;t=t.sibling}return null}var y2=Er.unstable_scheduleCallback,Wx=Er.unstable_cancelCallback,DO=Er.unstable_shouldYield,SO=Er.unstable_requestPaint,zt=Er.unstable_now,TO=Er.unstable_getCurrentPriorityLevel,o0=Er.unstable_ImmediatePriority,_2=Er.unstable_UserBlockingPriority,Ih=Er.unstable_NormalPriority,PO=Er.unstable_LowPriority,x2=Er.unstable_IdlePriority,ym=null,ai=null;function IO(t){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(ym,t,void 0,(t.current.flags&128)===128)}catch{}}var Ps=Math.clz32?Math.clz32:OO,CO=Math.log,NO=Math.LN2;function OO(t){return t>>>=0,t===0?32:31-(CO(t)/NO|0)|0}var wf=64,bf=4194304;function Vc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ch(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var c=o&~s;c!==0?r=Vc(c):(a&=o,a!==0&&(r=Vc(a)))}else o=n&~s,o!==0?r=Vc(o):a!==0&&(r=Vc(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ps(e),s=1<<n,r|=t[n],e&=~s;return r}function jO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Ps(a),c=1<<o,d=s[o];d===-1?(!(c&n)||c&r)&&(s[o]=jO(c,e)):d<=e&&(t.expiredLanes|=c),a&=~c}}function Yp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function w2(){var t=wf;return wf<<=1,!(wf&4194240)&&(wf=64),t}function Og(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ad(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ps(e),t[e]=n}function RO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ps(n),a=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~a}}function l0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ps(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var st=0;function b2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var E2,u0,D2,S2,T2,qp=!1,Ef=[],fo=null,ho=null,mo=null,dd=new Map,fd=new Map,ro=[],AO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $x(t,e){switch(t){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":dd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fd.delete(e.pointerId)}}function vc(t,e,n,r,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},e!==null&&(e=kd(e),e!==null&&u0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function FO(t,e,n,r,s){switch(e){case"focusin":return fo=vc(fo,t,e,n,r,s),!0;case"dragenter":return ho=vc(ho,t,e,n,r,s),!0;case"mouseover":return mo=vc(mo,t,e,n,r,s),!0;case"pointerover":var a=s.pointerId;return dd.set(a,vc(dd.get(a)||null,t,e,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,fd.set(a,vc(fd.get(a)||null,t,e,n,r,s)),!0}return!1}function P2(t){var e=el(t.target);if(e!==null){var n=xl(e);if(n!==null){if(e=n.tag,e===13){if(e=g2(n),e!==null){t.blockedOn=e,T2(t.priority,function(){D2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ih(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bp=r,n.target.dispatchEvent(r),Bp=null}else return e=kd(n),e!==null&&u0(e),t.blockedOn=n,!1;e.shift()}return!0}function Hx(t,e,n){ih(t)&&n.delete(e)}function kO(){qp=!1,fo!==null&&ih(fo)&&(fo=null),ho!==null&&ih(ho)&&(ho=null),mo!==null&&ih(mo)&&(mo=null),dd.forEach(Hx),fd.forEach(Hx)}function yc(t,e){t.blockedOn===e&&(t.blockedOn=null,qp||(qp=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,kO)))}function hd(t){function e(s){return yc(s,t)}if(0<Ef.length){yc(Ef[0],t);for(var n=1;n<Ef.length;n++){var r=Ef[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fo!==null&&yc(fo,t),ho!==null&&yc(ho,t),mo!==null&&yc(mo,t),dd.forEach(e),fd.forEach(e),n=0;n<ro.length;n++)r=ro[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ro.length&&(n=ro[0],n.blockedOn===null);)P2(n),n.blockedOn===null&&ro.shift()}var pu=la.ReactCurrentBatchConfig,Nh=!0;function LO(t,e,n,r){var s=st,a=pu.transition;pu.transition=null;try{st=1,c0(t,e,n,r)}finally{st=s,pu.transition=a}}function VO(t,e,n,r){var s=st,a=pu.transition;pu.transition=null;try{st=4,c0(t,e,n,r)}finally{st=s,pu.transition=a}}function c0(t,e,n,r){if(Nh){var s=Gp(t,e,n,r);if(s===null)Ug(t,e,r,Oh,n),$x(t,r);else if(FO(s,t,e,n,r))r.stopPropagation();else if($x(t,r),e&4&&-1<AO.indexOf(t)){for(;s!==null;){var a=kd(s);if(a!==null&&E2(a),a=Gp(t,e,n,r),a===null&&Ug(t,e,r,Oh,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Ug(t,e,r,null,n)}}var Oh=null;function Gp(t,e,n,r){if(Oh=null,t=a0(r),t=el(t),t!==null)if(e=xl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=g2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oh=t,null}function I2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TO()){case o0:return 1;case _2:return 4;case Ih:case PO:return 16;case x2:return 536870912;default:return 16}default:return 16}}var lo=null,d0=null,ah=null;function C2(){if(ah)return ah;var t,e=d0,n=e.length,r,s="value"in lo?lo.value:lo.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[a-r];r++);return ah=s.slice(t,1<r?1-r:void 0)}function oh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Df(){return!0}function Yx(){return!1}function Tr(t){function e(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Df:Yx,this.isPropagationStopped=Yx,this}return jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Df)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Df)},persist:function(){},isPersistent:Df}),e}var Bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},f0=Tr(Bu),Fd=jt({},Bu,{view:0,detail:0}),zO=Tr(Fd),jg,Mg,_c,_m=jt({},Fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_c&&(_c&&t.type==="mousemove"?(jg=t.screenX-_c.screenX,Mg=t.screenY-_c.screenY):Mg=jg=0,_c=t),jg)},movementY:function(t){return"movementY"in t?t.movementY:Mg}}),qx=Tr(_m),UO=jt({},_m,{dataTransfer:0}),BO=Tr(UO),WO=jt({},Fd,{relatedTarget:0}),Rg=Tr(WO),$O=jt({},Bu,{animationName:0,elapsedTime:0,pseudoElement:0}),HO=Tr($O),YO=jt({},Bu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qO=Tr(YO),GO=jt({},Bu,{data:0}),Gx=Tr(GO),KO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XO[t])?!!e[t]:!1}function h0(){return JO}var ZO=jt({},Fd,{key:function(t){if(t.key){var e=KO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h0,charCode:function(t){return t.type==="keypress"?oh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ej=Tr(ZO),tj=jt({},_m,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kx=Tr(tj),nj=jt({},Fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h0}),rj=Tr(nj),sj=jt({},Bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),ij=Tr(sj),aj=jt({},_m,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oj=Tr(aj),lj=[9,13,27,32],m0=Ji&&"CompositionEvent"in window,Gc=null;Ji&&"documentMode"in document&&(Gc=document.documentMode);var uj=Ji&&"TextEvent"in window&&!Gc,N2=Ji&&(!m0||Gc&&8<Gc&&11>=Gc),Qx=" ",Xx=!1;function O2(t,e){switch(t){case"keyup":return lj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nu=!1;function cj(t,e){switch(t){case"compositionend":return j2(e);case"keypress":return e.which!==32?null:(Xx=!0,Qx);case"textInput":return t=e.data,t===Qx&&Xx?null:t;default:return null}}function dj(t,e){if(nu)return t==="compositionend"||!m0&&O2(t,e)?(t=C2(),ah=d0=lo=null,nu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return N2&&e.locale!=="ko"?null:e.data;default:return null}}var fj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fj[t.type]:e==="textarea"}function M2(t,e,n,r){c2(r),e=jh(e,"onChange"),0<e.length&&(n=new f0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kc=null,md=null;function hj(t){$2(t,0)}function xm(t){var e=iu(t);if(r2(e))return t}function mj(t,e){if(t==="change")return e}var R2=!1;if(Ji){var Ag;if(Ji){var Fg="oninput"in document;if(!Fg){var Zx=document.createElement("div");Zx.setAttribute("oninput","return;"),Fg=typeof Zx.oninput=="function"}Ag=Fg}else Ag=!1;R2=Ag&&(!document.documentMode||9<document.documentMode)}function ew(){Kc&&(Kc.detachEvent("onpropertychange",A2),md=Kc=null)}function A2(t){if(t.propertyName==="value"&&xm(md)){var e=[];M2(e,md,t,a0(t)),m2(hj,e)}}function gj(t,e,n){t==="focusin"?(ew(),Kc=e,md=n,Kc.attachEvent("onpropertychange",A2)):t==="focusout"&&ew()}function pj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xm(md)}function vj(t,e){if(t==="click")return xm(e)}function yj(t,e){if(t==="input"||t==="change")return xm(e)}function _j(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ns=typeof Object.is=="function"?Object.is:_j;function gd(t,e){if(Ns(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Np.call(e,s)||!Ns(t[s],e[s]))return!1}return!0}function tw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nw(t,e){var n=tw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tw(n)}}function F2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?F2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function k2(){for(var t=window,e=Sh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sh(t.document)}return e}function g0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xj(t){var e=k2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&F2(n.ownerDocument.documentElement,n)){if(r!==null&&g0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!t.extend&&a>r&&(s=r,r=a,a=s),s=nw(n,a);var o=nw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wj=Ji&&"documentMode"in document&&11>=document.documentMode,ru=null,Kp=null,Qc=null,Qp=!1;function rw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qp||ru==null||ru!==Sh(r)||(r=ru,"selectionStart"in r&&g0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qc&&gd(Qc,r)||(Qc=r,r=jh(Kp,"onSelect"),0<r.length&&(e=new f0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ru)))}function Sf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var su={animationend:Sf("Animation","AnimationEnd"),animationiteration:Sf("Animation","AnimationIteration"),animationstart:Sf("Animation","AnimationStart"),transitionend:Sf("Transition","TransitionEnd")},kg={},L2={};Ji&&(L2=document.createElement("div").style,"AnimationEvent"in window||(delete su.animationend.animation,delete su.animationiteration.animation,delete su.animationstart.animation),"TransitionEvent"in window||delete su.transitionend.transition);function wm(t){if(kg[t])return kg[t];if(!su[t])return t;var e=su[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in L2)return kg[t]=e[n];return t}var V2=wm("animationend"),z2=wm("animationiteration"),U2=wm("animationstart"),B2=wm("transitionend"),W2=new Map,sw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(t,e){W2.set(t,e),_l(e,[t])}for(var Lg=0;Lg<sw.length;Lg++){var Vg=sw[Lg],bj=Vg.toLowerCase(),Ej=Vg[0].toUpperCase()+Vg.slice(1);jo(bj,"on"+Ej)}jo(V2,"onAnimationEnd");jo(z2,"onAnimationIteration");jo(U2,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(B2,"onTransitionEnd");Eu("onMouseEnter",["mouseout","mouseover"]);Eu("onMouseLeave",["mouseout","mouseover"]);Eu("onPointerEnter",["pointerout","pointerover"]);Eu("onPointerLeave",["pointerout","pointerover"]);_l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_l("onBeforeInput",["compositionend","keypress","textInput","paste"]);_l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dj=new Set("cancel close invalid load scroll toggle".split(" ").concat(zc));function iw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bO(r,e,void 0,t),t.currentTarget=null}function $2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var c=r[o],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==a&&s.isPropagationStopped())break e;iw(s,c,h),a=d}else for(o=0;o<r.length;o++){if(c=r[o],d=c.instance,h=c.currentTarget,c=c.listener,d!==a&&s.isPropagationStopped())break e;iw(s,c,h),a=d}}}if(Ph)throw t=Hp,Ph=!1,Hp=null,t}function _t(t,e){var n=e[tv];n===void 0&&(n=e[tv]=new Set);var r=t+"__bubble";n.has(r)||(H2(e,t,2,!1),n.add(r))}function zg(t,e,n){var r=0;e&&(r|=4),H2(n,t,r,e)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function pd(t){if(!t[Tf]){t[Tf]=!0,JE.forEach(function(n){n!=="selectionchange"&&(Dj.has(n)||zg(n,!1,t),zg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tf]||(e[Tf]=!0,zg("selectionchange",!1,e))}}function H2(t,e,n,r){switch(I2(e)){case 1:var s=LO;break;case 4:s=VO;break;default:s=c0}n=s.bind(null,e,n,t),s=void 0,!$p||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ug(t,e,n,r,s){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;o=o.return}for(;c!==null;){if(o=el(c),o===null)return;if(d=o.tag,d===5||d===6){r=a=o;continue e}c=c.parentNode}}r=r.return}m2(function(){var h=a,g=a0(n),v=[];e:{var y=W2.get(t);if(y!==void 0){var b=f0,N=t;switch(t){case"keypress":if(oh(n)===0)break e;case"keydown":case"keyup":b=ej;break;case"focusin":N="focus",b=Rg;break;case"focusout":N="blur",b=Rg;break;case"beforeblur":case"afterblur":b=Rg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=qx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=BO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=rj;break;case V2:case z2:case U2:b=HO;break;case B2:b=ij;break;case"scroll":b=zO;break;case"wheel":b=oj;break;case"copy":case"cut":case"paste":b=qO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Kx}var E=(e&4)!==0,k=!E&&t==="scroll",S=E?y!==null?y+"Capture":null:y;E=[];for(var T=h,I;T!==null;){I=T;var R=I.stateNode;if(I.tag===5&&R!==null&&(I=R,S!==null&&(R=cd(T,S),R!=null&&E.push(vd(T,R,I)))),k)break;T=T.return}0<E.length&&(y=new b(y,N,null,n,g),v.push({event:y,listeners:E}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",y&&n!==Bp&&(N=n.relatedTarget||n.fromElement)&&(el(N)||N[Zi]))break e;if((b||y)&&(y=g.window===g?g:(y=g.ownerDocument)?y.defaultView||y.parentWindow:window,b?(N=n.relatedTarget||n.toElement,b=h,N=N?el(N):null,N!==null&&(k=xl(N),N!==k||N.tag!==5&&N.tag!==6)&&(N=null)):(b=null,N=h),b!==N)){if(E=qx,R="onMouseLeave",S="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(E=Kx,R="onPointerLeave",S="onPointerEnter",T="pointer"),k=b==null?y:iu(b),I=N==null?y:iu(N),y=new E(R,T+"leave",b,n,g),y.target=k,y.relatedTarget=I,R=null,el(g)===h&&(E=new E(S,T+"enter",N,n,g),E.target=I,E.relatedTarget=k,R=E),k=R,b&&N)t:{for(E=b,S=N,T=0,I=E;I;I=Wl(I))T++;for(I=0,R=S;R;R=Wl(R))I++;for(;0<T-I;)E=Wl(E),T--;for(;0<I-T;)S=Wl(S),I--;for(;T--;){if(E===S||S!==null&&E===S.alternate)break t;E=Wl(E),S=Wl(S)}E=null}else E=null;b!==null&&aw(v,y,b,E,!1),N!==null&&k!==null&&aw(v,k,N,E,!0)}}e:{if(y=h?iu(h):window,b=y.nodeName&&y.nodeName.toLowerCase(),b==="select"||b==="input"&&y.type==="file")var $=mj;else if(Jx(y))if(R2)$=yj;else{$=pj;var H=gj}else(b=y.nodeName)&&b.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&($=vj);if($&&($=$(t,h))){M2(v,$,n,g);break e}H&&H(t,y,h),t==="focusout"&&(H=y._wrapperState)&&H.controlled&&y.type==="number"&&kp(y,"number",y.value)}switch(H=h?iu(h):window,t){case"focusin":(Jx(H)||H.contentEditable==="true")&&(ru=H,Kp=h,Qc=null);break;case"focusout":Qc=Kp=ru=null;break;case"mousedown":Qp=!0;break;case"contextmenu":case"mouseup":case"dragend":Qp=!1,rw(v,n,g);break;case"selectionchange":if(wj)break;case"keydown":case"keyup":rw(v,n,g)}var D;if(m0)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else nu?O2(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(N2&&n.locale!=="ko"&&(nu||w!=="onCompositionStart"?w==="onCompositionEnd"&&nu&&(D=C2()):(lo=g,d0="value"in lo?lo.value:lo.textContent,nu=!0)),H=jh(h,w),0<H.length&&(w=new Gx(w,t,null,n,g),v.push({event:w,listeners:H}),D?w.data=D:(D=j2(n),D!==null&&(w.data=D)))),(D=uj?cj(t,n):dj(t,n))&&(h=jh(h,"onBeforeInput"),0<h.length&&(g=new Gx("onBeforeInput","beforeinput",null,n,g),v.push({event:g,listeners:h}),g.data=D))}$2(v,e)})}function vd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=cd(t,n),a!=null&&r.unshift(vd(t,a,s)),a=cd(t,e),a!=null&&r.push(vd(t,a,s))),t=t.return}return r}function Wl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aw(t,e,n,r,s){for(var a=e._reactName,o=[];n!==null&&n!==r;){var c=n,d=c.alternate,h=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&h!==null&&(c=h,s?(d=cd(n,a),d!=null&&o.unshift(vd(n,d,c))):s||(d=cd(n,a),d!=null&&o.push(vd(n,d,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Sj=/\r\n?/g,Tj=/\u0000|\uFFFD/g;function ow(t){return(typeof t=="string"?t:""+t).replace(Sj,`
`).replace(Tj,"")}function Pf(t,e,n){if(e=ow(e),ow(t)!==e&&n)throw Error(re(425))}function Mh(){}var Xp=null,Jp=null;function Zp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ev=typeof setTimeout=="function"?setTimeout:void 0,Pj=typeof clearTimeout=="function"?clearTimeout:void 0,lw=typeof Promise=="function"?Promise:void 0,Ij=typeof queueMicrotask=="function"?queueMicrotask:typeof lw<"u"?function(t){return lw.resolve(null).then(t).catch(Cj)}:ev;function Cj(t){setTimeout(function(){throw t})}function Bg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),hd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);hd(e)}function go(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wu=Math.random().toString(36).slice(2),si="__reactFiber$"+Wu,yd="__reactProps$"+Wu,Zi="__reactContainer$"+Wu,tv="__reactEvents$"+Wu,Nj="__reactListeners$"+Wu,Oj="__reactHandles$"+Wu;function el(t){var e=t[si];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zi]||n[si]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uw(t);t!==null;){if(n=t[si])return n;t=uw(t)}return e}t=n,n=t.parentNode}return null}function kd(t){return t=t[si]||t[Zi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function iu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function bm(t){return t[yd]||null}var nv=[],au=-1;function Mo(t){return{current:t}}function wt(t){0>au||(t.current=nv[au],nv[au]=null,au--)}function pt(t,e){au++,nv[au]=t.current,t.current=e}var To={},Rn=Mo(To),ir=Mo(!1),ul=To;function Du(t,e){var n=t.type.contextTypes;if(!n)return To;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ar(t){return t=t.childContextTypes,t!=null}function Rh(){wt(ir),wt(Rn)}function cw(t,e,n){if(Rn.current!==To)throw Error(re(168));pt(Rn,e),pt(ir,n)}function Y2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(re(108,gO(t)||"Unknown",s));return jt({},n,r)}function Ah(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||To,ul=Rn.current,pt(Rn,t),pt(ir,ir.current),!0}function dw(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=Y2(t,e,ul),r.__reactInternalMemoizedMergedChildContext=t,wt(ir),wt(Rn),pt(Rn,t)):wt(ir),pt(ir,n)}var Li=null,Em=!1,Wg=!1;function q2(t){Li===null?Li=[t]:Li.push(t)}function jj(t){Em=!0,q2(t)}function Ro(){if(!Wg&&Li!==null){Wg=!0;var t=0,e=st;try{var n=Li;for(st=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Li=null,Em=!1}catch(s){throw Li!==null&&(Li=Li.slice(t+1)),y2(o0,Ro),s}finally{st=e,Wg=!1}}return null}var ou=[],lu=0,Fh=null,kh=0,Hr=[],Yr=0,cl=null,Wi=1,$i="";function $o(t,e){ou[lu++]=kh,ou[lu++]=Fh,Fh=t,kh=e}function G2(t,e,n){Hr[Yr++]=Wi,Hr[Yr++]=$i,Hr[Yr++]=cl,cl=t;var r=Wi;t=$i;var s=32-Ps(r)-1;r&=~(1<<s),n+=1;var a=32-Ps(e)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Wi=1<<32-Ps(e)+s|n<<s|r,$i=a+t}else Wi=1<<a|n<<s|r,$i=t}function p0(t){t.return!==null&&($o(t,1),G2(t,1,0))}function v0(t){for(;t===Fh;)Fh=ou[--lu],ou[lu]=null,kh=ou[--lu],ou[lu]=null;for(;t===cl;)cl=Hr[--Yr],Hr[Yr]=null,$i=Hr[--Yr],Hr[Yr]=null,Wi=Hr[--Yr],Hr[Yr]=null}var wr=null,xr=null,Tt=!1,Ss=null;function K2(t,e){var n=Kr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wr=t,xr=go(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wr=t,xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cl!==null?{id:Wi,overflow:$i}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wr=t,xr=null,!0):!1;default:return!1}}function rv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sv(t){if(Tt){var e=xr;if(e){var n=e;if(!fw(t,e)){if(rv(t))throw Error(re(418));e=go(n.nextSibling);var r=wr;e&&fw(t,e)?K2(r,n):(t.flags=t.flags&-4097|2,Tt=!1,wr=t)}}else{if(rv(t))throw Error(re(418));t.flags=t.flags&-4097|2,Tt=!1,wr=t}}}function hw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wr=t}function If(t){if(t!==wr)return!1;if(!Tt)return hw(t),Tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zp(t.type,t.memoizedProps)),e&&(e=xr)){if(rv(t))throw Q2(),Error(re(418));for(;e;)K2(t,e),e=go(e.nextSibling)}if(hw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xr=go(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xr=null}}else xr=wr?go(t.stateNode.nextSibling):null;return!0}function Q2(){for(var t=xr;t;)t=go(t.nextSibling)}function Su(){xr=wr=null,Tt=!1}function y0(t){Ss===null?Ss=[t]:Ss.push(t)}var Mj=la.ReactCurrentBatchConfig;function xc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var s=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var c=s.refs;o===null?delete c[a]:c[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function Cf(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mw(t){var e=t._init;return e(t._payload)}function X2(t){function e(S,T){if(t){var I=S.deletions;I===null?(S.deletions=[T],S.flags|=16):I.push(T)}}function n(S,T){if(!t)return null;for(;T!==null;)e(S,T),T=T.sibling;return null}function r(S,T){for(S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function s(S,T){return S=_o(S,T),S.index=0,S.sibling=null,S}function a(S,T,I){return S.index=I,t?(I=S.alternate,I!==null?(I=I.index,I<T?(S.flags|=2,T):I):(S.flags|=2,T)):(S.flags|=1048576,T)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function c(S,T,I,R){return T===null||T.tag!==6?(T=Qg(I,S.mode,R),T.return=S,T):(T=s(T,I),T.return=S,T)}function d(S,T,I,R){var $=I.type;return $===tu?g(S,T,I.props.children,R,I.key):T!==null&&(T.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===eo&&mw($)===T.type)?(R=s(T,I.props),R.ref=xc(S,T,I),R.return=S,R):(R=mh(I.type,I.key,I.props,null,S.mode,R),R.ref=xc(S,T,I),R.return=S,R)}function h(S,T,I,R){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=Xg(I,S.mode,R),T.return=S,T):(T=s(T,I.children||[]),T.return=S,T)}function g(S,T,I,R,$){return T===null||T.tag!==7?(T=al(I,S.mode,R,$),T.return=S,T):(T=s(T,I),T.return=S,T)}function v(S,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Qg(""+T,S.mode,I),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case yf:return I=mh(T.type,T.key,T.props,null,S.mode,I),I.ref=xc(S,null,T),I.return=S,I;case eu:return T=Xg(T,S.mode,I),T.return=S,T;case eo:var R=T._init;return v(S,R(T._payload),I)}if(Lc(T)||gc(T))return T=al(T,S.mode,I,null),T.return=S,T;Cf(S,T)}return null}function y(S,T,I,R){var $=T!==null?T.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return $!==null?null:c(S,T,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case yf:return I.key===$?d(S,T,I,R):null;case eu:return I.key===$?h(S,T,I,R):null;case eo:return $=I._init,y(S,T,$(I._payload),R)}if(Lc(I)||gc(I))return $!==null?null:g(S,T,I,R,null);Cf(S,I)}return null}function b(S,T,I,R,$){if(typeof R=="string"&&R!==""||typeof R=="number")return S=S.get(I)||null,c(T,S,""+R,$);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case yf:return S=S.get(R.key===null?I:R.key)||null,d(T,S,R,$);case eu:return S=S.get(R.key===null?I:R.key)||null,h(T,S,R,$);case eo:var H=R._init;return b(S,T,I,H(R._payload),$)}if(Lc(R)||gc(R))return S=S.get(I)||null,g(T,S,R,$,null);Cf(T,R)}return null}function N(S,T,I,R){for(var $=null,H=null,D=T,w=T=0,P=null;D!==null&&w<I.length;w++){D.index>w?(P=D,D=null):P=D.sibling;var O=y(S,D,I[w],R);if(O===null){D===null&&(D=P);break}t&&D&&O.alternate===null&&e(S,D),T=a(O,T,w),H===null?$=O:H.sibling=O,H=O,D=P}if(w===I.length)return n(S,D),Tt&&$o(S,w),$;if(D===null){for(;w<I.length;w++)D=v(S,I[w],R),D!==null&&(T=a(D,T,w),H===null?$=D:H.sibling=D,H=D);return Tt&&$o(S,w),$}for(D=r(S,D);w<I.length;w++)P=b(D,S,w,I[w],R),P!==null&&(t&&P.alternate!==null&&D.delete(P.key===null?w:P.key),T=a(P,T,w),H===null?$=P:H.sibling=P,H=P);return t&&D.forEach(function(M){return e(S,M)}),Tt&&$o(S,w),$}function E(S,T,I,R){var $=gc(I);if(typeof $!="function")throw Error(re(150));if(I=$.call(I),I==null)throw Error(re(151));for(var H=$=null,D=T,w=T=0,P=null,O=I.next();D!==null&&!O.done;w++,O=I.next()){D.index>w?(P=D,D=null):P=D.sibling;var M=y(S,D,O.value,R);if(M===null){D===null&&(D=P);break}t&&D&&M.alternate===null&&e(S,D),T=a(M,T,w),H===null?$=M:H.sibling=M,H=M,D=P}if(O.done)return n(S,D),Tt&&$o(S,w),$;if(D===null){for(;!O.done;w++,O=I.next())O=v(S,O.value,R),O!==null&&(T=a(O,T,w),H===null?$=O:H.sibling=O,H=O);return Tt&&$o(S,w),$}for(D=r(S,D);!O.done;w++,O=I.next())O=b(D,S,w,O.value,R),O!==null&&(t&&O.alternate!==null&&D.delete(O.key===null?w:O.key),T=a(O,T,w),H===null?$=O:H.sibling=O,H=O);return t&&D.forEach(function(V){return e(S,V)}),Tt&&$o(S,w),$}function k(S,T,I,R){if(typeof I=="object"&&I!==null&&I.type===tu&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case yf:e:{for(var $=I.key,H=T;H!==null;){if(H.key===$){if($=I.type,$===tu){if(H.tag===7){n(S,H.sibling),T=s(H,I.props.children),T.return=S,S=T;break e}}else if(H.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===eo&&mw($)===H.type){n(S,H.sibling),T=s(H,I.props),T.ref=xc(S,H,I),T.return=S,S=T;break e}n(S,H);break}else e(S,H);H=H.sibling}I.type===tu?(T=al(I.props.children,S.mode,R,I.key),T.return=S,S=T):(R=mh(I.type,I.key,I.props,null,S.mode,R),R.ref=xc(S,T,I),R.return=S,S=R)}return o(S);case eu:e:{for(H=I.key;T!==null;){if(T.key===H)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){n(S,T.sibling),T=s(T,I.children||[]),T.return=S,S=T;break e}else{n(S,T);break}else e(S,T);T=T.sibling}T=Xg(I,S.mode,R),T.return=S,S=T}return o(S);case eo:return H=I._init,k(S,T,H(I._payload),R)}if(Lc(I))return N(S,T,I,R);if(gc(I))return E(S,T,I,R);Cf(S,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,T!==null&&T.tag===6?(n(S,T.sibling),T=s(T,I),T.return=S,S=T):(n(S,T),T=Qg(I,S.mode,R),T.return=S,S=T),o(S)):n(S,T)}return k}var Tu=X2(!0),J2=X2(!1),Lh=Mo(null),Vh=null,uu=null,_0=null;function x0(){_0=uu=Vh=null}function w0(t){var e=Lh.current;wt(Lh),t._currentValue=e}function iv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vu(t,e){Vh=t,_0=uu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sr=!0),t.firstContext=null)}function Jr(t){var e=t._currentValue;if(_0!==t)if(t={context:t,memoizedValue:e,next:null},uu===null){if(Vh===null)throw Error(re(308));uu=t,Vh.dependencies={lanes:0,firstContext:t}}else uu=uu.next=t;return e}var tl=null;function b0(t){tl===null?tl=[t]:tl.push(t)}function Z2(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,b0(e)):(n.next=s.next,s.next=n),e.interleaved=n,ea(t,r)}function ea(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var to=!1;function E0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function po(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ea(t,n)}return s=r.interleaved,s===null?(e.next=e,b0(r)):(e.next=s.next,s.next=e),r.interleaved=e,ea(t,n)}function lh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,l0(t,n)}}function gw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zh(t,e,n,r){var s=t.updateQueue;to=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var d=c,h=d.next;d.next=null,o===null?a=h:o.next=h,o=d;var g=t.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==o&&(c===null?g.firstBaseUpdate=h:c.next=h,g.lastBaseUpdate=d))}if(a!==null){var v=s.baseState;o=0,g=h=d=null,c=a;do{var y=c.lane,b=c.eventTime;if((r&y)===y){g!==null&&(g=g.next={eventTime:b,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var N=t,E=c;switch(y=e,b=n,E.tag){case 1:if(N=E.payload,typeof N=="function"){v=N.call(b,v,y);break e}v=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=E.payload,y=typeof N=="function"?N.call(b,v,y):N,y==null)break e;v=jt({},v,y);break e;case 2:to=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[c]:y.push(c))}else b={eventTime:b,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(h=g=b,d=v):g=g.next=b,o|=y;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;y=c,c=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(g===null&&(d=v),s.baseState=d,s.firstBaseUpdate=h,s.lastBaseUpdate=g,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);fl|=o,t.lanes=o,t.memoizedState=v}}function pw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(re(191,s));s.call(r)}}}var Ld={},oi=Mo(Ld),_d=Mo(Ld),xd=Mo(Ld);function nl(t){if(t===Ld)throw Error(re(174));return t}function D0(t,e){switch(pt(xd,e),pt(_d,t),pt(oi,Ld),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vp(e,t)}wt(oi),pt(oi,e)}function Pu(){wt(oi),wt(_d),wt(xd)}function tD(t){nl(xd.current);var e=nl(oi.current),n=Vp(e,t.type);e!==n&&(pt(_d,t),pt(oi,n))}function S0(t){_d.current===t&&(wt(oi),wt(_d))}var Nt=Mo(0);function Uh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $g=[];function T0(){for(var t=0;t<$g.length;t++)$g[t]._workInProgressVersionPrimary=null;$g.length=0}var uh=la.ReactCurrentDispatcher,Hg=la.ReactCurrentBatchConfig,dl=0,Ot=null,Kt=null,sn=null,Bh=!1,Xc=!1,wd=0,Rj=0;function Tn(){throw Error(re(321))}function P0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ns(t[n],e[n]))return!1;return!0}function I0(t,e,n,r,s,a){if(dl=a,Ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uh.current=t===null||t.memoizedState===null?Lj:Vj,t=n(r,s),Xc){a=0;do{if(Xc=!1,wd=0,25<=a)throw Error(re(301));a+=1,sn=Kt=null,e.updateQueue=null,uh.current=zj,t=n(r,s)}while(Xc)}if(uh.current=Wh,e=Kt!==null&&Kt.next!==null,dl=0,sn=Kt=Ot=null,Bh=!1,e)throw Error(re(300));return t}function C0(){var t=wd!==0;return wd=0,t}function ri(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Ot.memoizedState=sn=t:sn=sn.next=t,sn}function Zr(){if(Kt===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var e=sn===null?Ot.memoizedState:sn.next;if(e!==null)sn=e,Kt=t;else{if(t===null)throw Error(re(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},sn===null?Ot.memoizedState=sn=t:sn=sn.next=t}return sn}function bd(t,e){return typeof e=="function"?e(t):e}function Yg(t){var e=Zr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=Kt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var c=o=null,d=null,h=a;do{var g=h.lane;if((dl&g)===g)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var v={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(c=d=v,o=r):d=d.next=v,Ot.lanes|=g,fl|=g}h=h.next}while(h!==null&&h!==a);d===null?o=r:d.next=c,Ns(r,e.memoizedState)||(sr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do a=s.lane,Ot.lanes|=a,fl|=a,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qg(t){var e=Zr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=t(a,o.action),o=o.next;while(o!==s);Ns(a,e.memoizedState)||(sr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function nD(){}function rD(t,e){var n=Ot,r=Zr(),s=e(),a=!Ns(r.memoizedState,s);if(a&&(r.memoizedState=s,sr=!0),r=r.queue,N0(aD.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||sn!==null&&sn.memoizedState.tag&1){if(n.flags|=2048,Ed(9,iD.bind(null,n,r,s,e),void 0,null),an===null)throw Error(re(349));dl&30||sD(n,e,s)}return s}function sD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iD(t,e,n,r){e.value=n,e.getSnapshot=r,oD(e)&&lD(t)}function aD(t,e,n){return n(function(){oD(e)&&lD(t)})}function oD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ns(t,n)}catch{return!0}}function lD(t){var e=ea(t,1);e!==null&&Is(e,t,1,-1)}function vw(t){var e=ri();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:t},e.queue=t,t=t.dispatch=kj.bind(null,Ot,t),[e.memoizedState,t]}function Ed(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uD(){return Zr().memoizedState}function ch(t,e,n,r){var s=ri();Ot.flags|=t,s.memoizedState=Ed(1|e,n,void 0,r===void 0?null:r)}function Dm(t,e,n,r){var s=Zr();r=r===void 0?null:r;var a=void 0;if(Kt!==null){var o=Kt.memoizedState;if(a=o.destroy,r!==null&&P0(r,o.deps)){s.memoizedState=Ed(e,n,a,r);return}}Ot.flags|=t,s.memoizedState=Ed(1|e,n,a,r)}function yw(t,e){return ch(8390656,8,t,e)}function N0(t,e){return Dm(2048,8,t,e)}function cD(t,e){return Dm(4,2,t,e)}function dD(t,e){return Dm(4,4,t,e)}function fD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hD(t,e,n){return n=n!=null?n.concat([t]):null,Dm(4,4,fD.bind(null,e,t),n)}function O0(){}function mD(t,e){var n=Zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gD(t,e){var n=Zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pD(t,e,n){return dl&21?(Ns(n,e)||(n=w2(),Ot.lanes|=n,fl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sr=!0),t.memoizedState=n)}function Aj(t,e){var n=st;st=n!==0&&4>n?n:4,t(!0);var r=Hg.transition;Hg.transition={};try{t(!1),e()}finally{st=n,Hg.transition=r}}function vD(){return Zr().memoizedState}function Fj(t,e,n){var r=yo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yD(t))_D(e,n);else if(n=Z2(t,e,n,r),n!==null){var s=$n();Is(n,t,r,s),xD(n,e,r)}}function kj(t,e,n){var r=yo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yD(t))_D(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,c=a(o,n);if(s.hasEagerState=!0,s.eagerState=c,Ns(c,o)){var d=e.interleaved;d===null?(s.next=s,b0(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}n=Z2(t,e,s,r),n!==null&&(s=$n(),Is(n,t,r,s),xD(n,e,r))}}function yD(t){var e=t.alternate;return t===Ot||e!==null&&e===Ot}function _D(t,e){Xc=Bh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,l0(t,n)}}var Wh={readContext:Jr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},Lj={readContext:Jr,useCallback:function(t,e){return ri().memoizedState=[t,e===void 0?null:e],t},useContext:Jr,useEffect:yw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ch(4194308,4,fD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ch(4194308,4,t,e)},useInsertionEffect:function(t,e){return ch(4,2,t,e)},useMemo:function(t,e){var n=ri();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ri();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Fj.bind(null,Ot,t),[r.memoizedState,t]},useRef:function(t){var e=ri();return t={current:t},e.memoizedState=t},useState:vw,useDebugValue:O0,useDeferredValue:function(t){return ri().memoizedState=t},useTransition:function(){var t=vw(!1),e=t[0];return t=Aj.bind(null,t[1]),ri().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ot,s=ri();if(Tt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),an===null)throw Error(re(349));dl&30||sD(r,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,yw(aD.bind(null,r,a,t),[t]),r.flags|=2048,Ed(9,iD.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=ri(),e=an.identifierPrefix;if(Tt){var n=$i,r=Wi;n=(r&~(1<<32-Ps(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Rj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Vj={readContext:Jr,useCallback:mD,useContext:Jr,useEffect:N0,useImperativeHandle:hD,useInsertionEffect:cD,useLayoutEffect:dD,useMemo:gD,useReducer:Yg,useRef:uD,useState:function(){return Yg(bd)},useDebugValue:O0,useDeferredValue:function(t){var e=Zr();return pD(e,Kt.memoizedState,t)},useTransition:function(){var t=Yg(bd)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:nD,useSyncExternalStore:rD,useId:vD,unstable_isNewReconciler:!1},zj={readContext:Jr,useCallback:mD,useContext:Jr,useEffect:N0,useImperativeHandle:hD,useInsertionEffect:cD,useLayoutEffect:dD,useMemo:gD,useReducer:qg,useRef:uD,useState:function(){return qg(bd)},useDebugValue:O0,useDeferredValue:function(t){var e=Zr();return Kt===null?e.memoizedState=t:pD(e,Kt.memoizedState,t)},useTransition:function(){var t=qg(bd)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:nD,useSyncExternalStore:rD,useId:vD,unstable_isNewReconciler:!1};function bs(t,e){if(t&&t.defaultProps){e=jt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function av(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:jt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sm={isMounted:function(t){return(t=t._reactInternals)?xl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$n(),s=yo(t),a=Qi(r,s);a.payload=e,n!=null&&(a.callback=n),e=po(t,a,s),e!==null&&(Is(e,t,s,r),lh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$n(),s=yo(t),a=Qi(r,s);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=po(t,a,s),e!==null&&(Is(e,t,s,r),lh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$n(),r=yo(t),s=Qi(n,r);s.tag=2,e!=null&&(s.callback=e),e=po(t,s,r),e!==null&&(Is(e,t,r,n),lh(e,t,r))}};function _w(t,e,n,r,s,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!gd(n,r)||!gd(s,a):!0}function wD(t,e,n){var r=!1,s=To,a=e.contextType;return typeof a=="object"&&a!==null?a=Jr(a):(s=ar(e)?ul:Rn.current,r=e.contextTypes,a=(r=r!=null)?Du(t,s):To),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function xw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sm.enqueueReplaceState(e,e.state,null)}function ov(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},E0(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=Jr(a):(a=ar(e)?ul:Rn.current,s.context=Du(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(av(t,e,a,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Sm.enqueueReplaceState(s,s.state,null),zh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Iu(t,e){try{var n="",r=e;do n+=mO(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function Gg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Uj=typeof WeakMap=="function"?WeakMap:Map;function bD(t,e,n){n=Qi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hh||(Hh=!0,yv=r),lv(t,e)},n}function ED(t,e,n){n=Qi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){lv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){lv(t,e),typeof r!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ww(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Uj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=tM.bind(null,t,e,n),e.then(t,t))}function bw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ew(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qi(-1,1),e.tag=2,po(n,e,1))),n.lanes|=1),t)}var Bj=la.ReactCurrentOwner,sr=!1;function Wn(t,e,n,r){e.child=t===null?J2(e,null,n,r):Tu(e,t.child,n,r)}function Dw(t,e,n,r,s){n=n.render;var a=e.ref;return vu(e,s),r=I0(t,e,n,r,a,s),n=C0(),t!==null&&!sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ta(t,e,s)):(Tt&&n&&p0(e),e.flags|=1,Wn(t,e,r,s),e.child)}function Sw(t,e,n,r,s){if(t===null){var a=n.type;return typeof a=="function"&&!V0(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,DD(t,e,a,r,s)):(t=mh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:gd,n(o,r)&&t.ref===e.ref)return ta(t,e,s)}return e.flags|=1,t=_o(a,r),t.ref=e.ref,t.return=e,e.child=t}function DD(t,e,n,r,s){if(t!==null){var a=t.memoizedProps;if(gd(a,r)&&t.ref===e.ref)if(sr=!1,e.pendingProps=r=a,(t.lanes&s)!==0)t.flags&131072&&(sr=!0);else return e.lanes=t.lanes,ta(t,e,s)}return uv(t,e,n,r,s)}function SD(t,e,n){var r=e.pendingProps,s=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(du,yr),yr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pt(du,yr),yr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,pt(du,yr),yr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,pt(du,yr),yr|=r;return Wn(t,e,s,n),e.child}function TD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function uv(t,e,n,r,s){var a=ar(n)?ul:Rn.current;return a=Du(e,a),vu(e,s),n=I0(t,e,n,r,a,s),r=C0(),t!==null&&!sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ta(t,e,s)):(Tt&&r&&p0(e),e.flags|=1,Wn(t,e,n,s),e.child)}function Tw(t,e,n,r,s){if(ar(n)){var a=!0;Ah(e)}else a=!1;if(vu(e,s),e.stateNode===null)dh(t,e),wD(e,n,r),ov(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var d=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Jr(h):(h=ar(n)?ul:Rn.current,h=Du(e,h));var g=n.getDerivedStateFromProps,v=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||d!==h)&&xw(e,o,r,h),to=!1;var y=e.memoizedState;o.state=y,zh(e,r,o,s),d=e.memoizedState,c!==r||y!==d||ir.current||to?(typeof g=="function"&&(av(e,n,g,r),d=e.memoizedState),(c=to||_w(e,n,c,r,y,d,h))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),o.props=r,o.state=d,o.context=h,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eD(t,e),c=e.memoizedProps,h=e.type===e.elementType?c:bs(e.type,c),o.props=h,v=e.pendingProps,y=o.context,d=n.contextType,typeof d=="object"&&d!==null?d=Jr(d):(d=ar(n)?ul:Rn.current,d=Du(e,d));var b=n.getDerivedStateFromProps;(g=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==v||y!==d)&&xw(e,o,r,d),to=!1,y=e.memoizedState,o.state=y,zh(e,r,o,s);var N=e.memoizedState;c!==v||y!==N||ir.current||to?(typeof b=="function"&&(av(e,n,b,r),N=e.memoizedState),(h=to||_w(e,n,h,r,y,N,d)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,N,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,N,d)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=N),o.props=r,o.state=N,o.context=d,r=h):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return cv(t,e,n,r,a,s)}function cv(t,e,n,r,s,a){TD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&dw(e,n,!1),ta(t,e,a);r=e.stateNode,Bj.current=e;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Tu(e,t.child,null,a),e.child=Tu(e,null,c,a)):Wn(t,e,c,a),e.memoizedState=r.state,s&&dw(e,n,!0),e.child}function PD(t){var e=t.stateNode;e.pendingContext?cw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cw(t,e.context,!1),D0(t,e.containerInfo)}function Pw(t,e,n,r,s){return Su(),y0(s),e.flags|=256,Wn(t,e,n,r),e.child}var dv={dehydrated:null,treeContext:null,retryLane:0};function fv(t){return{baseLanes:t,cachePool:null,transitions:null}}function ID(t,e,n){var r=e.pendingProps,s=Nt.current,a=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),pt(Nt,s&1),t===null)return sv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Im(o,r,0,null),t=al(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=fv(n),e.memoizedState=dv,t):j0(e,o));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return Wj(t,e,o,r,c,s,n);if(a){a=r.fallback,o=e.mode,s=t.child,c=s.sibling;var d={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=_o(s,d),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?a=_o(c,a):(a=al(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?fv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=dv,r}return a=t.child,t=a.sibling,r=_o(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function j0(t,e){return e=Im({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nf(t,e,n,r){return r!==null&&y0(r),Tu(e,t.child,null,n),t=j0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Wj(t,e,n,r,s,a,o){if(n)return e.flags&256?(e.flags&=-257,r=Gg(Error(re(422))),Nf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,s=e.mode,r=Im({mode:"visible",children:r.children},s,0,null),a=al(a,s,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Tu(e,t.child,null,o),e.child.memoizedState=fv(o),e.memoizedState=dv,a);if(!(e.mode&1))return Nf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,a=Error(re(419)),r=Gg(a,r,void 0),Nf(t,e,o,r)}if(c=(o&t.childLanes)!==0,sr||c){if(r=an,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,ea(t,s),Is(r,t,s,-1))}return L0(),r=Gg(Error(re(421))),Nf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=nM.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,xr=go(s.nextSibling),wr=e,Tt=!0,Ss=null,t!==null&&(Hr[Yr++]=Wi,Hr[Yr++]=$i,Hr[Yr++]=cl,Wi=t.id,$i=t.overflow,cl=e),e=j0(e,r.children),e.flags|=4096,e)}function Iw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),iv(t.return,e,n)}function Kg(t,e,n,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function CD(t,e,n){var r=e.pendingProps,s=r.revealOrder,a=r.tail;if(Wn(t,e,r.children,n),r=Nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iw(t,n,e);else if(t.tag===19)Iw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pt(Nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Uh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Kg(e,!1,s,n,a);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Uh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Kg(e,!0,n,null,a);break;case"together":Kg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ta(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=_o(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_o(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $j(t,e,n){switch(e.tag){case 3:PD(e),Su();break;case 5:tD(e);break;case 1:ar(e.type)&&Ah(e);break;case 4:D0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;pt(Lh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pt(Nt,Nt.current&1),e.flags|=128,null):n&e.child.childLanes?ID(t,e,n):(pt(Nt,Nt.current&1),t=ta(t,e,n),t!==null?t.sibling:null);pt(Nt,Nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return CD(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pt(Nt,Nt.current),r)break;return null;case 22:case 23:return e.lanes=0,SD(t,e,n)}return ta(t,e,n)}var ND,hv,OD,jD;ND=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hv=function(){};OD=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,nl(oi.current);var a=null;switch(n){case"input":s=Ap(t,s),r=Ap(t,r),a=[];break;case"select":s=jt({},s,{value:void 0}),r=jt({},r,{value:void 0}),a=[];break;case"textarea":s=Lp(t,s),r=Lp(t,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mh)}zp(n,r);var o;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var c=s[h];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ld.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var d=r[h];if(c=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&d!==c&&(d!=null||c!=null))if(h==="style")if(c){for(o in c)!c.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in d)d.hasOwnProperty(o)&&c[o]!==d[o]&&(n||(n={}),n[o]=d[o])}else n||(a||(a=[]),a.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(a=a||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ld.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&_t("scroll",t),a||c===d||(a=[])):(a=a||[]).push(h,d))}n&&(a=a||[]).push("style",n);var h=a;(e.updateQueue=h)&&(e.flags|=4)}};jD=function(t,e,n,r){n!==r&&(e.flags|=4)};function wc(t,e){if(!Tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Hj(t,e,n){var r=e.pendingProps;switch(v0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(e),null;case 1:return ar(e.type)&&Rh(),Pn(e),null;case 3:return r=e.stateNode,Pu(),wt(ir),wt(Rn),T0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(If(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ss!==null&&(wv(Ss),Ss=null))),hv(t,e),Pn(e),null;case 5:S0(e);var s=nl(xd.current);if(n=e.type,t!==null&&e.stateNode!=null)OD(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return Pn(e),null}if(t=nl(oi.current),If(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[si]=e,r[yd]=a,t=(e.mode&1)!==0,n){case"dialog":_t("cancel",r),_t("close",r);break;case"iframe":case"object":case"embed":_t("load",r);break;case"video":case"audio":for(s=0;s<zc.length;s++)_t(zc[s],r);break;case"source":_t("error",r);break;case"img":case"image":case"link":_t("error",r),_t("load",r);break;case"details":_t("toggle",r);break;case"input":kx(r,a),_t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},_t("invalid",r);break;case"textarea":Vx(r,a),_t("invalid",r)}zp(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?r.textContent!==c&&(a.suppressHydrationWarning!==!0&&Pf(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Pf(r.textContent,c,t),s=["children",""+c]):ld.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&_t("scroll",r)}switch(n){case"input":_f(r),Lx(r,a,!0);break;case"textarea":_f(r),zx(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Mh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=a2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[si]=e,t[yd]=r,ND(t,e,!1,!1),e.stateNode=t;e:{switch(o=Up(n,r),n){case"dialog":_t("cancel",t),_t("close",t),s=r;break;case"iframe":case"object":case"embed":_t("load",t),s=r;break;case"video":case"audio":for(s=0;s<zc.length;s++)_t(zc[s],t);s=r;break;case"source":_t("error",t),s=r;break;case"img":case"image":case"link":_t("error",t),_t("load",t),s=r;break;case"details":_t("toggle",t),s=r;break;case"input":kx(t,r),s=Ap(t,r),_t("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=jt({},r,{value:void 0}),_t("invalid",t);break;case"textarea":Vx(t,r),s=Lp(t,r),_t("invalid",t);break;default:s=r}zp(n,s),c=s;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];a==="style"?u2(t,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&o2(t,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&ud(t,d):typeof d=="number"&&ud(t,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ld.hasOwnProperty(a)?d!=null&&a==="onScroll"&&_t("scroll",t):d!=null&&n0(t,a,d,o))}switch(n){case"input":_f(t),Lx(t,r,!1);break;case"textarea":_f(t),zx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+So(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?hu(t,!!r.multiple,a,!1):r.defaultValue!=null&&hu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Mh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pn(e),null;case 6:if(t&&e.stateNode!=null)jD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=nl(xd.current),nl(oi.current),If(e)){if(r=e.stateNode,n=e.memoizedProps,r[si]=e,(a=r.nodeValue!==n)&&(t=wr,t!==null))switch(t.tag){case 3:Pf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pf(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[si]=e,e.stateNode=r}return Pn(e),null;case 13:if(wt(Nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Tt&&xr!==null&&e.mode&1&&!(e.flags&128))Q2(),Su(),e.flags|=98560,a=!1;else if(a=If(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(re(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(re(317));a[si]=e}else Su(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pn(e),a=!1}else Ss!==null&&(wv(Ss),Ss=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Nt.current&1?Xt===0&&(Xt=3):L0())),e.updateQueue!==null&&(e.flags|=4),Pn(e),null);case 4:return Pu(),hv(t,e),t===null&&pd(e.stateNode.containerInfo),Pn(e),null;case 10:return w0(e.type._context),Pn(e),null;case 17:return ar(e.type)&&Rh(),Pn(e),null;case 19:if(wt(Nt),a=e.memoizedState,a===null)return Pn(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)wc(a,!1);else{if(Xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Uh(t),o!==null){for(e.flags|=128,wc(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pt(Nt,Nt.current&1|2),e.child}t=t.sibling}a.tail!==null&&zt()>Cu&&(e.flags|=128,r=!0,wc(a,!1),e.lanes=4194304)}else{if(!r)if(t=Uh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Tt)return Pn(e),null}else 2*zt()-a.renderingStartTime>Cu&&n!==1073741824&&(e.flags|=128,r=!0,wc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=zt(),e.sibling=null,n=Nt.current,pt(Nt,r?n&1|2:n&1),e):(Pn(e),null);case 22:case 23:return k0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yr&1073741824&&(Pn(e),e.subtreeFlags&6&&(e.flags|=8192)):Pn(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function Yj(t,e){switch(v0(e),e.tag){case 1:return ar(e.type)&&Rh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pu(),wt(ir),wt(Rn),T0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return S0(e),null;case 13:if(wt(Nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Su()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(Nt),null;case 4:return Pu(),null;case 10:return w0(e.type._context),null;case 22:case 23:return k0(),null;case 24:return null;default:return null}}var Of=!1,jn=!1,qj=typeof WeakSet=="function"?WeakSet:Set,he=null;function cu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(t,e,r)}else n.current=null}function mv(t,e,n){try{n()}catch(r){At(t,e,r)}}var Cw=!1;function Gj(t,e){if(Xp=Nh,t=k2(),g0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,c=-1,d=-1,h=0,g=0,v=t,y=null;t:for(;;){for(var b;v!==n||s!==0&&v.nodeType!==3||(c=o+s),v!==a||r!==0&&v.nodeType!==3||(d=o+r),v.nodeType===3&&(o+=v.nodeValue.length),(b=v.firstChild)!==null;)y=v,v=b;for(;;){if(v===t)break t;if(y===n&&++h===s&&(c=o),y===a&&++g===r&&(d=o),(b=v.nextSibling)!==null)break;v=y,y=v.parentNode}v=b}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jp={focusedElem:t,selectionRange:n},Nh=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var E=N.memoizedProps,k=N.memoizedState,S=e.stateNode,T=S.getSnapshotBeforeUpdate(e.elementType===e.type?E:bs(e.type,E),k);S.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(R){At(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return N=Cw,Cw=!1,N}function Jc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&mv(e,n,a)}s=s.next}while(s!==r)}}function Tm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MD(t){var e=t.alternate;e!==null&&(t.alternate=null,MD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[si],delete e[yd],delete e[tv],delete e[Nj],delete e[Oj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RD(t){return t.tag===5||t.tag===3||t.tag===4}function Nw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mh));else if(r!==4&&(t=t.child,t!==null))for(pv(t,e,n),t=t.sibling;t!==null;)pv(t,e,n),t=t.sibling}function vv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vv(t,e,n),t=t.sibling;t!==null;)vv(t,e,n),t=t.sibling}var fn=null,Es=!1;function qa(t,e,n){for(n=n.child;n!==null;)AD(t,e,n),n=n.sibling}function AD(t,e,n){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(ym,n)}catch{}switch(n.tag){case 5:jn||cu(n,e);case 6:var r=fn,s=Es;fn=null,qa(t,e,n),fn=r,Es=s,fn!==null&&(Es?(t=fn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):fn.removeChild(n.stateNode));break;case 18:fn!==null&&(Es?(t=fn,n=n.stateNode,t.nodeType===8?Bg(t.parentNode,n):t.nodeType===1&&Bg(t,n),hd(t)):Bg(fn,n.stateNode));break;case 4:r=fn,s=Es,fn=n.stateNode.containerInfo,Es=!0,qa(t,e,n),fn=r,Es=s;break;case 0:case 11:case 14:case 15:if(!jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&mv(n,e,o),s=s.next}while(s!==r)}qa(t,e,n);break;case 1:if(!jn&&(cu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){At(n,e,c)}qa(t,e,n);break;case 21:qa(t,e,n);break;case 22:n.mode&1?(jn=(r=jn)||n.memoizedState!==null,qa(t,e,n),jn=r):qa(t,e,n);break;default:qa(t,e,n)}}function Ow(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qj),e.forEach(function(r){var s=rM.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ws(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:fn=c.stateNode,Es=!1;break e;case 3:fn=c.stateNode.containerInfo,Es=!0;break e;case 4:fn=c.stateNode.containerInfo,Es=!0;break e}c=c.return}if(fn===null)throw Error(re(160));AD(a,o,s),fn=null,Es=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(h){At(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FD(e,t),e=e.sibling}function FD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ws(e,t),ei(t),r&4){try{Jc(3,t,t.return),Tm(3,t)}catch(E){At(t,t.return,E)}try{Jc(5,t,t.return)}catch(E){At(t,t.return,E)}}break;case 1:ws(e,t),ei(t),r&512&&n!==null&&cu(n,n.return);break;case 5:if(ws(e,t),ei(t),r&512&&n!==null&&cu(n,n.return),t.flags&32){var s=t.stateNode;try{ud(s,"")}catch(E){At(t,t.return,E)}}if(r&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,c=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&s2(s,a),Up(c,o);var h=Up(c,a);for(o=0;o<d.length;o+=2){var g=d[o],v=d[o+1];g==="style"?u2(s,v):g==="dangerouslySetInnerHTML"?o2(s,v):g==="children"?ud(s,v):n0(s,g,v,h)}switch(c){case"input":Fp(s,a);break;case"textarea":i2(s,a);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?hu(s,!!a.multiple,b,!1):y!==!!a.multiple&&(a.defaultValue!=null?hu(s,!!a.multiple,a.defaultValue,!0):hu(s,!!a.multiple,a.multiple?[]:"",!1))}s[yd]=a}catch(E){At(t,t.return,E)}}break;case 6:if(ws(e,t),ei(t),r&4){if(t.stateNode===null)throw Error(re(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(E){At(t,t.return,E)}}break;case 3:if(ws(e,t),ei(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hd(e.containerInfo)}catch(E){At(t,t.return,E)}break;case 4:ws(e,t),ei(t);break;case 13:ws(e,t),ei(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(A0=zt())),r&4&&Ow(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(jn=(h=jn)||g,ws(e,t),jn=h):ws(e,t),ei(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!g&&t.mode&1)for(he=t,g=t.child;g!==null;){for(v=he=g;he!==null;){switch(y=he,b=y.child,y.tag){case 0:case 11:case 14:case 15:Jc(4,y,y.return);break;case 1:cu(y,y.return);var N=y.stateNode;if(typeof N.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(E){At(r,n,E)}}break;case 5:cu(y,y.return);break;case 22:if(y.memoizedState!==null){Mw(v);continue}}b!==null?(b.return=y,he=b):Mw(v)}g=g.sibling}e:for(g=null,v=t;;){if(v.tag===5){if(g===null){g=v;try{s=v.stateNode,h?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=v.stateNode,d=v.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=l2("display",o))}catch(E){At(t,t.return,E)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(E){At(t,t.return,E)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:ws(e,t),ei(t),r&4&&Ow(t);break;case 21:break;default:ws(e,t),ei(t)}}function ei(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RD(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ud(s,""),r.flags&=-33);var a=Nw(t);vv(t,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,c=Nw(t);pv(t,c,o);break;default:throw Error(re(161))}}catch(d){At(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Kj(t,e,n){he=t,kD(t)}function kD(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var s=he,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Of;if(!o){var c=s.alternate,d=c!==null&&c.memoizedState!==null||jn;c=Of;var h=jn;if(Of=o,(jn=d)&&!h)for(he=s;he!==null;)o=he,d=o.child,o.tag===22&&o.memoizedState!==null?Rw(s):d!==null?(d.return=o,he=d):Rw(s);for(;a!==null;)he=a,kD(a),a=a.sibling;he=s,Of=c,jn=h}jw(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,he=a):jw(t)}}function jw(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jn||Tm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:bs(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&pw(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pw(e,o,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&hd(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}jn||e.flags&512&&gv(e)}catch(y){At(e,e.return,y)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function Mw(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function Rw(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Tm(4,e)}catch(d){At(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(d){At(e,s,d)}}var a=e.return;try{gv(e)}catch(d){At(e,a,d)}break;case 5:var o=e.return;try{gv(e)}catch(d){At(e,o,d)}}}catch(d){At(e,e.return,d)}if(e===t){he=null;break}var c=e.sibling;if(c!==null){c.return=e.return,he=c;break}he=e.return}}var Qj=Math.ceil,$h=la.ReactCurrentDispatcher,M0=la.ReactCurrentOwner,Xr=la.ReactCurrentBatchConfig,Ge=0,an=null,Ht=null,gn=0,yr=0,du=Mo(0),Xt=0,Dd=null,fl=0,Pm=0,R0=0,Zc=null,rr=null,A0=0,Cu=1/0,Fi=null,Hh=!1,yv=null,vo=null,jf=!1,uo=null,Yh=0,ed=0,_v=null,fh=-1,hh=0;function $n(){return Ge&6?zt():fh!==-1?fh:fh=zt()}function yo(t){return t.mode&1?Ge&2&&gn!==0?gn&-gn:Mj.transition!==null?(hh===0&&(hh=w2()),hh):(t=st,t!==0||(t=window.event,t=t===void 0?16:I2(t.type)),t):1}function Is(t,e,n,r){if(50<ed)throw ed=0,_v=null,Error(re(185));Ad(t,n,r),(!(Ge&2)||t!==an)&&(t===an&&(!(Ge&2)&&(Pm|=n),Xt===4&&so(t,gn)),or(t,r),n===1&&Ge===0&&!(e.mode&1)&&(Cu=zt()+500,Em&&Ro()))}function or(t,e){var n=t.callbackNode;MO(t,e);var r=Ch(t,t===an?gn:0);if(r===0)n!==null&&Wx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wx(n),e===1)t.tag===0?jj(Aw.bind(null,t)):q2(Aw.bind(null,t)),Ij(function(){!(Ge&6)&&Ro()}),n=null;else{switch(b2(r)){case 1:n=o0;break;case 4:n=_2;break;case 16:n=Ih;break;case 536870912:n=x2;break;default:n=Ih}n=HD(n,LD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function LD(t,e){if(fh=-1,hh=0,Ge&6)throw Error(re(327));var n=t.callbackNode;if(yu()&&t.callbackNode!==n)return null;var r=Ch(t,t===an?gn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qh(t,r);else{e=r;var s=Ge;Ge|=2;var a=zD();(an!==t||gn!==e)&&(Fi=null,Cu=zt()+500,il(t,e));do try{Zj();break}catch(c){VD(t,c)}while(!0);x0(),$h.current=a,Ge=s,Ht!==null?e=0:(an=null,gn=0,e=Xt)}if(e!==0){if(e===2&&(s=Yp(t),s!==0&&(r=s,e=xv(t,s))),e===1)throw n=Dd,il(t,0),so(t,r),or(t,zt()),n;if(e===6)so(t,r);else{if(s=t.current.alternate,!(r&30)&&!Xj(s)&&(e=qh(t,r),e===2&&(a=Yp(t),a!==0&&(r=a,e=xv(t,a))),e===1))throw n=Dd,il(t,0),so(t,r),or(t,zt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:Ho(t,rr,Fi);break;case 3:if(so(t,r),(r&130023424)===r&&(e=A0+500-zt(),10<e)){if(Ch(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){$n(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ev(Ho.bind(null,t,rr,Fi),e);break}Ho(t,rr,Fi);break;case 4:if(so(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ps(r);a=1<<o,o=e[o],o>s&&(s=o),r&=~a}if(r=s,r=zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qj(r/1960))-r,10<r){t.timeoutHandle=ev(Ho.bind(null,t,rr,Fi),r);break}Ho(t,rr,Fi);break;case 5:Ho(t,rr,Fi);break;default:throw Error(re(329))}}}return or(t,zt()),t.callbackNode===n?LD.bind(null,t):null}function xv(t,e){var n=Zc;return t.current.memoizedState.isDehydrated&&(il(t,e).flags|=256),t=qh(t,e),t!==2&&(e=rr,rr=n,e!==null&&wv(e)),t}function wv(t){rr===null?rr=t:rr.push.apply(rr,t)}function Xj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Ns(a(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function so(t,e){for(e&=~R0,e&=~Pm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ps(e),r=1<<n;t[n]=-1,e&=~r}}function Aw(t){if(Ge&6)throw Error(re(327));yu();var e=Ch(t,0);if(!(e&1))return or(t,zt()),null;var n=qh(t,e);if(t.tag!==0&&n===2){var r=Yp(t);r!==0&&(e=r,n=xv(t,r))}if(n===1)throw n=Dd,il(t,0),so(t,e),or(t,zt()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ho(t,rr,Fi),or(t,zt()),null}function F0(t,e){var n=Ge;Ge|=1;try{return t(e)}finally{Ge=n,Ge===0&&(Cu=zt()+500,Em&&Ro())}}function hl(t){uo!==null&&uo.tag===0&&!(Ge&6)&&yu();var e=Ge;Ge|=1;var n=Xr.transition,r=st;try{if(Xr.transition=null,st=1,t)return t()}finally{st=r,Xr.transition=n,Ge=e,!(Ge&6)&&Ro()}}function k0(){yr=du.current,wt(du)}function il(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Pj(n)),Ht!==null)for(n=Ht.return;n!==null;){var r=n;switch(v0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rh();break;case 3:Pu(),wt(ir),wt(Rn),T0();break;case 5:S0(r);break;case 4:Pu();break;case 13:wt(Nt);break;case 19:wt(Nt);break;case 10:w0(r.type._context);break;case 22:case 23:k0()}n=n.return}if(an=t,Ht=t=_o(t.current,null),gn=yr=e,Xt=0,Dd=null,R0=Pm=fl=0,rr=Zc=null,tl!==null){for(e=0;e<tl.length;e++)if(n=tl[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}tl=null}return t}function VD(t,e){do{var n=Ht;try{if(x0(),uh.current=Wh,Bh){for(var r=Ot.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bh=!1}if(dl=0,sn=Kt=Ot=null,Xc=!1,wd=0,M0.current=null,n===null||n.return===null){Xt=1,Dd=e,Ht=null;break}e:{var a=t,o=n.return,c=n,d=e;if(e=gn,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,g=c,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var y=g.alternate;y?(g.updateQueue=y.updateQueue,g.memoizedState=y.memoizedState,g.lanes=y.lanes):(g.updateQueue=null,g.memoizedState=null)}var b=bw(o);if(b!==null){b.flags&=-257,Ew(b,o,c,a,e),b.mode&1&&ww(a,h,e),e=b,d=h;var N=e.updateQueue;if(N===null){var E=new Set;E.add(d),e.updateQueue=E}else N.add(d);break e}else{if(!(e&1)){ww(a,h,e),L0();break e}d=Error(re(426))}}else if(Tt&&c.mode&1){var k=bw(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ew(k,o,c,a,e),y0(Iu(d,c));break e}}a=d=Iu(d,c),Xt!==4&&(Xt=2),Zc===null?Zc=[a]:Zc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var S=bD(a,d,e);gw(a,S);break e;case 1:c=d;var T=a.type,I=a.stateNode;if(!(a.flags&128)&&(typeof T.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(vo===null||!vo.has(I)))){a.flags|=65536,e&=-e,a.lanes|=e;var R=ED(a,c,e);gw(a,R);break e}}a=a.return}while(a!==null)}BD(n)}catch($){e=$,Ht===n&&n!==null&&(Ht=n=n.return);continue}break}while(!0)}function zD(){var t=$h.current;return $h.current=Wh,t===null?Wh:t}function L0(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),an===null||!(fl&268435455)&&!(Pm&268435455)||so(an,gn)}function qh(t,e){var n=Ge;Ge|=2;var r=zD();(an!==t||gn!==e)&&(Fi=null,il(t,e));do try{Jj();break}catch(s){VD(t,s)}while(!0);if(x0(),Ge=n,$h.current=r,Ht!==null)throw Error(re(261));return an=null,gn=0,Xt}function Jj(){for(;Ht!==null;)UD(Ht)}function Zj(){for(;Ht!==null&&!DO();)UD(Ht)}function UD(t){var e=$D(t.alternate,t,yr);t.memoizedProps=t.pendingProps,e===null?BD(t):Ht=e,M0.current=null}function BD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Yj(n,e),n!==null){n.flags&=32767,Ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xt=6,Ht=null;return}}else if(n=Hj(n,e,yr),n!==null){Ht=n;return}if(e=e.sibling,e!==null){Ht=e;return}Ht=e=t}while(e!==null);Xt===0&&(Xt=5)}function Ho(t,e,n){var r=st,s=Xr.transition;try{Xr.transition=null,st=1,eM(t,e,n,r)}finally{Xr.transition=s,st=r}return null}function eM(t,e,n,r){do yu();while(uo!==null);if(Ge&6)throw Error(re(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(RO(t,a),t===an&&(Ht=an=null,gn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jf||(jf=!0,HD(Ih,function(){return yu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Xr.transition,Xr.transition=null;var o=st;st=1;var c=Ge;Ge|=4,M0.current=null,Gj(t,n),FD(n,t),xj(Jp),Nh=!!Xp,Jp=Xp=null,t.current=n,Kj(n),SO(),Ge=c,st=o,Xr.transition=a}else t.current=n;if(jf&&(jf=!1,uo=t,Yh=s),a=t.pendingLanes,a===0&&(vo=null),IO(n.stateNode),or(t,zt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Hh)throw Hh=!1,t=yv,yv=null,t;return Yh&1&&t.tag!==0&&yu(),a=t.pendingLanes,a&1?t===_v?ed++:(ed=0,_v=t):ed=0,Ro(),null}function yu(){if(uo!==null){var t=b2(Yh),e=Xr.transition,n=st;try{if(Xr.transition=null,st=16>t?16:t,uo===null)var r=!1;else{if(t=uo,uo=null,Yh=0,Ge&6)throw Error(re(331));var s=Ge;for(Ge|=4,he=t.current;he!==null;){var a=he,o=a.child;if(he.flags&16){var c=a.deletions;if(c!==null){for(var d=0;d<c.length;d++){var h=c[d];for(he=h;he!==null;){var g=he;switch(g.tag){case 0:case 11:case 15:Jc(8,g,a)}var v=g.child;if(v!==null)v.return=g,he=v;else for(;he!==null;){g=he;var y=g.sibling,b=g.return;if(MD(g),g===h){he=null;break}if(y!==null){y.return=b,he=y;break}he=b}}}var N=a.alternate;if(N!==null){var E=N.child;if(E!==null){N.child=null;do{var k=E.sibling;E.sibling=null,E=k}while(E!==null)}}he=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,he=o;else e:for(;he!==null;){if(a=he,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Jc(9,a,a.return)}var S=a.sibling;if(S!==null){S.return=a.return,he=S;break e}he=a.return}}var T=t.current;for(he=T;he!==null;){o=he;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,he=I;else e:for(o=T;he!==null;){if(c=he,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Tm(9,c)}}catch($){At(c,c.return,$)}if(c===o){he=null;break e}var R=c.sibling;if(R!==null){R.return=c.return,he=R;break e}he=c.return}}if(Ge=s,Ro(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(ym,t)}catch{}r=!0}return r}finally{st=n,Xr.transition=e}}return!1}function Fw(t,e,n){e=Iu(n,e),e=bD(t,e,1),t=po(t,e,1),e=$n(),t!==null&&(Ad(t,1,e),or(t,e))}function At(t,e,n){if(t.tag===3)Fw(t,t,n);else for(;e!==null;){if(e.tag===3){Fw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vo===null||!vo.has(r))){t=Iu(n,t),t=ED(e,t,1),e=po(e,t,1),t=$n(),e!==null&&(Ad(e,1,t),or(e,t));break}}e=e.return}}function tM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$n(),t.pingedLanes|=t.suspendedLanes&n,an===t&&(gn&n)===n&&(Xt===4||Xt===3&&(gn&130023424)===gn&&500>zt()-A0?il(t,0):R0|=n),or(t,e)}function WD(t,e){e===0&&(t.mode&1?(e=bf,bf<<=1,!(bf&130023424)&&(bf=4194304)):e=1);var n=$n();t=ea(t,e),t!==null&&(Ad(t,e,n),or(t,n))}function nM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WD(t,n)}function rM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),WD(t,n)}var $D;$D=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ir.current)sr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sr=!1,$j(t,e,n);sr=!!(t.flags&131072)}else sr=!1,Tt&&e.flags&1048576&&G2(e,kh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dh(t,e),t=e.pendingProps;var s=Du(e,Rn.current);vu(e,n),s=I0(null,e,r,t,s,n);var a=C0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ar(r)?(a=!0,Ah(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,E0(e),s.updater=Sm,e.stateNode=s,s._reactInternals=e,ov(e,r,t,n),e=cv(null,e,r,!0,a,n)):(e.tag=0,Tt&&a&&p0(e),Wn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=iM(r),t=bs(r,t),s){case 0:e=uv(null,e,r,t,n);break e;case 1:e=Tw(null,e,r,t,n);break e;case 11:e=Dw(null,e,r,t,n);break e;case 14:e=Sw(null,e,r,bs(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bs(r,s),uv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bs(r,s),Tw(t,e,r,s,n);case 3:e:{if(PD(e),t===null)throw Error(re(387));r=e.pendingProps,a=e.memoizedState,s=a.element,eD(t,e),zh(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=Iu(Error(re(423)),e),e=Pw(t,e,r,n,s);break e}else if(r!==s){s=Iu(Error(re(424)),e),e=Pw(t,e,r,n,s);break e}else for(xr=go(e.stateNode.containerInfo.firstChild),wr=e,Tt=!0,Ss=null,n=J2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Su(),r===s){e=ta(t,e,n);break e}Wn(t,e,r,n)}e=e.child}return e;case 5:return tD(e),t===null&&sv(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,o=s.children,Zp(r,s)?o=null:a!==null&&Zp(r,a)&&(e.flags|=32),TD(t,e),Wn(t,e,o,n),e.child;case 6:return t===null&&sv(e),null;case 13:return ID(t,e,n);case 4:return D0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Tu(e,null,r,n):Wn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bs(r,s),Dw(t,e,r,s,n);case 7:return Wn(t,e,e.pendingProps,n),e.child;case 8:return Wn(t,e,e.pendingProps.children,n),e.child;case 12:return Wn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,a=e.memoizedProps,o=s.value,pt(Lh,r._currentValue),r._currentValue=o,a!==null)if(Ns(a.value,o)){if(a.children===s.children&&!ir.current){e=ta(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=Qi(-1,n&-n),d.tag=2;var h=a.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?d.next=d:(d.next=g.next,g.next=d),h.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),iv(a.return,n,e),c.lanes|=n;break}d=d.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(re(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),iv(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Wn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vu(e,n),s=Jr(s),r=r(s),e.flags|=1,Wn(t,e,r,n),e.child;case 14:return r=e.type,s=bs(r,e.pendingProps),s=bs(r.type,s),Sw(t,e,r,s,n);case 15:return DD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bs(r,s),dh(t,e),e.tag=1,ar(r)?(t=!0,Ah(e)):t=!1,vu(e,n),wD(e,r,s),ov(e,r,s,n),cv(null,e,r,!0,t,n);case 19:return CD(t,e,n);case 22:return SD(t,e,n)}throw Error(re(156,e.tag))};function HD(t,e){return y2(t,e)}function sM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(t,e,n,r){return new sM(t,e,n,r)}function V0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iM(t){if(typeof t=="function")return V0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===s0)return 11;if(t===i0)return 14}return 2}function _o(t,e){var n=t.alternate;return n===null?(n=Kr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mh(t,e,n,r,s,a){var o=2;if(r=t,typeof t=="function")V0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case tu:return al(n.children,s,a,e);case r0:o=8,s|=8;break;case Op:return t=Kr(12,n,e,s|2),t.elementType=Op,t.lanes=a,t;case jp:return t=Kr(13,n,e,s),t.elementType=jp,t.lanes=a,t;case Mp:return t=Kr(19,n,e,s),t.elementType=Mp,t.lanes=a,t;case t2:return Im(n,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZE:o=10;break e;case e2:o=9;break e;case s0:o=11;break e;case i0:o=14;break e;case eo:o=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Kr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=a,e}function al(t,e,n,r){return t=Kr(7,t,r,e),t.lanes=n,t}function Im(t,e,n,r){return t=Kr(22,t,r,e),t.elementType=t2,t.lanes=n,t.stateNode={isHidden:!1},t}function Qg(t,e,n){return t=Kr(6,t,null,e),t.lanes=n,t}function Xg(t,e,n){return e=Kr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aM(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Og(0),this.expirationTimes=Og(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Og(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function z0(t,e,n,r,s,a,o,c,d){return t=new aM(t,e,n,c,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Kr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},E0(a),t}function oM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function YD(t){if(!t)return To;t=t._reactInternals;e:{if(xl(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(ar(n))return Y2(t,n,e)}return e}function qD(t,e,n,r,s,a,o,c,d){return t=z0(n,r,!0,t,s,a,o,c,d),t.context=YD(null),n=t.current,r=$n(),s=yo(n),a=Qi(r,s),a.callback=e??null,po(n,a,s),t.current.lanes=s,Ad(t,s,r),or(t,r),t}function Cm(t,e,n,r){var s=e.current,a=$n(),o=yo(s);return n=YD(n),e.context===null?e.context=n:e.pendingContext=n,e=Qi(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=po(s,e,o),t!==null&&(Is(t,s,o,a),lh(t,s,o)),o}function Gh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function U0(t,e){kw(t,e),(t=t.alternate)&&kw(t,e)}function lM(){return null}var GD=typeof reportError=="function"?reportError:function(t){console.error(t)};function B0(t){this._internalRoot=t}Nm.prototype.render=B0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Cm(t,e,null,null)};Nm.prototype.unmount=B0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hl(function(){Cm(null,t,null,null)}),e[Zi]=null}};function Nm(t){this._internalRoot=t}Nm.prototype.unstable_scheduleHydration=function(t){if(t){var e=S2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ro.length&&e!==0&&e<ro[n].priority;n++);ro.splice(n,0,t),n===0&&P2(t)}};function W0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lw(){}function uM(t,e,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var h=Gh(o);a.call(h)}}var o=qD(e,r,t,0,null,!1,!1,"",Lw);return t._reactRootContainer=o,t[Zi]=o.current,pd(t.nodeType===8?t.parentNode:t),hl(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var h=Gh(d);c.call(h)}}var d=z0(t,0,!1,null,null,!1,!1,"",Lw);return t._reactRootContainer=d,t[Zi]=d.current,pd(t.nodeType===8?t.parentNode:t),hl(function(){Cm(e,d,n,r)}),d}function jm(t,e,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var c=s;s=function(){var d=Gh(o);c.call(d)}}Cm(e,o,t,s)}else o=uM(n,e,t,s,r);return Gh(o)}E2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vc(e.pendingLanes);n!==0&&(l0(e,n|1),or(e,zt()),!(Ge&6)&&(Cu=zt()+500,Ro()))}break;case 13:hl(function(){var r=ea(t,1);if(r!==null){var s=$n();Is(r,t,1,s)}}),U0(t,1)}};u0=function(t){if(t.tag===13){var e=ea(t,134217728);if(e!==null){var n=$n();Is(e,t,134217728,n)}U0(t,134217728)}};D2=function(t){if(t.tag===13){var e=yo(t),n=ea(t,e);if(n!==null){var r=$n();Is(n,t,e,r)}U0(t,e)}};S2=function(){return st};T2=function(t,e){var n=st;try{return st=t,e()}finally{st=n}};Wp=function(t,e,n){switch(e){case"input":if(Fp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=bm(r);if(!s)throw Error(re(90));r2(r),Fp(r,s)}}}break;case"textarea":i2(t,n);break;case"select":e=n.value,e!=null&&hu(t,!!n.multiple,e,!1)}};f2=F0;h2=hl;var cM={usingClientEntryPoint:!1,Events:[kd,iu,bm,c2,d2,F0]},bc={findFiberByHostInstance:el,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dM={bundleType:bc.bundleType,version:bc.version,rendererPackageName:bc.rendererPackageName,rendererConfig:bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:la.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=p2(t),t===null?null:t.stateNode},findFiberByHostInstance:bc.findFiberByHostInstance||lM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mf.isDisabled&&Mf.supportsFiber)try{ym=Mf.inject(dM),ai=Mf}catch{}}Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cM;Sr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!W0(e))throw Error(re(200));return oM(t,e,null,n)};Sr.createRoot=function(t,e){if(!W0(t))throw Error(re(299));var n=!1,r="",s=GD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=z0(t,1,!1,null,null,n,!1,r,s),t[Zi]=e.current,pd(t.nodeType===8?t.parentNode:t),new B0(e)};Sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=p2(e),t=t===null?null:t.stateNode,t};Sr.flushSync=function(t){return hl(t)};Sr.hydrate=function(t,e,n){if(!Om(e))throw Error(re(200));return jm(null,t,e,!0,n)};Sr.hydrateRoot=function(t,e,n){if(!W0(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=GD;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qD(e,null,t,1,n??null,s,!1,a,o),t[Zi]=e.current,pd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Nm(e)};Sr.render=function(t,e,n){if(!Om(e))throw Error(re(200));return jm(null,t,e,!1,n)};Sr.unmountComponentAtNode=function(t){if(!Om(t))throw Error(re(40));return t._reactRootContainer?(hl(function(){jm(null,null,t,!1,function(){t._reactRootContainer=null,t[Zi]=null})}),!0):!1};Sr.unstable_batchedUpdates=F0;Sr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Om(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return jm(t,e,n,!1,r)};Sr.version="18.3.1-next-f1338f8080-20240426";function KD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KD)}catch(t){console.error(t)}}KD(),KE.exports=Sr;var fM=KE.exports,Vw=fM;Cp.createRoot=Vw.createRoot,Cp.hydrateRoot=Vw.hydrateRoot;var $0={},Vd={},QD={exports:{}},hM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mM=hM,gM=mM;function XD(){}function JD(){}JD.resetWarningCache=XD;var pM=function(){function t(r,s,a,o,c,d){if(d!==gM){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:JD,resetWarningCache:XD};return n.PropTypes=n,n};QD.exports=pM();var ua=QD.exports,zd={},na={},ZD={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var c=arguments[o];c&&(a=s(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var c in a)e.call(a,c)&&a[c]&&(o=s(o,c));return o}function s(a,o){return o?a?a+" "+o:a+o:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(ZD);var wl=ZD.exports,Ao={},H0={},gi={},De={},ae={};ae.secondsInYear=ae.secondsInWeek=ae.secondsInQuarter=ae.secondsInMonth=ae.secondsInMinute=ae.secondsInHour=ae.secondsInDay=ae.quartersInYear=ae.monthsInYear=ae.monthsInQuarter=ae.minutesInYear=ae.minutesInMonth=ae.minutesInHour=ae.minutesInDay=ae.minTime=ae.millisecondsInWeek=ae.millisecondsInSecond=ae.millisecondsInMinute=ae.millisecondsInHour=ae.millisecondsInDay=ae.maxTime=ae.daysInYear=ae.daysInWeek=ae.constructFromSymbol=void 0;ae.daysInWeek=7;const vM=ae.daysInYear=365.2425,yM=ae.maxTime=Math.pow(10,8)*24*60*60*1e3;ae.minTime=-yM;ae.millisecondsInWeek=6048e5;ae.millisecondsInDay=864e5;ae.millisecondsInMinute=6e4;ae.millisecondsInHour=36e5;ae.millisecondsInSecond=1e3;ae.minutesInYear=525600;ae.minutesInMonth=43200;ae.minutesInDay=1440;ae.minutesInHour=60;ae.monthsInQuarter=3;ae.monthsInYear=12;ae.quartersInYear=4;const _M=ae.secondsInHour=3600;ae.secondsInMinute=60;const eS=ae.secondsInDay=_M*24;ae.secondsInWeek=eS*7;const xM=ae.secondsInYear=eS*vM,wM=ae.secondsInMonth=xM/12;ae.secondsInQuarter=wM*3;ae.constructFromSymbol=Symbol.for("constructDateFrom");De.constructFrom=bM;var zw=ae;function bM(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&zw.constructFromSymbol in t?t[zw.constructFromSymbol](e):t instanceof Date?new t.constructor(e):new Date(e)}var X={};X.toDate=DM;var EM=De;function DM(t,e){return(0,EM.constructFrom)(e||t,t)}gi.addDays=PM;var SM=De,TM=X;function PM(t,e,n){const r=(0,TM.toDate)(t,n==null?void 0:n.in);return isNaN(e)?(0,SM.constructFrom)((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}var $u={};$u.addMonths=CM;var Uw=De,IM=X;function CM(t,e,n){const r=(0,IM.toDate)(t,n==null?void 0:n.in);if(isNaN(e))return(0,Uw.constructFrom)((n==null?void 0:n.in)||t,NaN);if(!e)return r;const s=r.getDate(),a=(0,Uw.constructFrom)((n==null?void 0:n.in)||t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const o=a.getDate();return s>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}H0.add=RM;var NM=gi,OM=$u,jM=De,MM=X;function RM(t,e,n){const{years:r=0,months:s=0,weeks:a=0,days:o=0,hours:c=0,minutes:d=0,seconds:h=0}=e,g=(0,MM.toDate)(t,n==null?void 0:n.in),v=s||r?(0,OM.addMonths)(g,s+r*12):g,y=o||a?(0,NM.addDays)(v,o+a*7):v,b=d+c*60,E=(h+b*60)*1e3;return(0,jM.constructFrom)((n==null?void 0:n.in)||t,+y+E)}var Y0={},q0={};q0.isSaturday=FM;var AM=X;function FM(t,e){return(0,AM.toDate)(t,e==null?void 0:e.in).getDay()===6}var G0={};G0.isSunday=LM;var kM=X;function LM(t,e){return(0,kM.toDate)(t,e==null?void 0:e.in).getDay()===0}var Ud={};Ud.isWeekend=zM;var VM=X;function zM(t,e){const n=(0,VM.toDate)(t,e==null?void 0:e.in).getDay();return n===0||n===6}Y0.addBusinessDays=HM;var UM=De,BM=q0,WM=G0,Jg=Ud,$M=X;function HM(t,e,n){const r=(0,$M.toDate)(t,n==null?void 0:n.in),s=(0,Jg.isWeekend)(r,n);if(isNaN(e))return(0,UM.constructFrom)(n==null?void 0:n.in,NaN);const a=r.getHours(),o=e<0?-1:1,c=Math.trunc(e/5);r.setDate(r.getDate()+c*7);let d=Math.abs(e%5);for(;d>0;)r.setDate(r.getDate()+o),(0,Jg.isWeekend)(r,n)||(d-=1);return s&&(0,Jg.isWeekend)(r,n)&&e!==0&&((0,BM.isSaturday)(r,n)&&r.setDate(r.getDate()+(o<0?2:-1)),(0,WM.isSunday)(r,n)&&r.setDate(r.getDate()+(o<0?1:-2))),r.setHours(a),r}var K0={},Bd={};Bd.addMilliseconds=GM;var YM=De,qM=X;function GM(t,e,n){return(0,YM.constructFrom)((n==null?void 0:n.in)||t,+(0,qM.toDate)(t)+e)}K0.addHours=XM;var KM=Bd,QM=ae;function XM(t,e,n){return(0,KM.addMilliseconds)(t,e*QM.millisecondsInHour,n)}var Q0={},Fo={},pi={},Os={},_n={};_n.getDefaultOptions=JM;_n.setDefaultOptions=ZM;let tS={};function JM(){return tS}function ZM(t){tS=t}Os.startOfWeek=n4;var e4=_n,t4=X;function n4(t,e){var c,d,h,g;const n=(0,e4.getDefaultOptions)(),r=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((g=(h=n.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,s=(0,t4.toDate)(t,e==null?void 0:e.in),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}pi.startOfISOWeek=s4;var r4=Os;function s4(t,e){return(0,r4.startOfWeek)(t,{...e,weekStartsOn:1})}Fo.getISOWeekYear=a4;var Bw=De,Ww=pi,i4=X;function a4(t,e){const n=(0,i4.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),s=(0,Bw.constructFrom)(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=(0,Ww.startOfISOWeek)(s),o=(0,Bw.constructFrom)(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const c=(0,Ww.startOfISOWeek)(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}var X0={},ca={},da={};da.getTimezoneOffsetInMilliseconds=l4;var o4=X;function l4(t){const e=(0,o4.toDate)(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}var at={};at.normalizeDates=c4;var u4=De;function c4(t,...e){const n=u4.constructFrom.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}var Wd={};Wd.startOfDay=f4;var d4=X;function f4(t,e){const n=(0,d4.toDate)(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}ca.differenceInCalendarDays=g4;var $w=da,h4=at,m4=ae,Hw=Wd;function g4(t,e,n){const[r,s]=(0,h4.normalizeDates)(n==null?void 0:n.in,t,e),a=(0,Hw.startOfDay)(r),o=(0,Hw.startOfDay)(s),c=+a-(0,$w.getTimezoneOffsetInMilliseconds)(a),d=+o-(0,$w.getTimezoneOffsetInMilliseconds)(o);return Math.round((c-d)/m4.millisecondsInDay)}var Hu={};Hu.startOfISOWeekYear=_4;var p4=De,v4=Fo,y4=pi;function _4(t,e){const n=(0,v4.getISOWeekYear)(t,e),r=(0,p4.constructFrom)((e==null?void 0:e.in)||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),(0,y4.startOfISOWeek)(r)}X0.setISOWeekYear=E4;var x4=De,w4=ca,Yw=Hu,b4=X;function E4(t,e,n){let r=(0,b4.toDate)(t,n==null?void 0:n.in);const s=(0,w4.differenceInCalendarDays)(r,(0,Yw.startOfISOWeekYear)(r,n)),a=(0,x4.constructFrom)((n==null?void 0:n.in)||t,0);return a.setFullYear(e,0,4),a.setHours(0,0,0,0),r=(0,Yw.startOfISOWeekYear)(a),r.setDate(r.getDate()+s),r}Q0.addISOWeekYears=T4;var D4=Fo,S4=X0;function T4(t,e,n){return(0,S4.setISOWeekYear)(t,(0,D4.getISOWeekYear)(t,n)+e,n)}var Mm={};Mm.addMinutes=C4;var P4=ae,I4=X;function C4(t,e,n){const r=(0,I4.toDate)(t,n==null?void 0:n.in);return r.setTime(r.getTime()+e*P4.millisecondsInMinute),r}var Rm={};Rm.addQuarters=O4;var N4=$u;function O4(t,e,n){return(0,N4.addMonths)(t,e*3,n)}var J0={};J0.addSeconds=M4;var j4=Bd;function M4(t,e,n){return(0,j4.addMilliseconds)(t,e*1e3,n)}var $d={};$d.addWeeks=A4;var R4=gi;function A4(t,e,n){return(0,R4.addDays)(t,e*7,n)}var Z0={};Z0.addYears=k4;var F4=$u;function k4(t,e,n){return(0,F4.addMonths)(t,e*12,n)}var nS={};nS.areIntervalsOverlapping=L4;var Rf=X;function L4(t,e,n){const[r,s]=[+(0,Rf.toDate)(t.start,n==null?void 0:n.in),+(0,Rf.toDate)(t.end,n==null?void 0:n.in)].sort((c,d)=>c-d),[a,o]=[+(0,Rf.toDate)(e.start,n==null?void 0:n.in),+(0,Rf.toDate)(e.end,n==null?void 0:n.in)].sort((c,d)=>c-d);return n!=null&&n.inclusive?r<=o&&a<=s:r<o&&a<s}var rS={},ey={};ey.max=z4;var qw=De,V4=X;function z4(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=qw.constructFrom.bind(null,s));const a=(0,V4.toDate)(s,r);(!n||n<a||isNaN(+a))&&(n=a)}),(0,qw.constructFrom)(r,n||NaN)}var ty={};ty.min=B4;var Gw=De,U4=X;function B4(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=Gw.constructFrom.bind(null,s));const a=(0,U4.toDate)(s,r);(!n||n>a||isNaN(+a))&&(n=a)}),(0,Gw.constructFrom)(r,n||NaN)}rS.clamp=Y4;var W4=at,$4=ey,H4=ty;function Y4(t,e,n){const[r,s,a]=(0,W4.normalizeDates)(n==null?void 0:n.in,t,e.start,e.end);return(0,H4.min)([(0,$4.max)([r,s],n),a],n)}var ny={};ny.closestIndexTo=q4;var Kw=X;function q4(t,e){const n=+(0,Kw.toDate)(t);if(isNaN(n))return NaN;let r,s;return e.forEach((a,o)=>{const c=(0,Kw.toDate)(a);if(isNaN(+c)){r=NaN,s=NaN;return}const d=Math.abs(n-+c);(r==null||d<s)&&(r=o,s=d)}),r}var sS={};sS.closestTo=X4;var G4=at,K4=ny,Q4=De;function X4(t,e,n){const[r,...s]=(0,G4.normalizeDates)(n==null?void 0:n.in,t,...e),a=(0,K4.closestIndexTo)(r,s);if(typeof a=="number"&&isNaN(a))return(0,Q4.constructFrom)(r,NaN);if(a!==void 0)return s[a]}var bl={};bl.compareAsc=J4;var Qw=X;function J4(t,e){const n=+(0,Qw.toDate)(t)-+(0,Qw.toDate)(e);return n<0?-1:n>0?1:n}var iS={};iS.compareDesc=Z4;var Xw=X;function Z4(t,e){const n=+(0,Xw.toDate)(t)-+(0,Xw.toDate)(e);return n>0?-1:n<0?1:n}var en={};en.constructNow=tR;var eR=De;function tR(t){return(0,eR.constructFrom)(t,Date.now())}var aS={};aS.daysToWeeks=rR;var nR=ae;function rR(t){const e=Math.trunc(t/nR.daysInWeek);return e===0?0:e}var oS={},Yu={};Yu.isSameDay=iR;var sR=at,Jw=Wd;function iR(t,e,n){const[r,s]=(0,sR.normalizeDates)(n==null?void 0:n.in,t,e);return+(0,Jw.startOfDay)(r)==+(0,Jw.startOfDay)(s)}var fa={},ry={};ry.isDate=aR;function aR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}fa.isValid=uR;var oR=ry,lR=X;function uR(t){return!(!(0,oR.isDate)(t)&&typeof t!="number"||isNaN(+(0,lR.toDate)(t)))}oS.differenceInBusinessDays=mR;var cR=at,Zw=gi,dR=ca,fR=Yu,eb=fa,hR=Ud;function mR(t,e,n){const[r,s]=(0,cR.normalizeDates)(n==null?void 0:n.in,t,e);if(!(0,eb.isValid)(r)||!(0,eb.isValid)(s))return NaN;const a=(0,dR.differenceInCalendarDays)(r,s),o=a<0?-1:1,c=Math.trunc(a/7);let d=c*5,h=(0,Zw.addDays)(s,c*7);for(;!(0,fR.isSameDay)(r,h);)d+=(0,hR.isWeekend)(h,n)?0:o,h=(0,Zw.addDays)(h,o);return d===0?0:d}var sy={};sy.differenceInCalendarISOWeekYears=pR;var gR=at,tb=Fo;function pR(t,e,n){const[r,s]=(0,gR.normalizeDates)(n==null?void 0:n.in,t,e);return(0,tb.getISOWeekYear)(r,n)-(0,tb.getISOWeekYear)(s,n)}var lS={};lS.differenceInCalendarISOWeeks=_R;var nb=da,vR=at,yR=ae,rb=pi;function _R(t,e,n){const[r,s]=(0,vR.normalizeDates)(n==null?void 0:n.in,t,e),a=(0,rb.startOfISOWeek)(r),o=(0,rb.startOfISOWeek)(s),c=+a-(0,nb.getTimezoneOffsetInMilliseconds)(a),d=+o-(0,nb.getTimezoneOffsetInMilliseconds)(o);return Math.round((c-d)/yR.millisecondsInWeek)}var Am={};Am.differenceInCalendarMonths=wR;var xR=at;function wR(t,e,n){const[r,s]=(0,xR.normalizeDates)(n==null?void 0:n.in,t,e),a=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return a*12+o}var iy={},ay={};ay.getQuarter=ER;var bR=X;function ER(t,e){const n=(0,bR.toDate)(t,e==null?void 0:e.in);return Math.trunc(n.getMonth()/3)+1}iy.differenceInCalendarQuarters=SR;var DR=at,sb=ay;function SR(t,e,n){const[r,s]=(0,DR.normalizeDates)(n==null?void 0:n.in,t,e),a=r.getFullYear()-s.getFullYear(),o=(0,sb.getQuarter)(r)-(0,sb.getQuarter)(s);return a*4+o}var Fm={};Fm.differenceInCalendarWeeks=IR;var ib=da,TR=at,PR=ae,ab=Os;function IR(t,e,n){const[r,s]=(0,TR.normalizeDates)(n==null?void 0:n.in,t,e),a=(0,ab.startOfWeek)(r,n),o=(0,ab.startOfWeek)(s,n),c=+a-(0,ib.getTimezoneOffsetInMilliseconds)(a),d=+o-(0,ib.getTimezoneOffsetInMilliseconds)(o);return Math.round((c-d)/PR.millisecondsInWeek)}var km={};km.differenceInCalendarYears=NR;var CR=at;function NR(t,e,n){const[r,s]=(0,CR.normalizeDates)(n==null?void 0:n.in,t,e);return r.getFullYear()-s.getFullYear()}var Lm={};Lm.differenceInDays=MR;var OR=at,jR=ca;function MR(t,e,n){const[r,s]=(0,OR.normalizeDates)(n==null?void 0:n.in,t,e),a=ob(r,s),o=Math.abs((0,jR.differenceInCalendarDays)(r,s));r.setDate(r.getDate()-a*o);const c=+(ob(r,s)===-a),d=a*(o-c);return d===0?0:d}function ob(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}var Vm={},ha={};ha.getRoundingMethod=RR;function RR(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}Vm.differenceInHours=LR;var AR=ha,FR=at,kR=ae;function LR(t,e,n){const[r,s]=(0,FR.normalizeDates)(n==null?void 0:n.in,t,e),a=(+r-+s)/kR.millisecondsInHour;return(0,AR.getRoundingMethod)(n==null?void 0:n.roundingMethod)(a)}var uS={},oy={};oy.subISOWeekYears=zR;var VR=Q0;function zR(t,e,n){return(0,VR.addISOWeekYears)(t,-e,n)}uS.differenceInISOWeekYears=$R;var UR=at,lb=bl,BR=sy,WR=oy;function $R(t,e,n){const[r,s]=(0,UR.normalizeDates)(n==null?void 0:n.in,t,e),a=(0,lb.compareAsc)(r,s),o=Math.abs((0,BR.differenceInCalendarISOWeekYears)(r,s,n)),c=(0,WR.subISOWeekYears)(r,a*o,n),d=+((0,lb.compareAsc)(c,s)===-a),h=a*(o-d);return h===0?0:h}var zm={};zm.differenceInMilliseconds=HR;var ub=X;function HR(t,e){return+(0,ub.toDate)(t)-+(0,ub.toDate)(e)}var Um={};Um.differenceInMinutes=KR;var YR=ha,qR=ae,GR=zm;function KR(t,e,n){const r=(0,GR.differenceInMilliseconds)(t,e)/qR.millisecondsInMinute;return(0,YR.getRoundingMethod)(n==null?void 0:n.roundingMethod)(r)}var Hd={},ly={},Bm={};Bm.endOfDay=XR;var QR=X;function XR(t,e){const n=(0,QR.toDate)(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}var Wm={};Wm.endOfMonth=ZR;var JR=X;function ZR(t,e){const n=(0,JR.toDate)(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}ly.isLastDayOfMonth=rA;var eA=Bm,tA=Wm,nA=X;function rA(t,e){const n=(0,nA.toDate)(t,e==null?void 0:e.in);return+(0,eA.endOfDay)(n,e)==+(0,tA.endOfMonth)(n,e)}Hd.differenceInMonths=oA;var sA=at,Zg=bl,iA=Am,aA=ly;function oA(t,e,n){const[r,s,a]=(0,sA.normalizeDates)(n==null?void 0:n.in,t,t,e),o=(0,Zg.compareAsc)(s,a),c=Math.abs((0,iA.differenceInCalendarMonths)(s,a));if(c<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-o*c);let d=(0,Zg.compareAsc)(s,a)===-o;(0,aA.isLastDayOfMonth)(r)&&c===1&&(0,Zg.compareAsc)(r,a)===1&&(d=!1);const h=o*(c-+d);return h===0?0:h}var cS={};cS.differenceInQuarters=cA;var lA=ha,uA=Hd;function cA(t,e,n){const r=(0,uA.differenceInMonths)(t,e,n)/3;return(0,lA.getRoundingMethod)(n==null?void 0:n.roundingMethod)(r)}var Yd={};Yd.differenceInSeconds=hA;var dA=ha,fA=zm;function hA(t,e,n){const r=(0,fA.differenceInMilliseconds)(t,e)/1e3;return(0,dA.getRoundingMethod)(n==null?void 0:n.roundingMethod)(r)}var dS={};dS.differenceInWeeks=pA;var mA=ha,gA=Lm;function pA(t,e,n){const r=(0,gA.differenceInDays)(t,e,n)/7;return(0,mA.getRoundingMethod)(n==null?void 0:n.roundingMethod)(r)}var uy={};uy.differenceInYears=_A;var vA=at,cb=bl,yA=km;function _A(t,e,n){const[r,s]=(0,vA.normalizeDates)(n==null?void 0:n.in,t,e),a=(0,cb.compareAsc)(r,s),o=Math.abs((0,yA.differenceInCalendarYears)(r,s));r.setFullYear(1584),s.setFullYear(1584);const c=(0,cb.compareAsc)(r,s)===-a,d=a*(o-+c);return d===0?0:d}var cy={},vi={};vi.normalizeInterval=wA;var xA=at;function wA(t,e){const[n,r]=(0,xA.normalizeDates)(t,e.start,e.end);return{start:n,end:r}}cy.eachDayOfInterval=DA;var bA=vi,EA=De;function DA(t,e){const{start:n,end:r}=(0,bA.normalizeInterval)(e==null?void 0:e.in,t);let s=+n>+r;const a=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let c=(e==null?void 0:e.step)??1;if(!c)return[];c<0&&(c=-c,s=!s);const d=[];for(;+o<=a;)d.push((0,EA.constructFrom)(n,o)),o.setDate(o.getDate()+c),o.setHours(0,0,0,0);return s?d.reverse():d}var fS={};fS.eachHourOfInterval=PA;var SA=vi,TA=De;function PA(t,e){const{start:n,end:r}=(0,SA.normalizeInterval)(e==null?void 0:e.in,t);let s=+n>+r;const a=s?+n:+r,o=s?r:n;o.setMinutes(0,0,0);let c=(e==null?void 0:e.step)??1;if(!c)return[];c<0&&(c=-c,s=!s);const d=[];for(;+o<=a;)d.push((0,TA.constructFrom)(n,o)),o.setHours(o.getHours()+c);return s?d.reverse():d}var hS={};hS.eachMinuteOfInterval=OA;var IA=vi,CA=Mm,NA=De;function OA(t,e){const{start:n,end:r}=(0,IA.normalizeInterval)(e==null?void 0:e.in,t);n.setSeconds(0,0);let s=+n>+r;const a=s?+n:+r;let o=s?r:n,c=(e==null?void 0:e.step)??1;if(!c)return[];c<0&&(c=-c,s=!s);const d=[];for(;+o<=a;)d.push((0,NA.constructFrom)(n,o)),o=(0,CA.addMinutes)(o,c);return s?d.reverse():d}var mS={};mS.eachMonthOfInterval=RA;var jA=vi,MA=De;function RA(t,e){const{start:n,end:r}=(0,jA.normalizeInterval)(e==null?void 0:e.in,t);let s=+n>+r;const a=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0),o.setDate(1);let c=(e==null?void 0:e.step)??1;if(!c)return[];c<0&&(c=-c,s=!s);const d=[];for(;+o<=a;)d.push((0,MA.constructFrom)(n,o)),o.setMonth(o.getMonth()+c);return s?d.reverse():d}var gS={},$m={};$m.startOfQuarter=FA;var AA=X;function FA(t,e){const n=(0,AA.toDate)(t,e==null?void 0:e.in),r=n.getMonth(),s=r-r%3;return n.setMonth(s,1),n.setHours(0,0,0,0),n}gS.eachQuarterOfInterval=zA;var kA=vi,LA=Rm,VA=De,Af=$m;function zA(t,e){const{start:n,end:r}=(0,kA.normalizeInterval)(e==null?void 0:e.in,t);let s=+n>+r;const a=s?+(0,Af.startOfQuarter)(n):+(0,Af.startOfQuarter)(r);let o=s?(0,Af.startOfQuarter)(r):(0,Af.startOfQuarter)(n),c=(e==null?void 0:e.step)??1;if(!c)return[];c<0&&(c=-c,s=!s);const d=[];for(;+o<=a;)d.push((0,VA.constructFrom)(n,o)),o=(0,LA.addQuarters)(o,c);return s?d.reverse():d}var pS={};pS.eachWeekOfInterval=$A;var UA=vi,BA=$d,WA=De,Ff=Os;function $A(t,e){const{start:n,end:r}=(0,UA.normalizeInterval)(e==null?void 0:e.in,t);let s=+n>+r;const a=s?(0,Ff.startOfWeek)(r,e):(0,Ff.startOfWeek)(n,e),o=s?(0,Ff.startOfWeek)(n,e):(0,Ff.startOfWeek)(r,e);a.setHours(15),o.setHours(15);const c=+o.getTime();let d=a,h=(e==null?void 0:e.step)??1;if(!h)return[];h<0&&(h=-h,s=!s);const g=[];for(;+d<=c;)d.setHours(0),g.push((0,WA.constructFrom)(n,d)),d=(0,BA.addWeeks)(d,h),d.setHours(15);return s?g.reverse():g}var Hm={};Hm.eachWeekendOfInterval=KA;var HA=vi,YA=De,qA=cy,GA=Ud;function KA(t,e){const{start:n,end:r}=(0,HA.normalizeInterval)(e==null?void 0:e.in,t),s=(0,qA.eachDayOfInterval)({start:n,end:r},e),a=[];let o=0;for(;o<s.length;){const c=s[o++];(0,GA.isWeekend)(c)&&a.push((0,YA.constructFrom)(n,c))}return a}var vS={},qd={};qd.startOfMonth=XA;var QA=X;function XA(t,e){const n=(0,QA.toDate)(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}vS.eachWeekendOfMonth=t3;var JA=Hm,ZA=Wm,e3=qd;function t3(t,e){const n=(0,e3.startOfMonth)(t,e),r=(0,ZA.endOfMonth)(t,e);return(0,JA.eachWeekendOfInterval)({start:n,end:r},e)}var yS={},dy={};dy.endOfYear=r3;var n3=X;function r3(t,e){const n=(0,n3.toDate)(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}var Ym={};Ym.startOfYear=i3;var s3=X;function i3(t,e){const n=(0,s3.toDate)(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}yS.eachWeekendOfYear=u3;var a3=Hm,o3=dy,l3=Ym;function u3(t,e){const n=(0,l3.startOfYear)(t,e),r=(0,o3.endOfYear)(t,e);return(0,a3.eachWeekendOfInterval)({start:n,end:r},e)}var _S={};_S.eachYearOfInterval=f3;var c3=vi,d3=De;function f3(t,e){const{start:n,end:r}=(0,c3.normalizeInterval)(e==null?void 0:e.in,t);let s=+n>+r;const a=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0),o.setMonth(0,1);let c=(e==null?void 0:e.step)??1;if(!c)return[];c<0&&(c=-c,s=!s);const d=[];for(;+o<=a;)d.push((0,d3.constructFrom)(n,o)),o.setFullYear(o.getFullYear()+c);return s?d.reverse():d}var xS={};xS.endOfDecade=m3;var h3=X;function m3(t,e){const n=(0,h3.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),s=9+Math.floor(r/10)*10;return n.setFullYear(s,11,31),n.setHours(23,59,59,999),n}var wS={};wS.endOfHour=p3;var g3=X;function p3(t,e){const n=(0,g3.toDate)(t,e==null?void 0:e.in);return n.setMinutes(59,59,999),n}var bS={},fy={};fy.endOfWeek=_3;var v3=_n,y3=X;function _3(t,e){var c,d,h,g;const n=(0,v3.getDefaultOptions)(),r=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((g=(h=n.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,s=(0,y3.toDate)(t,e==null?void 0:e.in),a=s.getDay(),o=(a<r?-7:0)+6-(a-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}bS.endOfISOWeek=w3;var x3=fy;function w3(t,e){return(0,x3.endOfWeek)(t,{...e,weekStartsOn:1})}var ES={};ES.endOfISOWeekYear=S3;var b3=De,E3=Fo,D3=pi;function S3(t,e){const n=(0,E3.getISOWeekYear)(t,e),r=(0,b3.constructFrom)((e==null?void 0:e.in)||t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=(0,D3.startOfISOWeek)(r,e);return s.setMilliseconds(s.getMilliseconds()-1),s}var DS={};DS.endOfMinute=P3;var T3=X;function P3(t,e){const n=(0,T3.toDate)(t,e==null?void 0:e.in);return n.setSeconds(59,999),n}var SS={};SS.endOfQuarter=C3;var I3=X;function C3(t,e){const n=(0,I3.toDate)(t,e==null?void 0:e.in),r=n.getMonth(),s=r-r%3+3;return n.setMonth(s,0),n.setHours(23,59,59,999),n}var TS={};TS.endOfSecond=O3;var N3=X;function O3(t,e){const n=(0,N3.toDate)(t,e==null?void 0:e.in);return n.setMilliseconds(999),n}var PS={};PS.endOfToday=M3;var j3=Bm;function M3(t){return(0,j3.endOfDay)(Date.now(),t)}var IS={};IS.endOfTomorrow=R3;var db=en;function R3(t){const e=(0,db.constructNow)(t==null?void 0:t.in),n=e.getFullYear(),r=e.getMonth(),s=e.getDate(),a=(0,db.constructNow)(t==null?void 0:t.in);return a.setFullYear(n,r,s+1),a.setHours(23,59,59,999),t!=null&&t.in?t.in(a):a}var CS={};CS.endOfYesterday=k3;var A3=De,F3=en;function k3(t){const e=(0,F3.constructNow)(t==null?void 0:t.in),n=(0,A3.constructFrom)(t==null?void 0:t.in,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()-1),n.setHours(23,59,59,999),n}var hy={},El={},qm={},my={};my.formatDistance=void 0;const L3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},V3=(t,e,n)=>{let r;const s=L3[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};my.formatDistance=V3;var gy={},NS={};NS.buildFormatLongFn=z3;function z3(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}gy.formatLong=void 0;var ep=NS;const U3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},B3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},W3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"};gy.formatLong={date:(0,ep.buildFormatLongFn)({formats:U3,defaultWidth:"full"}),time:(0,ep.buildFormatLongFn)({formats:B3,defaultWidth:"full"}),dateTime:(0,ep.buildFormatLongFn)({formats:W3,defaultWidth:"full"})};var py={};py.formatRelative=void 0;const $3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},H3=(t,e,n,r)=>$3[t];py.formatRelative=H3;var vy={},OS={};OS.buildLocalizeFn=Y3;function Y3(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):o;s=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}vy.localize=void 0;var Ec=OS;const q3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},G3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},K3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Q3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},X3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},J3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Z3=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"};vy.localize={ordinalNumber:Z3,era:(0,Ec.buildLocalizeFn)({values:q3,defaultWidth:"wide"}),quarter:(0,Ec.buildLocalizeFn)({values:G3,defaultWidth:"wide",argumentCallback:t=>t-1}),month:(0,Ec.buildLocalizeFn)({values:K3,defaultWidth:"wide"}),day:(0,Ec.buildLocalizeFn)({values:Q3,defaultWidth:"wide"}),dayPeriod:(0,Ec.buildLocalizeFn)({values:X3,defaultWidth:"wide",formattingValues:J3,defaultFormattingWidth:"wide"})};var yy={},jS={};jS.buildMatchFn=eF;function eF(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const o=a[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?nF(c,v=>v.test(o)):tF(c,v=>v.test(o));let h;h=t.valueCallback?t.valueCallback(d):d,h=n.valueCallback?n.valueCallback(h):h;const g=e.slice(o.length);return{value:h,rest:g}}}function tF(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function nF(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}var MS={};MS.buildMatchPatternFn=rF;function rF(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const c=e.slice(s.length);return{value:o,rest:c}}}yy.match=void 0;var Dc=jS,sF=MS;const iF=/^(\d+)(th|st|nd|rd)?/i,aF=/\d+/i,oF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lF={any:[/^b/i,/^(a|c)/i]},uF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cF={any:[/1/i,/2/i,/3/i,/4/i]},dF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}};yy.match={ordinalNumber:(0,sF.buildMatchPatternFn)({matchPattern:iF,parsePattern:aF,valueCallback:t=>parseInt(t,10)}),era:(0,Dc.buildMatchFn)({matchPatterns:oF,defaultMatchWidth:"wide",parsePatterns:lF,defaultParseWidth:"any"}),quarter:(0,Dc.buildMatchFn)({matchPatterns:uF,defaultMatchWidth:"wide",parsePatterns:cF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:(0,Dc.buildMatchFn)({matchPatterns:dF,defaultMatchWidth:"wide",parsePatterns:fF,defaultParseWidth:"any"}),day:(0,Dc.buildMatchFn)({matchPatterns:hF,defaultMatchWidth:"wide",parsePatterns:mF,defaultParseWidth:"any"}),dayPeriod:(0,Dc.buildMatchFn)({matchPatterns:gF,defaultMatchWidth:"any",parsePatterns:pF,defaultParseWidth:"any"})};qm.enUS=void 0;var vF=my,yF=gy,_F=py,xF=vy,wF=yy;qm.enUS={code:"en-US",formatDistance:vF.formatDistance,formatLong:yF.formatLong,formatRelative:_F.formatRelative,localize:xF.localize,match:wF.match,options:{weekStartsOn:0,firstWeekContainsDate:1}};(function(t){Object.defineProperty(t,"defaultLocale",{enumerable:!0,get:function(){return e.enUS}});var e=qm})(El);var _y={},xy={};xy.getDayOfYear=SF;var bF=ca,EF=Ym,DF=X;function SF(t,e){const n=(0,DF.toDate)(t,e==null?void 0:e.in);return(0,bF.differenceInCalendarDays)(n,(0,EF.startOfYear)(n))+1}var Gm={};Gm.getISOWeek=NF;var TF=ae,PF=pi,IF=Hu,CF=X;function NF(t,e){const n=(0,CF.toDate)(t,e==null?void 0:e.in),r=+(0,PF.startOfISOWeek)(n)-+(0,IF.startOfISOWeekYear)(n);return Math.round(r/TF.millisecondsInWeek)+1}var Km={},Qm={},Gd={};Gd.getWeekYear=MF;var OF=_n,fb=De,hb=Os,jF=X;function MF(t,e){var g,v,y,b;const n=(0,jF.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),s=(0,OF.getDefaultOptions)(),a=(e==null?void 0:e.firstWeekContainsDate)??((v=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((b=(y=s.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,o=(0,fb.constructFrom)((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const c=(0,hb.startOfWeek)(o,e),d=(0,fb.constructFrom)((e==null?void 0:e.in)||t,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const h=(0,hb.startOfWeek)(d,e);return+n>=+c?r+1:+n>=+h?r:r-1}Qm.startOfWeekYear=LF;var RF=_n,AF=De,FF=Gd,kF=Os;function LF(t,e){var c,d,h,g;const n=(0,RF.getDefaultOptions)(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(h=n.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,s=(0,FF.getWeekYear)(t,e),a=(0,AF.constructFrom)((e==null?void 0:e.in)||t,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),(0,kF.startOfWeek)(a,e)}Km.getWeek=WF;var VF=ae,zF=Os,UF=Qm,BF=X;function WF(t,e){const n=(0,BF.toDate)(t,e==null?void 0:e.in),r=+(0,zF.startOfWeek)(n,e)-+(0,UF.startOfWeekYear)(n,e);return Math.round(r/VF.millisecondsInWeek)+1}var Dl={};Dl.addLeadingZeros=$F;function $F(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}var Xm={};Xm.lightFormatters=void 0;var Ga=Dl;Xm.lightFormatters={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return(0,Ga.addLeadingZeros)(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):(0,Ga.addLeadingZeros)(n+1,2)},d(t,e){return(0,Ga.addLeadingZeros)(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return(0,Ga.addLeadingZeros)(t.getHours()%12||12,e.length)},H(t,e){return(0,Ga.addLeadingZeros)(t.getHours(),e.length)},m(t,e){return(0,Ga.addLeadingZeros)(t.getMinutes(),e.length)},s(t,e){return(0,Ga.addLeadingZeros)(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return(0,Ga.addLeadingZeros)(s,e.length)}};_y.formatters=void 0;var HF=xy,YF=Gm,qF=Fo,GF=Km,KF=Gd,Lt=Dl,Ka=Xm;const $l={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};_y.formatters={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ka.lightFormatters.y(t,e)},Y:function(t,e,n,r){const s=(0,KF.getWeekYear)(t,r),a=s>0?s:1-s;if(e==="YY"){const o=a%100;return(0,Lt.addLeadingZeros)(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):(0,Lt.addLeadingZeros)(a,e.length)},R:function(t,e){const n=(0,qF.getISOWeekYear)(t);return(0,Lt.addLeadingZeros)(n,e.length)},u:function(t,e){const n=t.getFullYear();return(0,Lt.addLeadingZeros)(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return(0,Lt.addLeadingZeros)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return(0,Lt.addLeadingZeros)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ka.lightFormatters.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return(0,Lt.addLeadingZeros)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=(0,GF.getWeek)(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):(0,Lt.addLeadingZeros)(s,e.length)},I:function(t,e,n){const r=(0,YF.getISOWeek)(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):(0,Lt.addLeadingZeros)(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ka.lightFormatters.d(t,e)},D:function(t,e,n){const r=(0,HF.getDayOfYear)(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):(0,Lt.addLeadingZeros)(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return(0,Lt.addLeadingZeros)(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return(0,Lt.addLeadingZeros)(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return(0,Lt.addLeadingZeros)(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=$l.noon:r===0?s=$l.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=$l.evening:r>=12?s=$l.afternoon:r>=4?s=$l.morning:s=$l.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ka.lightFormatters.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ka.lightFormatters.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):(0,Lt.addLeadingZeros)(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):(0,Lt.addLeadingZeros)(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ka.lightFormatters.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ka.lightFormatters.s(t,e)},S:function(t,e){return Ka.lightFormatters.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return gb(r);case"XXXX":case"XX":return Yo(r);case"XXXXX":case"XXX":default:return Yo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return gb(r);case"xxxx":case"xx":return Yo(r);case"xxxxx":case"xxx":default:return Yo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+mb(r,":");case"OOOO":default:return"GMT"+Yo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+mb(r,":");case"zzzz":default:return"GMT"+Yo(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return(0,Lt.addLeadingZeros)(r,e.length)},T:function(t,e,n){return(0,Lt.addLeadingZeros)(+t,e.length)}};function mb(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+e+(0,Lt.addLeadingZeros)(a,2)}function gb(t,e){return t%60===0?(t>0?"-":"+")+(0,Lt.addLeadingZeros)(Math.abs(t)/60,2):Yo(t,e)}function Yo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=(0,Lt.addLeadingZeros)(Math.trunc(r/60),2),a=(0,Lt.addLeadingZeros)(r%60,2);return n+s+e+a}var Jm={};Jm.longFormatters=void 0;const pb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},RS=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},QF=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return pb(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",pb(r,e)).replace("{{time}}",RS(s,e))};Jm.longFormatters={p:RS,P:QF};var Kd={};Kd.isProtectedDayOfYearToken=ek;Kd.isProtectedWeekYearToken=tk;Kd.warnOrThrowProtectedError=nk;const XF=/^D+$/,JF=/^Y+$/,ZF=["D","DD","YY","YYYY"];function ek(t){return XF.test(t)}function tk(t){return JF.test(t)}function nk(t,e,n){const r=rk(t,e,n);if(console.warn(r),ZF.includes(t))throw new RangeError(r)}function rk(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(function(t){t.format=t.formatDate=b,Object.defineProperty(t,"formatters",{enumerable:!0,get:function(){return r.formatters}}),Object.defineProperty(t,"longFormatters",{enumerable:!0,get:function(){return s.longFormatters}});var e=El,n=_n,r=_y,s=Jm,a=Kd,o=fa,c=X;const d=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g=/^'([^]*?)'?$/,v=/''/g,y=/[a-zA-Z]/;function b(E,k,S){var P,O,M,V,C,et,tt,Z;const T=(0,n.getDefaultOptions)(),I=(S==null?void 0:S.locale)??T.locale??e.defaultLocale,R=(S==null?void 0:S.firstWeekContainsDate)??((O=(P=S==null?void 0:S.locale)==null?void 0:P.options)==null?void 0:O.firstWeekContainsDate)??T.firstWeekContainsDate??((V=(M=T.locale)==null?void 0:M.options)==null?void 0:V.firstWeekContainsDate)??1,$=(S==null?void 0:S.weekStartsOn)??((et=(C=S==null?void 0:S.locale)==null?void 0:C.options)==null?void 0:et.weekStartsOn)??T.weekStartsOn??((Z=(tt=T.locale)==null?void 0:tt.options)==null?void 0:Z.weekStartsOn)??0,H=(0,c.toDate)(E,S==null?void 0:S.in);if(!(0,o.isValid)(H))throw new RangeError("Invalid time value");let D=k.match(h).map(Ae=>{const ee=Ae[0];if(ee==="p"||ee==="P"){const de=s.longFormatters[ee];return de(Ae,I.formatLong)}return Ae}).join("").match(d).map(Ae=>{if(Ae==="''")return{isToken:!1,value:"'"};const ee=Ae[0];if(ee==="'")return{isToken:!1,value:N(Ae)};if(r.formatters[ee])return{isToken:!0,value:Ae};if(ee.match(y))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ee+"`");return{isToken:!1,value:Ae}});I.localize.preprocessor&&(D=I.localize.preprocessor(H,D));const w={firstWeekContainsDate:R,weekStartsOn:$,locale:I};return D.map(Ae=>{if(!Ae.isToken)return Ae.value;const ee=Ae.value;(!(S!=null&&S.useAdditionalWeekYearTokens)&&(0,a.isProtectedWeekYearToken)(ee)||!(S!=null&&S.useAdditionalDayOfYearTokens)&&(0,a.isProtectedDayOfYearToken)(ee))&&(0,a.warnOrThrowProtectedError)(ee,k,String(E));const de=r.formatters[ee[0]];return de(H,ee,I.localize,w)}).join("")}function N(E){const k=E.match(g);return k?k[1].replace(v,"'"):E}})(hy);var wy={};wy.formatDistance=ck;var sk=El,ik=_n,vb=da,ak=at,ok=bl,Hl=ae,lk=Hd,uk=Yd;function ck(t,e,n){const r=(0,ik.getDefaultOptions)(),s=(n==null?void 0:n.locale)??r.locale??sk.defaultLocale,a=2520,o=(0,ok.compareAsc)(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o}),[d,h]=(0,ak.normalizeDates)(n==null?void 0:n.in,...o>0?[e,t]:[t,e]),g=(0,uk.differenceInSeconds)(h,d),v=((0,vb.getTimezoneOffsetInMilliseconds)(h)-(0,vb.getTimezoneOffsetInMilliseconds)(d))/1e3,y=Math.round((g-v)/60);let b;if(y<2)return n!=null&&n.includeSeconds?g<5?s.formatDistance("lessThanXSeconds",5,c):g<10?s.formatDistance("lessThanXSeconds",10,c):g<20?s.formatDistance("lessThanXSeconds",20,c):g<40?s.formatDistance("halfAMinute",0,c):g<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):y===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",y,c);if(y<45)return s.formatDistance("xMinutes",y,c);if(y<90)return s.formatDistance("aboutXHours",1,c);if(y<Hl.minutesInDay){const N=Math.round(y/60);return s.formatDistance("aboutXHours",N,c)}else{if(y<a)return s.formatDistance("xDays",1,c);if(y<Hl.minutesInMonth){const N=Math.round(y/Hl.minutesInDay);return s.formatDistance("xDays",N,c)}else if(y<Hl.minutesInMonth*2)return b=Math.round(y/Hl.minutesInMonth),s.formatDistance("aboutXMonths",b,c)}if(b=(0,lk.differenceInMonths)(h,d),b<12){const N=Math.round(y/Hl.minutesInMonth);return s.formatDistance("xMonths",N,c)}else{const N=b%12,E=Math.trunc(b/12);return N<3?s.formatDistance("aboutXYears",E,c):N<9?s.formatDistance("overXYears",E,c):s.formatDistance("almostXYears",E+1,c)}}var by={};by.formatDistanceStrict=pk;var dk=El,fk=_n,hk=ha,yb=da,mk=at,gk=bl,Qa=ae;function pk(t,e,n){const r=(0,fk.getDefaultOptions)(),s=(n==null?void 0:n.locale)??r.locale??dk.defaultLocale,a=(0,gk.compareAsc)(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a}),[c,d]=(0,mk.normalizeDates)(n==null?void 0:n.in,...a>0?[e,t]:[t,e]),h=(0,hk.getRoundingMethod)((n==null?void 0:n.roundingMethod)??"round"),g=d.getTime()-c.getTime(),v=g/Qa.millisecondsInMinute,y=(0,yb.getTimezoneOffsetInMilliseconds)(d)-(0,yb.getTimezoneOffsetInMilliseconds)(c),b=(g-y)/Qa.millisecondsInMinute,N=n==null?void 0:n.unit;let E;if(N?E=N:v<1?E="second":v<60?E="minute":v<Qa.minutesInDay?E="hour":b<Qa.minutesInMonth?E="day":b<Qa.minutesInYear?E="month":E="year",E==="second"){const k=h(g/1e3);return s.formatDistance("xSeconds",k,o)}else if(E==="minute"){const k=h(v);return s.formatDistance("xMinutes",k,o)}else if(E==="hour"){const k=h(v/60);return s.formatDistance("xHours",k,o)}else if(E==="day"){const k=h(b/Qa.minutesInDay);return s.formatDistance("xDays",k,o)}else if(E==="month"){const k=h(b/Qa.minutesInMonth);return k===12&&N!=="month"?s.formatDistance("xYears",1,o):s.formatDistance("xMonths",k,o)}else{const k=h(b/Qa.minutesInYear);return s.formatDistance("xYears",k,o)}}var AS={};AS.formatDistanceToNow=_k;var vk=en,yk=wy;function _k(t,e){return(0,yk.formatDistance)(t,(0,vk.constructNow)(t),e)}var FS={};FS.formatDistanceToNowStrict=bk;var xk=en,wk=by;function bk(t,e){return(0,wk.formatDistanceStrict)(t,(0,xk.constructNow)(t),e)}var kS={};kS.formatDuration=Tk;var Ek=El,Dk=_n;const Sk=["years","months","weeks","days","hours","minutes","seconds"];function Tk(t,e){const n=(0,Dk.getDefaultOptions)(),r=(e==null?void 0:e.locale)??n.locale??Ek.defaultLocale,s=(e==null?void 0:e.format)??Sk,a=(e==null?void 0:e.zero)??!1,o=(e==null?void 0:e.delimiter)??" ";return r.formatDistance?s.reduce((d,h)=>{const g=`x${h.replace(/(^.)/,y=>y.toUpperCase())}`,v=t[h];return v!==void 0&&(a||t[h])?d.concat(r.formatDistance(g,v)):d},[]).join(o):""}var LS={};LS.formatISO=Ik;var Xa=Dl,Pk=X;function Ik(t,e){const n=(0,Pk.toDate)(t,e==null?void 0:e.in);if(isNaN(+n))throw new RangeError("Invalid time value");const r=(e==null?void 0:e.format)??"extended",s=(e==null?void 0:e.representation)??"complete";let a="",o="";const c=r==="extended"?"-":"",d=r==="extended"?":":"";if(s!=="time"){const h=(0,Xa.addLeadingZeros)(n.getDate(),2),g=(0,Xa.addLeadingZeros)(n.getMonth()+1,2);a=`${(0,Xa.addLeadingZeros)(n.getFullYear(),4)}${c}${g}${c}${h}`}if(s!=="date"){const h=n.getTimezoneOffset();if(h!==0){const E=Math.abs(h),k=(0,Xa.addLeadingZeros)(Math.trunc(E/60),2),S=(0,Xa.addLeadingZeros)(E%60,2);o=`${h<0?"+":"-"}${k}:${S}`}else o="Z";const g=(0,Xa.addLeadingZeros)(n.getHours(),2),v=(0,Xa.addLeadingZeros)(n.getMinutes(),2),y=(0,Xa.addLeadingZeros)(n.getSeconds(),2),b=a===""?"":"T",N=[g,v,y].join(d);a=`${a}${b}${N}${o}`}return a}var VS={};VS.formatISO9075=Ok;var Yl=Dl,Ck=fa,Nk=X;function Ok(t,e){const n=(0,Nk.toDate)(t,e==null?void 0:e.in);if(!(0,Ck.isValid)(n))throw new RangeError("Invalid time value");const r=(e==null?void 0:e.format)??"extended",s=(e==null?void 0:e.representation)??"complete";let a="";const o=r==="extended"?"-":"",c=r==="extended"?":":"";if(s!=="time"){const d=(0,Yl.addLeadingZeros)(n.getDate(),2),h=(0,Yl.addLeadingZeros)(n.getMonth()+1,2);a=`${(0,Yl.addLeadingZeros)(n.getFullYear(),4)}${o}${h}${o}${d}`}if(s!=="date"){const d=(0,Yl.addLeadingZeros)(n.getHours(),2),h=(0,Yl.addLeadingZeros)(n.getMinutes(),2),g=(0,Yl.addLeadingZeros)(n.getSeconds(),2);a=`${a}${a===""?"":" "}${d}${c}${h}${c}${g}`}return a}var zS={};zS.formatISODuration=jk;function jk(t){const{years:e=0,months:n=0,days:r=0,hours:s=0,minutes:a=0,seconds:o=0}=t;return`P${e}Y${n}M${r}DT${s}H${a}M${o}S`}var US={};US.formatRFC3339=Ak;var Ja=Dl,Mk=fa,Rk=X;function Ak(t,e){const n=(0,Rk.toDate)(t,e==null?void 0:e.in);if(!(0,Mk.isValid)(n))throw new RangeError("Invalid time value");const r=(e==null?void 0:e.fractionDigits)??0,s=(0,Ja.addLeadingZeros)(n.getDate(),2),a=(0,Ja.addLeadingZeros)(n.getMonth()+1,2),o=n.getFullYear(),c=(0,Ja.addLeadingZeros)(n.getHours(),2),d=(0,Ja.addLeadingZeros)(n.getMinutes(),2),h=(0,Ja.addLeadingZeros)(n.getSeconds(),2);let g="";if(r>0){const b=n.getMilliseconds(),N=Math.trunc(b*Math.pow(10,r-3));g="."+(0,Ja.addLeadingZeros)(N,r)}let v="";const y=n.getTimezoneOffset();if(y!==0){const b=Math.abs(y),N=(0,Ja.addLeadingZeros)(Math.trunc(b/60),2),E=(0,Ja.addLeadingZeros)(b%60,2);v=`${y<0?"+":"-"}${N}:${E}`}else v="Z";return`${o}-${a}-${s}T${c}:${d}:${h}${g}${v}`}var BS={};BS.formatRFC7231=zk;var kf=Dl,Fk=fa,kk=X;const Lk=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Vk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function zk(t){const e=(0,kk.toDate)(t);if(!(0,Fk.isValid)(e))throw new RangeError("Invalid time value");const n=Lk[e.getUTCDay()],r=(0,kf.addLeadingZeros)(e.getUTCDate(),2),s=Vk[e.getUTCMonth()],a=e.getUTCFullYear(),o=(0,kf.addLeadingZeros)(e.getUTCHours(),2),c=(0,kf.addLeadingZeros)(e.getUTCMinutes(),2),d=(0,kf.addLeadingZeros)(e.getUTCSeconds(),2);return`${n}, ${r} ${s} ${a} ${o}:${c}:${d} GMT`}var WS={};WS.formatRelative=Yk;var Uk=El,Bk=_n,Wk=at,$k=ca,Hk=hy;function Yk(t,e,n){var v,y,b,N;const[r,s]=(0,Wk.normalizeDates)(n==null?void 0:n.in,t,e),a=(0,Bk.getDefaultOptions)(),o=(n==null?void 0:n.locale)??a.locale??Uk.defaultLocale,c=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??a.weekStartsOn??((N=(b=a.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??0,d=(0,$k.differenceInCalendarDays)(r,s);if(isNaN(d))throw new RangeError("Invalid time value");let h;d<-6?h="other":d<-1?h="lastWeek":d<0?h="yesterday":d<1?h="today":d<2?h="tomorrow":d<7?h="nextWeek":h="other";const g=o.formatRelative(h,r,s,{locale:o,weekStartsOn:c});return(0,Hk.format)(r,g,{locale:o,weekStartsOn:c})}var $S={};$S.fromUnixTime=Gk;var qk=X;function Gk(t,e){return(0,qk.toDate)(t*1e3,e==null?void 0:e.in)}var Ey={};Ey.getDate=Qk;var Kk=X;function Qk(t,e){return(0,Kk.toDate)(t,e==null?void 0:e.in).getDate()}var Qd={};Qd.getDay=Jk;var Xk=X;function Jk(t,e){return(0,Xk.toDate)(t,e==null?void 0:e.in).getDay()}var Dy={};Dy.getDaysInMonth=t6;var Zk=De,e6=X;function t6(t,e){const n=(0,e6.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),s=n.getMonth(),a=(0,Zk.constructFrom)(n,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}var HS={},Sy={};Sy.isLeapYear=r6;var n6=X;function r6(t,e){const r=(0,n6.toDate)(t,e==null?void 0:e.in).getFullYear();return r%400===0||r%4===0&&r%100!==0}HS.getDaysInYear=a6;var s6=Sy,i6=X;function a6(t,e){const n=(0,i6.toDate)(t,e==null?void 0:e.in);return Number.isNaN(+n)?NaN:(0,s6.isLeapYear)(n)?366:365}var YS={};YS.getDecade=l6;var o6=X;function l6(t,e){const r=(0,o6.toDate)(t,e==null?void 0:e.in).getFullYear();return Math.floor(r/10)*10}var Ty={};Ty.getDefaultOptions=c6;var u6=_n;function c6(){return Object.assign({},(0,u6.getDefaultOptions)())}var qS={};qS.getHours=f6;var d6=X;function f6(t,e){return(0,d6.toDate)(t,e==null?void 0:e.in).getHours()}var Py={};Py.getISODay=m6;var h6=X;function m6(t,e){const n=(0,h6.toDate)(t,e==null?void 0:e.in).getDay();return n===0?7:n}var GS={};GS.getISOWeeksInYear=v6;var g6=$d,p6=ae,_b=Hu;function v6(t,e){const n=(0,_b.startOfISOWeekYear)(t,e),s=+(0,_b.startOfISOWeekYear)((0,g6.addWeeks)(n,60))-+n;return Math.round(s/p6.millisecondsInWeek)}var KS={};KS.getMilliseconds=_6;var y6=X;function _6(t){return(0,y6.toDate)(t).getMilliseconds()}var QS={};QS.getMinutes=w6;var x6=X;function w6(t,e){return(0,x6.toDate)(t,e==null?void 0:e.in).getMinutes()}var XS={};XS.getMonth=E6;var b6=X;function E6(t,e){return(0,b6.toDate)(t,e==null?void 0:e.in).getMonth()}var JS={};JS.getOverlappingDaysInIntervals=S6;var xb=da,D6=ae,Lf=X;function S6(t,e){const[n,r]=[+(0,Lf.toDate)(t.start),+(0,Lf.toDate)(t.end)].sort((v,y)=>v-y),[s,a]=[+(0,Lf.toDate)(e.start),+(0,Lf.toDate)(e.end)].sort((v,y)=>v-y);if(!(n<a&&s<r))return 0;const c=s<n?n:s,d=c-(0,xb.getTimezoneOffsetInMilliseconds)(c),h=a>r?r:a,g=h-(0,xb.getTimezoneOffsetInMilliseconds)(h);return Math.ceil((g-d)/D6.millisecondsInDay)}var ZS={};ZS.getSeconds=P6;var T6=X;function P6(t){return(0,T6.toDate)(t).getSeconds()}var eT={};eT.getTime=C6;var I6=X;function C6(t){return+(0,I6.toDate)(t)}var tT={};tT.getUnixTime=O6;var N6=X;function O6(t){return Math.trunc(+(0,N6.toDate)(t)/1e3)}var nT={};nT.getWeekOfMonth=k6;var j6=_n,M6=Ey,R6=Qd,A6=qd,F6=X;function k6(t,e){var d,h,g,v;const n=(0,j6.getDefaultOptions)(),r=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,s=(0,M6.getDate)((0,F6.toDate)(t,e==null?void 0:e.in));if(isNaN(s))return NaN;const a=(0,R6.getDay)((0,A6.startOfMonth)(t,e));let o=r-a;o<=0&&(o+=7);const c=s-o;return Math.ceil(c/7)+1}var rT={},Iy={};Iy.lastDayOfMonth=L6;var wb=X;function L6(t,e){const n=(0,wb.toDate)(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(0,0,0,0),(0,wb.toDate)(n,e==null?void 0:e.in)}rT.getWeeksInMonth=W6;var V6=Fm,z6=Iy,U6=qd,B6=X;function W6(t,e){const n=(0,B6.toDate)(t,e==null?void 0:e.in);return(0,V6.differenceInCalendarWeeks)((0,z6.lastDayOfMonth)(n,e),(0,U6.startOfMonth)(n,e),e)+1}var sT={};sT.getYear=H6;var $6=X;function H6(t,e){return(0,$6.toDate)(t,e==null?void 0:e.in).getFullYear()}var iT={};iT.hoursToMilliseconds=q6;var Y6=ae;function q6(t){return Math.trunc(t*Y6.millisecondsInHour)}var aT={};aT.hoursToMinutes=K6;var G6=ae;function K6(t){return Math.trunc(t*G6.minutesInHour)}var oT={};oT.hoursToSeconds=X6;var Q6=ae;function X6(t){return Math.trunc(t*Q6.secondsInHour)}var lT={};lT.interval=Z6;var J6=at;function Z6(t,e,n){const[r,s]=(0,J6.normalizeDates)(n==null?void 0:n.in,t,e);if(isNaN(+r))throw new TypeError("Start date is invalid");if(isNaN(+s))throw new TypeError("End date is invalid");if(n!=null&&n.assertPositive&&+r>+s)throw new TypeError("End date must be after start date");return{start:r,end:s}}var uT={};uT.intervalToDuration=oL;var eL=vi,Sc=H0,tL=Lm,nL=Vm,rL=Um,sL=Hd,iL=Yd,aL=uy;function oL(t,e){const{start:n,end:r}=(0,eL.normalizeInterval)(e==null?void 0:e.in,t),s={},a=(0,aL.differenceInYears)(r,n);a&&(s.years=a);const o=(0,Sc.add)(n,{years:s.years}),c=(0,sL.differenceInMonths)(r,o);c&&(s.months=c);const d=(0,Sc.add)(o,{months:s.months}),h=(0,tL.differenceInDays)(r,d);h&&(s.days=h);const g=(0,Sc.add)(d,{days:s.days}),v=(0,nL.differenceInHours)(r,g);v&&(s.hours=v);const y=(0,Sc.add)(g,{hours:s.hours}),b=(0,rL.differenceInMinutes)(r,y);b&&(s.minutes=b);const N=(0,Sc.add)(y,{minutes:s.minutes}),E=(0,iL.differenceInSeconds)(r,N);return E&&(s.seconds=E),s}var cT={};cT.intlFormat=uL;var lL=X;function uL(t,e,n){let r;return cL(e)?r=e:n=e,new Intl.DateTimeFormat(n==null?void 0:n.locale,r).format((0,lL.toDate)(t))}function cL(t){return t!==void 0&&!("locale"in t)}var dT={};dT.intlFormatDistance=fL;var dL=at,Lo=ae,tp=ca,bb=Am,np=iy,Eb=Fm,rp=km,Db=Vm,Sb=Um,sp=Yd;function fL(t,e,n){let r=0,s;const[a,o]=(0,dL.normalizeDates)(n==null?void 0:n.in,t,e);if(n!=null&&n.unit)s=n==null?void 0:n.unit,s==="second"?r=(0,sp.differenceInSeconds)(a,o):s==="minute"?r=(0,Sb.differenceInMinutes)(a,o):s==="hour"?r=(0,Db.differenceInHours)(a,o):s==="day"?r=(0,tp.differenceInCalendarDays)(a,o):s==="week"?r=(0,Eb.differenceInCalendarWeeks)(a,o):s==="month"?r=(0,bb.differenceInCalendarMonths)(a,o):s==="quarter"?r=(0,np.differenceInCalendarQuarters)(a,o):s==="year"&&(r=(0,rp.differenceInCalendarYears)(a,o));else{const d=(0,sp.differenceInSeconds)(a,o);Math.abs(d)<Lo.secondsInMinute?(r=(0,sp.differenceInSeconds)(a,o),s="second"):Math.abs(d)<Lo.secondsInHour?(r=(0,Sb.differenceInMinutes)(a,o),s="minute"):Math.abs(d)<Lo.secondsInDay&&Math.abs((0,tp.differenceInCalendarDays)(a,o))<1?(r=(0,Db.differenceInHours)(a,o),s="hour"):Math.abs(d)<Lo.secondsInWeek&&(r=(0,tp.differenceInCalendarDays)(a,o))&&Math.abs(r)<7?s="day":Math.abs(d)<Lo.secondsInMonth?(r=(0,Eb.differenceInCalendarWeeks)(a,o),s="week"):Math.abs(d)<Lo.secondsInQuarter?(r=(0,bb.differenceInCalendarMonths)(a,o),s="month"):Math.abs(d)<Lo.secondsInYear&&(0,np.differenceInCalendarQuarters)(a,o)<4?(r=(0,np.differenceInCalendarQuarters)(a,o),s="quarter"):(r=(0,rp.differenceInCalendarYears)(a,o),s="year")}return new Intl.RelativeTimeFormat(n==null?void 0:n.locale,{numeric:"auto",...n}).format(r,s)}var fT={};fT.isAfter=hL;var Tb=X;function hL(t,e){return+(0,Tb.toDate)(t)>+(0,Tb.toDate)(e)}var hT={};hT.isBefore=mL;var Pb=X;function mL(t,e){return+(0,Pb.toDate)(t)<+(0,Pb.toDate)(e)}var mT={};mT.isEqual=gL;var Ib=X;function gL(t,e){return+(0,Ib.toDate)(t)==+(0,Ib.toDate)(e)}var gT={};gT.isExists=pL;function pL(t,e,n){const r=new Date(t,e,n);return r.getFullYear()===t&&r.getMonth()===e&&r.getDate()===n}var pT={};pT.isFirstDayOfMonth=yL;var vL=X;function yL(t,e){return(0,vL.toDate)(t,e==null?void 0:e.in).getDate()===1}var vT={};vT.isFriday=xL;var _L=X;function xL(t,e){return(0,_L.toDate)(t,e==null?void 0:e.in).getDay()===5}var yT={};yT.isFuture=bL;var wL=X;function bL(t){return+(0,wL.toDate)(t)>Date.now()}var _T={},Cy={},xo={},Ny={};Ny.transpose=DL;var EL=De;function DL(t,e){const n=SL(e)?new e(0):(0,EL.constructFrom)(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function SL(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}xo.ValueSetter=xo.Setter=xo.DateTimezoneSetter=void 0;var Cb=De,TL=Ny;const PL=10;class Oy{constructor(){fe(this,"subPriority",0)}validate(e,n){return!0}}xo.Setter=Oy;class IL extends Oy{constructor(e,n,r,s,a){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=s,a&&(this.subPriority=a)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}xo.ValueSetter=IL;class CL extends Oy{constructor(n,r){super();fe(this,"priority",PL);fe(this,"subPriority",-1);this.context=n||(s=>(0,Cb.constructFrom)(r,s))}set(n,r){return r.timestampIsSet?n:(0,Cb.constructFrom)(n,(0,TL.transpose)(n,this.context))}}xo.DateTimezoneSetter=CL;var jy={},My={},Ke={};Ke.Parser=void 0;var NL=xo;class OL{run(e,n,r,s){const a=this.parse(e,n,r,s);return a?{setter:new NL.ValueSetter(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,n,r){return!0}}Ke.Parser=OL;My.EraParser=void 0;var jL=Ke;class ML extends jL.Parser{constructor(){super(...arguments);fe(this,"priority",140);fe(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}My.EraParser=ML;var Ry={},Ve={},Zt={};Zt.timezonePatterns=Zt.numericPatterns=void 0;Zt.numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/};Zt.timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};Ve.dayPeriodEnumToHours=VL;Ve.isLeapYearIndex=UL;Ve.mapValue=RL;Ve.normalizeTwoDigitYear=zL;Ve.parseAnyDigitsSigned=FL;Ve.parseNDigits=kL;Ve.parseNDigitsSigned=LL;Ve.parseNumericPattern=qr;Ve.parseTimezonePattern=AL;var ip=ae,Hi=Zt;function RL(t,e){return t&&{value:e(t.value),rest:t.rest}}function qr(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function AL(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(s*ip.millisecondsInHour+a*ip.millisecondsInMinute+o*ip.millisecondsInSecond),rest:e.slice(n[0].length)}}function FL(t){return qr(Hi.numericPatterns.anyDigitsSigned,t)}function kL(t,e){switch(t){case 1:return qr(Hi.numericPatterns.singleDigit,e);case 2:return qr(Hi.numericPatterns.twoDigits,e);case 3:return qr(Hi.numericPatterns.threeDigits,e);case 4:return qr(Hi.numericPatterns.fourDigits,e);default:return qr(new RegExp("^\\d{1,"+t+"}"),e)}}function LL(t,e){switch(t){case 1:return qr(Hi.numericPatterns.singleDigitSigned,e);case 2:return qr(Hi.numericPatterns.twoDigitsSigned,e);case 3:return qr(Hi.numericPatterns.threeDigitsSigned,e);case 4:return qr(Hi.numericPatterns.fourDigitsSigned,e);default:return qr(new RegExp("^-?\\d{1,"+t+"}"),e)}}function VL(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function zL(t,e){const n=e>0,r=n?e:1-e;let s;if(r<=50)s=t||100;else{const a=r+50,o=Math.trunc(a/100)*100,c=t>=a%100;s=t+o-(c?100:0)}return n?s:1-s}function UL(t){return t%400===0||t%4===0&&t%100!==0}Ry.YearParser=void 0;var BL=Ke,ql=Ve;class WL extends BL.Parser{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const a=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return(0,ql.mapValue)((0,ql.parseNDigits)(4,n),a);case"yo":return(0,ql.mapValue)(s.ordinalNumber(n,{unit:"year"}),a);default:return(0,ql.mapValue)((0,ql.parseNDigits)(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const a=n.getFullYear();if(s.isTwoDigitYear){const c=(0,ql.normalizeTwoDigitYear)(s.year,a);return n.setFullYear(c,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}Ry.YearParser=WL;var Ay={};Ay.LocalWeekYearParser=void 0;var $L=Gd,Nb=Os,HL=Ke,Gl=Ve;class YL extends HL.Parser{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const a=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return(0,Gl.mapValue)((0,Gl.parseNDigits)(4,n),a);case"Yo":return(0,Gl.mapValue)(s.ordinalNumber(n,{unit:"year"}),a);default:return(0,Gl.mapValue)((0,Gl.parseNDigits)(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,a){const o=(0,$L.getWeekYear)(n,a);if(s.isTwoDigitYear){const d=(0,Gl.normalizeTwoDigitYear)(s.year,o);return n.setFullYear(d,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),(0,Nb.startOfWeek)(n,a)}const c=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(c,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),(0,Nb.startOfWeek)(n,a)}}Ay.LocalWeekYearParser=YL;var Fy={};Fy.ISOWeekYearParser=void 0;var qL=pi,GL=De,KL=Ke,Ob=Ve;class QL extends KL.Parser{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return r==="R"?(0,Ob.parseNDigitsSigned)(4,n):(0,Ob.parseNDigitsSigned)(r.length,n)}set(n,r,s){const a=(0,GL.constructFrom)(n,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),(0,qL.startOfISOWeek)(a)}}Fy.ISOWeekYearParser=QL;var ky={};ky.ExtendedYearParser=void 0;var XL=Ke,jb=Ve;class JL extends XL.Parser{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return r==="u"?(0,jb.parseNDigitsSigned)(4,n):(0,jb.parseNDigitsSigned)(r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}ky.ExtendedYearParser=JL;var Ly={};Ly.QuarterParser=void 0;var ZL=Ke,e5=Ve;class t5 extends ZL.Parser{constructor(){super(...arguments);fe(this,"priority",120);fe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return(0,e5.parseNDigits)(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}Ly.QuarterParser=t5;var Vy={};Vy.StandAloneQuarterParser=void 0;var n5=Ke,r5=Ve;class s5 extends n5.Parser{constructor(){super(...arguments);fe(this,"priority",120);fe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return(0,r5.parseNDigits)(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}Vy.StandAloneQuarterParser=s5;var zy={};zy.MonthParser=void 0;var i5=Zt,a5=Ke,Tc=Ve;class o5 extends a5.Parser{constructor(){super(...arguments);fe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);fe(this,"priority",110)}parse(n,r,s){const a=o=>o-1;switch(r){case"M":return(0,Tc.mapValue)((0,Tc.parseNumericPattern)(i5.numericPatterns.month,n),a);case"MM":return(0,Tc.mapValue)((0,Tc.parseNDigits)(2,n),a);case"Mo":return(0,Tc.mapValue)(s.ordinalNumber(n,{unit:"month"}),a);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}zy.MonthParser=o5;var Uy={};Uy.StandAloneMonthParser=void 0;var l5=Zt,u5=Ke,Pc=Ve;class c5 extends u5.Parser{constructor(){super(...arguments);fe(this,"priority",110);fe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const a=o=>o-1;switch(r){case"L":return(0,Pc.mapValue)((0,Pc.parseNumericPattern)(l5.numericPatterns.month,n),a);case"LL":return(0,Pc.mapValue)((0,Pc.parseNDigits)(2,n),a);case"Lo":return(0,Pc.mapValue)(s.ordinalNumber(n,{unit:"month"}),a);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}Uy.StandAloneMonthParser=c5;var By={},Wy={};Wy.setWeek=f5;var d5=Km,Mb=X;function f5(t,e,n){const r=(0,Mb.toDate)(t,n==null?void 0:n.in),s=(0,d5.getWeek)(r,n)-e;return r.setDate(r.getDate()-s*7),(0,Mb.toDate)(r,n==null?void 0:n.in)}By.LocalWeekParser=void 0;var h5=Wy,m5=Os,g5=Zt,p5=Ke,Rb=Ve;class v5 extends p5.Parser{constructor(){super(...arguments);fe(this,"priority",100);fe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return(0,Rb.parseNumericPattern)(g5.numericPatterns.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return(0,Rb.parseNDigits)(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,a){return(0,m5.startOfWeek)((0,h5.setWeek)(n,s,a),a)}}By.LocalWeekParser=v5;var $y={},Hy={};Hy.setISOWeek=x5;var y5=Gm,_5=X;function x5(t,e,n){const r=(0,_5.toDate)(t,n==null?void 0:n.in),s=(0,y5.getISOWeek)(r,n)-e;return r.setDate(r.getDate()-s*7),r}$y.ISOWeekParser=void 0;var w5=Hy,b5=pi,E5=Zt,D5=Ke,Ab=Ve;class S5 extends D5.Parser{constructor(){super(...arguments);fe(this,"priority",100);fe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return(0,Ab.parseNumericPattern)(E5.numericPatterns.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return(0,Ab.parseNDigits)(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return(0,b5.startOfISOWeek)((0,w5.setISOWeek)(n,s))}}$y.ISOWeekParser=S5;var Yy={};Yy.DateParser=void 0;var T5=Zt,P5=Ke,ap=Ve;const I5=[31,28,31,30,31,30,31,31,30,31,30,31],C5=[31,29,31,30,31,30,31,31,30,31,30,31];class N5 extends P5.Parser{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"subPriority",1);fe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return(0,ap.parseNumericPattern)(T5.numericPatterns.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return(0,ap.parseNDigits)(r.length,n)}}validate(n,r){const s=n.getFullYear(),a=(0,ap.isLeapYearIndex)(s),o=n.getMonth();return a?r>=1&&r<=C5[o]:r>=1&&r<=I5[o]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}Yy.DateParser=N5;var qy={};qy.DayOfYearParser=void 0;var O5=Zt,j5=Ke,op=Ve;class M5 extends j5.Parser{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"subpriority",1);fe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return(0,op.parseNumericPattern)(O5.numericPatterns.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return(0,op.parseNDigits)(r.length,n)}}validate(n,r){const s=n.getFullYear();return(0,op.isLeapYearIndex)(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}qy.DayOfYearParser=M5;var Gy={},Xd={};Xd.setDay=k5;var R5=_n,A5=gi,F5=X;function k5(t,e,n){var v,y,b,N;const r=(0,R5.getDefaultOptions)(),s=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((N=(b=r.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??0,a=(0,F5.toDate)(t,n==null?void 0:n.in),o=a.getDay(),d=(e%7+7)%7,h=7-s,g=e<0||e>6?e-(o+h)%7:(d+h)%7-(o+h)%7;return(0,A5.addDays)(a,g,n)}Gy.DayParser=void 0;var L5=Xd,V5=Ke;class z5 extends V5.Parser{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,a){return n=(0,L5.setDay)(n,s,a),n.setHours(0,0,0,0),n}}Gy.DayParser=z5;var Ky={};Ky.LocalDayParser=void 0;var U5=Xd,B5=Ke,lp=Ve;class W5 extends B5.Parser{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,a){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(r){case"e":case"ee":return(0,lp.mapValue)((0,lp.parseNDigits)(r.length,n),o);case"eo":return(0,lp.mapValue)(s.ordinalNumber(n,{unit:"day"}),o);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,a){return n=(0,U5.setDay)(n,s,a),n.setHours(0,0,0,0),n}}Ky.LocalDayParser=W5;var Qy={};Qy.StandAloneLocalDayParser=void 0;var $5=Xd,H5=Ke,up=Ve;class Y5 extends H5.Parser{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,a){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(r){case"c":case"cc":return(0,up.mapValue)((0,up.parseNDigits)(r.length,n),o);case"co":return(0,up.mapValue)(s.ordinalNumber(n,{unit:"day"}),o);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,a){return n=(0,$5.setDay)(n,s,a),n.setHours(0,0,0,0),n}}Qy.StandAloneLocalDayParser=Y5;var Xy={},Jy={};Jy.setISODay=Q5;var q5=gi,G5=Py,K5=X;function Q5(t,e,n){const r=(0,K5.toDate)(t,n==null?void 0:n.in),s=(0,G5.getISODay)(r,n),a=e-s;return(0,q5.addDays)(r,a,n)}Xy.ISODayParser=void 0;var X5=Jy,J5=Ke,Ic=Ve;class Z5 extends J5.Parser{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const a=o=>o===0?7:o;switch(r){case"i":case"ii":return(0,Ic.parseNDigits)(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return(0,Ic.mapValue)(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),a);case"iiiii":return(0,Ic.mapValue)(s.day(n,{width:"narrow",context:"formatting"}),a);case"iiiiii":return(0,Ic.mapValue)(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),a);case"iiii":default:return(0,Ic.mapValue)(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),a)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=(0,X5.setISODay)(n,s),n.setHours(0,0,0,0),n}}Xy.ISODayParser=Z5;var Zy={};Zy.AMPMParser=void 0;var e9=Ke,t9=Ve;class n9 extends e9.Parser{constructor(){super(...arguments);fe(this,"priority",80);fe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours((0,t9.dayPeriodEnumToHours)(s),0,0,0),n}}Zy.AMPMParser=n9;var e_={};e_.AMPMMidnightParser=void 0;var r9=Ke,s9=Ve;class i9 extends r9.Parser{constructor(){super(...arguments);fe(this,"priority",80);fe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours((0,s9.dayPeriodEnumToHours)(s),0,0,0),n}}e_.AMPMMidnightParser=i9;var t_={};t_.DayPeriodParser=void 0;var a9=Ke,o9=Ve;class l9 extends a9.Parser{constructor(){super(...arguments);fe(this,"priority",80);fe(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours((0,o9.dayPeriodEnumToHours)(s),0,0,0),n}}t_.DayPeriodParser=l9;var n_={};n_.Hour1to12Parser=void 0;var u9=Zt,c9=Ke,Fb=Ve;class d9 extends c9.Parser{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return(0,Fb.parseNumericPattern)(u9.numericPatterns.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return(0,Fb.parseNDigits)(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const a=n.getHours()>=12;return a&&s<12?n.setHours(s+12,0,0,0):!a&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}n_.Hour1to12Parser=d9;var r_={};r_.Hour0to23Parser=void 0;var f9=Zt,h9=Ke,kb=Ve;class m9 extends h9.Parser{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return(0,kb.parseNumericPattern)(f9.numericPatterns.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return(0,kb.parseNDigits)(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}r_.Hour0to23Parser=m9;var s_={};s_.Hour0To11Parser=void 0;var g9=Zt,p9=Ke,Lb=Ve;class v9 extends p9.Parser{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return(0,Lb.parseNumericPattern)(g9.numericPatterns.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return(0,Lb.parseNDigits)(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}s_.Hour0To11Parser=v9;var i_={};i_.Hour1To24Parser=void 0;var y9=Zt,_9=Ke,Vb=Ve;class x9 extends _9.Parser{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return(0,Vb.parseNumericPattern)(y9.numericPatterns.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return(0,Vb.parseNDigits)(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const a=s<=24?s%24:s;return n.setHours(a,0,0,0),n}}i_.Hour1To24Parser=x9;var a_={};a_.MinuteParser=void 0;var w9=Zt,b9=Ke,zb=Ve;class E9 extends b9.Parser{constructor(){super(...arguments);fe(this,"priority",60);fe(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return(0,zb.parseNumericPattern)(w9.numericPatterns.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return(0,zb.parseNDigits)(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}a_.MinuteParser=E9;var o_={};o_.SecondParser=void 0;var D9=Zt,S9=Ke,Ub=Ve;class T9 extends S9.Parser{constructor(){super(...arguments);fe(this,"priority",50);fe(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return(0,Ub.parseNumericPattern)(D9.numericPatterns.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return(0,Ub.parseNDigits)(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}o_.SecondParser=T9;var l_={};l_.FractionOfSecondParser=void 0;var P9=Ke,Bb=Ve;class I9 extends P9.Parser{constructor(){super(...arguments);fe(this,"priority",30);fe(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=a=>Math.trunc(a*Math.pow(10,-r.length+3));return(0,Bb.mapValue)((0,Bb.parseNDigits)(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}l_.FractionOfSecondParser=I9;var u_={};u_.ISOTimezoneWithZParser=void 0;var C9=De,N9=da,Cc=Zt,O9=Ke,Nc=Ve;class j9 extends O9.Parser{constructor(){super(...arguments);fe(this,"priority",10);fe(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return(0,Nc.parseTimezonePattern)(Cc.timezonePatterns.basicOptionalMinutes,n);case"XX":return(0,Nc.parseTimezonePattern)(Cc.timezonePatterns.basic,n);case"XXXX":return(0,Nc.parseTimezonePattern)(Cc.timezonePatterns.basicOptionalSeconds,n);case"XXXXX":return(0,Nc.parseTimezonePattern)(Cc.timezonePatterns.extendedOptionalSeconds,n);case"XXX":default:return(0,Nc.parseTimezonePattern)(Cc.timezonePatterns.extended,n)}}set(n,r,s){return r.timestampIsSet?n:(0,C9.constructFrom)(n,n.getTime()-(0,N9.getTimezoneOffsetInMilliseconds)(n)-s)}}u_.ISOTimezoneWithZParser=j9;var c_={};c_.ISOTimezoneParser=void 0;var M9=De,R9=da,Oc=Zt,A9=Ke,jc=Ve;class F9 extends A9.Parser{constructor(){super(...arguments);fe(this,"priority",10);fe(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return(0,jc.parseTimezonePattern)(Oc.timezonePatterns.basicOptionalMinutes,n);case"xx":return(0,jc.parseTimezonePattern)(Oc.timezonePatterns.basic,n);case"xxxx":return(0,jc.parseTimezonePattern)(Oc.timezonePatterns.basicOptionalSeconds,n);case"xxxxx":return(0,jc.parseTimezonePattern)(Oc.timezonePatterns.extendedOptionalSeconds,n);case"xxx":default:return(0,jc.parseTimezonePattern)(Oc.timezonePatterns.extended,n)}}set(n,r,s){return r.timestampIsSet?n:(0,M9.constructFrom)(n,n.getTime()-(0,R9.getTimezoneOffsetInMilliseconds)(n)-s)}}c_.ISOTimezoneParser=F9;var d_={};d_.TimestampSecondsParser=void 0;var k9=De,L9=Ke,V9=Ve;class z9 extends L9.Parser{constructor(){super(...arguments);fe(this,"priority",40);fe(this,"incompatibleTokens","*")}parse(n){return(0,V9.parseAnyDigitsSigned)(n)}set(n,r,s){return[(0,k9.constructFrom)(n,s*1e3),{timestampIsSet:!0}]}}d_.TimestampSecondsParser=z9;var f_={};f_.TimestampMillisecondsParser=void 0;var U9=De,B9=Ke,W9=Ve;class $9 extends B9.Parser{constructor(){super(...arguments);fe(this,"priority",20);fe(this,"incompatibleTokens","*")}parse(n){return(0,W9.parseAnyDigitsSigned)(n)}set(n,r,s){return[(0,U9.constructFrom)(n,s),{timestampIsSet:!0}]}}f_.TimestampMillisecondsParser=$9;jy.parsers=void 0;var H9=My,Y9=Ry,q9=Ay,G9=Fy,K9=ky,Q9=Ly,X9=Vy,J9=zy,Z9=Uy,eV=By,tV=$y,nV=Yy,rV=qy,sV=Gy,iV=Ky,aV=Qy,oV=Xy,lV=Zy,uV=e_,cV=t_,dV=n_,fV=r_,hV=s_,mV=i_,gV=a_,pV=o_,vV=l_,yV=u_,_V=c_,xV=d_,wV=f_;jy.parsers={G:new H9.EraParser,y:new Y9.YearParser,Y:new q9.LocalWeekYearParser,R:new G9.ISOWeekYearParser,u:new K9.ExtendedYearParser,Q:new Q9.QuarterParser,q:new X9.StandAloneQuarterParser,M:new J9.MonthParser,L:new Z9.StandAloneMonthParser,w:new eV.LocalWeekParser,I:new tV.ISOWeekParser,d:new nV.DateParser,D:new rV.DayOfYearParser,E:new sV.DayParser,e:new iV.LocalDayParser,c:new aV.StandAloneLocalDayParser,i:new oV.ISODayParser,a:new lV.AMPMParser,b:new uV.AMPMMidnightParser,B:new cV.DayPeriodParser,h:new dV.Hour1to12Parser,H:new fV.Hour0to23Parser,K:new hV.Hour0To11Parser,k:new mV.Hour1To24Parser,m:new gV.MinuteParser,s:new pV.SecondParser,S:new vV.FractionOfSecondParser,X:new yV.ISOTimezoneWithZParser,x:new _V.ISOTimezoneParser,t:new xV.TimestampSecondsParser,T:new wV.TimestampMillisecondsParser};(function(t){Object.defineProperty(t,"longFormatters",{enumerable:!0,get:function(){return n.longFormatters}}),t.parse=E,Object.defineProperty(t,"parsers",{enumerable:!0,get:function(){return d.parsers}});var e=El,n=Jm,r=Kd,s=De,a=Ty,o=X,c=xo,d=jy;const h=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v=/^'([^]*?)'?$/,y=/''/g,b=/\S/,N=/[a-zA-Z]/;function E(S,T,I,R){var Ae,ee,de,ue,Pe,J,q,U;const $=()=>(0,s.constructFrom)((R==null?void 0:R.in)||I,NaN),H=(0,a.getDefaultOptions)(),D=(R==null?void 0:R.locale)??H.locale??e.defaultLocale,w=(R==null?void 0:R.firstWeekContainsDate)??((ee=(Ae=R==null?void 0:R.locale)==null?void 0:Ae.options)==null?void 0:ee.firstWeekContainsDate)??H.firstWeekContainsDate??((ue=(de=H.locale)==null?void 0:de.options)==null?void 0:ue.firstWeekContainsDate)??1,P=(R==null?void 0:R.weekStartsOn)??((J=(Pe=R==null?void 0:R.locale)==null?void 0:Pe.options)==null?void 0:J.weekStartsOn)??H.weekStartsOn??((U=(q=H.locale)==null?void 0:q.options)==null?void 0:U.weekStartsOn)??0;if(!T)return S?$():(0,o.toDate)(I,R==null?void 0:R.in);const O={firstWeekContainsDate:w,weekStartsOn:P,locale:D},M=[new c.DateTimezoneSetter(R==null?void 0:R.in,I)],V=T.match(g).map(A=>{const G=A[0];if(G in n.longFormatters){const oe=n.longFormatters[G];return oe(A,D.formatLong)}return A}).join("").match(h),C=[];for(let A of V){!(R!=null&&R.useAdditionalWeekYearTokens)&&(0,r.isProtectedWeekYearToken)(A)&&(0,r.warnOrThrowProtectedError)(A,T,S),!(R!=null&&R.useAdditionalDayOfYearTokens)&&(0,r.isProtectedDayOfYearToken)(A)&&(0,r.warnOrThrowProtectedError)(A,T,S);const G=A[0],oe=d.parsers[G];if(oe){const{incompatibleTokens:me}=oe;if(Array.isArray(me)){const pe=C.find(Ce=>me.includes(Ce.token)||Ce.token===G);if(pe)throw new RangeError(`The format string mustn't contain \`${pe.fullToken}\` and \`${A}\` at the same time`)}else if(oe.incompatibleTokens==="*"&&C.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);C.push({token:G,fullToken:A});const ge=oe.run(S,A,D.match,O);if(!ge)return $();M.push(ge.setter),S=ge.rest}else{if(G.match(N))throw new RangeError("Format string contains an unescaped latin alphabet character `"+G+"`");if(A==="''"?A="'":G==="'"&&(A=k(A)),S.indexOf(A)===0)S=S.slice(A.length);else return $()}}if(S.length>0&&b.test(S))return $();const et=M.map(A=>A.priority).sort((A,G)=>G-A).filter((A,G,oe)=>oe.indexOf(A)===G).map(A=>M.filter(G=>G.priority===A).sort((G,oe)=>oe.subPriority-G.subPriority)).map(A=>A[0]);let tt=(0,o.toDate)(I,R==null?void 0:R.in);if(isNaN(+tt))return $();const Z={};for(const A of et){if(!A.validate(tt,O))return $();const G=A.set(tt,Z,O);Array.isArray(G)?(tt=G[0],Object.assign(Z,G[1])):tt=G}return tt}function k(S){return S.match(v)[1].replace(y,"'")}})(Cy);_T.isMatch=DV;var bV=fa,EV=Cy;function DV(t,e,n){return(0,bV.isValid)((0,EV.parse)(t,e,new Date,n))}var xT={};xT.isMonday=TV;var SV=X;function TV(t,e){return(0,SV.toDate)(t,e==null?void 0:e.in).getDay()===1}var wT={};wT.isPast=IV;var PV=X;function IV(t){return+(0,PV.toDate)(t)<Date.now()}var h_={},m_={};m_.startOfHour=NV;var CV=X;function NV(t,e){const n=(0,CV.toDate)(t,e==null?void 0:e.in);return n.setMinutes(0,0,0),n}h_.isSameHour=jV;var OV=at,Wb=m_;function jV(t,e,n){const[r,s]=(0,OV.normalizeDates)(n==null?void 0:n.in,t,e);return+(0,Wb.startOfHour)(r)==+(0,Wb.startOfHour)(s)}var g_={},Zm={};Zm.isSameWeek=RV;var MV=at,$b=Os;function RV(t,e,n){const[r,s]=(0,MV.normalizeDates)(n==null?void 0:n.in,t,e);return+(0,$b.startOfWeek)(r,n)==+(0,$b.startOfWeek)(s,n)}g_.isSameISOWeek=FV;var AV=Zm;function FV(t,e,n){return(0,AV.isSameWeek)(t,e,{...n,weekStartsOn:1})}var bT={};bT.isSameISOWeekYear=LV;var Hb=Hu,kV=at;function LV(t,e,n){const[r,s]=(0,kV.normalizeDates)(n==null?void 0:n.in,t,e);return+(0,Hb.startOfISOWeekYear)(r)==+(0,Hb.startOfISOWeekYear)(s)}var p_={},v_={};v_.startOfMinute=zV;var VV=X;function zV(t,e){const n=(0,VV.toDate)(t,e==null?void 0:e.in);return n.setSeconds(0,0),n}p_.isSameMinute=UV;var Yb=v_;function UV(t,e){return+(0,Yb.startOfMinute)(t)==+(0,Yb.startOfMinute)(e)}var y_={};y_.isSameMonth=WV;var BV=at;function WV(t,e,n){const[r,s]=(0,BV.normalizeDates)(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}var __={};__.isSameQuarter=HV;var $V=at,qb=$m;function HV(t,e,n){const[r,s]=(0,$V.normalizeDates)(n==null?void 0:n.in,t,e);return+(0,qb.startOfQuarter)(r)==+(0,qb.startOfQuarter)(s)}var x_={},w_={};w_.startOfSecond=qV;var YV=X;function qV(t,e){const n=(0,YV.toDate)(t,e==null?void 0:e.in);return n.setMilliseconds(0),n}x_.isSameSecond=GV;var Gb=w_;function GV(t,e){return+(0,Gb.startOfSecond)(t)==+(0,Gb.startOfSecond)(e)}var b_={};b_.isSameYear=QV;var KV=at;function QV(t,e,n){const[r,s]=(0,KV.normalizeDates)(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()}var ET={};ET.isThisHour=ez;var XV=en,JV=h_,ZV=X;function ez(t,e){return(0,JV.isSameHour)((0,ZV.toDate)(t,e==null?void 0:e.in),(0,XV.constructNow)((e==null?void 0:e.in)||t))}var DT={};DT.isThisISOWeek=sz;var tz=De,nz=en,rz=g_;function sz(t,e){return(0,rz.isSameISOWeek)((0,tz.constructFrom)((e==null?void 0:e.in)||t,t),(0,nz.constructNow)((e==null?void 0:e.in)||t))}var ST={};ST.isThisMinute=oz;var iz=en,az=p_;function oz(t){return(0,az.isSameMinute)(t,(0,iz.constructNow)(t))}var TT={};TT.isThisMonth=dz;var lz=De,uz=en,cz=y_;function dz(t,e){return(0,cz.isSameMonth)((0,lz.constructFrom)((e==null?void 0:e.in)||t,t),(0,uz.constructNow)((e==null?void 0:e.in)||t))}var PT={};PT.isThisQuarter=gz;var fz=De,hz=en,mz=__;function gz(t,e){return(0,mz.isSameQuarter)((0,fz.constructFrom)((e==null?void 0:e.in)||t,t),(0,hz.constructNow)((e==null?void 0:e.in)||t))}var IT={};IT.isThisSecond=yz;var pz=en,vz=x_;function yz(t){return(0,vz.isSameSecond)(t,(0,pz.constructNow)(t))}var CT={};CT.isThisWeek=bz;var _z=De,xz=en,wz=Zm;function bz(t,e){return(0,wz.isSameWeek)((0,_z.constructFrom)((e==null?void 0:e.in)||t,t),(0,xz.constructNow)((e==null?void 0:e.in)||t),e)}var NT={};NT.isThisYear=Tz;var Ez=De,Dz=en,Sz=b_;function Tz(t,e){return(0,Sz.isSameYear)((0,Ez.constructFrom)((e==null?void 0:e.in)||t,t),(0,Dz.constructNow)((e==null?void 0:e.in)||t))}var OT={};OT.isThursday=Iz;var Pz=X;function Iz(t,e){return(0,Pz.toDate)(t,e==null?void 0:e.in).getDay()===4}var jT={};jT.isToday=jz;var Cz=De,Nz=en,Oz=Yu;function jz(t,e){return(0,Oz.isSameDay)((0,Cz.constructFrom)((e==null?void 0:e.in)||t,t),(0,Nz.constructNow)((e==null?void 0:e.in)||t))}var MT={};MT.isTomorrow=Fz;var Mz=gi,Rz=en,Az=Yu;function Fz(t,e){return(0,Az.isSameDay)(t,(0,Mz.addDays)((0,Rz.constructNow)((e==null?void 0:e.in)||t),1),e)}var RT={};RT.isTuesday=Lz;var kz=X;function Lz(t,e){return(0,kz.toDate)(t,e==null?void 0:e.in).getDay()===2}var AT={};AT.isWednesday=zz;var Vz=X;function zz(t,e){return(0,Vz.toDate)(t,e==null?void 0:e.in).getDay()===3}var FT={};FT.isWithinInterval=Uz;var cp=X;function Uz(t,e,n){const r=+(0,cp.toDate)(t,n==null?void 0:n.in),[s,a]=[+(0,cp.toDate)(e.start,n==null?void 0:n.in),+(0,cp.toDate)(e.end,n==null?void 0:n.in)].sort((o,c)=>o-c);return r>=s&&r<=a}var kT={},Jd={};Jd.subDays=Wz;var Bz=gi;function Wz(t,e,n){return(0,Bz.addDays)(t,-e,n)}kT.isYesterday=Gz;var $z=De,Hz=en,Yz=Yu,qz=Jd;function Gz(t,e){return(0,Yz.isSameDay)((0,$z.constructFrom)((e==null?void 0:e.in)||t,t),(0,qz.subDays)((0,Hz.constructNow)((e==null?void 0:e.in)||t),1))}var LT={};LT.lastDayOfDecade=Kz;var Kb=X;function Kz(t,e){const n=(0,Kb.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),s=9+Math.floor(r/10)*10;return n.setFullYear(s+1,0,0),n.setHours(0,0,0,0),(0,Kb.toDate)(n,e==null?void 0:e.in)}var VT={},E_={};E_.lastDayOfWeek=Jz;var Qz=_n,Xz=X;function Jz(t,e){var c,d,h,g;const n=(0,Qz.getDefaultOptions)(),r=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((g=(h=n.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,s=(0,Xz.toDate)(t,e==null?void 0:e.in),a=s.getDay(),o=(a<r?-7:0)+6-(a-r);return s.setHours(0,0,0,0),s.setDate(s.getDate()+o),s}VT.lastDayOfISOWeek=e8;var Zz=E_;function e8(t,e){return(0,Zz.lastDayOfWeek)(t,{...e,weekStartsOn:1})}var zT={};zT.lastDayOfISOWeekYear=s8;var t8=De,n8=Fo,r8=pi;function s8(t,e){const n=(0,n8.getISOWeekYear)(t,e),r=(0,t8.constructFrom)((e==null?void 0:e.in)||t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=(0,r8.startOfISOWeek)(r,e);return s.setDate(s.getDate()-1),s}var UT={};UT.lastDayOfQuarter=a8;var i8=X;function a8(t,e){const n=(0,i8.toDate)(t,e==null?void 0:e.in),r=n.getMonth(),s=r-r%3+3;return n.setMonth(s,0),n.setHours(0,0,0,0),n}var BT={};BT.lastDayOfYear=l8;var o8=X;function l8(t,e){const n=(0,o8.toDate)(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(0,0,0,0),n}var WT={};(function(t){t.lightFormat=d,Object.defineProperty(t,"lightFormatters",{enumerable:!0,get:function(){return e.lightFormatters}});var e=Xm,n=fa,r=X;const s=/(\w)\1*|''|'(''|[^'])+('|$)|./g,a=/^'([^]*?)'?$/,o=/''/g,c=/[a-zA-Z]/;function d(g,v){const y=(0,r.toDate)(g);if(!(0,n.isValid)(y))throw new RangeError("Invalid time value");const b=v.match(s);return b?b.map(E=>{if(E==="''")return"'";const k=E[0];if(k==="'")return h(E);const S=e.lightFormatters[k];if(S)return S(y,E);if(k.match(c))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return E}).join(""):""}function h(g){const v=g.match(a);return v?v[1].replace(o,"'"):g}})(WT);var $T={};$T.milliseconds=u8;var Qb=ae;function u8({years:t,months:e,weeks:n,days:r,hours:s,minutes:a,seconds:o}){let c=0;t&&(c+=t*Qb.daysInYear),e&&(c+=e*(Qb.daysInYear/12)),n&&(c+=n*7),r&&(c+=r);let d=c*24*60*60;return s&&(d+=s*60*60),a&&(d+=a*60),o&&(d+=o),Math.trunc(d*1e3)}var HT={};HT.millisecondsToHours=d8;var c8=ae;function d8(t){const e=t/c8.millisecondsInHour;return Math.trunc(e)}var YT={};YT.millisecondsToMinutes=h8;var f8=ae;function h8(t){const e=t/f8.millisecondsInMinute;return Math.trunc(e)}var qT={};qT.millisecondsToSeconds=g8;var m8=ae;function g8(t){const e=t/m8.millisecondsInSecond;return Math.trunc(e)}var GT={};GT.minutesToHours=v8;var p8=ae;function v8(t){const e=t/p8.minutesInHour;return Math.trunc(e)}var KT={};KT.minutesToMilliseconds=_8;var y8=ae;function _8(t){return Math.trunc(t*y8.millisecondsInMinute)}var QT={};QT.minutesToSeconds=w8;var x8=ae;function w8(t){return Math.trunc(t*x8.secondsInMinute)}var XT={};XT.monthsToQuarters=E8;var b8=ae;function E8(t){const e=t/b8.monthsInQuarter;return Math.trunc(e)}var JT={};JT.monthsToYears=S8;var D8=ae;function S8(t){const e=t/D8.monthsInYear;return Math.trunc(e)}var ma={};ma.nextDay=I8;var T8=gi,P8=Qd;function I8(t,e,n){let r=e-(0,P8.getDay)(t,n);return r<=0&&(r+=7),(0,T8.addDays)(t,r,n)}var ZT={};ZT.nextFriday=N8;var C8=ma;function N8(t,e){return(0,C8.nextDay)(t,5,e)}var eP={};eP.nextMonday=j8;var O8=ma;function j8(t,e){return(0,O8.nextDay)(t,1,e)}var tP={};tP.nextSaturday=R8;var M8=ma;function R8(t,e){return(0,M8.nextDay)(t,6,e)}var nP={};nP.nextSunday=F8;var A8=ma;function F8(t,e){return(0,A8.nextDay)(t,0,e)}var rP={};rP.nextThursday=L8;var k8=ma;function L8(t,e){return(0,k8.nextDay)(t,4,e)}var sP={};sP.nextTuesday=z8;var V8=ma;function z8(t,e){return(0,V8.nextDay)(t,2,e)}var iP={};iP.nextWednesday=B8;var U8=ma;function B8(t,e){return(0,U8.nextDay)(t,3,e)}var aP={};aP.parseISO=$8;var Kh=ae,W8=De,Xb=X;function $8(t,e){const n=()=>(0,W8.constructFrom)(e==null?void 0:e.in,NaN),r=(e==null?void 0:e.additionalDigits)??2,s=G8(t);let a;if(s.date){const h=K8(s.date,r);a=Q8(h.restDateString,h.year)}if(!a||isNaN(+a))return n();const o=+a;let c=0,d;if(s.time&&(c=X8(s.time),isNaN(c)))return n();if(s.timezone){if(d=J8(s.timezone),isNaN(d))return n()}else{const h=new Date(o+c),g=(0,Xb.toDate)(0,e==null?void 0:e.in);return g.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),g.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),g}return(0,Xb.toDate)(o+c+d,e==null?void 0:e.in)}const Vf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},H8=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Y8=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,q8=/^([+-])(\d{2})(?::?(\d{2}))?$/;function G8(t){const e={},n=t.split(Vf.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Vf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Vf.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=Vf.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function K8(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?s:a*100,restDateString:t.slice((r[1]||r[2]).length)}}function Q8(t,e){if(e===null)return new Date(NaN);const n=t.match(H8);if(!n)return new Date(NaN);const r=!!n[4],s=Mc(n[1]),a=Mc(n[2])-1,o=Mc(n[3]),c=Mc(n[4]),d=Mc(n[5])-1;if(r)return rU(e,c,d)?Z8(e,c,d):new Date(NaN);{const h=new Date(0);return!tU(e,a,o)||!nU(e,s)?new Date(NaN):(h.setUTCFullYear(e,a,Math.max(s,o)),h)}}function Mc(t){return t?parseInt(t):1}function X8(t){const e=t.match(Y8);if(!e)return NaN;const n=dp(e[1]),r=dp(e[2]),s=dp(e[3]);return sU(n,r,s)?n*Kh.millisecondsInHour+r*Kh.millisecondsInMinute+s*1e3:NaN}function dp(t){return t&&parseFloat(t.replace(",","."))||0}function J8(t){if(t==="Z")return 0;const e=t.match(q8);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return iU(r,s)?n*(r*Kh.millisecondsInHour+s*Kh.millisecondsInMinute):NaN}function Z8(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,a=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+a),r}const eU=[31,null,31,30,31,30,31,31,30,31,30,31];function oP(t){return t%400===0||t%4===0&&t%100!==0}function tU(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(eU[e]||(oP(t)?29:28))}function nU(t,e){return e>=1&&e<=(oP(t)?366:365)}function rU(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function sU(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function iU(t,e){return e>=0&&e<=59}var lP={};lP.parseJSON=aU;var Jb=X;function aU(t,e){const n=t.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return n?(0,Jb.toDate)(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4]-(+n[9]||0)*(n[8]=="-"?-1:1),+n[5]-(+n[10]||0)*(n[8]=="-"?-1:1),+n[6],+((n[7]||"0")+"00").substring(0,3)),e==null?void 0:e.in):(0,Jb.toDate)(NaN,e==null?void 0:e.in)}var ga={};ga.previousDay=uU;var oU=Qd,lU=Jd;function uU(t,e,n){let r=(0,oU.getDay)(t,n)-e;return r<=0&&(r+=7),(0,lU.subDays)(t,r,n)}var uP={};uP.previousFriday=dU;var cU=ga;function dU(t,e){return(0,cU.previousDay)(t,5,e)}var cP={};cP.previousMonday=hU;var fU=ga;function hU(t,e){return(0,fU.previousDay)(t,1,e)}var dP={};dP.previousSaturday=gU;var mU=ga;function gU(t,e){return(0,mU.previousDay)(t,6,e)}var fP={};fP.previousSunday=vU;var pU=ga;function vU(t,e){return(0,pU.previousDay)(t,0,e)}var hP={};hP.previousThursday=_U;var yU=ga;function _U(t,e){return(0,yU.previousDay)(t,4,e)}var mP={};mP.previousTuesday=wU;var xU=ga;function wU(t,e){return(0,xU.previousDay)(t,2,e)}var gP={};gP.previousWednesday=EU;var bU=ga;function EU(t,e){return(0,bU.previousDay)(t,3,e)}var pP={};pP.quartersToMonths=SU;var DU=ae;function SU(t){return Math.trunc(t*DU.monthsInQuarter)}var vP={};vP.quartersToYears=PU;var TU=ae;function PU(t){const e=t/TU.quartersInYear;return Math.trunc(e)}var yP={};yP.roundToNearestHours=OU;var IU=ha,CU=De,NU=X;function OU(t,e){const n=(e==null?void 0:e.nearestTo)??1;if(n<1||n>12)return(0,CU.constructFrom)((e==null?void 0:e.in)||t,NaN);const r=(0,NU.toDate)(t,e==null?void 0:e.in),s=r.getMinutes()/60,a=r.getSeconds()/60/60,o=r.getMilliseconds()/1e3/60/60,c=r.getHours()+s+a+o,d=(e==null?void 0:e.roundingMethod)??"round",g=(0,IU.getRoundingMethod)(d)(c/n)*n;return r.setHours(g,0,0,0),r}var _P={};_P.roundToNearestMinutes=AU;var jU=ha,MU=De,RU=X;function AU(t,e){const n=(e==null?void 0:e.nearestTo)??1;if(n<1||n>30)return(0,MU.constructFrom)(t,NaN);const r=(0,RU.toDate)(t,e==null?void 0:e.in),s=r.getSeconds()/60,a=r.getMilliseconds()/1e3/60,o=r.getMinutes()+s+a,c=(e==null?void 0:e.roundingMethod)??"round",h=(0,jU.getRoundingMethod)(c)(o/n)*n;return r.setMinutes(h,0,0),r}var xP={};xP.secondsToHours=kU;var FU=ae;function kU(t){const e=t/FU.secondsInHour;return Math.trunc(e)}var wP={};wP.secondsToMilliseconds=VU;var LU=ae;function VU(t){return t*LU.millisecondsInSecond}var bP={};bP.secondsToMinutes=UU;var zU=ae;function UU(t){const e=t/zU.secondsInMinute;return Math.trunc(e)}var EP={},eg={};eg.setMonth=HU;var BU=De,WU=Dy,$U=X;function HU(t,e,n){const r=(0,$U.toDate)(t,n==null?void 0:n.in),s=r.getFullYear(),a=r.getDate(),o=(0,BU.constructFrom)((n==null?void 0:n.in)||t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const c=(0,WU.getDaysInMonth)(o);return r.setMonth(e,Math.min(a,c)),r}EP.set=KU;var YU=De,qU=eg,GU=X;function KU(t,e,n){let r=(0,GU.toDate)(t,n==null?void 0:n.in);return isNaN(+r)?(0,YU.constructFrom)((n==null?void 0:n.in)||t,NaN):(e.year!=null&&r.setFullYear(e.year),e.month!=null&&(r=(0,qU.setMonth)(r,e.month)),e.date!=null&&r.setDate(e.date),e.hours!=null&&r.setHours(e.hours),e.minutes!=null&&r.setMinutes(e.minutes),e.seconds!=null&&r.setSeconds(e.seconds),e.milliseconds!=null&&r.setMilliseconds(e.milliseconds),r)}var DP={};DP.setDate=XU;var QU=X;function XU(t,e,n){const r=(0,QU.toDate)(t,n==null?void 0:n.in);return r.setDate(e),r}var SP={};SP.setDayOfYear=ZU;var JU=X;function ZU(t,e,n){const r=(0,JU.toDate)(t,n==null?void 0:n.in);return r.setMonth(0),r.setDate(e),r}var TP={};TP.setDefaultOptions=e7;var Zb=_n;function e7(t){const e={},n=(0,Zb.getDefaultOptions)();for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]===void 0?delete e[r]:e[r]=t[r]);(0,Zb.setDefaultOptions)(e)}var PP={};PP.setHours=n7;var t7=X;function n7(t,e,n){const r=(0,t7.toDate)(t,n==null?void 0:n.in);return r.setHours(e),r}var IP={};IP.setMilliseconds=s7;var r7=X;function s7(t,e,n){const r=(0,r7.toDate)(t,n==null?void 0:n.in);return r.setMilliseconds(e),r}var CP={};CP.setMinutes=a7;var i7=X;function a7(t,e,n){const r=(0,i7.toDate)(t,n==null?void 0:n.in);return r.setMinutes(e),r}var NP={};NP.setQuarter=u7;var o7=eg,l7=X;function u7(t,e,n){const r=(0,l7.toDate)(t,n==null?void 0:n.in),s=Math.trunc(r.getMonth()/3)+1,a=e-s;return(0,o7.setMonth)(r,r.getMonth()+a*3)}var OP={};OP.setSeconds=d7;var c7=X;function d7(t,e,n){const r=(0,c7.toDate)(t,n==null?void 0:n.in);return r.setSeconds(e),r}var jP={};jP.setWeekYear=p7;var f7=_n,h7=De,m7=ca,e1=Qm,g7=X;function p7(t,e,n){var d,h,g,v;const r=(0,f7.getDefaultOptions)(),s=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,a=(0,m7.differenceInCalendarDays)((0,g7.toDate)(t,n==null?void 0:n.in),(0,e1.startOfWeekYear)(t,n),n),o=(0,h7.constructFrom)((n==null?void 0:n.in)||t,0);o.setFullYear(e,0,s),o.setHours(0,0,0,0);const c=(0,e1.startOfWeekYear)(o,n);return c.setDate(c.getDate()+a),c}var MP={};MP.setYear=_7;var v7=De,y7=X;function _7(t,e,n){const r=(0,y7.toDate)(t,n==null?void 0:n.in);return isNaN(+r)?(0,v7.constructFrom)((n==null?void 0:n.in)||t,NaN):(r.setFullYear(e),r)}var RP={};RP.startOfDecade=w7;var x7=X;function w7(t,e){const n=(0,x7.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),s=Math.floor(r/10)*10;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}var AP={};AP.startOfToday=E7;var b7=Wd;function E7(t){return(0,b7.startOfDay)(Date.now(),t)}var FP={};FP.startOfTomorrow=T7;var D7=De,S7=en;function T7(t){const e=(0,S7.constructNow)(t==null?void 0:t.in),n=e.getFullYear(),r=e.getMonth(),s=e.getDate(),a=(0,D7.constructFrom)(t==null?void 0:t.in,0);return a.setFullYear(n,r,s+1),a.setHours(0,0,0,0),a}var kP={};kP.startOfYesterday=P7;var t1=en;function P7(t){const e=(0,t1.constructNow)(t==null?void 0:t.in),n=e.getFullYear(),r=e.getMonth(),s=e.getDate(),a=(0,t1.constructNow)(t==null?void 0:t.in);return a.setFullYear(n,r,s-1),a.setHours(0,0,0,0),a}var LP={},D_={};D_.subMonths=C7;var I7=$u;function C7(t,e,n){return(0,I7.addMonths)(t,-e,n)}LP.sub=M7;var N7=De,O7=Jd,j7=D_;function M7(t,e,n){const{years:r=0,months:s=0,weeks:a=0,days:o=0,hours:c=0,minutes:d=0,seconds:h=0}=e,g=(0,j7.subMonths)(t,s+r*12,n),v=(0,O7.subDays)(g,o+a*7,n),y=d+c*60,N=(h+y*60)*1e3;return(0,N7.constructFrom)((n==null?void 0:n.in)||t,+v-N)}var VP={};VP.subBusinessDays=A7;var R7=Y0;function A7(t,e,n){return(0,R7.addBusinessDays)(t,-e,n)}var zP={};zP.subHours=k7;var F7=K0;function k7(t,e,n){return(0,F7.addHours)(t,-e,n)}var UP={};UP.subMilliseconds=V7;var L7=Bd;function V7(t,e,n){return(0,L7.addMilliseconds)(t,-e,n)}var BP={};BP.subMinutes=U7;var z7=Mm;function U7(t,e,n){return(0,z7.addMinutes)(t,-e,n)}var WP={};WP.subQuarters=W7;var B7=Rm;function W7(t,e,n){return(0,B7.addQuarters)(t,-e,n)}var $P={};$P.subSeconds=H7;var $7=J0;function H7(t,e,n){return(0,$7.addSeconds)(t,-e,n)}var HP={};HP.subWeeks=q7;var Y7=$d;function q7(t,e,n){return(0,Y7.addWeeks)(t,-e,n)}var YP={};YP.subYears=K7;var G7=Z0;function K7(t,e,n){return(0,G7.addYears)(t,-e,n)}var qP={};qP.weeksToDays=X7;var Q7=ae;function X7(t){return Math.trunc(t*Q7.daysInWeek)}var GP={};GP.yearsToDays=Z7;var J7=ae;function Z7(t){return Math.trunc(t*J7.daysInYear)}var KP={};KP.yearsToMonths=tB;var eB=ae;function tB(t){return Math.trunc(t*eB.monthsInYear)}var QP={};QP.yearsToQuarters=rB;var nB=ae;function rB(t){return Math.trunc(t*nB.quartersInYear)}(function(t){var e=H0;Object.keys(e).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===e[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[i]}})});var n=Y0;Object.keys(n).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===n[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return n[i]}})});var r=gi;Object.keys(r).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===r[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return r[i]}})});var s=K0;Object.keys(s).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===s[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[i]}})});var a=Q0;Object.keys(a).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===a[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return a[i]}})});var o=Bd;Object.keys(o).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===o[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return o[i]}})});var c=Mm;Object.keys(c).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===c[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return c[i]}})});var d=$u;Object.keys(d).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===d[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return d[i]}})});var h=Rm;Object.keys(h).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===h[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return h[i]}})});var g=J0;Object.keys(g).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===g[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return g[i]}})});var v=$d;Object.keys(v).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===v[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return v[i]}})});var y=Z0;Object.keys(y).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===y[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return y[i]}})});var b=nS;Object.keys(b).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===b[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return b[i]}})});var N=rS;Object.keys(N).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===N[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return N[i]}})});var E=ny;Object.keys(E).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===E[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return E[i]}})});var k=sS;Object.keys(k).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===k[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return k[i]}})});var S=bl;Object.keys(S).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===S[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return S[i]}})});var T=iS;Object.keys(T).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===T[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return T[i]}})});var I=De;Object.keys(I).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===I[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return I[i]}})});var R=en;Object.keys(R).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===R[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return R[i]}})});var $=aS;Object.keys($).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===$[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return $[i]}})});var H=oS;Object.keys(H).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===H[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return H[i]}})});var D=ca;Object.keys(D).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===D[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return D[i]}})});var w=sy;Object.keys(w).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===w[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return w[i]}})});var P=lS;Object.keys(P).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===P[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return P[i]}})});var O=Am;Object.keys(O).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===O[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return O[i]}})});var M=iy;Object.keys(M).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===M[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return M[i]}})});var V=Fm;Object.keys(V).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===V[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return V[i]}})});var C=km;Object.keys(C).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===C[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return C[i]}})});var et=Lm;Object.keys(et).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===et[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return et[i]}})});var tt=Vm;Object.keys(tt).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===tt[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return tt[i]}})});var Z=uS;Object.keys(Z).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Z[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Z[i]}})});var Ae=zm;Object.keys(Ae).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ae[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ae[i]}})});var ee=Um;Object.keys(ee).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ee[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ee[i]}})});var de=Hd;Object.keys(de).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===de[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return de[i]}})});var ue=cS;Object.keys(ue).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ue[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ue[i]}})});var Pe=Yd;Object.keys(Pe).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Pe[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Pe[i]}})});var J=dS;Object.keys(J).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===J[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return J[i]}})});var q=uy;Object.keys(q).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===q[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return q[i]}})});var U=cy;Object.keys(U).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===U[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return U[i]}})});var A=fS;Object.keys(A).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===A[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return A[i]}})});var G=hS;Object.keys(G).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===G[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return G[i]}})});var oe=mS;Object.keys(oe).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===oe[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return oe[i]}})});var me=gS;Object.keys(me).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===me[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return me[i]}})});var ge=pS;Object.keys(ge).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ge[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ge[i]}})});var pe=Hm;Object.keys(pe).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===pe[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return pe[i]}})});var Ce=vS;Object.keys(Ce).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ce[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ce[i]}})});var ke=yS;Object.keys(ke).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ke[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ke[i]}})});var Fe=_S;Object.keys(Fe).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Fe[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Fe[i]}})});var Le=Bm;Object.keys(Le).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Le[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Le[i]}})});var ct=xS;Object.keys(ct).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ct[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ct[i]}})});var bt=wS;Object.keys(bt).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===bt[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return bt[i]}})});var Yt=bS;Object.keys(Yt).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Yt[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Yt[i]}})});var qn=ES;Object.keys(qn).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===qn[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return qn[i]}})});var js=DS;Object.keys(js).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===js[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return js[i]}})});var Gn=Wm;Object.keys(Gn).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Gn[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Gn[i]}})});var Fn=SS;Object.keys(Fn).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Fn[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Fn[i]}})});var ur=TS;Object.keys(ur).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ur[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ur[i]}})});var Pr=PS;Object.keys(Pr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Pr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Pr[i]}})});var Kn=IS;Object.keys(Kn).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Kn[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Kn[i]}})});var Ms=fy;Object.keys(Ms).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ms[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ms[i]}})});var Et=dy;Object.keys(Et).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Et[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Et[i]}})});var ft=CS;Object.keys(ft).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ft[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ft[i]}})});var cr=hy;Object.keys(cr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===cr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return cr[i]}})});var _a=wy;Object.keys(_a).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===_a[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return _a[i]}})});var es=by;Object.keys(es).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===es[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return es[i]}})});var Rs=AS;Object.keys(Rs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Rs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Rs[i]}})});var kn=FS;Object.keys(kn).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===kn[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return kn[i]}})});var dr=kS;Object.keys(dr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===dr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return dr[i]}})});var As=LS;Object.keys(As).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===As[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return As[i]}})});var Ir=VS;Object.keys(Ir).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ir[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ir[i]}})});var yi=zS;Object.keys(yi).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===yi[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return yi[i]}})});var Fs=US;Object.keys(Fs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Fs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Fs[i]}})});var ts=BS;Object.keys(ts).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ts[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ts[i]}})});var xa=WS;Object.keys(xa).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===xa[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return xa[i]}})});var ns=$S;Object.keys(ns).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ns[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ns[i]}})});var rs=Ey;Object.keys(rs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===rs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return rs[i]}})});var Cr=Qd;Object.keys(Cr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Cr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Cr[i]}})});var _i=xy;Object.keys(_i).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===_i[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return _i[i]}})});var Qn=Dy;Object.keys(Qn).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Qn[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Qn[i]}})});var wa=HS;Object.keys(wa).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===wa[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return wa[i]}})});var Nr=YS;Object.keys(Nr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Nr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Nr[i]}})});var ba=Ty;Object.keys(ba).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ba[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ba[i]}})});var fr=qS;Object.keys(fr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===fr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return fr[i]}})});var ss=Py;Object.keys(ss).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ss[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ss[i]}})});var Rt=Gm;Object.keys(Rt).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Rt[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Rt[i]}})});var Ea=Fo;Object.keys(Ea).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ea[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ea[i]}})});var xn=GS;Object.keys(xn).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===xn[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return xn[i]}})});var is=KS;Object.keys(is).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===is[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return is[i]}})});var Da=QS;Object.keys(Da).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Da[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Da[i]}})});var xi=XS;Object.keys(xi).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===xi[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return xi[i]}})});var Xn=JS;Object.keys(Xn).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Xn[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Xn[i]}})});var wi=ay;Object.keys(wi).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===wi[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return wi[i]}})});var Sa=ZS;Object.keys(Sa).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Sa[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Sa[i]}})});var as=eT;Object.keys(as).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===as[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return as[i]}})});var bi=tT;Object.keys(bi).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===bi[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return bi[i]}})});var Or=Km;Object.keys(Or).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Or[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Or[i]}})});var Jn=nT;Object.keys(Jn).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Jn[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Jn[i]}})});var wn=Gd;Object.keys(wn).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===wn[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return wn[i]}})});var ks=rT;Object.keys(ks).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ks[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ks[i]}})});var os=sT;Object.keys(os).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===os[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return os[i]}})});var ls=iT;Object.keys(ls).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ls[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ls[i]}})});var us=aT;Object.keys(us).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===us[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return us[i]}})});var Ta=oT;Object.keys(Ta).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ta[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ta[i]}})});var Ls=lT;Object.keys(Ls).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ls[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ls[i]}})});var Pa=uT;Object.keys(Pa).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Pa[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Pa[i]}})});var cs=cT;Object.keys(cs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===cs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return cs[i]}})});var $e=dT;Object.keys($e).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===$e[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return $e[i]}})});var Ln=fT;Object.keys(Ln).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ln[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ln[i]}})});var It=hT;Object.keys(It).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===It[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return It[i]}})});var ce=ry;Object.keys(ce).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ce[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ce[i]}})});var Zn=mT;Object.keys(Zn).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Zn[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Zn[i]}})});var on=gT;Object.keys(on).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===on[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return on[i]}})});var Dt=pT;Object.keys(Dt).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Dt[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Dt[i]}})});var Ei=vT;Object.keys(Ei).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ei[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ei[i]}})});var Vs=yT;Object.keys(Vs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Vs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Vs[i]}})});var ds=ly;Object.keys(ds).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ds[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ds[i]}})});var fs=Sy;Object.keys(fs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===fs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return fs[i]}})});var Ia=_T;Object.keys(Ia).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ia[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ia[i]}})});var Ca=xT;Object.keys(Ca).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ca[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ca[i]}})});var ve=wT;Object.keys(ve).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ve[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ve[i]}})});var vt=Yu;Object.keys(vt).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===vt[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return vt[i]}})});var Je=h_;Object.keys(Je).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Je[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Je[i]}})});var Ut=g_;Object.keys(Ut).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ut[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ut[i]}})});var jr=bT;Object.keys(jr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===jr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return jr[i]}})});var er=p_;Object.keys(er).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===er[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return er[i]}})});var ln=y_;Object.keys(ln).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ln[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ln[i]}})});var hs=__;Object.keys(hs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===hs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return hs[i]}})});var ms=x_;Object.keys(ms).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ms[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ms[i]}})});var zs=Zm;Object.keys(zs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===zs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return zs[i]}})});var Ze=b_;Object.keys(Ze).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ze[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ze[i]}})});var Mr=q0;Object.keys(Mr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Mr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Mr[i]}})});var Rr=G0;Object.keys(Rr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Rr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Rr[i]}})});var hr=ET;Object.keys(hr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===hr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return hr[i]}})});var Us=DT;Object.keys(Us).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Us[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Us[i]}})});var Di=ST;Object.keys(Di).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Di[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Di[i]}})});var Ar=TT;Object.keys(Ar).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ar[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ar[i]}})});var Na=PT;Object.keys(Na).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Na[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Na[i]}})});var Si=IT;Object.keys(Si).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Si[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Si[i]}})});var Ti=CT;Object.keys(Ti).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ti[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ti[i]}})});var Fr=NT;Object.keys(Fr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Fr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Fr[i]}})});var un=OT;Object.keys(un).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===un[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return un[i]}})});var Oa=jT;Object.keys(Oa).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Oa[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Oa[i]}})});var Bs=MT;Object.keys(Bs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Bs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Bs[i]}})});var Pi=RT;Object.keys(Pi).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Pi[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Pi[i]}})});var Vn=fa;Object.keys(Vn).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Vn[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Vn[i]}})});var ja=AT;Object.keys(ja).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ja[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ja[i]}})});var Ii=Ud;Object.keys(Ii).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ii[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ii[i]}})});var Ma=FT;Object.keys(Ma).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ma[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ma[i]}})});var bn=kT;Object.keys(bn).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===bn[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return bn[i]}})});var Qe=LT;Object.keys(Qe).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Qe[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Qe[i]}})});var gs=VT;Object.keys(gs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===gs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return gs[i]}})});var ps=zT;Object.keys(ps).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ps[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ps[i]}})});var kr=Iy;Object.keys(kr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===kr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return kr[i]}})});var ht=UT;Object.keys(ht).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ht[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ht[i]}})});var Bt=E_;Object.keys(Bt).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Bt[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Bt[i]}})});var Lr=BT;Object.keys(Lr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Lr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Lr[i]}})});var Ra=WT;Object.keys(Ra).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ra[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ra[i]}})});var Vr=ey;Object.keys(Vr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Vr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Vr[i]}})});var nt=$T;Object.keys(nt).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===nt[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return nt[i]}})});var Ws=HT;Object.keys(Ws).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ws[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ws[i]}})});var Aa=YT;Object.keys(Aa).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Aa[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Aa[i]}})});var Ci=qT;Object.keys(Ci).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ci[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ci[i]}})});var Fa=ty;Object.keys(Fa).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Fa[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Fa[i]}})});var Ni=GT;Object.keys(Ni).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ni[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ni[i]}})});var $s=KT;Object.keys($s).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===$s[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return $s[i]}})});var zr=QT;Object.keys(zr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===zr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return zr[i]}})});var zn=XT;Object.keys(zn).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===zn[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return zn[i]}})});var ka=JT;Object.keys(ka).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ka[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ka[i]}})});var ko=ma;Object.keys(ko).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ko[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ko[i]}})});var vs=ZT;Object.keys(vs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===vs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return vs[i]}})});var Oi=eP;Object.keys(Oi).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Oi[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Oi[i]}})});var ji=tP;Object.keys(ji).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ji[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ji[i]}})});var Hs=nP;Object.keys(Hs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Hs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Hs[i]}})});var La=rP;Object.keys(La).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===La[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return La[i]}})});var Ys=sP;Object.keys(Ys).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ys[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ys[i]}})});var Va=iP;Object.keys(Va).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Va[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Va[i]}})});var za=Cy;Object.keys(za).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===za[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return za[i]}})});var ys=aP;Object.keys(ys).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ys[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ys[i]}})});var Ua=lP;Object.keys(Ua).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ua[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ua[i]}})});var Ba=ga;Object.keys(Ba).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ba[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ba[i]}})});var qs=uP;Object.keys(qs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===qs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return qs[i]}})});var Gs=cP;Object.keys(Gs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Gs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Gs[i]}})});var Wa=dP;Object.keys(Wa).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Wa[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Wa[i]}})});var Ks=fP;Object.keys(Ks).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ks[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ks[i]}})});var $a=hP;Object.keys($a).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===$a[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return $a[i]}})});var Ha=mP;Object.keys(Ha).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ha[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ha[i]}})});var Un=gP;Object.keys(Un).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Un[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Un[i]}})});var tr=pP;Object.keys(tr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===tr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return tr[i]}})});var En=vP;Object.keys(En).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===En[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return En[i]}})});var Qs=yP;Object.keys(Qs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Qs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Qs[i]}})});var Xs=_P;Object.keys(Xs).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Xs[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Xs[i]}})});var Be=xP;Object.keys(Be).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Be[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Be[i]}})});var mt=wP;Object.keys(mt).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===mt[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return mt[i]}})});var Ur=bP;Object.keys(Ur).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ur[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ur[i]}})});var qt=EP;Object.keys(qt).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===qt[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return qt[i]}})});var mr=DP;Object.keys(mr).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===mr[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return mr[i]}})});var u=Xd;Object.keys(u).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===u[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return u[i]}})});var m=SP;Object.keys(m).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===m[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return m[i]}})});var p=TP;Object.keys(p).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===p[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return p[i]}})});var x=PP;Object.keys(x).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===x[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return x[i]}})});var z=Jy;Object.keys(z).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===z[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return z[i]}})});var W=Hy;Object.keys(W).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===W[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return W[i]}})});var ie=X0;Object.keys(ie).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ie[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ie[i]}})});var Ne=IP;Object.keys(Ne).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ne[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ne[i]}})});var yt=CP;Object.keys(yt).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===yt[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return yt[i]}})});var _e=eg;Object.keys(_e).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===_e[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return _e[i]}})});var rt=NP;Object.keys(rt).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===rt[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return rt[i]}})});var St=OP;Object.keys(St).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===St[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return St[i]}})});var Br=Wy;Object.keys(Br).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Br[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Br[i]}})});var cn=jP;Object.keys(cn).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===cn[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return cn[i]}})});var _s=MP;Object.keys(_s).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===_s[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return _s[i]}})});var Js=Wd;Object.keys(Js).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Js[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Js[i]}})});var ec=RP;Object.keys(ec).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ec[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ec[i]}})});var tc=m_;Object.keys(tc).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===tc[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return tc[i]}})});var Mi=pi;Object.keys(Mi).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Mi[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Mi[i]}})});var Il=Hu;Object.keys(Il).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Il[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Il[i]}})});var nc=v_;Object.keys(nc).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===nc[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return nc[i]}})});var rc=qd;Object.keys(rc).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===rc[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return rc[i]}})});var Cl=$m;Object.keys(Cl).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Cl[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Cl[i]}})});var sc=w_;Object.keys(sc).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===sc[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return sc[i]}})});var Ct=AP;Object.keys(Ct).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ct[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ct[i]}})});var Nl=FP;Object.keys(Nl).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Nl[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Nl[i]}})});var Ol=Os;Object.keys(Ol).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ol[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ol[i]}})});var jl=Qm;Object.keys(jl).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===jl[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return jl[i]}})});var Ml=Ym;Object.keys(Ml).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ml[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ml[i]}})});var Rl=kP;Object.keys(Rl).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Rl[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Rl[i]}})});var ic=LP;Object.keys(ic).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ic[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ic[i]}})});var Al=VP;Object.keys(Al).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Al[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Al[i]}})});var ac=Jd;Object.keys(ac).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===ac[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return ac[i]}})});var oc=zP;Object.keys(oc).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===oc[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return oc[i]}})});var lc=oy;Object.keys(lc).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===lc[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return lc[i]}})});var uc=UP;Object.keys(uc).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===uc[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return uc[i]}})});var cc=BP;Object.keys(cc).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===cc[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return cc[i]}})});var dc=D_;Object.keys(dc).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===dc[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return dc[i]}})});var fc=WP;Object.keys(fc).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===fc[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return fc[i]}})});var Fl=$P;Object.keys(Fl).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Fl[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Fl[i]}})});var kl=HP;Object.keys(kl).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===kl[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return kl[i]}})});var Ll=YP;Object.keys(Ll).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ll[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ll[i]}})});var Vl=X;Object.keys(Vl).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Vl[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Vl[i]}})});var zl=Ny;Object.keys(zl).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===zl[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return zl[i]}})});var Ul=qP;Object.keys(Ul).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Ul[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Ul[i]}})});var Bl=GP;Object.keys(Bl).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===Bl[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return Bl[i]}})});var f=KP;Object.keys(f).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===f[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return f[i]}})});var _=QP;Object.keys(_).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===_[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return _[i]}})})})(Ao);Object.defineProperty(na,"__esModule",{value:!0});na.rangeShape=na.default=void 0;var Vo=sB(L),qe=XP(ua),fp=XP(wl),Bn=Ao;function XP(t){return t&&t.__esModule?t:{default:t}}function JP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(JP=function(r){return r?n:e})(t)}function sB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=JP(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=s?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(this,arguments)}function Rc(t,e,n){return e=iB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iB(t){var e=aB(t,"string");return typeof e=="symbol"?e:String(e)}function aB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class S_ extends Vo.Component{constructor(e,n){super(e,n),Rc(this,"handleKeyEvent",r=>{const{day:s,onMouseDown:a,onMouseUp:o}=this.props;[13,32].includes(r.keyCode)&&(r.type==="keydown"?a(s):o(s))}),Rc(this,"handleMouseEvent",r=>{const{day:s,disabled:a,onPreviewChange:o,onMouseEnter:c,onMouseDown:d,onMouseUp:h}=this.props,g={};if(a){o();return}switch(r.type){case"mouseenter":c(s),o(s),g.hover=!0;break;case"blur":case"mouseleave":g.hover=!1;break;case"mousedown":g.active=!0,d(s);break;case"mouseup":r.stopPropagation(),g.active=!1,h(s);break;case"focus":o(s);break}Object.keys(g).length&&this.setState(g)}),Rc(this,"getClassNames",()=>{const{isPassive:r,isToday:s,isWeekend:a,isStartOfWeek:o,isEndOfWeek:c,isStartOfMonth:d,isEndOfMonth:h,disabled:g,styles:v}=this.props;return(0,fp.default)(v.day,{[v.dayPassive]:r,[v.dayDisabled]:g,[v.dayToday]:s,[v.dayWeekend]:a,[v.dayStartOfWeek]:o,[v.dayEndOfWeek]:c,[v.dayStartOfMonth]:d,[v.dayEndOfMonth]:h,[v.dayHovered]:this.state.hover,[v.dayActive]:this.state.active})}),Rc(this,"renderPreviewPlaceholder",()=>{const{preview:r,day:s,styles:a}=this.props;if(!r)return null;const o=r.startDate?(0,Bn.endOfDay)(r.startDate):null,c=r.endDate?(0,Bn.startOfDay)(r.endDate):null,d=(!o||(0,Bn.isAfter)(s,o))&&(!c||(0,Bn.isBefore)(s,c)),h=!d&&(0,Bn.isSameDay)(s,o),g=!d&&(0,Bn.isSameDay)(s,c);return Vo.default.createElement("span",{className:(0,fp.default)({[a.dayStartPreview]:h,[a.dayInPreview]:d,[a.dayEndPreview]:g}),style:{color:r.color}})}),Rc(this,"renderSelectionPlaceholders",()=>{const{styles:r,ranges:s,day:a}=this.props;return this.props.displayMode==="date"?(0,Bn.isSameDay)(this.props.day,this.props.date)?Vo.default.createElement("span",{className:r.selected,style:{color:this.props.color}}):null:s.reduce((c,d)=>{let h=d.startDate,g=d.endDate;h&&g&&(0,Bn.isBefore)(g,h)&&([h,g]=[g,h]),h=h?(0,Bn.endOfDay)(h):null,g=g?(0,Bn.startOfDay)(g):null;const v=(!h||(0,Bn.isAfter)(a,h))&&(!g||(0,Bn.isBefore)(a,g)),y=!v&&(0,Bn.isSameDay)(a,h),b=!v&&(0,Bn.isSameDay)(a,g);return v||y||b?[...c,{isStartEdge:y,isEndEdge:b,isInRange:v,...d}]:c},[]).map((c,d)=>Vo.default.createElement("span",{key:d,className:(0,fp.default)({[r.startEdge]:c.isStartEdge,[r.endEdge]:c.isEndEdge,[r.inRange]:c.isInRange}),style:{color:c.color||this.props.color}}))}),this.state={hover:!1,active:!1}}render(){const{dayContentRenderer:e}=this.props;return Vo.default.createElement("button",bv({type:"button",onMouseEnter:this.handleMouseEvent,onMouseLeave:this.handleMouseEvent,onFocus:this.handleMouseEvent,onMouseDown:this.handleMouseEvent,onMouseUp:this.handleMouseEvent,onBlur:this.handleMouseEvent,onPauseCapture:this.handleMouseEvent,onKeyDown:this.handleKeyEvent,onKeyUp:this.handleKeyEvent,className:this.getClassNames(this.props.styles)},this.props.disabled||this.props.isPassive?{tabIndex:-1}:{},{style:{color:this.props.color}}),this.renderSelectionPlaceholders(),this.renderPreviewPlaceholder(),Vo.default.createElement("span",{className:this.props.styles.dayNumber},(e==null?void 0:e(this.props.day))||Vo.default.createElement("span",null,(0,Bn.format)(this.props.day,this.props.dayDisplayFormat))))}}S_.defaultProps={};const oB=na.rangeShape=qe.default.shape({startDate:qe.default.object,endDate:qe.default.object,color:qe.default.string,key:qe.default.string,autoFocus:qe.default.bool,disabled:qe.default.bool,showDateDisplay:qe.default.bool});S_.propTypes={day:qe.default.object.isRequired,dayDisplayFormat:qe.default.string,date:qe.default.object,ranges:qe.default.arrayOf(oB),preview:qe.default.shape({startDate:qe.default.object,endDate:qe.default.object,color:qe.default.string}),onPreviewChange:qe.default.func,previewColor:qe.default.string,disabled:qe.default.bool,isPassive:qe.default.bool,isToday:qe.default.bool,isWeekend:qe.default.bool,isStartOfWeek:qe.default.bool,isEndOfWeek:qe.default.bool,isStartOfMonth:qe.default.bool,isEndOfMonth:qe.default.bool,color:qe.default.string,displayMode:qe.default.oneOf(["dateRange","date"]),styles:qe.default.object,onMouseDown:qe.default.func,onMouseUp:qe.default.func,onMouseEnter:qe.default.func,dayContentRenderer:qe.default.func};na.default=S_;var tg={},pa={};Object.defineProperty(pa,"__esModule",{value:!0});pa.calcFocusDate=cB;pa.findNextRangeIndex=dB;pa.generateStyles=hB;pa.getMonthDisplayRange=fB;var lB=uB(wl),Vi=Ao;function uB(t){return t&&t.__esModule?t:{default:t}}function cB(t,e){const{shownDate:n,date:r,months:s,ranges:a,focusedRange:o,displayMode:c}=e;let d;if(c==="dateRange"){const g=a[o[0]]||{};d={start:g.startDate,end:g.endDate}}else d={start:r,end:r};d.start=(0,Vi.startOfMonth)(d.start||new Date),d.end=(0,Vi.endOfMonth)(d.end||d.start);const h=d.start||d.end||n||new Date;return t?(0,Vi.differenceInCalendarMonths)(d.start,d.end)>s?t:h:n||h}function dB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;const n=t.findIndex((r,s)=>s>e&&r.autoFocus!==!1&&!r.disabled);return n!==-1?n:t.findIndex(r=>r.autoFocus!==!1&&!r.disabled)}function fB(t,e,n){const r=(0,Vi.startOfMonth)(t,e),s=(0,Vi.endOfMonth)(t,e),a=(0,Vi.startOfWeek)(r,e);let o=(0,Vi.endOfWeek)(s,e);return n&&(0,Vi.differenceInCalendarDays)(o,a)<=34&&(o=(0,Vi.addDays)(o,7)),{start:a,end:o,startDateOfMonth:r,endDateOfMonth:s}}function hB(t){return t.length?t.filter(n=>!!n).reduce((n,r)=>(Object.keys(r).forEach(s=>{n[s]=(0,lB.default)(n[s],r[s])}),n),{}):{}}Object.defineProperty(tg,"__esModule",{value:!0});tg.default=void 0;var Jo=tI(L),dt=gB(ua),ZP=tI(na),$t=Ao,mB=pa;function gB(t){return t&&t.__esModule?t:{default:t}}function eI(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(eI=function(r){return r?n:e})(t)}function tI(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=eI(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=s?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(this,arguments)}function pB(t,e,n){const r=new Date;return Jo.default.createElement("div",{className:t.weekDays},(0,$t.eachDayOfInterval)({start:(0,$t.startOfWeek)(r,e),end:(0,$t.endOfWeek)(r,e)}).map((s,a)=>Jo.default.createElement("span",{className:t.weekDay,key:a},(0,$t.format)(s,n,e))))}class T_ extends Jo.PureComponent{render(){const e=new Date,{displayMode:n,focusedRange:r,drag:s,styles:a,disabledDates:o,disabledDay:c}=this.props,d=this.props.minDate&&(0,$t.startOfDay)(this.props.minDate),h=this.props.maxDate&&(0,$t.endOfDay)(this.props.maxDate),g=(0,mB.getMonthDisplayRange)(this.props.month,this.props.dateOptions,this.props.fixedHeight);let v=this.props.ranges;if(n==="dateRange"&&s.status){let{startDate:b,endDate:N}=s.range;v=v.map((E,k)=>k!==r[0]?E:{...E,startDate:b,endDate:N})}const y=this.props.showPreview&&!s.disablePreview;return Jo.default.createElement("div",{className:a.month,style:this.props.style},this.props.showMonthName?Jo.default.createElement("div",{className:a.monthName},(0,$t.format)(this.props.month,this.props.monthDisplayFormat,this.props.dateOptions)):null,this.props.showWeekDays&&pB(a,this.props.dateOptions,this.props.weekdayDisplayFormat),Jo.default.createElement("div",{className:a.days,onMouseLeave:this.props.onMouseLeave},(0,$t.eachDayOfInterval)({start:g.start,end:g.end}).map((b,N)=>{const E=(0,$t.isSameDay)(b,g.startDateOfMonth),k=(0,$t.isSameDay)(b,g.endDateOfMonth),S=d&&(0,$t.isBefore)(b,d)||h&&(0,$t.isAfter)(b,h),T=o.some(R=>(0,$t.isSameDay)(R,b)),I=c(b);return Jo.default.createElement(ZP.default,Ev({},this.props,{ranges:v,day:b,preview:y?this.props.preview:null,isWeekend:(0,$t.isWeekend)(b,this.props.dateOptions),isToday:(0,$t.isSameDay)(b,e),isStartOfWeek:(0,$t.isSameDay)(b,(0,$t.startOfWeek)(b,this.props.dateOptions)),isEndOfWeek:(0,$t.isSameDay)(b,(0,$t.endOfWeek)(b,this.props.dateOptions)),isStartOfMonth:E,isEndOfMonth:k,key:N,disabled:S||T||I,isPassive:!(0,$t.isWithinInterval)(b,{start:g.startDateOfMonth,end:g.endDateOfMonth}),styles:a,onMouseDown:this.props.onDragSelectionStart,onMouseUp:this.props.onDragSelectionEnd,onMouseEnter:this.props.onDragSelectionMove,dragRange:s.range,drag:s.status}))})))}}T_.defaultProps={};T_.propTypes={style:dt.default.object,styles:dt.default.object,month:dt.default.object,drag:dt.default.object,dateOptions:dt.default.object,disabledDates:dt.default.array,disabledDay:dt.default.func,preview:dt.default.shape({startDate:dt.default.object,endDate:dt.default.object}),showPreview:dt.default.bool,displayMode:dt.default.oneOf(["dateRange","date"]),minDate:dt.default.object,maxDate:dt.default.object,ranges:dt.default.arrayOf(ZP.rangeShape),focusedRange:dt.default.arrayOf(dt.default.number),onDragSelectionStart:dt.default.func,onDragSelectionEnd:dt.default.func,onDragSelectionMove:dt.default.func,onMouseLeave:dt.default.func,monthDisplayFormat:dt.default.string,weekdayDisplayFormat:dt.default.string,dayDisplayFormat:dt.default.string,showWeekDays:dt.default.bool,showMonthName:dt.default.bool,fixedHeight:dt.default.bool};tg.default=T_;var ng={};Object.defineProperty(ng,"__esModule",{value:!0});ng.default=void 0;var zf=yB(L),ti=nI(ua),vB=nI(wl),Ac=Ao;function nI(t){return t&&t.__esModule?t:{default:t}}function rI(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(rI=function(r){return r?n:e})(t)}function yB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=rI(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=s?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}function hp(t,e,n){return e=_B(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _B(t){var e=xB(t,"string");return typeof e=="symbol"?e:String(e)}function xB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class P_ extends zf.PureComponent{constructor(e,n){super(e,n),hp(this,"onKeyDown",r=>{const{value:s}=this.state;r.key==="Enter"&&this.update(s)}),hp(this,"onChange",r=>{this.setState({value:r.target.value,changed:!0,invalid:!1})}),hp(this,"onBlur",()=>{const{value:r}=this.state;this.update(r)}),this.state={invalid:!1,changed:!1,value:this.formatDate(e)}}componentDidUpdate(e){const{value:n}=e;(0,Ac.isEqual)(n,this.props.value)||this.setState({value:this.formatDate(this.props)})}formatDate(e){let{value:n,dateDisplayFormat:r,dateOptions:s}=e;return n&&(0,Ac.isValid)(n)?(0,Ac.format)(n,r,s):""}update(e){const{invalid:n,changed:r}=this.state;if(n||!r||!e)return;const{onChange:s,dateDisplayFormat:a,dateOptions:o}=this.props,c=(0,Ac.parse)(e,a,new Date,o);(0,Ac.isValid)(c)?this.setState({changed:!1},()=>s(c)):this.setState({invalid:!0})}render(){const{className:e,readOnly:n,placeholder:r,ariaLabel:s,disabled:a,onFocus:o}=this.props,{value:c,invalid:d}=this.state;return zf.default.createElement("span",{className:(0,vB.default)("rdrDateInput",e)},zf.default.createElement("input",{readOnly:n,disabled:a,value:c,placeholder:r,"aria-label":s,onKeyDown:this.onKeyDown,onChange:this.onChange,onBlur:this.onBlur,onFocus:o}),d&&zf.default.createElement("span",{className:"rdrWarning"},""))}}P_.propTypes={value:ti.default.object,placeholder:ti.default.string,disabled:ti.default.bool,readOnly:ti.default.bool,dateOptions:ti.default.object,dateDisplayFormat:ti.default.string,ariaLabel:ti.default.string,className:ti.default.string,onFocus:ti.default.func.isRequired,onChange:ti.default.func.isRequired};P_.defaultProps={readOnly:!0,disabled:!1,dateDisplayFormat:"MMM D, YYYY"};ng.default=P_;var sI={};(function(t){(function(e,n){n(t,L,l)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:LN,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function s(J){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},s(J)}function a(J,q){if(!(J instanceof q))throw new TypeError("Cannot call a class as a function")}function o(J,q){for(var U=0;U<q.length;U++){var A=q[U];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(J,T(A.key),A)}}function c(J,q,U){return q&&o(J.prototype,q),U&&o(J,U),Object.defineProperty(J,"prototype",{writable:!1}),J}function d(J,q,U){return q=y(q),h(J,v()?Reflect.construct(q,U||[],y(J).constructor):q.apply(J,U))}function h(J,q){if(q&&(s(q)=="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(J)}function g(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function v(){try{var J=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v=function(){return!!J})()}function y(J){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},y(J)}function b(J,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(q&&q.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),q&&N(J,q)}function N(J,q){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,A){return U.__proto__=A,U},N(J,q)}function E(J,q){var U=Object.keys(J);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(J);q&&(A=A.filter(function(G){return Object.getOwnPropertyDescriptor(J,G).enumerable})),U.push.apply(U,A)}return U}function k(J){for(var q=1;q<arguments.length;q++){var U=arguments[q]!=null?arguments[q]:{};q%2?E(Object(U),!0).forEach(function(A){S(J,A,U[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(U)):E(Object(U)).forEach(function(A){Object.defineProperty(J,A,Object.getOwnPropertyDescriptor(U,A))})}return J}function S(J,q,U){return(q=T(q))in J?Object.defineProperty(J,q,{value:U,enumerable:!0,configurable:!0,writable:!0}):J[q]=U,J}function T(J){var q=I(J,"string");return s(q)=="symbol"?q:q+""}function I(J,q){if(s(J)!="object"||!J)return J;var U=J[Symbol.toPrimitive];if(U!==void 0){var A=U.call(J,q);if(s(A)!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(J)}var R={x:"clientWidth",y:"clientHeight"},$={x:"clientTop",y:"clientLeft"},H={x:"innerWidth",y:"innerHeight"},D={x:"offsetWidth",y:"offsetHeight"},w={x:"offsetLeft",y:"offsetTop"},P={x:"overflowX",y:"overflowY"},O={x:"scrollWidth",y:"scrollHeight"},M={x:"scrollLeft",y:"scrollTop"},V={x:"width",y:"height"},C=function(){},et=function(){if(typeof window>"u")return!1;var J=!1;try{document.createElement("div").addEventListener("test",C,{get passive(){return J=!0,!1}})}catch{}return J}()?{passive:!0}:!1,tt="ReactList failed to reach a stable state.",Z=40,Ae=function(q,U){for(var A in U)if(q[A]!==U[A])return!1;return!0},ee=function(q){for(var U=q.props.axis,A=q.getEl(),G=P[U];A=A.parentElement;)switch(window.getComputedStyle(A)[G]){case"auto":case"scroll":case"overlay":return A}return window},de=function(q){var U=q.props.axis,A=q.scrollParent;return A===window?window[H[U]]:A[R[U]]},ue=function(q,U){var A=q.length,G=q.minSize,oe=q.type,me=U.from,ge=U.size,pe=U.itemsPerRow;ge=Math.max(ge,G);var Ce=ge%pe;return Ce&&(ge+=pe-Ce),ge>A&&(ge=A),me=oe==="simple"||!me?0:Math.max(Math.min(me,A-ge),0),(Ce=me%pe)&&(me-=Ce,ge+=Ce),me===U.from&&ge===U.size?U:k(k({},U),{},{from:me,size:ge})},Pe=e.default=function(J){function q(U){var A;return a(this,q),A=d(this,q,[U]),A.state=ue(U,{itemsPerRow:1,from:U.initialIndex,size:0}),A.cache={},A.cachedScrollPosition=null,A.prevPrevState={},A.unstable=!1,A.updateCounter=0,A}return b(q,J),c(q,[{key:"componentDidMount",value:function(){this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this),window.addEventListener("resize",this.updateFrameAndClearCache),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(A){var G=this;if(this.props.axis!==A.axis&&this.clearSizeCache(),!this.unstable){if(++this.updateCounter>Z)return this.unstable=!0,console.error(tt);this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout(function(){G.updateCounter=0,delete G.updateCounterTimeoutId},0)),this.updateFrame()}}},{key:"maybeSetState",value:function(A,G){if(Ae(this.state,A))return G();this.setState(A,G)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrameAndClearCache),this.scrollParent.removeEventListener("scroll",this.updateFrameAndClearCache,et),this.scrollParent.removeEventListener("mousewheel",C,et)}},{key:"getOffset",value:function(A){var G=this.props.axis,oe=A[$[G]]||0,me=w[G];do oe+=A[me]||0;while(A=A.offsetParent);return oe}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollPosition",value:function(){if(typeof this.cachedScrollPosition=="number")return this.cachedScrollPosition;var A=this.scrollParent,G=this.props.axis,oe=M[G],me=A===window?document.body[oe]||document.documentElement[oe]:A[oe],ge=this.getScrollSize()-this.props.scrollParentViewportSizeGetter(this),pe=Math.max(0,Math.min(me,ge)),Ce=this.getEl();return this.cachedScrollPosition=this.getOffset(A)+pe-this.getOffset(Ce),this.cachedScrollPosition}},{key:"setScroll",value:function(A){var G=this.scrollParent,oe=this.props.axis;if(A+=this.getOffset(this.getEl()),G===window)return window.scrollTo(0,A);A-=this.getOffset(this.scrollParent),G[M[oe]]=A}},{key:"getScrollSize",value:function(){var A=this.scrollParent,G=document,oe=G.body,me=G.documentElement,ge=O[this.props.axis];return A===window?Math.max(oe[ge],me[ge]):A[ge]}},{key:"hasDeterminateSize",value:function(){var A=this.props,G=A.itemSizeGetter,oe=A.type;return oe==="uniform"||G}},{key:"getStartAndEnd",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.threshold,G=this.getScrollPosition(),oe=Math.max(0,G-A),me=G+this.props.scrollParentViewportSizeGetter(this)+A;return this.hasDeterminateSize()&&(me=Math.min(me,this.getSpaceBefore(this.props.length))),{start:oe,end:me}}},{key:"getItemSizeAndItemsPerRow",value:function(){var A=this.props,G=A.axis,oe=A.useStaticSize,me=this.state,ge=me.itemSize,pe=me.itemsPerRow;if(oe&&ge&&pe)return{itemSize:ge,itemsPerRow:pe};var Ce=this.items.children;if(!Ce.length)return{};var ke=Ce[0],Fe=ke[D[G]],Le=Math.abs(Fe-ge);if((isNaN(Le)||Le>=1)&&(ge=Fe),!ge)return{};var ct=w[G],bt=ke[ct];pe=1;for(var Yt=Ce[pe];Yt&&Yt[ct]===bt;Yt=Ce[pe])++pe;return{itemSize:ge,itemsPerRow:pe}}},{key:"clearSizeCache",value:function(){this.cachedScrollPosition=null}},{key:"updateFrameAndClearCache",value:function(A){return this.clearSizeCache(),this.updateFrame(A)}},{key:"updateFrame",value:function(A){switch(this.updateScrollParent(),typeof A!="function"&&(A=C),this.props.type){case"simple":return this.updateSimpleFrame(A);case"variable":return this.updateVariableFrame(A);case"uniform":return this.updateUniformFrame(A)}}},{key:"updateScrollParent",value:function(){var A=this.scrollParent;this.scrollParent=this.props.scrollParentGetter(this),A!==this.scrollParent&&(A&&(A.removeEventListener("scroll",this.updateFrameAndClearCache),A.removeEventListener("mousewheel",C)),this.clearSizeCache(),this.scrollParent.addEventListener("scroll",this.updateFrameAndClearCache,et),this.scrollParent.addEventListener("mousewheel",C,et))}},{key:"updateSimpleFrame",value:function(A){var G=this.getStartAndEnd(),oe=G.end,me=this.items.children,ge=0;if(me.length){var pe=this.props.axis,Ce=me[0],ke=me[me.length-1];ge=this.getOffset(ke)+ke[D[pe]]-this.getOffset(Ce)}if(ge>oe)return A();var Fe=this.props,Le=Fe.pageSize,ct=Fe.length,bt=Math.min(this.state.size+Le,ct);this.maybeSetState({size:bt},A)}},{key:"updateVariableFrame",value:function(A){this.props.itemSizeGetter||this.cacheSizes();for(var G=this.getStartAndEnd(),oe=G.start,me=G.end,ge=this.props,pe=ge.length,Ce=ge.pageSize,ke=0,Fe=0,Le=0,ct=pe-1;Fe<ct;){var bt=this.getSizeOfItem(Fe);if(bt==null||ke+bt>oe)break;ke+=bt,++Fe}for(var Yt=pe-Fe;Le<Yt&&ke<me;){var qn=this.getSizeOfItem(Fe+Le);if(qn==null){Le=Math.min(Le+Ce,Yt);break}ke+=qn,++Le}this.maybeSetState(ue(this.props,{from:Fe,itemsPerRow:1,size:Le}),A)}},{key:"updateUniformFrame",value:function(A){var G=this.getItemSizeAndItemsPerRow(),oe=G.itemSize,me=G.itemsPerRow;if(!oe||!me)return A();var ge=this.getStartAndEnd(),pe=ge.start,Ce=ge.end,ke=ue(this.props,{from:Math.floor(pe/oe)*me,size:(Math.ceil((Ce-pe)/oe)+1)*me,itemsPerRow:me}),Fe=ke.from,Le=ke.size;return this.maybeSetState({itemsPerRow:me,from:Fe,itemSize:oe,size:Le},A)}},{key:"getSpaceBefore",value:function(A){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(G[A]!=null)return G[A];var oe=this.state,me=oe.itemSize,ge=oe.itemsPerRow;if(me)return G[A]=Math.floor(A/ge)*me;for(var pe=A;pe>0&&G[--pe]==null;);for(var Ce=G[pe]||0,ke=pe;ke<A;++ke){G[ke]=Ce;var Fe=this.getSizeOfItem(ke);if(Fe==null)break;Ce+=Fe}return G[A]=Ce}},{key:"cacheSizes",value:function(){for(var A=this.cache,G=this.state.from,oe=this.items.children,me=D[this.props.axis],ge=0,pe=oe.length;ge<pe;++ge)A[G+ge]=oe[ge][me]}},{key:"getSizeOfItem",value:function(A){var G=this.cache,oe=this.items,me=this.props,ge=me.axis,pe=me.itemSizeGetter,Ce=me.itemSizeEstimator,ke=me.type,Fe=this.state,Le=Fe.from,ct=Fe.itemSize,bt=Fe.size;if(ct)return ct;if(pe)return pe(A);if(A in G)return G[A];if(ke==="simple"&&A>=Le&&A<Le+bt&&oe){var Yt=oe.children[A-Le];if(Yt)return Yt[D[ge]]}if(Ce)return Ce(A,G)}},{key:"scrollTo",value:function(A){A!=null&&this.setScroll(this.getSpaceBefore(A))}},{key:"scrollAround",value:function(A){var G=this.getScrollPosition(),oe=this.getSpaceBefore(A),me=oe-this.props.scrollParentViewportSizeGetter(this)+this.getSizeOfItem(A),ge=Math.min(me,oe),pe=Math.max(me,oe);if(G<=ge)return this.setScroll(ge);if(G>pe)return this.setScroll(pe)}},{key:"getVisibleRange",value:function(){for(var A=this.state,G=A.from,oe=A.size,me=this.getStartAndEnd(0),ge=me.start,pe=me.end,Ce={},ke,Fe,Le=G;Le<G+oe;++Le){var ct=this.getSpaceBefore(Le,Ce),bt=ct+this.getSizeOfItem(Le);ke==null&&bt>ge&&(ke=Le),ke!=null&&ct<pe&&(Fe=Le)}return[ke,Fe]}},{key:"renderItems",value:function(){for(var A=this,G=this.props,oe=G.itemRenderer,me=G.itemsRenderer,ge=this.state,pe=ge.from,Ce=ge.size,ke=[],Fe=0;Fe<Ce;++Fe)ke.push(oe(pe+Fe,Fe));return me(ke,function(Le){return A.items=Le})}},{key:"render",value:function(){var A=this,G=this.props,oe=G.axis,me=G.length,ge=G.type,pe=G.useTranslate3d,Ce=this.state,ke=Ce.from,Fe=Ce.itemsPerRow,Le=this.renderItems();if(ge==="simple")return Le;var ct={position:"relative"},bt={},Yt=Math.ceil(me/Fe)*Fe,qn=this.getSpaceBefore(Yt,bt);qn&&(ct[V[oe]]=qn,oe==="x"&&(ct.overflowX="hidden"));var js=this.getSpaceBefore(ke,bt),Gn=oe==="x"?js:0,Fn=oe==="y"?js:0,ur=pe?"translate3d(".concat(Gn,"px, ").concat(Fn,"px, 0)"):"translate(".concat(Gn,"px, ").concat(Fn,"px)"),Pr={msTransform:ur,WebkitTransform:ur,transform:ur};return(0,r.jsx)("div",{style:ct,ref:function(Ms){return A.el=Ms},children:(0,r.jsx)("div",{style:Pr,children:Le})})}}],[{key:"getDerivedStateFromProps",value:function(A,G){var oe=ue(A,G);return oe===G?null:oe}}])}(n.Component);S(Pe,"displayName","ReactList"),S(Pe,"defaultProps",{axis:"y",itemRenderer:function(q,U){return(0,r.jsx)("div",{children:q},U)},itemsRenderer:function(q,U){return(0,r.jsx)("div",{ref:U,children:q})},length:0,minSize:1,pageSize:10,scrollParentGetter:ee,scrollParentViewportSizeGetter:de,threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1})})})(sI);function wB(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),r=Object.keys(e),s=n.length;if(r.length!==s)return!1;for(var a=0;a<s;a++){var o=n[a];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}function bB(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const EB=Object.freeze(Object.defineProperty({__proto__:null,shallowEqualArrays:bB,shallowEqualObjects:wB},Symbol.toStringTag,{value:"Module"})),DB=zN(EB);var Sl={};Object.defineProperty(Sl,"__esModule",{value:!0});Sl.default=void 0;Sl.default={dateRangeWrapper:"rdrDateRangeWrapper",calendarWrapper:"rdrCalendarWrapper",dateDisplay:"rdrDateDisplay",dateDisplayItem:"rdrDateDisplayItem",dateDisplayItemActive:"rdrDateDisplayItemActive",monthAndYearWrapper:"rdrMonthAndYearWrapper",monthAndYearPickers:"rdrMonthAndYearPickers",nextPrevButton:"rdrNextPrevButton",month:"rdrMonth",weekDays:"rdrWeekDays",weekDay:"rdrWeekDay",days:"rdrDays",day:"rdrDay",dayNumber:"rdrDayNumber",dayPassive:"rdrDayPassive",dayToday:"rdrDayToday",dayStartOfWeek:"rdrDayStartOfWeek",dayEndOfWeek:"rdrDayEndOfWeek",daySelected:"rdrDaySelected",dayDisabled:"rdrDayDisabled",dayStartOfMonth:"rdrDayStartOfMonth",dayEndOfMonth:"rdrDayEndOfMonth",dayWeekend:"rdrDayWeekend",dayStartPreview:"rdrDayStartPreview",dayInPreview:"rdrDayInPreview",dayEndPreview:"rdrDayEndPreview",dayHovered:"rdrDayHovered",dayActive:"rdrDayActive",inRange:"rdrInRange",endEdge:"rdrEndEdge",startEdge:"rdrStartEdge",prevButton:"rdrPprevButton",nextButton:"rdrNextButton",selected:"rdrSelected",months:"rdrMonths",monthPicker:"rdrMonthPicker",yearPicker:"rdrYearPicker",dateDisplayWrapper:"rdrDateDisplayWrapper",definedRangesWrapper:"rdrDefinedRangesWrapper",staticRanges:"rdrStaticRanges",staticRange:"rdrStaticRange",inputRanges:"rdrInputRanges",inputRange:"rdrInputRange",inputRangeInput:"rdrInputRangeInput",dateRangePickerWrapper:"rdrDateRangePickerWrapper",staticRangeLabel:"rdrStaticRangeLabel",staticRangeSelected:"rdrStaticRangeSelected",monthName:"rdrMonthName",infiniteMonths:"rdrInfiniteMonths",monthsVertical:"rdrMonthsVertical",monthsHorizontal:"rdrMonthsHorizontal"};var rg={};Object.defineProperty(rg,"__esModule",{value:!0});rg.ariaLabelsShape=void 0;var Ai=SB(ua);function SB(t){return t&&t.__esModule?t:{default:t}}rg.ariaLabelsShape=Ai.default.shape({dateInput:Ai.default.objectOf(Ai.default.shape({startDate:Ai.default.string,endDate:Ai.default.string})),monthPicker:Ai.default.string,yearPicker:Ai.default.string,prevButton:Ai.default.string,nextButton:Ai.default.string});Object.defineProperty(zd,"__esModule",{value:!0});zd.default=void 0;var lt=jB(L),Se=qu(ua),TB=na,n1=qu(tg),r1=qu(ng),Uf=pa,zo=qu(wl),PB=qu(sI),IB=DB,xt=Ao,CB=qm,NB=qu(Sl),OB=rg;function qu(t){return t&&t.__esModule?t:{default:t}}function iI(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(iI=function(r){return r?n:e})(t)}function jB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=iI(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=s?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}function Qh(){return Qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qh.apply(this,arguments)}function $r(t,e,n){return e=MB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MB(t){var e=RB(t,"string");return typeof e=="symbol"?e:String(e)}function RB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let I_=class Dv extends lt.PureComponent{constructor(e,n){var r;super(e,n),r=this,$r(this,"focusToDate",function(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.props,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!a.scroll.enabled){if(o&&a.preventSnapRefocus){const h=(0,xt.differenceInCalendarMonths)(s,r.state.focusedDate),g=a.calendarFocus==="forwards"&&h>=0,v=a.calendarFocus==="backwards"&&h<=0;if((g||v)&&Math.abs(h)<a.months)return}r.setState({focusedDate:s});return}const c=(0,xt.differenceInCalendarMonths)(s,a.minDate,r.dateOptions),d=r.list.getVisibleRange();o&&d.includes(c)||(r.isFirstRender=!0,r.list.scrollTo(c),r.setState({focusedDate:s}))}),$r(this,"updateShownDate",function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.props;const a=s.scroll.enabled?{...s,months:r.list.getVisibleRange().length}:s,o=(0,Uf.calcFocusDate)(r.state.focusedDate,a);r.focusToDate(o,a)}),$r(this,"updatePreview",s=>{if(!s){this.setState({preview:null});return}const a={startDate:s,endDate:s,color:this.props.color};this.setState({preview:a})}),$r(this,"changeShownDate",function(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set";const{focusedDate:o}=r.state,{onShownDateChange:c,minDate:d,maxDate:h}=r.props,g={monthOffset:()=>(0,xt.addMonths)(o,s),setMonth:()=>(0,xt.setMonth)(o,s),setYear:()=>(0,xt.setYear)(o,s),set:()=>s},v=(0,xt.min)([(0,xt.max)([g[a](),d]),h]);r.focusToDate(v,r.props,!1),c&&c(v)}),$r(this,"handleRangeFocusChange",(s,a)=>{this.props.onRangeFocusChange&&this.props.onRangeFocusChange([s,a])}),$r(this,"handleScroll",()=>{const{onShownDateChange:s,minDate:a}=this.props,{focusedDate:o}=this.state,{isFirstRender:c}=this,d=this.list.getVisibleRange();if(d[0]===void 0)return;const h=(0,xt.addMonths)(a,d[0]||0);!(0,xt.isSameMonth)(h,o)&&!c&&(this.setState({focusedDate:h}),s&&s(h)),this.isFirstRender=!1}),$r(this,"renderMonthAndYear",(s,a,o)=>{const{showMonthArrow:c,minDate:d,maxDate:h,showMonthAndYearPickers:g,ariaLabels:v}=o,y=(h||Dv.defaultProps.maxDate).getFullYear(),b=(d||Dv.defaultProps.minDate).getFullYear(),N=this.styles;return lt.default.createElement("div",{onMouseUp:E=>E.stopPropagation(),className:N.monthAndYearWrapper},c?lt.default.createElement("button",{type:"button",className:(0,zo.default)(N.nextPrevButton,N.prevButton),onClick:()=>a(-1,"monthOffset"),"aria-label":v.prevButton},lt.default.createElement("i",null)):null,g?lt.default.createElement("span",{className:N.monthAndYearPickers},lt.default.createElement("span",{className:N.monthPicker},lt.default.createElement("select",{value:s.getMonth(),onChange:E=>a(E.target.value,"setMonth"),"aria-label":v.monthPicker},this.state.monthNames.map((E,k)=>lt.default.createElement("option",{key:k,value:k},E)))),lt.default.createElement("span",{className:N.monthAndYearDivider}),lt.default.createElement("span",{className:N.yearPicker},lt.default.createElement("select",{value:s.getFullYear(),onChange:E=>a(E.target.value,"setYear"),"aria-label":v.yearPicker},new Array(y-b+1).fill(y).map((E,k)=>{const S=E-k;return lt.default.createElement("option",{key:S,value:S},S)})))):lt.default.createElement("span",{className:N.monthAndYearPickers},this.state.monthNames[s.getMonth()]," ",s.getFullYear()),c?lt.default.createElement("button",{type:"button",className:(0,zo.default)(N.nextPrevButton,N.nextButton),onClick:()=>a(1,"monthOffset"),"aria-label":v.nextButton},lt.default.createElement("i",null)):null)}),$r(this,"renderDateDisplay",()=>{const{focusedRange:s,color:a,ranges:o,rangeColors:c,dateDisplayFormat:d,editableDateInputs:h,startDatePlaceholder:g,endDatePlaceholder:v,ariaLabels:y}=this.props,b=c[s[0]]||a,N=this.styles;return lt.default.createElement("div",{className:N.dateDisplayWrapper},o.map((E,k)=>E.showDateDisplay===!1||E.disabled&&!E.showDateDisplay?null:lt.default.createElement("div",{className:N.dateDisplay,key:k,style:{color:E.color||b}},lt.default.createElement(r1.default,{className:(0,zo.default)(N.dateDisplayItem,{[N.dateDisplayItemActive]:s[0]===k&&s[1]===0}),readOnly:!h,disabled:E.disabled,value:E.startDate,placeholder:g,dateOptions:this.dateOptions,dateDisplayFormat:d,ariaLabel:y.dateInput&&y.dateInput[E.key]&&y.dateInput[E.key].startDate,onChange:this.onDragSelectionEnd,onFocus:()=>this.handleRangeFocusChange(k,0)}),lt.default.createElement(r1.default,{className:(0,zo.default)(N.dateDisplayItem,{[N.dateDisplayItemActive]:s[0]===k&&s[1]===1}),readOnly:!h,disabled:E.disabled,value:E.endDate,placeholder:v,dateOptions:this.dateOptions,dateDisplayFormat:d,ariaLabel:y.dateInput&&y.dateInput[E.key]&&y.dateInput[E.key].endDate,onChange:this.onDragSelectionEnd,onFocus:()=>this.handleRangeFocusChange(k,1)}))))}),$r(this,"onDragSelectionStart",s=>{const{onChange:a,dragSelectionEnabled:o}=this.props;o?this.setState({drag:{status:!0,range:{startDate:s,endDate:s},disablePreview:!0}}):a&&a(s)}),$r(this,"onDragSelectionEnd",s=>{const{updateRange:a,displayMode:o,onChange:c,dragSelectionEnabled:d}=this.props;if(!d)return;if(o==="date"||!this.state.drag.status){c&&c(s);return}const h={startDate:this.state.drag.range.startDate,endDate:s};o!=="dateRange"||(0,xt.isSameDay)(h.startDate,s)?this.setState({drag:{status:!1,range:{}}},()=>c&&c(s)):this.setState({drag:{status:!1,range:{}}},()=>{a&&a(h)})}),$r(this,"onDragSelectionMove",s=>{const{drag:a}=this.state;!a.status||!this.props.dragSelectionEnabled||this.setState({drag:{status:a.status,range:{startDate:a.range.startDate,endDate:s},disablePreview:!0}})}),$r(this,"estimateMonthSize",(s,a)=>{const{direction:o,minDate:c}=this.props,{scrollArea:d}=this.state;if(a&&(this.listSizeCache=a,a[s]))return a[s];if(o==="horizontal")return d.monthWidth;const h=(0,xt.addMonths)(c,s),{start:g,end:v}=(0,Uf.getMonthDisplayRange)(h,this.dateOptions);return(0,xt.differenceInDays)(v,g,this.dateOptions)+1>7*5?d.longMonthHeight:d.monthHeight}),this.dateOptions={locale:e.locale},e.weekStartsOn!==void 0&&(this.dateOptions.weekStartsOn=e.weekStartsOn),this.styles=(0,Uf.generateStyles)([NB.default,e.classNames]),this.listSizeCache={},this.isFirstRender=!0,this.state={monthNames:this.getMonthNames(),focusedDate:(0,Uf.calcFocusDate)(null,e),drag:{status:!1,range:{startDate:null,endDate:null},disablePreview:!1},scrollArea:this.calcScrollArea(e)}}getMonthNames(){return[...Array(12).keys()].map(e=>this.props.locale.localize.month(e))}calcScrollArea(e){const{direction:n,months:r,scroll:s}=e;if(!s.enabled)return{enabled:!1};const a=s.longMonthHeight||s.monthHeight;return n==="vertical"?{enabled:!0,monthHeight:s.monthHeight||220,longMonthHeight:a||260,calendarWidth:"auto",calendarHeight:(s.calendarHeight||a||240)*r}:{enabled:!0,monthWidth:s.monthWidth||332,calendarWidth:(s.calendarWidth||s.monthWidth||332)*r,monthHeight:a||300,calendarHeight:a||300}}componentDidMount(){this.props.scroll.enabled&&setTimeout(()=>this.focusToDate(this.state.focusedDate))}componentDidUpdate(e){const r={dateRange:"ranges",date:"date"}[this.props.displayMode];this.props[r]!==e[r]&&this.updateShownDate(this.props),(e.locale!==this.props.locale||e.weekStartsOn!==this.props.weekStartsOn)&&(this.dateOptions={locale:this.props.locale},this.props.weekStartsOn!==void 0&&(this.dateOptions.weekStartsOn=this.props.weekStartsOn),this.setState({monthNames:this.getMonthNames()})),(0,IB.shallowEqualObjects)(e.scroll,this.props.scroll)||this.setState({scrollArea:this.calcScrollArea(this.props)})}renderWeekdays(){const e=new Date;return lt.default.createElement("div",{className:this.styles.weekDays},(0,xt.eachDayOfInterval)({start:(0,xt.startOfWeek)(e,this.dateOptions),end:(0,xt.endOfWeek)(e,this.dateOptions)}).map((n,r)=>lt.default.createElement("span",{className:this.styles.weekDay,key:r},(0,xt.format)(n,this.props.weekdayDisplayFormat,this.dateOptions))))}render(){const{showDateDisplay:e,onPreviewChange:n,scroll:r,direction:s,disabledDates:a,disabledDay:o,maxDate:c,minDate:d,rangeColors:h,color:g,navigatorRenderer:v,className:y,preview:b}=this.props,{scrollArea:N,focusedDate:E}=this.state,k=s==="vertical",S=v||this.renderMonthAndYear,T=this.props.ranges.map((I,R)=>({...I,color:I.color||h[R]||g}));return lt.default.createElement("div",{className:(0,zo.default)(this.styles.calendarWrapper,y),onMouseUp:()=>this.setState({drag:{status:!1,range:{}}}),onMouseLeave:()=>{this.setState({drag:{status:!1,range:{}}})}},e&&this.renderDateDisplay(),S(E,this.changeShownDate,this.props),r.enabled?lt.default.createElement("div",null,k&&this.renderWeekdays(this.dateOptions),lt.default.createElement("div",{className:(0,zo.default)(this.styles.infiniteMonths,k?this.styles.monthsVertical:this.styles.monthsHorizontal),onMouseLeave:()=>n&&n(),style:{width:N.calendarWidth+11,height:N.calendarHeight+11},onScroll:this.handleScroll},lt.default.createElement(PB.default,{length:(0,xt.differenceInCalendarMonths)((0,xt.endOfMonth)(c),(0,xt.addDays)((0,xt.startOfMonth)(d),-1),this.dateOptions),treshold:500,type:"variable",ref:I=>this.list=I,itemSizeEstimator:this.estimateMonthSize,axis:k?"y":"x",itemRenderer:(I,R)=>{const $=(0,xt.addMonths)(d,I);return lt.default.createElement(n1.default,Qh({},this.props,{onPreviewChange:n||this.updatePreview,preview:b||this.state.preview,ranges:T,key:R,drag:this.state.drag,dateOptions:this.dateOptions,disabledDates:a,disabledDay:o,month:$,onDragSelectionStart:this.onDragSelectionStart,onDragSelectionEnd:this.onDragSelectionEnd,onDragSelectionMove:this.onDragSelectionMove,onMouseLeave:()=>n&&n(),styles:this.styles,style:k?{height:this.estimateMonthSize(I)}:{height:N.monthHeight,width:this.estimateMonthSize(I)},showMonthName:!0,showWeekDays:!k}))}}))):lt.default.createElement("div",{className:(0,zo.default)(this.styles.months,k?this.styles.monthsVertical:this.styles.monthsHorizontal)},new Array(this.props.months).fill(null).map((I,R)=>{let $=(0,xt.addMonths)(this.state.focusedDate,R);return this.props.calendarFocus==="backwards"&&($=(0,xt.subMonths)(this.state.focusedDate,this.props.months-1-R)),lt.default.createElement(n1.default,Qh({},this.props,{onPreviewChange:n||this.updatePreview,preview:b||this.state.preview,ranges:T,key:R,drag:this.state.drag,dateOptions:this.dateOptions,disabledDates:a,disabledDay:o,month:$,onDragSelectionStart:this.onDragSelectionStart,onDragSelectionEnd:this.onDragSelectionEnd,onDragSelectionMove:this.onDragSelectionMove,onMouseLeave:()=>n&&n(),styles:this.styles,showWeekDays:!k||R===0,showMonthName:!k||R>0}))})))}};I_.defaultProps={showMonthArrow:!0,showMonthAndYearPickers:!0,disabledDates:[],disabledDay:()=>{},classNames:{},locale:CB.enUS,ranges:[],focusedRange:[0,0],dateDisplayFormat:"MMM d, yyyy",monthDisplayFormat:"MMM yyyy",weekdayDisplayFormat:"E",dayDisplayFormat:"d",showDateDisplay:!0,showPreview:!0,displayMode:"date",months:1,color:"#3d91ff",scroll:{enabled:!1},direction:"vertical",maxDate:(0,xt.addYears)(new Date,20),minDate:(0,xt.addYears)(new Date,-100),rangeColors:["#3d91ff","#3ecf8e","#fed14c"],startDatePlaceholder:"Early",endDatePlaceholder:"Continuous",editableDateInputs:!1,dragSelectionEnabled:!0,fixedHeight:!1,calendarFocus:"forwards",preventSnapRefocus:!1,ariaLabels:{}};I_.propTypes={showMonthArrow:Se.default.bool,showMonthAndYearPickers:Se.default.bool,disabledDates:Se.default.array,disabledDay:Se.default.func,minDate:Se.default.object,maxDate:Se.default.object,date:Se.default.object,onChange:Se.default.func,onPreviewChange:Se.default.func,onRangeFocusChange:Se.default.func,classNames:Se.default.object,locale:Se.default.object,shownDate:Se.default.object,onShownDateChange:Se.default.func,ranges:Se.default.arrayOf(TB.rangeShape),preview:Se.default.shape({startDate:Se.default.object,endDate:Se.default.object,color:Se.default.string}),dateDisplayFormat:Se.default.string,monthDisplayFormat:Se.default.string,weekdayDisplayFormat:Se.default.string,weekStartsOn:Se.default.number,dayDisplayFormat:Se.default.string,focusedRange:Se.default.arrayOf(Se.default.number),initialFocusedRange:Se.default.arrayOf(Se.default.number),months:Se.default.number,className:Se.default.string,showDateDisplay:Se.default.bool,showPreview:Se.default.bool,displayMode:Se.default.oneOf(["dateRange","date"]),color:Se.default.string,updateRange:Se.default.func,scroll:Se.default.shape({enabled:Se.default.bool,monthHeight:Se.default.number,longMonthHeight:Se.default.number,monthWidth:Se.default.number,calendarWidth:Se.default.number,calendarHeight:Se.default.number}),direction:Se.default.oneOf(["vertical","horizontal"]),startDatePlaceholder:Se.default.string,endDatePlaceholder:Se.default.string,navigatorRenderer:Se.default.func,rangeColors:Se.default.arrayOf(Se.default.string),editableDateInputs:Se.default.bool,dragSelectionEnabled:Se.default.bool,fixedHeight:Se.default.bool,calendarFocus:Se.default.string,preventSnapRefocus:Se.default.bool,ariaLabels:OB.ariaLabelsShape};zd.default=I_;Object.defineProperty(Vd,"__esModule",{value:!0});Vd.default=void 0;var s1=LB(L),Kl=sg(ua),aI=sg(zd),AB=na,mp=pa,ni=Ao,FB=sg(wl),kB=sg(Sl);function sg(t){return t&&t.__esModule?t:{default:t}}function oI(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(oI=function(r){return r?n:e})(t)}function LB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=oI(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=s?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}function Bf(t,e,n){return e=VB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VB(t){var e=zB(t,"string");return typeof e=="symbol"?e:String(e)}function zB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class C_ extends s1.Component{constructor(e,n){var r;super(e,n),r=this,Bf(this,"calcNewSelection",function(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const o=r.props.focusedRange||r.state.focusedRange,{ranges:c,onChange:d,maxDate:h,moveRangeOnFirstSelection:g,retainEndDateOnFirstSelection:v,disabledDates:y}=r.props,b=o[0],N=c[b];if(!N||!d)return{};let{startDate:E,endDate:k}=N;const S=new Date;let T;if(!a)E=s.startDate,k=s.endDate;else if(o[1]===0){const $=(0,ni.differenceInCalendarDays)(k||S,E),H=()=>g?(0,ni.addDays)(s,$):v?!k||(0,ni.isBefore)(s,k)?k:s:s||S;E=s,k=H(),h&&(k=(0,ni.min)([k,h])),T=[o[0],1]}else k=s;let I=o[1]===0;(0,ni.isBefore)(k,E)&&(I=!I,[E,k]=[k,E]);const R=y.filter($=>(0,ni.isWithinInterval)($,{start:E,end:k}));return R.length>0&&(I?E=(0,ni.addDays)((0,ni.max)(R),1):k=(0,ni.addDays)((0,ni.min)(R),-1)),T||(T=[(0,mp.findNextRangeIndex)(r.props.ranges,o[0]),0]),{wasValid:!(R.length>0),range:{startDate:E,endDate:k},nextFocusRange:T}}),Bf(this,"setSelection",(s,a)=>{const{onChange:o,ranges:c,onRangeFocusChange:d}=this.props,g=(this.props.focusedRange||this.state.focusedRange)[0],v=c[g];if(!v)return;const y=this.calcNewSelection(s,a);o({[v.key||`range${g+1}`]:{...v,...y.range}}),this.setState({focusedRange:y.nextFocusRange,preview:null}),d&&d(y.nextFocusRange)}),Bf(this,"handleRangeFocusChange",s=>{this.setState({focusedRange:s}),this.props.onRangeFocusChange&&this.props.onRangeFocusChange(s)}),Bf(this,"updatePreview",s=>{var h;if(!s){this.setState({preview:null});return}const{rangeColors:a,ranges:o}=this.props,c=this.props.focusedRange||this.state.focusedRange,d=((h=o[c[0]])==null?void 0:h.color)||a[c[0]]||d;this.setState({preview:{...s.range,color:d}})}),this.state={focusedRange:e.initialFocusedRange||[(0,mp.findNextRangeIndex)(e.ranges),0],preview:null},this.styles=(0,mp.generateStyles)([kB.default,e.classNames])}render(){return s1.default.createElement(aI.default,Sv({focusedRange:this.state.focusedRange,onRangeFocusChange:this.handleRangeFocusChange,preview:this.state.preview,onPreviewChange:e=>{this.updatePreview(e?this.calcNewSelection(e):null)}},this.props,{displayMode:"dateRange",className:(0,FB.default)(this.styles.dateRangeWrapper,this.props.className),onChange:this.setSelection,updateRange:e=>this.setSelection(e,!1),ref:e=>{this.calendar=e}}))}}C_.defaultProps={classNames:{},ranges:[],moveRangeOnFirstSelection:!1,retainEndDateOnFirstSelection:!1,rangeColors:["#3d91ff","#3ecf8e","#fed14c"],disabledDates:[]};C_.propTypes={...aI.default.propTypes,onChange:Kl.default.func,onRangeFocusChange:Kl.default.func,className:Kl.default.string,ranges:Kl.default.arrayOf(AB.rangeShape),moveRangeOnFirstSelection:Kl.default.bool,retainEndDateOnFirstSelection:Kl.default.bool};Vd.default=C_;var ig={},Zd={},Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.createStaticRanges=lI;Po.defaultStaticRanges=Po.defaultInputRanges=void 0;var gt=Ao;const nn={startOfWeek:(0,gt.startOfWeek)(new Date),endOfWeek:(0,gt.endOfWeek)(new Date),startOfLastWeek:(0,gt.startOfWeek)((0,gt.addDays)(new Date,-7)),endOfLastWeek:(0,gt.endOfWeek)((0,gt.addDays)(new Date,-7)),startOfToday:(0,gt.startOfDay)(new Date),endOfToday:(0,gt.endOfDay)(new Date),startOfYesterday:(0,gt.startOfDay)((0,gt.addDays)(new Date,-1)),endOfYesterday:(0,gt.endOfDay)((0,gt.addDays)(new Date,-1)),startOfMonth:(0,gt.startOfMonth)(new Date),endOfMonth:(0,gt.endOfMonth)(new Date),startOfLastMonth:(0,gt.startOfMonth)((0,gt.addMonths)(new Date,-1)),endOfLastMonth:(0,gt.endOfMonth)((0,gt.addMonths)(new Date,-1))},UB={range:{},isSelected(t){const e=this.range();return(0,gt.isSameDay)(t.startDate,e.startDate)&&(0,gt.isSameDay)(t.endDate,e.endDate)}};function lI(t){return t.map(e=>({...UB,...e}))}Po.defaultStaticRanges=lI([{label:"Today",range:()=>({startDate:nn.startOfToday,endDate:nn.endOfToday})},{label:"Yesterday",range:()=>({startDate:nn.startOfYesterday,endDate:nn.endOfYesterday})},{label:"This Week",range:()=>({startDate:nn.startOfWeek,endDate:nn.endOfWeek})},{label:"Last Week",range:()=>({startDate:nn.startOfLastWeek,endDate:nn.endOfLastWeek})},{label:"This Month",range:()=>({startDate:nn.startOfMonth,endDate:nn.endOfMonth})},{label:"Last Month",range:()=>({startDate:nn.startOfLastMonth,endDate:nn.endOfLastMonth})}]);Po.defaultInputRanges=[{label:"days up to today",range(t){return{startDate:(0,gt.addDays)(nn.startOfToday,(Math.max(Number(t),1)-1)*-1),endDate:nn.endOfToday}},getCurrentValue(t){return(0,gt.isSameDay)(t.endDate,nn.endOfToday)?t.startDate?(0,gt.differenceInCalendarDays)(nn.endOfToday,t.startDate)+1:"":"-"}},{label:"days starting today",range(t){const e=new Date;return{startDate:e,endDate:(0,gt.addDays)(e,Math.max(Number(t),1)-1)}},getCurrentValue(t){return(0,gt.isSameDay)(t.startDate,nn.startOfToday)?t.endDate?(0,gt.differenceInCalendarDays)(t.endDate,nn.startOfToday)+1:"":"-"}}];var ag={};Object.defineProperty(ag,"__esModule",{value:!0});ag.default=void 0;var Wf=WB(L),nr=BB(ua);function BB(t){return t&&t.__esModule?t:{default:t}}function uI(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(uI=function(r){return r?n:e})(t)}function WB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=uI(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=s?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}function $B(t,e,n){return e=HB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HB(t){var e=YB(t,"string");return typeof e=="symbol"?e:String(e)}function YB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const i1=0,a1=99999;class N_ extends Wf.Component{constructor(e,n){super(e,n),$B(this,"onChange",r=>{const{onChange:s}=this.props;let a=parseInt(r.target.value,10);a=isNaN(a)?0:Math.max(Math.min(a1,a),i1),s(a)})}shouldComponentUpdate(e){const{value:n,label:r,placeholder:s}=this.props;return n!==e.value||r!==e.label||s!==e.placeholder}render(){const{label:e,placeholder:n,value:r,styles:s,onBlur:a,onFocus:o}=this.props;return Wf.default.createElement("div",{className:s.inputRange},Wf.default.createElement("input",{className:s.inputRangeInput,placeholder:n,value:r,min:i1,max:a1,onChange:this.onChange,onFocus:o,onBlur:a}),Wf.default.createElement("span",{className:s.inputRangeLabel},e))}}N_.propTypes={value:nr.default.oneOfType([nr.default.string,nr.default.number]),label:nr.default.oneOfType([nr.default.element,nr.default.node]).isRequired,placeholder:nr.default.string,styles:nr.default.shape({inputRange:nr.default.string,inputRangeInput:nr.default.string,inputRangeLabel:nr.default.string}).isRequired,onBlur:nr.default.func.isRequired,onFocus:nr.default.func.isRequired,onChange:nr.default.func.isRequired};N_.defaultProps={value:"",placeholder:"-"};ag.default=N_;Object.defineProperty(Zd,"__esModule",{value:!0});Zd.default=void 0;var Uo=KB(L),pr=og(ua),Bo=og(Sl),o1=Po,qB=na,GB=og(ag),l1=og(wl);function og(t){return t&&t.__esModule?t:{default:t}}function cI(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(cI=function(r){return r?n:e})(t)}function KB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=cI(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=s?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}function QB(t,e,n){return e=XB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XB(t){var e=JB(t,"string");return typeof e=="symbol"?e:String(e)}function JB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class O_ extends Uo.Component{constructor(e){super(e),QB(this,"handleRangeChange",n=>{const{onChange:r,ranges:s,focusedRange:a}=this.props,o=s[a[0]];!r||!o||r({[o.key||`range${a[0]+1}`]:{...o,...n}})}),this.state={rangeOffset:0,focusedInput:-1}}getRangeOptionValue(e){const{ranges:n=[],focusedRange:r=[]}=this.props;if(typeof e.getCurrentValue!="function")return"";const s=n[r[0]]||{};return e.getCurrentValue(s)||""}getSelectedRange(e,n){const r=e.findIndex(a=>!a.startDate||!a.endDate||a.disabled?!1:n.isSelected(a));return{selectedRange:e[r],focusedRangeIndex:r}}render(){const{headerContent:e,footerContent:n,onPreviewChange:r,inputRanges:s,staticRanges:a,ranges:o,renderStaticRangeLabel:c,rangeColors:d,className:h}=this.props;return Uo.default.createElement("div",{className:(0,l1.default)(Bo.default.definedRangesWrapper,h)},e,Uo.default.createElement("div",{className:Bo.default.staticRanges},a.map((g,v)=>{const{selectedRange:y,focusedRangeIndex:b}=this.getSelectedRange(o,g);let N;return g.hasCustomRendering?N=c(g):N=g.label,Uo.default.createElement("button",{type:"button",className:(0,l1.default)(Bo.default.staticRange,{[Bo.default.staticRangeSelected]:!!y}),style:{color:y?y.color||d[b]:null},key:v,onClick:()=>this.handleRangeChange(g.range(this.props)),onFocus:()=>r&&r(g.range(this.props)),onMouseOver:()=>r&&r(g.range(this.props)),onMouseLeave:()=>{r&&r()}},Uo.default.createElement("span",{tabIndex:-1,className:Bo.default.staticRangeLabel},N))})),Uo.default.createElement("div",{className:Bo.default.inputRanges},s.map((g,v)=>Uo.default.createElement(GB.default,{key:v,styles:Bo.default,label:g.label,onFocus:()=>this.setState({focusedInput:v,rangeOffset:0}),onBlur:()=>this.setState({rangeOffset:0}),onChange:y=>this.handleRangeChange(g.range(y,this.props)),value:this.getRangeOptionValue(g)}))),n)}}O_.propTypes={inputRanges:pr.default.array,staticRanges:pr.default.array,ranges:pr.default.arrayOf(qB.rangeShape),focusedRange:pr.default.arrayOf(pr.default.number),onPreviewChange:pr.default.func,onChange:pr.default.func,footerContent:pr.default.any,headerContent:pr.default.any,rangeColors:pr.default.arrayOf(pr.default.string),className:pr.default.string,renderStaticRangeLabel:pr.default.func};O_.defaultProps={inputRanges:o1.defaultInputRanges,staticRanges:o1.defaultStaticRanges,ranges:[],rangeColors:["#3d91ff","#3ecf8e","#fed14c"],focusedRange:[0,0]};Zd.default=O_;Object.defineProperty(ig,"__esModule",{value:!0});ig.default=void 0;var $f=nW(L),ZB=ef(ua),dI=ef(Vd),fI=ef(Zd),u1=pa,eW=ef(wl),tW=ef(Sl);function ef(t){return t&&t.__esModule?t:{default:t}}function hI(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(hI=function(r){return r?n:e})(t)}function nW(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=hI(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=s?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=t[a]}return r.default=t,n&&n.set(t,r),r}function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(this,arguments)}class j_ extends $f.Component{constructor(e){super(e),this.state={focusedRange:[(0,u1.findNextRangeIndex)(e.ranges),0]},this.styles=(0,u1.generateStyles)([tW.default,e.classNames])}render(){const{focusedRange:e}=this.state;return $f.default.createElement("div",{className:(0,eW.default)(this.styles.dateRangePickerWrapper,this.props.className)},$f.default.createElement(fI.default,Xh({focusedRange:e,onPreviewChange:n=>this.dateRange.updatePreview(n?this.dateRange.calcNewSelection(n,typeof n=="string"):null)},this.props,{range:this.props.ranges[e[0]],className:void 0})),$f.default.createElement(dI.default,Xh({onRangeFocusChange:n=>this.setState({focusedRange:n}),focusedRange:e},this.props,{ref:n=>this.dateRange=n,className:void 0})))}}j_.defaultProps={};j_.propTypes={...dI.default.propTypes,...fI.default.propTypes,className:ZB.default.string};ig.default=j_;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Calendar",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"DateRange",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"DateRangePicker",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"DefinedRange",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"createStaticRanges",{enumerable:!0,get:function(){return a.createStaticRanges}}),Object.defineProperty(t,"defaultInputRanges",{enumerable:!0,get:function(){return a.defaultInputRanges}}),Object.defineProperty(t,"defaultStaticRanges",{enumerable:!0,get:function(){return a.defaultStaticRanges}});var e=o(Vd),n=o(zd),r=o(ig),s=o(Zd),a=Po;function o(c){return c&&c.__esModule?c:{default:c}}})($0);var rW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iW=(t,e)=>{const n=L.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:c,...d},h)=>L.createElement("svg",{ref:h,...rW,width:s,height:s,stroke:r,strokeWidth:o?Number(a)*24/Number(s):a,className:`lucide lucide-${sW(t)}`,...d},[...e.map(([g,v])=>L.createElement(g,v)),...(Array.isArray(c)?c:[c])||[]]));return n.displayName=`${t}`,n};var Ye=iW;const mI=Ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),gI=Ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Hf=Ye("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]),qo=Ye("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),aW=Ye("Bus",[["path",{d:"M19 17h2l.64-2.54c.24-.959.24-1.962 0-2.92l-1.07-4.27A3 3 0 0 0 17.66 5H4a2 2 0 0 0-2 2v10h2",key:"wfsdqh"}],["path",{d:"M14 17H9",key:"o2noo5"}],["circle",{cx:"6.5",cy:"17.5",r:"2.5",key:"gc8oob"}],["circle",{cx:"16.5",cy:"17.5",r:"2.5",key:"4btu0q"}]]),td=Ye("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Go=Ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),oW=Ye("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),nd=Ye("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),gh=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),lW=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),lg=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ko=Ye("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),ii=Ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Yf=Ye("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),c1=Ye("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),d1=Ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),f1=Ye("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),uW=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ra=Ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),qf=Ye("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),pI=Ye("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),gp=Ye("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),zi=Ye("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),Uc=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),cW=Ye("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),h1=Ye("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Ui=Ye("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]),dW=Ye("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),fu=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Gf=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),fW=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),hW=Ye("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),_r=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var vI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},m1=Qr.createContext&&Qr.createContext(vI),mW=["attr","size","title"];function gW(t,e){if(t==null)return{};var n=pW(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jh.apply(this,arguments)}function g1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Zh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g1(Object(n),!0).forEach(function(r){vW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vW(t,e,n){return e=yW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yW(t){var e=_W(t,"string");return typeof e=="symbol"?e:e+""}function _W(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yI(t){return t&&t.map((e,n)=>Qr.createElement(e.tag,Zh({key:n},e.attr),yI(e.child)))}function lr(t){return e=>Qr.createElement(xW,Jh({attr:Zh({},t.attr)},e),yI(t.child))}function xW(t){var e=n=>{var{attr:r,size:s,title:a}=t,o=gW(t,mW),c=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Qr.createElement("svg",Jh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:d,style:Zh(Zh({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Qr.createElement("title",null,a),t.children)};return m1!==void 0?Qr.createElement(m1.Consumer,null,n=>e(n)):e(vI)}function no(t){return lr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"},child:[]}]})(t)}function wW(t){return lr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(t)}function bW(t){return lr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function ki(t){return lr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 96v256c0 51.815-61.624 96-130.022 96l62.98 49.721C386.905 502.417 383.562 512 376 512H72c-7.578 0-10.892-9.594-4.957-14.279L130.022 448C61.82 448 0 403.954 0 352V96C0 42.981 64 0 128 0h192c65 0 128 42.981 128 96zM200 232V120c0-13.255-10.745-24-24-24H72c-13.255 0-24 10.745-24 24v112c0 13.255 10.745 24 24 24h104c13.255 0 24-10.745 24-24zm200 0V120c0-13.255-10.745-24-24-24H272c-13.255 0-24 10.745-24 24v112c0 13.255 10.745 24 24 24h104c13.255 0 24-10.745 24-24zm-48 56c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm-256 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(t)}function Qo(t){return lr({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}function Ds(t){return lr({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M208 96c26.5 0 48-21.5 48-48S234.5 0 208 0s-48 21.5-48 48 21.5 48 48 48zm94.5 149.1l-23.3-11.8-9.7-29.4c-14.7-44.6-55.7-75.8-102.2-75.9-36-.1-55.9 10.1-93.3 25.2-21.6 8.7-39.3 25.2-49.7 46.2L17.6 213c-7.8 15.8-1.5 35 14.2 42.9 15.6 7.9 34.6 1.5 42.5-14.3L81 228c3.5-7 9.3-12.5 16.5-15.4l26.8-10.8-15.2 60.7c-5.2 20.8.4 42.9 14.9 58.8l59.9 65.4c7.2 7.9 12.3 17.4 14.9 27.7l18.3 73.3c4.3 17.1 21.7 27.6 38.8 23.3 17.1-4.3 27.6-21.7 23.3-38.8l-22.2-89c-2.6-10.3-7.7-19.9-14.9-27.7l-45.5-49.7 17.2-68.7 5.5 16.5c5.3 16.1 16.7 29.4 31.7 37l23.3 11.8c15.6 7.9 34.6 1.5 42.5-14.3 7.7-15.7 1.4-35.1-14.3-43zM73.6 385.8c-3.2 8.1-8 15.4-14.2 21.5l-50 50.1c-12.5 12.5-12.5 32.8 0 45.3s32.7 12.5 45.2 0l59.4-59.4c6.1-6.1 10.9-13.4 14.2-21.5l13.5-33.8c-55.3-60.3-38.7-41.8-47.4-53.7l-20.7 51.5z"},child:[]}]})(t)}function EW(t){return lr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 192c0 87.4-117 243-168.3 307.2c-12.3 15.3-35.1 15.3-47.4 0C117 435 0 279.4 0 192C0 86 86 0 192 0S384 86 384 192z"},child:[]}]})(t)}function DW(t){return lr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"},child:[]}]})(t)}function p1(t){return lr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function v1(t){return lr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function y1(t){return lr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm90.5 224H272v74.5c0 8.8-7.2 16-16 16-4.4 0-8.4-1.8-11.3-4.7-2.9-2.9-4.7-6.9-4.7-11.3V272h-74.5c-4.4 0-8.4-1.8-11.3-4.7-2.9-2.9-4.7-6.9-4.7-11.3 0-8.8 7.2-16 16-16H240v-74.5c0-8.8 7.2-16 16-16s16 7.2 16 16V240h74.5c8.8 0 16 7.2 16 16s-7.2 16-16 16z"},child:[]}]})(t)}function SW(t){return lr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(t)}function TW(t){return lr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(t)}function PW(t){return lr({attr:{viewBox:"0 0 512 512"},child:[{tag:"g",attr:{fillOpacity:".9"},child:[{tag:"path",attr:{d:"M255.8 48C141 48 48 141.2 48 256s93 208 207.8 208c115 0 208.2-93.2 208.2-208S370.8 48 255.8 48zm.2 374.4c-91.9 0-166.4-74.5-166.4-166.4S164.1 89.6 256 89.6 422.4 164.1 422.4 256 347.9 422.4 256 422.4z"},child:[]},{tag:"path",attr:{d:"M266.4 152h-31.2v124.8l109.2 65.5 15.6-25.6-93.6-55.5V152z"},child:[]}]}]})(t)}var _1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},IW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],o=t[n++],c=t[n++],d=((s&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return e.join("")},xI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],o=s+1<t.length,c=o?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,g=a>>2,v=(a&3)<<4|c>>4;let y=(c&15)<<2|h>>6,b=h&63;d||(b=64,o||(y=64)),r.push(n[g],n[v],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_I(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||h==null||v==null)throw new CW;const y=a<<2|c>>4;if(r.push(y),h!==64){const b=c<<4&240|h>>2;if(r.push(b),v!==64){const N=h<<6&192|v;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NW=function(t){const e=_I(t);return xI.encodeByteArray(e,!0)},em=function(t){return NW(t).replace(/\./g,"")},wI=function(t){try{return xI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW=()=>OW().__FIREBASE_DEFAULTS__,MW=()=>{if(typeof process>"u"||typeof _1>"u")return;const t=_1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wI(t[1]);return e&&JSON.parse(e)},ug=()=>{try{return jW()||MW()||RW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bI=t=>{var e,n;return(n=(e=ug())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AW=t=>{const e=bI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},EI=()=>{var t;return(t=ug())===null||t===void 0?void 0:t.config},DI=t=>{var e;return(e=ug())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[em(JSON.stringify(n)),em(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function VW(){var t;const e=(t=ug())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UW(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WW(){const t=An();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $W(){return!VW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HW(){try{return typeof indexedDB=="object"}catch{return!1}}function YW(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW="FirebaseError";class va extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qW,Object.setPrototypeOf(this,va.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tf.prototype.create)}}class tf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?GW(a,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new va(s,c,r)}}function GW(t,e){return t.replace(KW,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const KW=/\{\$([^}]+)}/g;function QW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],o=e[s];if(x1(a)&&x1(o)){if(!tm(a,o))return!1}else if(a!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function x1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function XW(t,e){const n=new JW(t,e);return n.subscribe.bind(n)}class JW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZW(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=pp),s.error===void 0&&(s.error=pp),s.complete===void 0&&(s.complete=pp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t){return t&&t._delegate?t._delegate:t}class ml{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new FW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n$(e))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xo){return this.instances.has(e)}getOptions(e=Xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:t$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xo){return this.component?this.component.multipleInstances?e:Xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t$(t){return t===Xo?void 0:t}function n$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new e$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const s$={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},i$=We.INFO,a$={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},o$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=a$[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M_{constructor(e){this.name=e,this._logLevel=i$,this._logHandler=o$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const l$=(t,e)=>e.some(n=>t instanceof n);let w1,b1;function u$(){return w1||(w1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c$(){return b1||(b1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SI=new WeakMap,Tv=new WeakMap,TI=new WeakMap,vp=new WeakMap,R_=new WeakMap;function d$(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(wo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SI.set(n,t)}).catch(()=>{}),R_.set(e,t),e}function f$(t){if(Tv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Tv.set(t,e)}let Pv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function h$(t){Pv=t(Pv)}function m$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yp(this),e,...n);return TI.set(r,e.sort?e.sort():[e]),wo(r)}:c$().includes(t)?function(...e){return t.apply(yp(this),e),wo(SI.get(this))}:function(...e){return wo(t.apply(yp(this),e))}}function g$(t){return typeof t=="function"?m$(t):(t instanceof IDBTransaction&&f$(t),l$(t,u$())?new Proxy(t,Pv):t)}function wo(t){if(t instanceof IDBRequest)return d$(t);if(vp.has(t))return vp.get(t);const e=g$(t);return e!==t&&(vp.set(t,e),R_.set(e,t)),e}const yp=t=>R_.get(t);function p$(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const o=indexedDB.open(t,e),c=wo(o);return r&&o.addEventListener("upgradeneeded",d=>{r(wo(o.result),d.oldVersion,d.newVersion,wo(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const v$=["get","getKey","getAll","getAllKeys","count"],y$=["put","add","delete","clear"],_p=new Map;function E1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_p.get(e))return _p.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=y$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||v$.includes(n)))return;const a=async function(o,...c){const d=this.transaction(o,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&d.done]))[0]};return _p.set(e,a),a}h$(t=>({...t,get:(e,n,r)=>E1(e,n)||t.get(e,n,r),has:(e,n)=>!!E1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function x$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Iv="@firebase/app",D1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new M_("@firebase/app"),w$="@firebase/app-compat",b$="@firebase/analytics-compat",E$="@firebase/analytics",D$="@firebase/app-check-compat",S$="@firebase/app-check",T$="@firebase/auth",P$="@firebase/auth-compat",I$="@firebase/database",C$="@firebase/data-connect",N$="@firebase/database-compat",O$="@firebase/functions",j$="@firebase/functions-compat",M$="@firebase/installations",R$="@firebase/installations-compat",A$="@firebase/messaging",F$="@firebase/messaging-compat",k$="@firebase/performance",L$="@firebase/performance-compat",V$="@firebase/remote-config",z$="@firebase/remote-config-compat",U$="@firebase/storage",B$="@firebase/storage-compat",W$="@firebase/firestore",$$="@firebase/vertexai-preview",H$="@firebase/firestore-compat",Y$="firebase",q$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="[DEFAULT]",G$={[Iv]:"fire-core",[w$]:"fire-core-compat",[E$]:"fire-analytics",[b$]:"fire-analytics-compat",[S$]:"fire-app-check",[D$]:"fire-app-check-compat",[T$]:"fire-auth",[P$]:"fire-auth-compat",[I$]:"fire-rtdb",[C$]:"fire-data-connect",[N$]:"fire-rtdb-compat",[O$]:"fire-fn",[j$]:"fire-fn-compat",[M$]:"fire-iid",[R$]:"fire-iid-compat",[A$]:"fire-fcm",[F$]:"fire-fcm-compat",[k$]:"fire-perf",[L$]:"fire-perf-compat",[V$]:"fire-rc",[z$]:"fire-rc-compat",[U$]:"fire-gcs",[B$]:"fire-gcs-compat",[W$]:"fire-fst",[H$]:"fire-fst-compat",[$$]:"fire-vertex","fire-js":"fire-js",[Y$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new Map,K$=new Map,Nv=new Map;function S1(t,e){try{t.container.addComponent(e)}catch(n){sa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nu(t){const e=t.name;if(Nv.has(e))return sa.debug(`There were multiple attempts to register component ${e}.`),!1;Nv.set(e,t);for(const n of nm.values())S1(n,t);for(const n of K$.values())S1(n,t);return!0}function A_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bo=new tf("app","Firebase",Q$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ml("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=q$;function PI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cv,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw bo.create("bad-app-name",{appName:String(s)});if(n||(n=EI()),!n)throw bo.create("no-options");const a=nm.get(s);if(a){if(tm(n,a.options)&&tm(r,a.config))return a;throw bo.create("duplicate-app",{appName:s})}const o=new r$(s);for(const d of Nv.values())o.addComponent(d);const c=new X$(n,r,o);return nm.set(s,c),c}function II(t=Cv){const e=nm.get(t);if(!e&&t===Cv&&EI())return PI();if(!e)throw bo.create("no-app",{appName:t});return e}function Eo(t,e,n){var r;let s=(r=G$[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sa.warn(c.join(" "));return}Nu(new ml(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$="firebase-heartbeat-database",Z$=1,Sd="firebase-heartbeat-store";let xp=null;function CI(){return xp||(xp=p$(J$,Z$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sd)}catch(n){console.warn(n)}}}}).catch(t=>{throw bo.create("idb-open",{originalErrorMessage:t.message})})),xp}async function eH(t){try{const n=(await CI()).transaction(Sd),r=await n.objectStore(Sd).get(NI(t));return await n.done,r}catch(e){if(e instanceof va)sa.warn(e.message);else{const n=bo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sa.warn(n.message)}}}async function T1(t,e){try{const r=(await CI()).transaction(Sd,"readwrite");await r.objectStore(Sd).put(e,NI(t)),await r.done}catch(n){if(n instanceof va)sa.warn(n.message);else{const r=bo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sa.warn(r.message)}}}function NI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH=1024,nH=30*24*60*60*1e3;class rH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=P1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=nH}),this._storage.overwrite(this._heartbeatsCache))}catch(r){sa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P1(),{heartbeatsToSend:r,unsentEntries:s}=sH(this._heartbeatsCache.heartbeats),a=em(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return sa.warn(n),""}}}function P1(){return new Date().toISOString().substring(0,10)}function sH(t,e=tH){const n=[];let r=t.slice();for(const s of t){const a=n.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),I1(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),I1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HW()?YW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return T1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return T1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function I1(t){return em(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(t){Nu(new ml("platform-logger",e=>new _$(e),"PRIVATE")),Nu(new ml("heartbeat",e=>new rH(e),"PRIVATE")),Eo(Iv,D1,t),Eo(Iv,D1,"esm2017"),Eo("fire-js","")}aH("");function F_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function OI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oH=OI,jI=new tf("auth","Firebase",OI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new M_("@firebase/auth");function lH(t,...e){rm.logLevel<=We.WARN&&rm.warn(`Auth (${Gu}): ${t}`,...e)}function ph(t,...e){rm.logLevel<=We.ERROR&&rm.error(`Auth (${Gu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,...e){throw L_(t,...e)}function Cs(t,...e){return L_(t,...e)}function k_(t,e,n){const r=Object.assign(Object.assign({},oH()),{[e]:n});return new tf("auth","Firebase",r).create(e,{appName:t.name})}function ol(t){return k_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uH(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&fi(t,"argument-error"),k_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function L_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jI.create(t,...e)}function Oe(t,e,...n){if(!t)throw L_(e,...n)}function qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ph(e),new Error(e)}function ia(t,e){t||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cH(){return C1()==="http:"||C1()==="https:"}function C1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cH()||UW()||"connection"in navigator)?navigator.onLine:!0}function fH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ia(n>e,"Short delay should be less than long delay!"),this.isMobile=LW()||BW()}get(){return dH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t,e){ia(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH=new rf(3e4,6e4);function z_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ku(t,e,n,r,s={}){return RI(t,s,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const c=nf(Object.assign({key:t.config.apiKey},o)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},a);return zW()||(h.referrerPolicy="no-referrer"),MI.fetch()(AI(t,t.config.apiHost,n,c),h)})}async function RI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hH),e);try{const s=new pH(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Kf(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const c=a.ok?o.errorMessage:o.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kf(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw Kf(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw Kf(t,"user-disabled",o);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw k_(t,g,h);fi(t,g)}}catch(s){if(s instanceof va)throw s;fi(t,"network-request-failed",{message:String(s)})}}async function gH(t,e,n,r,s={}){const a=await Ku(t,e,n,r,s);return"mfaPendingCredential"in a&&fi(t,"multi-factor-auth-required",{_serverResponse:a}),a}function AI(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?V_(t.config,s):`${t.config.apiScheme}://${s}`}class pH{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cs(this.auth,"network-request-failed")),mH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Cs(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vH(t,e){return Ku(t,"POST","/v1/accounts:delete",e)}async function FI(t,e){return Ku(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yH(t,e=!1){const n=Dr(t),r=await n.getIdToken(e),s=U_(r);Oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:rd(wp(s.auth_time)),issuedAtTime:rd(wp(s.iat)),expirationTime:rd(wp(s.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function wp(t){return Number(t)*1e3}function U_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const s=wI(n);return s?JSON.parse(s):(ph("Failed to decode base64 JWT payload"),null)}catch(s){return ph("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function N1(t){const e=U_(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof va&&_H(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _H({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rd(this.lastLoginAt),this.creationTime=rd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Td(t,FI(n,{idToken:r}));Oe(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?kI(a.providerUserInfo):[],c=bH(t.providerData,o),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),g=d?h:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new jv(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function wH(t){const e=Dr(t);await sm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bH(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function kI(t){return t.map(e=>{var{providerId:n}=e,r=F_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EH(t,e){const n=await RI(t,{},async()=>{const r=nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,o=AI(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",MI.fetch()(o,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DH(t,e){return Ku(t,"POST","/v2/accounts:revokeToken",z_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=N1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await EH(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,o=new _u;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),a&&(Oe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _u,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=F_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new jv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Td(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yH(this,e)}reload(){return wH(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yi(this.auth.app))return Promise.reject(ol(this.auth));const e=await this.getIdToken();return await Td(this,vH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,o,c,d,h,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,N=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(c=n.tenantId)!==null&&c!==void 0?c:void 0,k=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,T=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:I,emailVerified:R,isAnonymous:$,providerData:H,stsTokenManager:D}=n;Oe(I&&D,e,"internal-error");const w=_u.fromJSON(this.name,D);Oe(typeof I=="string",e,"internal-error"),Za(v,e.name),Za(y,e.name),Oe(typeof R=="boolean",e,"internal-error"),Oe(typeof $=="boolean",e,"internal-error"),Za(b,e.name),Za(N,e.name),Za(E,e.name),Za(k,e.name),Za(S,e.name),Za(T,e.name);const P=new Gi({uid:I,auth:e,email:y,emailVerified:R,displayName:v,isAnonymous:$,photoURL:N,phoneNumber:b,tenantId:E,stsTokenManager:w,createdAt:S,lastLoginAt:T});return H&&Array.isArray(H)&&(P.providerData=H.map(O=>Object.assign({},O))),k&&(P._redirectEventId=k),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new _u;s.updateFromServerResponse(n);const a=new Gi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await sm(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Oe(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?kI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new _u;c.updateFromIdToken(r);const d=new Gi({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new Map;function Ki(t){ia(t instanceof Function,"Expected a class definition");let e=O1.get(t);return e?(ia(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,O1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LI.type="NONE";const j1=LI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t,e,n){return`firebase:${t}:${e}:${n}`}class xu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=vh(this.userKey,s.apiKey,a),this.fullPersistenceKey=vh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xu(Ki(j1),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=s[0]||Ki(j1);const o=vh(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const g=await h._get(o);if(g){const v=Gi._fromJSON(e,g);h!==a&&(c=v),a=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new xu(a,e,r):(a=d[0],c&&await a._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(o)}catch{}})),new xu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($I(e))return"Blackberry";if(HI(e))return"Webos";if(zI(e))return"Safari";if((e.includes("chrome/")||UI(e))&&!e.includes("edge/"))return"Chrome";if(WI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function VI(t=An()){return/firefox\//i.test(t)}function zI(t=An()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UI(t=An()){return/crios\//i.test(t)}function BI(t=An()){return/iemobile/i.test(t)}function WI(t=An()){return/android/i.test(t)}function $I(t=An()){return/blackberry/i.test(t)}function HI(t=An()){return/webos/i.test(t)}function B_(t=An()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SH(t=An()){var e;return B_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TH(){return WW()&&document.documentMode===10}function YI(t=An()){return B_(t)||WI(t)||HI(t)||$I(t)||/windows phone/i.test(t)||BI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t,e=[]){let n;switch(t){case"Browser":n=M1(An());break;case"Worker":n=`${M1(An())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,c)=>{try{const d=e(a);o(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IH(t,e={}){return Ku(t,"GET","/v2/passwordPolicy",z_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH=6;class NH{constructor(e){var n,r,s,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:CH,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,o,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R1(this),this.idTokenSubscription=new R1(this),this.beforeStateQueue=new PH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await xu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await FI(this,{idToken:e}),r=await Gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&(d!=null&&d.user)&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yi(this.app))return Promise.reject(ol(this));const n=e?Dr(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yi(this.app)?Promise.reject(ol(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yi(this.app)?Promise.reject(ol(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IH(this),n=new NH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await DH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ki(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await xu.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(c,this,"internal-error"),c.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{o=!0,d()}}else{const d=e.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&lH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function cg(t){return Dr(t)}class R1{constructor(e){this.auth=e,this.observer=null,this.addObserver=XW(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jH(t){W_=t}function MH(t){return W_.loadJS(t)}function RH(){return W_.gapiScript}function AH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FH(t,e){const n=A_(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(tm(a,e??{}))return s;fi(s,"already-initialized")}return n.initialize({options:e})}function kH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ki);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LH(t,e,n){const r=cg(t);Oe(r._canInitEmulator,r,"emulator-config-failed"),Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=GI(e),{host:o,port:c}=VH(e),d=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${o}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),zH()}function GI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VH(t){const e=GI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:A1(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:A1(o)}}}function A1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,n){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t,e){return gH(t,"POST","/v1/accounts:signInWithIdp",z_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH="http://localhost";class gl extends KI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=F_(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new gl(r,s);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wu(e,n)}buildRequest(){const e={requestUri:UH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends $_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends sf{constructor(){super("facebook.com")}static credential(e){return gl._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends sf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gl._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bi.credential(n,r)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends sf{constructor(){super("github.com")}static credential(e){return gl._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends sf{constructor(){super("twitter.com")}static credential(e,n){return gl._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oo.credential(n,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Gi._fromIdTokenResponse(e,r,s),o=F1(r);return new Ou({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=F1(r);return new Ou({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function F1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends va{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,im.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new im(e,n,r,s)}}function QI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?im._fromErrorAndOperation(t,a,e,r):a})}async function BH(t,e,n=!1){const r=await Td(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ou._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WH(t,e,n=!1){const{auth:r}=t;if(Yi(r.app))return Promise.reject(ol(r));const s="reauthenticate";try{const a=await Td(t,QI(r,s,e,t),n);Oe(a.idToken,r,"internal-error");const o=U_(a.idToken);Oe(o,r,"internal-error");const{sub:c}=o;return Oe(t.uid===c,r,"user-mismatch"),Ou._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&fi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $H(t,e,n=!1){if(Yi(t.app))return Promise.reject(ol(t));const r="signIn",s=await QI(t,r,e),a=await Ou._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}function HH(t,e,n,r){return Dr(t).onIdTokenChanged(e,n,r)}function YH(t,e,n){return Dr(t).beforeAuthStateChanged(e,n)}function qH(t,e,n,r){return Dr(t).onAuthStateChanged(e,n,r)}function GH(t){return Dr(t).signOut()}const am="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(am,"1"),this.storage.removeItem(am),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH=1e3,QH=10;class JI extends XI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);TH()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,QH):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JI.type="LOCAL";const XH=JI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI extends XI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZI.type="SESSION";const eC=ZI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new dg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(o).map(async h=>h(n.origin,a)),d=await JH(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,o;return new Promise((c,d)=>{const h=H_("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(v){const y=v;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(y.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function eY(t){li().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function tY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rY(){return tC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="firebaseLocalStorageDb",sY=1,om="firebaseLocalStorage",rC="fbase_key";class af{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fg(t,e){return t.transaction([om],e?"readwrite":"readonly").objectStore(om)}function iY(){const t=indexedDB.deleteDatabase(nC);return new af(t).toPromise()}function Mv(){const t=indexedDB.open(nC,sY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(om,{keyPath:rC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(om)?e(r):(r.close(),await iY(),e(await Mv()))})})}async function k1(t,e,n){const r=fg(t,!0).put({[rC]:e,value:n});return new af(r).toPromise()}async function aY(t,e){const n=fg(t,!1).get(e),r=await new af(n).toPromise();return r===void 0?null:r.value}function L1(t,e){const n=fg(t,!0).delete(e);return new af(n).toPromise()}const oY=800,lY=3;class sC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dg._getInstance(rY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tY(),!this.activeServiceWorker)return;this.sender=new ZH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mv();return await k1(e,am,"1"),await L1(e,am),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>k1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>L1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=fg(s,!1).getAll();return new af(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sC.type="LOCAL";const uY=sC;new rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e){return e?Ki(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_ extends KI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cY(t){return $H(t.auth,new Y_(t),t.bypassAuthState)}function dY(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),WH(n,new Y_(t),t.bypassAuthState)}async function fY(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),BH(n,new Y_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cY;case"linkViaPopup":case"linkViaRedirect":return fY;case"reauthViaPopup":case"reauthViaRedirect":return dY;default:fi(this.auth,"internal-error")}}resolve(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY=new rf(2e3,1e4);async function mY(t,e,n){if(Yi(t.app))return Promise.reject(Cs(t,"operation-not-supported-in-this-environment"));const r=cg(t);uH(t,e,$_);const s=iC(r,n);return new rl(r,"signInViaPopup",e,s).executeNotNull()}class rl extends aC{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){ia(this.filter.length===1,"Popup operations only handle one event");const e=H_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hY.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY="pendingRedirect",yh=new Map;class pY extends aC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const r=await vY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vY(t,e){const n=xY(e),r=_Y(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function yY(t,e){yh.set(t._key(),e)}function _Y(t){return Ki(t._redirectPersistence)}function xY(t){return vh(gY,t.config.apiKey,t.name)}async function wY(t,e,n=!1){if(Yi(t.app))return Promise.reject(ol(t));const r=cg(t),s=iC(r,e),o=await new pY(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bY=10*60*1e3;class EY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bY&&this.cachedEventUids.clear(),this.cachedEventUids.has(V1(e))}saveEventToCache(e){this.cachedEventUids.add(V1(e)),this.lastProcessedEventTime=Date.now()}}function V1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SY(t,e={}){return Ku(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PY=/^https?/;async function IY(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SY(t);for(const n of e)try{if(CY(n))return}catch{}fi(t,"unauthorized-domain")}function CY(t){const e=Ov(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!PY.test(n))return!1;if(TY.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY=new rf(3e4,6e4);function z1(){const t=li().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OY(t){return new Promise((e,n)=>{var r,s,a;function o(){z1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z1(),n(Cs(t,"network-request-failed"))},timeout:NY.get()})}if(!((s=(r=li().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=li().gapi)===null||a===void 0)&&a.load)o();else{const c=AH("iframefcb");return li()[c]=()=>{gapi.load?o():n(Cs(t,"network-request-failed"))},MH(`${RH()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw _h=null,e})}let _h=null;function jY(t){return _h=_h||OY(t),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MY=new rf(5e3,15e3),RY="__/auth/iframe",AY="emulator/auth/iframe",FY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LY(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?V_(e,AY):`https://${t.config.authDomain}/${RY}`,r={apiKey:e.apiKey,appName:t.name,v:Gu},s=kY.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${nf(r).slice(1)}`}async function VY(t){const e=await jY(t),n=li().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:LY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FY,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const o=Cs(t,"network-request-failed"),c=li().setTimeout(()=>{a(o)},MY.get());function d(){li().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UY=500,BY=600,WY="_blank",$Y="http://localhost";class U1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HY(t,e,n,r=UY,s=BY){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},zY),{width:r.toString(),height:s.toString(),top:a,left:o}),h=An().toLowerCase();n&&(c=UI(h)?WY:n),VI(h)&&(e=e||$Y,d.scrollbars="yes");const g=Object.entries(d).reduce((y,[b,N])=>`${y}${b}=${N},`,"");if(SH(h)&&c!=="_self")return YY(e||"",c),new U1(null);const v=window.open(e||"",c,g);Oe(v,t,"popup-blocked");try{v.focus()}catch{}return new U1(v)}function YY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY="__/auth/handler",GY="emulator/auth/handler",KY=encodeURIComponent("fac");async function B1(t,e,n,r,s,a){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gu,eventId:s};if(e instanceof $_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",QW(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))o[g]=v}if(e instanceof sf){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(o.scopes=g.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const d=await t._getAppCheckToken(),h=d?`#${KY}=${encodeURIComponent(d)}`:"";return`${QY(t)}?${nf(c).slice(1)}${h}`}function QY({config:t}){return t.emulator?V_(t,GY):`https://${t.authDomain}/${qY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="webStorageSupport";class XY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eC,this._completeRedirectFn=wY,this._overrideRedirectResult=yY}async _openPopup(e,n,r,s){var a;ia((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await B1(e,n,r,Ov(),s);return HY(e,o,H_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await B1(e,n,r,Ov(),s);return eY(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ia(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VY(e),r=new EY(e);return n.register("authEvent",s=>(Oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bp,{type:bp},s=>{var a;const o=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[bp];o!==void 0&&n(!!o),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IY(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YI()||zI()||B_()}}const JY=XY;var W1="@firebase/auth",$1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tq(t){Nu(new ml("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qI(t)},h=new OH(r,s,a,d);return kH(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nu(new ml("auth-internal",e=>{const n=cg(e.getProvider("auth").getImmediate());return(r=>new ZY(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Eo(W1,$1,eq(t)),Eo(W1,$1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=5*60,rq=DI("authIdTokenMaxAge")||nq;let H1=null;const sq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rq)return;const s=n==null?void 0:n.token;H1!==s&&(H1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function iq(t=II()){const e=A_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FH(t,{popupRedirectResolver:JY,persistence:[uY,XH,eC]}),r=DI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=sq(a.toString());YH(n,o,()=>o(n.currentUser)),HH(n,c=>o(c))}}const s=bI("auth");return s&&LH(n,`http://${s}`),n}function aq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Cs("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",aq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tq("Browser");var Y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ll,lC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function P(){}P.prototype=w.prototype,D.D=w.prototype,D.prototype=new P,D.prototype.constructor=D,D.C=function(O,M,V){for(var C=Array(arguments.length-2),et=2;et<arguments.length;et++)C[et-2]=arguments[et];return w.prototype[M].apply(O,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,w,P){P||(P=0);var O=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)O[M]=w.charCodeAt(P++)|w.charCodeAt(P++)<<8|w.charCodeAt(P++)<<16|w.charCodeAt(P++)<<24;else for(M=0;16>M;++M)O[M]=w[P++]|w[P++]<<8|w[P++]<<16|w[P++]<<24;w=D.g[0],P=D.g[1],M=D.g[2];var V=D.g[3],C=w+(V^P&(M^V))+O[0]+3614090360&4294967295;w=P+(C<<7&4294967295|C>>>25),C=V+(M^w&(P^M))+O[1]+3905402710&4294967295,V=w+(C<<12&4294967295|C>>>20),C=M+(P^V&(w^P))+O[2]+606105819&4294967295,M=V+(C<<17&4294967295|C>>>15),C=P+(w^M&(V^w))+O[3]+3250441966&4294967295,P=M+(C<<22&4294967295|C>>>10),C=w+(V^P&(M^V))+O[4]+4118548399&4294967295,w=P+(C<<7&4294967295|C>>>25),C=V+(M^w&(P^M))+O[5]+1200080426&4294967295,V=w+(C<<12&4294967295|C>>>20),C=M+(P^V&(w^P))+O[6]+2821735955&4294967295,M=V+(C<<17&4294967295|C>>>15),C=P+(w^M&(V^w))+O[7]+4249261313&4294967295,P=M+(C<<22&4294967295|C>>>10),C=w+(V^P&(M^V))+O[8]+1770035416&4294967295,w=P+(C<<7&4294967295|C>>>25),C=V+(M^w&(P^M))+O[9]+2336552879&4294967295,V=w+(C<<12&4294967295|C>>>20),C=M+(P^V&(w^P))+O[10]+4294925233&4294967295,M=V+(C<<17&4294967295|C>>>15),C=P+(w^M&(V^w))+O[11]+2304563134&4294967295,P=M+(C<<22&4294967295|C>>>10),C=w+(V^P&(M^V))+O[12]+1804603682&4294967295,w=P+(C<<7&4294967295|C>>>25),C=V+(M^w&(P^M))+O[13]+4254626195&4294967295,V=w+(C<<12&4294967295|C>>>20),C=M+(P^V&(w^P))+O[14]+2792965006&4294967295,M=V+(C<<17&4294967295|C>>>15),C=P+(w^M&(V^w))+O[15]+1236535329&4294967295,P=M+(C<<22&4294967295|C>>>10),C=w+(M^V&(P^M))+O[1]+4129170786&4294967295,w=P+(C<<5&4294967295|C>>>27),C=V+(P^M&(w^P))+O[6]+3225465664&4294967295,V=w+(C<<9&4294967295|C>>>23),C=M+(w^P&(V^w))+O[11]+643717713&4294967295,M=V+(C<<14&4294967295|C>>>18),C=P+(V^w&(M^V))+O[0]+3921069994&4294967295,P=M+(C<<20&4294967295|C>>>12),C=w+(M^V&(P^M))+O[5]+3593408605&4294967295,w=P+(C<<5&4294967295|C>>>27),C=V+(P^M&(w^P))+O[10]+38016083&4294967295,V=w+(C<<9&4294967295|C>>>23),C=M+(w^P&(V^w))+O[15]+3634488961&4294967295,M=V+(C<<14&4294967295|C>>>18),C=P+(V^w&(M^V))+O[4]+3889429448&4294967295,P=M+(C<<20&4294967295|C>>>12),C=w+(M^V&(P^M))+O[9]+568446438&4294967295,w=P+(C<<5&4294967295|C>>>27),C=V+(P^M&(w^P))+O[14]+3275163606&4294967295,V=w+(C<<9&4294967295|C>>>23),C=M+(w^P&(V^w))+O[3]+4107603335&4294967295,M=V+(C<<14&4294967295|C>>>18),C=P+(V^w&(M^V))+O[8]+1163531501&4294967295,P=M+(C<<20&4294967295|C>>>12),C=w+(M^V&(P^M))+O[13]+2850285829&4294967295,w=P+(C<<5&4294967295|C>>>27),C=V+(P^M&(w^P))+O[2]+4243563512&4294967295,V=w+(C<<9&4294967295|C>>>23),C=M+(w^P&(V^w))+O[7]+1735328473&4294967295,M=V+(C<<14&4294967295|C>>>18),C=P+(V^w&(M^V))+O[12]+2368359562&4294967295,P=M+(C<<20&4294967295|C>>>12),C=w+(P^M^V)+O[5]+4294588738&4294967295,w=P+(C<<4&4294967295|C>>>28),C=V+(w^P^M)+O[8]+2272392833&4294967295,V=w+(C<<11&4294967295|C>>>21),C=M+(V^w^P)+O[11]+1839030562&4294967295,M=V+(C<<16&4294967295|C>>>16),C=P+(M^V^w)+O[14]+4259657740&4294967295,P=M+(C<<23&4294967295|C>>>9),C=w+(P^M^V)+O[1]+2763975236&4294967295,w=P+(C<<4&4294967295|C>>>28),C=V+(w^P^M)+O[4]+1272893353&4294967295,V=w+(C<<11&4294967295|C>>>21),C=M+(V^w^P)+O[7]+4139469664&4294967295,M=V+(C<<16&4294967295|C>>>16),C=P+(M^V^w)+O[10]+3200236656&4294967295,P=M+(C<<23&4294967295|C>>>9),C=w+(P^M^V)+O[13]+681279174&4294967295,w=P+(C<<4&4294967295|C>>>28),C=V+(w^P^M)+O[0]+3936430074&4294967295,V=w+(C<<11&4294967295|C>>>21),C=M+(V^w^P)+O[3]+3572445317&4294967295,M=V+(C<<16&4294967295|C>>>16),C=P+(M^V^w)+O[6]+76029189&4294967295,P=M+(C<<23&4294967295|C>>>9),C=w+(P^M^V)+O[9]+3654602809&4294967295,w=P+(C<<4&4294967295|C>>>28),C=V+(w^P^M)+O[12]+3873151461&4294967295,V=w+(C<<11&4294967295|C>>>21),C=M+(V^w^P)+O[15]+530742520&4294967295,M=V+(C<<16&4294967295|C>>>16),C=P+(M^V^w)+O[2]+3299628645&4294967295,P=M+(C<<23&4294967295|C>>>9),C=w+(M^(P|~V))+O[0]+4096336452&4294967295,w=P+(C<<6&4294967295|C>>>26),C=V+(P^(w|~M))+O[7]+1126891415&4294967295,V=w+(C<<10&4294967295|C>>>22),C=M+(w^(V|~P))+O[14]+2878612391&4294967295,M=V+(C<<15&4294967295|C>>>17),C=P+(V^(M|~w))+O[5]+4237533241&4294967295,P=M+(C<<21&4294967295|C>>>11),C=w+(M^(P|~V))+O[12]+1700485571&4294967295,w=P+(C<<6&4294967295|C>>>26),C=V+(P^(w|~M))+O[3]+2399980690&4294967295,V=w+(C<<10&4294967295|C>>>22),C=M+(w^(V|~P))+O[10]+4293915773&4294967295,M=V+(C<<15&4294967295|C>>>17),C=P+(V^(M|~w))+O[1]+2240044497&4294967295,P=M+(C<<21&4294967295|C>>>11),C=w+(M^(P|~V))+O[8]+1873313359&4294967295,w=P+(C<<6&4294967295|C>>>26),C=V+(P^(w|~M))+O[15]+4264355552&4294967295,V=w+(C<<10&4294967295|C>>>22),C=M+(w^(V|~P))+O[6]+2734768916&4294967295,M=V+(C<<15&4294967295|C>>>17),C=P+(V^(M|~w))+O[13]+1309151649&4294967295,P=M+(C<<21&4294967295|C>>>11),C=w+(M^(P|~V))+O[4]+4149444226&4294967295,w=P+(C<<6&4294967295|C>>>26),C=V+(P^(w|~M))+O[11]+3174756917&4294967295,V=w+(C<<10&4294967295|C>>>22),C=M+(w^(V|~P))+O[2]+718787259&4294967295,M=V+(C<<15&4294967295|C>>>17),C=P+(V^(M|~w))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+V&4294967295}r.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var P=w-this.blockSize,O=this.B,M=this.h,V=0;V<w;){if(M==0)for(;V<=P;)s(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<w;)if(O[M++]=D.charCodeAt(V++),M==this.blockSize){s(this,O),M=0;break}}else for(;V<w;)if(O[M++]=D[V++],M==this.blockSize){s(this,O),M=0;break}}this.h=M,this.o+=w},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var P=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=P&255,P/=256;for(this.u(D),D=Array(16),w=P=0;4>w;++w)for(var O=0;32>O;O+=8)D[P++]=this.g[w]>>>O&255;return D};function a(D,w){var P=c;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=w(D)}function o(D,w){this.h=w;for(var P=[],O=!0,M=D.length-1;0<=M;M--){var V=D[M]|0;O&&V==w||(P[M]=V,O=!1)}this.g=P}var c={};function d(D){return-128<=D&&128>D?a(D,function(w){return new o([w|0],0>w?-1:0)}):new o([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return k(h(-D));for(var w=[],P=1,O=0;D>=P;O++)w[O]=D/P|0,P*=4294967296;return new o(w,0)}function g(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return k(g(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=h(Math.pow(w,8)),O=v,M=0;M<D.length;M+=8){var V=Math.min(8,D.length-M),C=parseInt(D.substring(M,M+V),w);8>V?(V=h(Math.pow(w,V)),O=O.j(V).add(h(C))):(O=O.j(P),O=O.add(h(C)))}return O}var v=d(0),y=d(1),b=d(16777216);t=o.prototype,t.m=function(){if(E(this))return-k(this).m();for(var D=0,w=1,P=0;P<this.g.length;P++){var O=this.i(P);D+=(0<=O?O:4294967296+O)*w,w*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N(this))return"0";if(E(this))return"-"+k(this).toString(D);for(var w=h(Math.pow(D,6)),P=this,O="";;){var M=R(P,w).g;P=S(P,M.j(w));var V=((0<P.g.length?P.g[0]:P.h)>>>0).toString(D);if(P=M,N(P))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function N(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function E(D){return D.h==-1}t.l=function(D){return D=S(this,D),E(D)?-1:N(D)?0:1};function k(D){for(var w=D.g.length,P=[],O=0;O<w;O++)P[O]=~D.g[O];return new o(P,~D.h).add(y)}t.abs=function(){return E(this)?k(this):this},t.add=function(D){for(var w=Math.max(this.g.length,D.g.length),P=[],O=0,M=0;M<=w;M++){var V=O+(this.i(M)&65535)+(D.i(M)&65535),C=(V>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);O=C>>>16,V&=65535,C&=65535,P[M]=C<<16|V}return new o(P,P[P.length-1]&-2147483648?-1:0)};function S(D,w){return D.add(k(w))}t.j=function(D){if(N(this)||N(D))return v;if(E(this))return E(D)?k(this).j(k(D)):k(k(this).j(D));if(E(D))return k(this.j(k(D)));if(0>this.l(b)&&0>D.l(b))return h(this.m()*D.m());for(var w=this.g.length+D.g.length,P=[],O=0;O<2*w;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<D.g.length;M++){var V=this.i(O)>>>16,C=this.i(O)&65535,et=D.i(M)>>>16,tt=D.i(M)&65535;P[2*O+2*M]+=C*tt,T(P,2*O+2*M),P[2*O+2*M+1]+=V*tt,T(P,2*O+2*M+1),P[2*O+2*M+1]+=C*et,T(P,2*O+2*M+1),P[2*O+2*M+2]+=V*et,T(P,2*O+2*M+2)}for(O=0;O<w;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=w;O<2*w;O++)P[O]=0;return new o(P,0)};function T(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function I(D,w){this.g=D,this.h=w}function R(D,w){if(N(w))throw Error("division by zero");if(N(D))return new I(v,v);if(E(D))return w=R(k(D),w),new I(k(w.g),k(w.h));if(E(w))return w=R(D,k(w)),new I(k(w.g),w.h);if(30<D.g.length){if(E(D)||E(w))throw Error("slowDivide_ only works with positive integers.");for(var P=y,O=w;0>=O.l(D);)P=$(P),O=$(O);var M=H(P,1),V=H(O,1);for(O=H(O,2),P=H(P,2);!N(O);){var C=V.add(O);0>=C.l(D)&&(M=M.add(P),V=C),O=H(O,1),P=H(P,1)}return w=S(D,M.j(w)),new I(M,w)}for(M=v;0<=D.l(w);){for(P=Math.max(1,Math.floor(D.m()/w.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),V=h(P),C=V.j(w);E(C)||0<C.l(D);)P-=O,V=h(P),C=V.j(w);N(V)&&(V=y),M=M.add(V),D=S(D,C)}return new I(M,D)}t.A=function(D){return R(this,D).h},t.and=function(D){for(var w=Math.max(this.g.length,D.g.length),P=[],O=0;O<w;O++)P[O]=this.i(O)&D.i(O);return new o(P,this.h&D.h)},t.or=function(D){for(var w=Math.max(this.g.length,D.g.length),P=[],O=0;O<w;O++)P[O]=this.i(O)|D.i(O);return new o(P,this.h|D.h)},t.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),P=[],O=0;O<w;O++)P[O]=this.i(O)^D.i(O);return new o(P,this.h^D.h)};function $(D){for(var w=D.g.length+1,P=[],O=0;O<w;O++)P[O]=D.i(O)<<1|D.i(O-1)>>>31;return new o(P,D.h)}function H(D,w){var P=w>>5;w%=32;for(var O=D.g.length-P,M=[],V=0;V<O;V++)M[V]=0<w?D.i(V+P)>>>w|D.i(V+P+1)<<32-w:D.i(V+P);return new o(M,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=g,ll=o}).apply(typeof Y1<"u"?Y1:typeof self<"u"?self:typeof window<"u"?window:{});var Qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uC,Bc,cC,xh,Rv,dC,fC,hC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qf=="object"&&Qf];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var p=r;u=u.split(".");for(var x=0;x<u.length-1;x++){var z=u[x];if(!(z in p))break e;p=p[z]}u=u[u.length-1],x=p[u],m=m(x),m!=x&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var p=0,x=!1,z={next:function(){if(!x&&p<u.length){var W=p++;return{value:m(W,u[W]),done:!1}}return x=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(u){return u||function(){return a(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function d(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function h(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,p){return u.call.apply(u.bind,arguments)}function v(u,m,p){if(!u)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,x),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function y(u,m,p){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,y.apply(null,arguments)}function b(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var x=p.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function N(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(x,z,W){for(var ie=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ie[Ne-2]=arguments[Ne];return m.prototype[z].apply(x,ie)}}function E(u){const m=u.length;if(0<m){const p=Array(m);for(let x=0;x<m;x++)p[x]=u[x];return p}return[]}function k(u,m){for(let p=1;p<arguments.length;p++){const x=arguments[p];if(d(x)){const z=u.length||0,W=x.length||0;u.length=z+W;for(let ie=0;ie<W;ie++)u[z+ie]=x[ie]}else u.push(x)}}class S{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function T(u){return/^[\s\xa0]*$/.test(u)}function I(){var u=c.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var $=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function H(u,m,p){for(const x in u)m.call(p,u[x],x,u)}function D(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function w(u){const m={};for(const p in u)m[p]=u[p];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let p,x;for(let z=1;z<arguments.length;z++){x=arguments[z];for(p in x)u[p]=x[p];for(let W=0;W<P.length;W++)p=P[W],Object.prototype.hasOwnProperty.call(x,p)&&(u[p]=x[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function V(u){c.setTimeout(()=>{throw u},0)}function C(){var u=de;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class et{constructor(){this.h=this.g=null}add(m,p){const x=tt.get();x.set(m,p),this.h?this.h.next=x:this.g=x,this.h=x}}var tt=new S(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,ee=!1,de=new et,ue=()=>{const u=c.Promise.resolve(void 0);Ae=()=>{u.then(Pe)}};var Pe=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(p){V(p)}var m=tt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ee=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};c.addEventListener("test",p,m),c.removeEventListener("test",p,m)}catch{}return u}();function A(u,m){if(q.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if($){e:{try{R(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:G[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&A.aa.h.call(this)}}N(A,q);var G={2:"touch",3:"pen",4:"mouse"};A.prototype.h=function(){A.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),me=0;function ge(u,m,p,x,z){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!x,this.ha=z,this.key=++me,this.da=this.fa=!1}function pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ce(u){this.src=u,this.g={},this.h=0}Ce.prototype.add=function(u,m,p,x,z){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var ie=Fe(u,m,x,z);return-1<ie?(m=u[ie],p||(m.fa=!1)):(m=new ge(m,this.src,W,!!x,z),m.fa=p,u.push(m)),m};function ke(u,m){var p=m.type;if(p in u.g){var x=u.g[p],z=Array.prototype.indexOf.call(x,m,void 0),W;(W=0<=z)&&Array.prototype.splice.call(x,z,1),W&&(pe(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Fe(u,m,p,x){for(var z=0;z<u.length;++z){var W=u[z];if(!W.da&&W.listener==m&&W.capture==!!p&&W.ha==x)return z}return-1}var Le="closure_lm_"+(1e6*Math.random()|0),ct={};function bt(u,m,p,x,z){if(Array.isArray(m)){for(var W=0;W<m.length;W++)bt(u,m[W],p,x,z);return null}return p=Ms(p),u&&u[oe]?u.K(m,p,h(x)?!!x.capture:!1,z):Yt(u,m,p,!1,x,z)}function Yt(u,m,p,x,z,W){if(!m)throw Error("Invalid event type");var ie=h(z)?!!z.capture:!!z,Ne=Pr(u);if(Ne||(u[Le]=Ne=new Ce(u)),p=Ne.add(m,p,x,ie,W),p.proxy)return p;if(x=qn(),p.proxy=x,x.src=u,x.listener=p,u.addEventListener)U||(z=ie),z===void 0&&(z=!1),u.addEventListener(m.toString(),x,z);else if(u.attachEvent)u.attachEvent(Fn(m.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return p}function qn(){function u(p){return m.call(u.src,u.listener,p)}const m=ur;return u}function js(u,m,p,x,z){if(Array.isArray(m))for(var W=0;W<m.length;W++)js(u,m[W],p,x,z);else x=h(x)?!!x.capture:!!x,p=Ms(p),u&&u[oe]?(u=u.i,m=String(m).toString(),m in u.g&&(W=u.g[m],p=Fe(W,p,x,z),-1<p&&(pe(W[p]),Array.prototype.splice.call(W,p,1),W.length==0&&(delete u.g[m],u.h--)))):u&&(u=Pr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Fe(m,p,x,z)),(p=-1<u?m[u]:null)&&Gn(p))}function Gn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[oe])ke(m.i,u);else{var p=u.type,x=u.proxy;m.removeEventListener?m.removeEventListener(p,x,u.capture):m.detachEvent?m.detachEvent(Fn(p),x):m.addListener&&m.removeListener&&m.removeListener(x),(p=Pr(m))?(ke(p,u),p.h==0&&(p.src=null,m[Le]=null)):pe(u)}}}function Fn(u){return u in ct?ct[u]:ct[u]="on"+u}function ur(u,m){if(u.da)u=!0;else{m=new A(m,this);var p=u.listener,x=u.ha||u.src;u.fa&&Gn(u),u=p.call(x,m)}return u}function Pr(u){return u=u[Le],u instanceof Ce?u:null}var Kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ms(u){return typeof u=="function"?u:(u[Kn]||(u[Kn]=function(m){return u.handleEvent(m)}),u[Kn])}function Et(){J.call(this),this.i=new Ce(this),this.M=this,this.F=null}N(Et,J),Et.prototype[oe]=!0,Et.prototype.removeEventListener=function(u,m,p,x){js(this,u,m,p,x)};function ft(u,m){var p,x=u.F;if(x)for(p=[];x;x=x.F)p.push(x);if(u=u.M,x=m.type||m,typeof m=="string")m=new q(m,u);else if(m instanceof q)m.target=m.target||u;else{var z=m;m=new q(x,u),O(m,z)}if(z=!0,p)for(var W=p.length-1;0<=W;W--){var ie=m.g=p[W];z=cr(ie,x,!0,m)&&z}if(ie=m.g=u,z=cr(ie,x,!0,m)&&z,z=cr(ie,x,!1,m)&&z,p)for(W=0;W<p.length;W++)ie=m.g=p[W],z=cr(ie,x,!1,m)&&z}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],x=0;x<p.length;x++)pe(p[x]);delete u.g[m],u.h--}}this.F=null},Et.prototype.K=function(u,m,p,x){return this.i.add(String(u),m,!1,p,x)},Et.prototype.L=function(u,m,p,x){return this.i.add(String(u),m,!0,p,x)};function cr(u,m,p,x){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,W=0;W<m.length;++W){var ie=m[W];if(ie&&!ie.da&&ie.capture==p){var Ne=ie.listener,yt=ie.ha||ie.src;ie.fa&&ke(u.i,ie),z=Ne.call(yt,x)!==!1&&z}}return z&&!x.defaultPrevented}function _a(u,m,p){if(typeof u=="function")p&&(u=y(u,p));else if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:c.setTimeout(u,m||0)}function es(u){u.g=_a(()=>{u.g=null,u.i&&(u.i=!1,es(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Rs extends J{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:es(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(u){J.call(this),this.h=u,this.g={}}N(kn,J);var dr=[];function As(u){H(u.g,function(m,p){this.g.hasOwnProperty(p)&&Gn(m)},u),u.g={}}kn.prototype.N=function(){kn.aa.N.call(this),As(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ir=c.JSON.stringify,yi=c.JSON.parse,Fs=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function ts(){}ts.prototype.h=null;function xa(u){return u.h||(u.h=u.i())}function ns(){}var rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){q.call(this,"d")}N(Cr,q);function _i(){q.call(this,"c")}N(_i,q);var Qn={},wa=null;function Nr(){return wa=wa||new Et}Qn.La="serverreachability";function ba(u){q.call(this,Qn.La,u)}N(ba,q);function fr(u){const m=Nr();ft(m,new ba(m))}Qn.STAT_EVENT="statevent";function ss(u,m){q.call(this,Qn.STAT_EVENT,u),this.stat=m}N(ss,q);function Rt(u){const m=Nr();ft(m,new ss(m,u))}Qn.Ma="timingevent";function Ea(u,m){q.call(this,Qn.Ma,u),this.size=m}N(Ea,q);function xn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},m)}function is(){this.g=!0}is.prototype.xa=function(){this.g=!1};function Da(u,m,p,x,z,W){u.info(function(){if(u.g)if(W)for(var ie="",Ne=W.split("&"),yt=0;yt<Ne.length;yt++){var _e=Ne[yt].split("=");if(1<_e.length){var rt=_e[0];_e=_e[1];var St=rt.split("_");ie=2<=St.length&&St[1]=="type"?ie+(rt+"="+_e+"&"):ie+(rt+"=redacted&")}}else ie=null;else ie=W;return"XMLHTTP REQ ("+x+") [attempt "+z+"]: "+m+`
`+p+`
`+ie})}function xi(u,m,p,x,z,W,ie){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+z+"]: "+m+`
`+p+`
`+W+" "+ie})}function Xn(u,m,p,x){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sa(u,p)+(x?" "+x:"")})}function wi(u,m){u.info(function(){return"TIMEOUT: "+m})}is.prototype.info=function(){};function Sa(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var x=p[u];if(!(2>x.length)){var z=x[1];if(Array.isArray(z)&&!(1>z.length)){var W=z[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ie=1;ie<z.length;ie++)z[ie]=""}}}}return Ir(p)}catch{return m}}var as={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Or;function Jn(){}N(Jn,ts),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Or=new Jn;function wn(u,m,p,x){this.j=u,this.i=m,this.l=p,this.R=x||1,this.U=new kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ks}function ks(){this.i=null,this.g="",this.h=!1}var os={},ls={};function us(u,m,p){u.L=1,u.v=Mr(ln(m)),u.m=p,u.P=!0,Ta(u,null)}function Ta(u,m){u.F=Date.now(),cs(u),u.A=ln(u.v);var p=u.A,x=u.R;Array.isArray(x)||(x=[String(x)]),Pi(p.i,"t",x),u.C=0,p=u.j.J,u.h=new ks,u.g=Qs(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Rs(y(u.Y,u,u.g),u.O)),m=u.U,p=u.g,x=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(dr[0]=z.toString()),z=dr);for(var W=0;W<z.length;W++){var ie=bt(p,z[W],x||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),fr(),Da(u.i,u.u,u.A,u.l,u.R,u.m)}wn.prototype.ca=function(u){u=u.target;const m=this.M;m&&zn(u)==3?m.j():this.Y(u)},wn.prototype.Y=function(u){try{if(u==this.g)e:{const St=zn(this.g);var m=this.g.Ba();const Br=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||ka(this.g)))){this.J||St!=4||m==7||(m==8||0>=Br?fr(3):fr(2)),Ln(this);var p=this.g.Z();this.X=p;t:if(Ls(this)){var x=ka(this.g);u="";var z=x.length,W=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ce(this),It(this);var ie="";break t}this.h.i=new c.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(x[m],{stream:!(W&&m==z-1)});x.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=p==200,xi(this.i,this.u,this.A,this.l,this.R,St,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,yt=this.g;if((Ne=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(Ne)){var _e=Ne;break t}}_e=null}if(p=_e)Xn(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zn(this,p);else{this.o=!1,this.s=3,Rt(12),ce(this),It(this);break e}}if(this.P){p=!0;let cn;for(;!this.J&&this.C<ie.length;)if(cn=Pa(this,ie),cn==ls){St==4&&(this.s=4,Rt(14),p=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==os){this.s=4,Rt(15),Xn(this.i,this.l,ie,"[Invalid Chunk]"),p=!1;break}else Xn(this.i,this.l,cn,null),Zn(this,cn);if(Ls(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ie.length!=0||this.h.h||(this.s=1,Rt(16),p=!1),this.o=this.o&&p,!p)Xn(this.i,this.l,ie,"[Invalid Chunked Response]"),ce(this),It(this);else if(0<ie.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Gs(rt),rt.M=!0,Rt(11))}}else Xn(this.i,this.l,ie,null),Zn(this,ie);St==4&&ce(this),this.o&&!this.J&&(St==4?$a(this.j,this):(this.o=!1,cs(this)))}else ko(this.g),p==400&&0<ie.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),ce(this),It(this)}}}catch{}finally{}};function Ls(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Pa(u,m){var p=u.C,x=m.indexOf(`
`,p);return x==-1?ls:(p=Number(m.substring(p,x)),isNaN(p)?os:(x+=1,x+p>m.length?ls:(m=m.slice(x,x+p),u.C=x+p,m)))}wn.prototype.cancel=function(){this.J=!0,ce(this)};function cs(u){u.S=Date.now()+u.I,$e(u,u.I)}function $e(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=xn(y(u.ba,u),m)}function Ln(u){u.B&&(c.clearTimeout(u.B),u.B=null)}wn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(wi(this.i,this.A),this.L!=2&&(fr(),Rt(17)),ce(this),this.s=2,It(this)):$e(this,this.S-u)};function It(u){u.j.G==0||u.J||$a(u.j,u)}function ce(u){Ln(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,As(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Zn(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||ds(p.h,u))){if(!u.K&&ds(p.h,u)&&p.G==3){try{var x=p.Da.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var z=x;if(z[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Ks(p),Hs(p);else break e;qs(p),Rt(18)}}else p.za=z[1],0<p.za-p.T&&37500>z[2]&&p.F&&p.v==0&&!p.C&&(p.C=xn(y(p.Za,p),6e3));if(1>=Vs(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Un(p,11)}else if((u.K||p.g==u)&&Ks(p),!T(m))for(z=p.Da.g.parse(m),m=0;m<z.length;m++){let _e=z[m];if(p.T=_e[0],_e=_e[1],p.G==2)if(_e[0]=="c"){p.K=_e[1],p.ia=_e[2];const rt=_e[3];rt!=null&&(p.la=rt,p.j.info("VER="+p.la));const St=_e[4];St!=null&&(p.Aa=St,p.j.info("SVER="+p.Aa));const Br=_e[5];Br!=null&&typeof Br=="number"&&0<Br&&(x=1.5*Br,p.L=x,p.j.info("backChannelRequestTimeoutMs_="+x)),x=p;const cn=u.g;if(cn){const _s=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_s){var W=x.h;W.g||_s.indexOf("spdy")==-1&&_s.indexOf("quic")==-1&&_s.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(fs(W,W.h),W.h=null))}if(x.D){const Js=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(x.ya=Js,Ze(x.I,x.D,Js))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),x=p;var ie=u;if(x.qa=En(x,x.J?x.ia:null,x.W),ie.K){Ia(x.h,ie);var Ne=ie,yt=x.L;yt&&(Ne.I=yt),Ne.B&&(Ln(Ne),cs(Ne)),x.g=ie}else Ba(x);0<p.i.length&&Ys(p)}else _e[0]!="stop"&&_e[0]!="close"||Un(p,7);else p.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Un(p,7):ji(p):_e[0]!="noop"&&p.l&&p.l.ta(_e),p.v=0)}}fr(4)}catch{}}var on=class{constructor(u,m){this.g=u,this.map=m}};function Dt(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ei(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Vs(u){return u.h?1:u.g?u.g.size:0}function ds(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function fs(u,m){u.g?u.g.add(m):u.h=m}function Ia(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Dt.prototype.cancel=function(){if(this.i=Ca(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ca(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return E(u.i)}function ve(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(d(u)){for(var m=[],p=u.length,x=0;x<p;x++)m.push(u[x]);return m}m=[],p=0;for(x in u)m[p++]=u[x];return m}function vt(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(d(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const x in u)m[p++]=x;return m}}}function Je(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(d(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=vt(u),x=ve(u),z=x.length,W=0;W<z;W++)m.call(void 0,x[W],p&&p[W],u)}var Ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jr(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var x=u[p].indexOf("="),z=null;if(0<=x){var W=u[p].substring(0,x);z=u[p].substring(x+1)}else W=u[p];m(W,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function er(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof er){this.h=u.h,hs(this,u.j),this.o=u.o,this.g=u.g,ms(this,u.s),this.l=u.l;var m=u.i,p=new Fr;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),zs(this,p),this.m=u.m}else u&&(m=String(u).match(Ut))?(this.h=!1,hs(this,m[1]||"",!0),this.o=Rr(m[2]||""),this.g=Rr(m[3]||"",!0),ms(this,m[4]),this.l=Rr(m[5]||"",!0),zs(this,m[6]||"",!0),this.m=Rr(m[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}er.prototype.toString=function(){var u=[],m=this.j;m&&u.push(hr(m,Di,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(hr(m,Di,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(hr(p,p.charAt(0)=="/"?Na:Ar,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",hr(p,Ti)),u.join("")};function ln(u){return new er(u)}function hs(u,m,p){u.j=p?Rr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ms(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function zs(u,m,p){m instanceof Fr?(u.i=m,ja(u.i,u.h)):(p||(m=hr(m,Si)),u.i=new Fr(m,u.h))}function Ze(u,m,p){u.i.set(m,p)}function Mr(u){return Ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Rr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Us),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Us(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Di=/[#\/\?@]/g,Ar=/[#\?:]/g,Na=/[#\?]/g,Si=/[#\?@]/g,Ti=/#/g;function Fr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&jr(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}t=Fr.prototype,t.add=function(u,m){un(this),this.i=null,u=Vn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Oa(u,m){un(u),m=Vn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Bs(u,m){return un(u),m=Vn(u,m),u.g.has(m)}t.forEach=function(u,m){un(this),this.g.forEach(function(p,x){p.forEach(function(z){u.call(m,z,x,this)},this)},this)},t.na=function(){un(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let x=0;x<m.length;x++){const z=u[x];for(let W=0;W<z.length;W++)p.push(m[x])}return p},t.V=function(u){un(this);let m=[];if(typeof u=="string")Bs(this,u)&&(m=m.concat(this.g.get(Vn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},t.set=function(u,m){return un(this),this.i=null,u=Vn(this,u),Bs(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Pi(u,m,p){Oa(u,m),0<p.length&&(u.i=null,u.g.set(Vn(u,m),E(p)),u.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var x=m[p];const W=encodeURIComponent(String(x)),ie=this.V(x);for(x=0;x<ie.length;x++){var z=W;ie[x]!==""&&(z+="="+encodeURIComponent(String(ie[x]))),u.push(z)}}return this.i=u.join("&")};function Vn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ja(u,m){m&&!u.j&&(un(u),u.i=null,u.g.forEach(function(p,x){var z=x.toLowerCase();x!=z&&(Oa(this,x),Pi(this,z,p))},u)),u.j=m}function Ii(u,m){const p=new is;if(c.Image){const x=new Image;x.onload=b(bn,p,"TestLoadImage: loaded",!0,m,x),x.onerror=b(bn,p,"TestLoadImage: error",!1,m,x),x.onabort=b(bn,p,"TestLoadImage: abort",!1,m,x),x.ontimeout=b(bn,p,"TestLoadImage: timeout",!1,m,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else m(!1)}function Ma(u,m){const p=new is,x=new AbortController,z=setTimeout(()=>{x.abort(),bn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:x.signal}).then(W=>{clearTimeout(z),W.ok?bn(p,"TestPingServer: ok",!0,m):bn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),bn(p,"TestPingServer: error",!1,m)})}function bn(u,m,p,x,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),x(p)}catch{}}function Qe(){this.g=new Fs}function gs(u,m,p){const x=p||"";try{Je(u,function(z,W){let ie=z;h(z)&&(ie=Ir(z)),m.push(x+W+"="+encodeURIComponent(ie))})}catch(z){throw m.push(x+"type="+encodeURIComponent("_badmap")),z}}function ps(u){this.l=u.Ub||null,this.j=u.eb||!1}N(ps,ts),ps.prototype.g=function(){return new kr(this.l,this.j)},ps.prototype.i=function(u){return function(){return u}}({});function kr(u,m){Et.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(kr,Et),t=kr.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Lr(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||c).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bt(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ht(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ht(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Bt(this):Lr(this),this.readyState==3&&ht(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Bt(this))},t.Qa=function(u){this.g&&(this.response=u,Bt(this))},t.ga=function(){this.g&&Bt(this)};function Bt(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Lr(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Lr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ra(u){let m="";return H(u,function(p,x){m+=x,m+=":",m+=p,m+=`\r
`}),m}function Vr(u,m,p){e:{for(x in p){var x=!1;break e}x=!0}x||(p=Ra(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ze(u,m,p))}function nt(u){Et.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(nt,Et);var Ws=/^https?$/i,Aa=["POST","PUT"];t=nt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,p,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Or.g(),this.v=this.o?xa(this.o):xa(Or),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(W){Ci(this,W);return}if(u=p||"",p=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var z in x)p.set(z,x[z]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const W of x.keys())p.set(W,x.get(W));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(p.keys()).find(W=>W.toLowerCase()=="content-type"),z=c.FormData&&u instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Aa,m,void 0))||x||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of p)this.g.setRequestHeader(W,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zr(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){Ci(this,W)}};function Ci(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Fa(u),$s(u)}function Fa(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ft(this,"complete"),ft(this,"abort"),$s(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$s(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ni(this):this.bb())},t.bb=function(){Ni(this)};function Ni(u){if(u.h&&typeof o<"u"&&(!u.v[1]||zn(u)!=4||u.Z()!=2)){if(u.u&&zn(u)==4)_a(u.Ea,0,u);else if(ft(u,"readystatechange"),zn(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var p;if(!(p=m)){var x;if(x=ie===0){var z=String(u.D).match(Ut)[1]||null;!z&&c.self&&c.self.location&&(z=c.self.location.protocol.slice(0,-1)),x=!Ws.test(z?z.toLowerCase():"")}p=x}if(p)ft(u,"complete"),ft(u,"success");else{u.m=6;try{var W=2<zn(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",Fa(u)}}finally{$s(u)}}}}function $s(u,m){if(u.g){zr(u);const p=u.g,x=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||ft(u,"ready");try{p.onreadystatechange=x}catch{}}}function zr(u){u.I&&(c.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function zn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),yi(m)}};function ka(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ko(u){const m={};u=(u.g&&2<=zn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(T(u[x]))continue;var p=M(u[x]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const W=m[z]||[];m[z]=W,W.push(p)}D(m,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Oi(u){this.Aa=0,this.i=[],this.j=new is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,u),this.cb=vs("retryDelaySeedMs",1e4,u),this.Wa=vs("forwardChannelMaxRetries",2,u),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Dt(u&&u.concurrentRequestLimit),this.Da=new Qe,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Oi.prototype,t.la=8,t.G=1,t.connect=function(u,m,p,x){Rt(0),this.W=u,this.H=m||{},p&&x!==void 0&&(this.H.OSID=p,this.H.OAID=x),this.F=this.X,this.I=En(this,null,this.W),Ys(this)};function ji(u){if(La(u),u.G==3){var m=u.U++,p=ln(u.I);if(Ze(p,"SID",u.K),Ze(p,"RID",m),Ze(p,"TYPE","terminate"),ys(u,p),m=new wn(u,u.j,m),m.L=2,m.v=Mr(ln(p)),p=!1,c.navigator&&c.navigator.sendBeacon)try{p=c.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&c.Image&&(new Image().src=m.v,p=!0),p||(m.g=Qs(m.j,null),m.g.ea(m.v)),m.F=Date.now(),cs(m)}tr(u)}function Hs(u){u.g&&(Gs(u),u.g.cancel(),u.g=null)}function La(u){Hs(u),u.u&&(c.clearTimeout(u.u),u.u=null),Ks(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&c.clearTimeout(u.s),u.s=null)}function Ys(u){if(!Ei(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ae||ue(),ee||(Ae(),ee=!0),de.add(m,u),u.B=0}}function Va(u,m){return Vs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=xn(y(u.Ga,u,m),Ha(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new wn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=w(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(z.H=W,W=null),this.P)e:{for(var m=0,p=0;p<this.i.length;p++){t:{var x=this.i[p];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(m+=x,4096<m){m=p;break e}if(m===4096||p===this.i.length-1){m=p+1;break e}}m=1e3}else m=1e3;m=Ua(this,z,m),p=ln(this.I),Ze(p,"RID",u),Ze(p,"CVER",22),this.D&&Ze(p,"X-HTTP-Session-Id",this.D),ys(this,p),W&&(this.O?m="headers="+encodeURIComponent(String(Ra(W)))+"&"+m:this.m&&Vr(p,this.m,W)),fs(this.h,z),this.Ua&&Ze(p,"TYPE","init"),this.P?(Ze(p,"$req",m),Ze(p,"SID","null"),z.T=!0,us(z,p,null)):us(z,p,m),this.G=2}}else this.G==3&&(u?za(this,u):this.i.length==0||Ei(this.h)||za(this))};function za(u,m){var p;m?p=m.l:p=u.U++;const x=ln(u.I);Ze(x,"SID",u.K),Ze(x,"RID",p),Ze(x,"AID",u.T),ys(u,x),u.m&&u.o&&Vr(x,u.m,u.o),p=new wn(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ua(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),fs(u.h,p),us(p,x,m)}function ys(u,m){u.H&&H(u.H,function(p,x){Ze(m,x,p)}),u.l&&Je({},function(p,x){Ze(m,x,p)})}function Ua(u,m,p){p=Math.min(u.i.length,p);var x=u.l?y(u.l.Na,u.l,u):null;e:{var z=u.i;let W=-1;for(;;){const ie=["count="+p];W==-1?0<p?(W=z[0].g,ie.push("ofs="+W)):W=0:ie.push("ofs="+W);let Ne=!0;for(let yt=0;yt<p;yt++){let _e=z[yt].g;const rt=z[yt].map;if(_e-=W,0>_e)W=Math.max(0,z[yt].g-100),Ne=!1;else try{gs(rt,ie,"req"+_e+"_")}catch{x&&x(rt)}}if(Ne){x=ie.join("&");break e}}}return u=u.i.splice(0,p),m.D=u,x}function Ba(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ae||ue(),ee||(Ae(),ee=!0),de.add(m,u),u.v=0}}function qs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=xn(y(u.Fa,u),Ha(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Wa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=xn(y(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),Hs(this),Wa(this))};function Gs(u){u.A!=null&&(c.clearTimeout(u.A),u.A=null)}function Wa(u){u.g=new wn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Ze(m,"RID","rpc"),Ze(m,"SID",u.K),Ze(m,"AID",u.T),Ze(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ze(m,"TO",u.ja),Ze(m,"TYPE","xmlhttp"),ys(u,m),u.m&&u.o&&Vr(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Mr(ln(m)),p.m=null,p.P=!0,Ta(p,u)}t.Za=function(){this.C!=null&&(this.C=null,Hs(this),qs(this),Rt(19))};function Ks(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function $a(u,m){var p=null;if(u.g==m){Ks(u),Gs(u),u.g=null;var x=2}else if(ds(u.h,m))p=m.D,Ia(u.h,m),x=1;else return;if(u.G!=0){if(m.o)if(x==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;x=Nr(),ft(x,new Ea(x,p)),Ys(u)}else Ba(u);else if(z=m.s,z==3||z==0&&0<m.X||!(x==1&&Va(u,m)||x==2&&qs(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),z){case 1:Un(u,5);break;case 4:Un(u,10);break;case 3:Un(u,6);break;default:Un(u,2)}}}function Ha(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Un(u,m){if(u.j.info("Error code "+m),m==2){var p=y(u.fb,u),x=u.Xa;const z=!x;x=new er(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||hs(x,"https"),Mr(x),z?Ii(x.toString(),p):Ma(x.toString(),p)}else Rt(2);u.G=0,u.l&&u.l.sa(m),tr(u),La(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function tr(u){if(u.G=0,u.ka=[],u.l){const m=Ca(u.h);(m.length!=0||u.i.length!=0)&&(k(u.ka,m),k(u.ka,u.i),u.h.i.length=0,E(u.i),u.i.length=0),u.l.ra()}}function En(u,m,p){var x=p instanceof er?ln(p):new er(p);if(x.g!="")m&&(x.g=m+"."+x.g),ms(x,x.s);else{var z=c.location;x=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var W=new er(null);x&&hs(W,x),m&&(W.g=m),z&&ms(W,z),p&&(W.l=p),x=W}return p=u.D,m=u.ya,p&&m&&Ze(x,p,m),Ze(x,"VER",u.la),ys(u,x),x}function Qs(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new nt(new ps({eb:p})):new nt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xs(){}t=Xs.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Be(){}Be.prototype.g=function(u,m){return new mt(u,m)};function mt(u,m){Et.call(this),this.g=new Oi(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!T(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!T(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new mr(this)}N(mt,Et),mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mt.prototype.close=function(){ji(this.g)},mt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Ir(u),u=p);m.i.push(new on(m.Ya++,u)),m.G==3&&Ys(m)},mt.prototype.N=function(){this.g.l=null,delete this.j,ji(this.g),delete this.g,mt.aa.N.call(this)};function Ur(u){Cr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const p in m){u=p;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}N(Ur,Cr);function qt(){_i.call(this),this.status=1}N(qt,_i);function mr(u){this.g=u}N(mr,Xs),mr.prototype.ua=function(){ft(this.g,"a")},mr.prototype.ta=function(u){ft(this.g,new Ur(u))},mr.prototype.sa=function(u){ft(this.g,new qt)},mr.prototype.ra=function(){ft(this.g,"b")},Be.prototype.createWebChannel=Be.prototype.g,mt.prototype.send=mt.prototype.o,mt.prototype.open=mt.prototype.m,mt.prototype.close=mt.prototype.close,hC=function(){return new Be},fC=function(){return Nr()},dC=Qn,Rv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,xh=as,bi.COMPLETE="complete",cC=bi,ns.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Bc=ns,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,uC=nt}).apply(typeof Qf<"u"?Qf:typeof self<"u"?self:typeof window<"u"?window:{});const q1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new M_("@firebase/firestore");function Fc(){return pl.logLevel}function ye(t,...e){if(pl.logLevel<=We.DEBUG){const n=e.map(q_);pl.debug(`Firestore (${Qu}): ${t}`,...n)}}function aa(t,...e){if(pl.logLevel<=We.ERROR){const n=e.map(q_);pl.error(`Firestore (${Qu}): ${t}`,...n)}}function ju(t,...e){if(pl.logLevel<=We.WARN){const n=e.map(q_);pl.warn(`Firestore (${Qu}): ${t}`,...n)}}function q_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t="Unexpected state"){const e=`FIRESTORE (${Qu}) INTERNAL ASSERTION FAILED: `+t;throw aa(e),new Error(e)}function it(t,e){t||je()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends va{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Cn.UNAUTHENTICATED))}shutdown(){}}class lq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uq{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string"),new mC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new Cn(e)}}class cq{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dq{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new cq(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hq{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){it(this.o===void 0);const r=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string"),this.R=n.token,new fq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=mq(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%e.length))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function Mu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new be(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Jt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Jt(0,0))}static max(){return new Me(new Jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(),r===void 0?r=e.length-n:r>e.length-n&&je(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=e.get(s),o=n.get(s);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pt extends Pd{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Pt(n)}static emptyPath(){return new Pt([])}}const gq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Pd{construct(e,n,r){return new mn(e,n,r)}static isValidIdentifier(e){return gq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new be(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new be(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new be(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(a(),s++)}if(a(),o)throw new be(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Pt.fromString(e))}static fromName(e){return new Te(Pt.fromString(e).popFirst(5))}static empty(){return new Te(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Pt(e.slice()))}}function pq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(r===1e9?new Jt(n+1,0):new Jt(n,r));return new Io(s,Te.empty(),e)}function vq(t){return new Io(t.readTime,t.key,-1)}class Io{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Io(Me.min(),Te.empty(),-1)}static max(){return new Io(Me.max(),Te.empty(),-1)}}function yq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==_q)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let s=0,a=0,o=!1;e.forEach(c=>{++s,c.next(()=>{++a,o&&a===s&&n()},d=>r(d))}),o=!0,a===s&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(s=>s?ne.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,s)=>{const a=e.length,o=new Array(a);let c=0;for(let d=0;d<a;d++){const h=d;n(e[h]).next(g=>{o[h]=g,++c,c===a&&r(o)},g=>s(g))}})}static doWhile(e,n){return new ne((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function wq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}G_.oe=-1;function hg(t){return t==null}function lm(t){return t===0&&1/t==-1/0}function bq(t){return typeof t=="number"&&Number.isInteger(t)&&!lm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xf(this.root,e,this.comparator,!0)}}class Xf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??hn.RED,this.left=s??hn.EMPTY,this.right=a??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new hn(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return hn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(e,n,r,s,a){return this}insert(e,n,r){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K1(this.data.getIterator())}getIteratorFrom(e){return new K1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class K1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Ts([])}unionWith(e){let n=new pn(mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ts(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vC("Invalid base64 string: "+a):a}}(e);return new yn(n)}static fromUint8Array(e){const n=function(s){let a="";for(let o=0;o<s.length;++o)a+=String.fromCharCode(s[o]);return a}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const Eq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(t){if(it(!!t),typeof t=="string"){let e=0;const n=Eq.exec(t);if(it(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vl(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Q_(t){const e=t.mapValue.fields.__previous_value__;return K_(e)?Q_(e):e}function Id(t){const e=Co(t.mapValue.fields.__local_write_time__.timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,n,r,s,a,o,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h}}class Cd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf={mapValue:{}};function yl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?K_(t)?4:Tq(t)?9007199254740991:Sq(t)?10:11:je()}function hi(t,e){if(t===e)return!0;const n=yl(t);if(n!==yl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Id(t).isEqual(Id(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const o=Co(s.timestampValue),c=Co(a.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return vl(s.bytesValue).isEqual(vl(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Vt(s.geoPointValue.latitude)===Vt(a.geoPointValue.latitude)&&Vt(s.geoPointValue.longitude)===Vt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Vt(s.integerValue)===Vt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const o=Vt(s.doubleValue),c=Vt(a.doubleValue);return o===c?lm(o)===lm(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Mu(t.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(s,a){const o=s.mapValue.fields||{},c=a.mapValue.fields||{};if(G1(o)!==G1(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!hi(o[d],c[d])))return!1;return!0}(t,e);default:return je()}}function Nd(t,e){return(t.values||[]).find(n=>hi(n,e))!==void 0}function Ru(t,e){if(t===e)return 0;const n=yl(t),r=yl(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(a,o){const c=Vt(a.integerValue||a.doubleValue),d=Vt(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return Q1(t.timestampValue,e.timestampValue);case 4:return Q1(Id(t),Id(e));case 5:return Xe(t.stringValue,e.stringValue);case 6:return function(a,o){const c=vl(a),d=vl(o);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const c=a.split("/"),d=o.split("/");for(let h=0;h<c.length&&h<d.length;h++){const g=Xe(c[h],d[h]);if(g!==0)return g}return Xe(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const c=Xe(Vt(a.latitude),Vt(o.latitude));return c!==0?c:Xe(Vt(a.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return X1(t.arrayValue,e.arrayValue);case 10:return function(a,o){var c,d,h,g;const v=a.fields||{},y=o.fields||{},b=(c=v.value)===null||c===void 0?void 0:c.arrayValue,N=(d=y.value)===null||d===void 0?void 0:d.arrayValue,E=Xe(((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0,((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0);return E!==0?E:X1(b,N)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Jf.mapValue&&o===Jf.mapValue)return 0;if(a===Jf.mapValue)return 1;if(o===Jf.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),h=o.fields||{},g=Object.keys(h);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const y=Xe(d[v],g[v]);if(y!==0)return y;const b=Ru(c[d[v]],h[g[v]]);if(b!==0)return b}return Xe(d.length,g.length)}(t.mapValue,e.mapValue);default:throw je()}}function Q1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=Co(t),r=Co(e),s=Xe(n.seconds,r.seconds);return s!==0?s:Xe(n.nanos,r.nanos)}function X1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Ru(n[s],r[s]);if(a)return a}return Xe(n.length,r.length)}function Au(t){return Av(t)}function Av(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Co(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Av(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const o of r)a?a=!1:s+=",",s+=`${o}:${Av(n.fields[o])}`;return s+"}"}(t.mapValue):je()}function Fv(t){return!!t&&"integerValue"in t}function X_(t){return!!t&&"arrayValue"in t}function J1(t){return!!t&&"nullValue"in t}function Z1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wh(t){return!!t&&"mapValue"in t}function Sq(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function sd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Tq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sd(n)}setAll(e){let n=mn.emptyPath(),r={},s=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=sd(o):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];wh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xu(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Gr(sd(this.value))}}function yC(t){const e=[];return Xu(t.fields,(n,r)=>{const s=new mn([n]);if(wh(r)){const a=yC(r.mapValue).fields;if(a.length===0)e.push(s);else for(const o of a)e.push(s.child(o))}else e.push(s)}),new Ts(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,r,s,a,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Mn(e,0,Me.min(),Me.min(),Me.min(),Gr.empty(),0)}static newFoundDocument(e,n,r,s){return new Mn(e,1,n,Me.min(),r,s,0)}static newNoDocument(e,n){return new Mn(e,2,n,Me.min(),Me.min(),Gr.empty(),0)}static newUnknownDocument(e,n){return new Mn(e,3,n,Me.min(),Me.min(),Gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.position=e,this.inclusive=n}}function eE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],o=t.position[s];if(a.field.isKeyField()?r=Te.comparator(Te.fromName(o.referenceValue),n.key):r=Ru(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function tE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n="asc"){this.field=e,this.dir=n}}function Pq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{}class Qt extends _C{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Cq(e,n,r):n==="array-contains"?new jq(e,r):n==="in"?new Mq(e,r):n==="not-in"?new Rq(e,r):n==="array-contains-any"?new Aq(e,r):new Qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Nq(e,r):new Oq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ru(n,this.value)):n!==null&&yl(this.value)===yl(n)&&this.matchesComparison(Ru(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends _C{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new mi(e,n)}matches(e){return xC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xC(t){return t.op==="and"}function wC(t){return Iq(t)&&xC(t)}function Iq(t){for(const e of t.filters)if(e instanceof mi)return!1;return!0}function kv(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+Au(t.value);if(wC(t))return t.filters.map(e=>kv(e)).join(",");{const e=t.filters.map(n=>kv(n)).join(",");return`${t.op}(${e})`}}function bC(t,e){return t instanceof Qt?function(r,s){return s instanceof Qt&&r.op===s.op&&r.field.isEqual(s.field)&&hi(r.value,s.value)}(t,e):t instanceof mi?function(r,s){return s instanceof mi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,o,c)=>a&&bC(o,s.filters[c]),!0):!1}(t,e):void je()}function EC(t){return t instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Au(n.value)}`}(t):t instanceof mi?function(n){return n.op.toString()+" {"+n.getFilters().map(EC).join(" ,")+"}"}(t):"Filter"}class Cq extends Qt{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nq extends Qt{constructor(e,n){super(e,"in",n),this.keys=DC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Oq extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=DC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Te.fromName(r.referenceValue))}class jq extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return X_(n)&&Nd(n.arrayValue,this.value)}}class Mq extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nd(this.value.arrayValue,n)}}class Rq extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Nd(this.value.arrayValue,n)}}class Aq extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!X_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n=null,r=[],s=[],a=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=o,this.endAt=c,this.ue=null}}function nE(t,e=null,n=[],r=[],s=null,a=null,o=null){return new Fq(t,e,n,r,s,a,o)}function J_(t){const e=Re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),hg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Au(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Au(r)).join(",")),e.ue=n}return e.ue}function Z_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Pq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tE(t.startAt,e.startAt)&&tE(t.endAt,e.endAt)}function Lv(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n=null,r=[],s=[],a=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=o,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kq(t,e,n,r,s,a,o,c){return new mg(t,e,n,r,s,a,o,c)}function ex(t){return new mg(t)}function rE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Lq(t){return t.collectionGroup!==null}function id(t){const e=Re(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new pn(mn.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new cm(a,r))}),n.has(mn.keyField().canonicalString())||e.ce.push(new cm(mn.keyField(),r))}return e.ce}function ui(t){const e=Re(t);return e.le||(e.le=Vq(e,id(t))),e.le}function Vq(t,e){if(t.limitType==="F")return nE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new cm(s.field,a)});const n=t.endAt?new um(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new um(t.startAt.position,t.startAt.inclusive):null;return nE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vv(t,e,n){return new mg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gg(t,e){return Z_(ui(t),ui(e))&&t.limitType===e.limitType}function SC(t){return`${J_(ui(t))}|lt:${t.limitType}`}function Ql(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>EC(s)).join(", ")}]`),hg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Au(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Au(s)).join(",")),`Target(${r})`}(ui(t))}; limitType=${t.limitType})`}function pg(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Te.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of id(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,c,d){const h=eE(o,c,d);return o.inclusive?h<=0:h<0}(r.startAt,id(r),s)||r.endAt&&!function(o,c,d){const h=eE(o,c,d);return o.inclusive?h>=0:h>0}(r.endAt,id(r),s))}(t,e)}function zq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TC(t){return(e,n)=>{let r=!1;for(const s of id(t)){const a=Uq(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function Uq(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):function(a,o,c){const d=o.data.field(a),h=c.data.field(a);return d!==null&&h!==null?Ru(d,h):je()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xu(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return pC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq=new Mt(Te.comparator);function oa(){return Bq}const PC=new Mt(Te.comparator);function Wc(...t){let e=PC;for(const n of t)e=e.insert(n.key,n);return e}function IC(t){let e=PC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function sl(){return ad()}function CC(){return ad()}function ad(){return new Ju(t=>t.toString(),(t,e)=>t.isEqual(e))}const Wq=new Mt(Te.comparator),$q=new pn(Te.comparator);function Ue(...t){let e=$q;for(const n of t)e=e.add(n);return e}const Hq=new pn(Xe);function Yq(){return Hq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lm(e)?"-0":e}}function NC(t){return{integerValue:""+t}}function qq(t,e){return bq(e)?NC(e):tx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this._=void 0}}function Gq(t,e,n){return t instanceof Od?function(s,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&K_(a)&&(a=Q_(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(n,e):t instanceof jd?jC(t,e):t instanceof Md?MC(t,e):function(s,a){const o=OC(s,a),c=sE(o)+sE(s.Pe);return Fv(o)&&Fv(s.Pe)?NC(c):tx(s.serializer,c)}(t,e)}function Kq(t,e,n){return t instanceof jd?jC(t,e):t instanceof Md?MC(t,e):n}function OC(t,e){return t instanceof dm?function(r){return Fv(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Od extends vg{}class jd extends vg{constructor(e){super(),this.elements=e}}function jC(t,e){const n=RC(e);for(const r of t.elements)n.some(s=>hi(s,r))||n.push(r);return{arrayValue:{values:n}}}class Md extends vg{constructor(e){super(),this.elements=e}}function MC(t,e){let n=RC(e);for(const r of t.elements)n=n.filter(s=>!hi(s,r));return{arrayValue:{values:n}}}class dm extends vg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function sE(t){return Vt(t.integerValue||t.doubleValue)}function RC(t){return X_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e,n){this.field=e,this.transform=n}}function Xq(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof jd&&s instanceof jd||r instanceof Md&&s instanceof Md?Mu(r.elements,s.elements,hi):r instanceof dm&&s instanceof dm?hi(r.Pe,s.Pe):r instanceof Od&&s instanceof Od}(t.transform,e.transform)}class Jq{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yg{}function AC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nx(t.key,ci.none()):new uf(t.key,t.data,ci.none());{const n=t.data,r=Gr.empty();let s=new pn(mn.comparator);for(let a of e.fields)if(!s.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),s=s.add(a)}return new Tl(t.key,r,new Ts(s.toArray()),ci.none())}}function Zq(t,e,n){t instanceof uf?function(s,a,o){const c=s.value.clone(),d=aE(s.fieldTransforms,a,o.transformResults);c.setAll(d),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Tl?function(s,a,o){if(!bh(s.precondition,a))return void a.convertToUnknownDocument(o.version);const c=aE(s.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(FC(s)),d.setAll(c),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(t,e,n):function(s,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function od(t,e,n,r){return t instanceof uf?function(a,o,c,d){if(!bh(a.precondition,o))return c;const h=a.value.clone(),g=oE(a.fieldTransforms,d,o);return h.setAll(g),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Tl?function(a,o,c,d){if(!bh(a.precondition,o))return c;const h=oE(a.fieldTransforms,d,o),g=o.data;return g.setAll(FC(a)),g.setAll(h),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(a,o,c){return bh(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function eG(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=OC(r.transform,s||null);a!=null&&(n===null&&(n=Gr.empty()),n.set(r.field,a))}return n||null}function iE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Mu(r,s,(a,o)=>Xq(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uf extends yg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Tl extends yg{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function FC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aE(t,e,n){const r=new Map;it(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],o=a.transform,c=e.data.field(a.field);r.set(a.field,Kq(o,c,n[s]))}return r}function oE(t,e,n){const r=new Map;for(const s of t){const a=s.transform,o=n.data.field(s.field);r.set(s.field,Gq(a,o,e))}return r}class nx extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tG extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Zq(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=od(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=od(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CC();return this.mutations.forEach(s=>{const a=e.get(s.key),o=a.overlayedDocument;let c=this.applyToLocalView(o,a.mutatedFields);c=n.has(s.key)?null:c;const d=AC(o,c);d!==null&&r.set(s.key,d),o.isValidDocument()||o.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Mu(this.mutations,e.mutations,(n,r)=>iE(n,r))&&Mu(this.baseMutations,e.baseMutations,(n,r)=>iE(n,r))}}class rx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){it(e.mutations.length===r.length);let s=function(){return Wq}();const a=e.mutations;for(let o=0;o<a.length;o++)s=s.insert(a[o].key,r[o].version);return new rx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,He;function iG(t){switch(t){default:return je();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function kC(t){if(t===void 0)return aa("GRPC error has no .code"),te.UNKNOWN;switch(t){case Wt.OK:return te.OK;case Wt.CANCELLED:return te.CANCELLED;case Wt.UNKNOWN:return te.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return te.INTERNAL;case Wt.UNAVAILABLE:return te.UNAVAILABLE;case Wt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Wt.NOT_FOUND:return te.NOT_FOUND;case Wt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Wt.ABORTED:return te.ABORTED;case Wt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Wt.DATA_LOSS:return te.DATA_LOSS;default:return je()}}(He=Wt||(Wt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oG=new ll([4294967295,4294967295],0);function lE(t){const e=aG().encode(t),n=new lC;return n.update(e),new Uint8Array(n.digest())}function uE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ll([n,r],0),new ll([s,a],0)]}class sx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $c(`Invalid padding: ${n}`);if(r<0)throw new $c(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $c(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $c(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ll.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ll.fromNumber(r)));return s.compare(oG)===1&&(s=new ll([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=lE(e),[r,s]=uE(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,s,a);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new sx(a,s,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;const n=lE(e),[r,s]=uE(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,s,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,cf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _g(Me.min(),s,new Mt(Xe),oa(),Ue())}}class cf{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cf(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class LC{constructor(e,n){this.targetId=e,this.me=n}}class VC{constructor(e,n,r=yn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class cE{constructor(){this.fe=0,this.ge=fE(),this.pe=yn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),n=Ue(),r=Ue();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:je()}}),new cf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=fE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,it(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lG{constructor(e){this.Le=e,this.Be=new Map,this.ke=oa(),this.qe=dE(),this.Qe=new Mt(Xe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:je()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const a=s.target;if(Lv(a))if(r===0){const o=new Te(a.path);this.Ue(n,o,Mn.newNoDocument(o,Me.min()))}else it(r===1);else{const o=this.Ye(n);if(o!==r){const c=this.Ze(e),d=c?this.Xe(c,e,o):1;if(d!==0){this.je(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let o,c;try{o=vl(r).toUint8Array()}catch(d){if(d instanceof vC)return ju("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new sx(o,s,a)}catch(d){return ju(d instanceof $c?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,a,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((a,o)=>{const c=this.Je(o);if(c){if(a.current&&Lv(c.target)){const d=new Te(c.target.path);this.ke.get(d)!==null||this.it(o,d)||this.Ue(o,d,Mn.newNoDocument(d,e))}a.be&&(n.set(o,a.ve()),a.Ce())}});let r=Ue();this.qe.forEach((a,o)=>{let c=!0;o.forEachWhile(d=>{const h=this.Je(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const s=new _g(e,n,this.Qe,this.ke,r);return this.ke=oa(),this.qe=dE(),this.Qe=new Mt(Xe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new cE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new pn(Xe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function dE(){return new Mt(Te.comparator)}function fE(){return new Mt(Te.comparator)}const uG={asc:"ASCENDING",desc:"DESCENDING"},cG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dG={and:"AND",or:"OR"};class fG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zv(t,e){return t.useProto3Json||hg(e)?e:{value:e}}function fm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hG(t,e){return fm(t,e.toTimestamp())}function di(t){return it(!!t),Me.fromTimestamp(function(n){const r=Co(n);return new Jt(r.seconds,r.nanos)}(t))}function ix(t,e){return Uv(t,e).canonicalString()}function Uv(t,e){const n=function(s){return new Pt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UC(t){const e=Pt.fromString(t);return it(YC(e)),e}function Bv(t,e){return ix(t.databaseId,e.path)}function Ep(t,e){const n=UC(e);if(n.get(1)!==t.databaseId.projectId)throw new be(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(WC(n))}function BC(t,e){return ix(t.databaseId,e)}function mG(t){const e=UC(t);return e.length===4?Pt.emptyPath():WC(e)}function Wv(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WC(t){return it(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hE(t,e,n){return{name:Bv(t,e),fields:n.value.mapValue.fields}}function gG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:je()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(h,g){return h.useProto3Json?(it(g===void 0||typeof g=="string"),yn.fromBase64String(g||"")):(it(g===void 0||g instanceof Buffer||g instanceof Uint8Array),yn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){const g=h.code===void 0?te.UNKNOWN:kC(h.code);return new be(g,h.message||"")}(o);n=new VC(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ep(t,r.document.name),a=di(r.document.updateTime),o=r.document.createTime?di(r.document.createTime):Me.min(),c=new Gr({mapValue:{fields:r.document.fields}}),d=Mn.newFoundDocument(s,a,o,c),h=r.targetIds||[],g=r.removedTargetIds||[];n=new Eh(h,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ep(t,r.document),a=r.readTime?di(r.readTime):Me.min(),o=Mn.newNoDocument(s,a),c=r.removedTargetIds||[];n=new Eh([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ep(t,r.document),a=r.removedTargetIds||[];n=new Eh([],a,s,null)}else{if(!("filter"in e))return je();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,o=new sG(s,a),c=r.targetId;n=new LC(c,o)}}return n}function pG(t,e){let n;if(e instanceof uf)n={update:hE(t,e.key,e.value)};else if(e instanceof nx)n={delete:Bv(t,e.key)};else if(e instanceof Tl)n={update:hE(t,e.key,e.data),updateMask:SG(e.fieldMask)};else{if(!(e instanceof tG))return je();n={verify:Bv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const c=o.transform;if(c instanceof Od)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof jd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Md)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof dm)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw je()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:hG(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:je()}(t,e.precondition)),n}function vG(t,e){return t&&t.length>0?(it(e!==void 0),t.map(n=>function(s,a){let o=s.updateTime?di(s.updateTime):di(a);return o.isEqual(Me.min())&&(o=di(a)),new Jq(o,s.transformResults||[])}(n,e))):[]}function yG(t,e){return{documents:[BC(t,e.path)]}}function _G(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BC(t,s);const a=function(h){if(h.length!==0)return HC(mi.create(h,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(h){if(h.length!==0)return h.map(g=>function(y){return{field:Xl(y.field),direction:bG(y.dir)}}(g))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=zv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:s}}function xG(t){let e=mG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){it(r===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(v){const y=$C(v);return y instanceof mi&&wC(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(v){return v.map(y=>function(N){return new cm(Jl(N.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(v){let y;return y=typeof v=="object"?v.value:v,hg(y)?null:y}(n.limit));let d=null;n.startAt&&(d=function(v){const y=!!v.before,b=v.values||[];return new um(b,y)}(n.startAt));let h=null;return n.endAt&&(h=function(v){const y=!v.before,b=v.values||[];return new um(b,y)}(n.endAt)),kq(e,s,o,a,c,"F",d,h)}function wG(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $C(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jl(n.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Jl(n.unaryFilter.field);return Qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Jl(n.unaryFilter.field);return Qt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jl(n.unaryFilter.field);return Qt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(t):t.fieldFilter!==void 0?function(n){return Qt.create(Jl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mi.create(n.compositeFilter.filters.map(r=>$C(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je()}}(n.compositeFilter.op))}(t):je()}function bG(t){return uG[t]}function EG(t){return cG[t]}function DG(t){return dG[t]}function Xl(t){return{fieldPath:t.canonicalString()}}function Jl(t){return mn.fromServerFormat(t.fieldPath)}function HC(t){return t instanceof Qt?function(n){if(n.op==="=="){if(Z1(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NAN"}};if(J1(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Z1(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NOT_NAN"}};if(J1(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xl(n.field),op:EG(n.op),value:n.value}}}(t):t instanceof mi?function(n){const r=n.getFilters().map(s=>HC(s));return r.length===1?r[0]:{compositeFilter:{op:DG(n.op),filters:r}}}(t):je()}function SG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,s,a=Me.min(),o=Me.min(),c=yn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e){this.ct=e}}function PG(t){const e=xG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(){this.un=new CG}addToCollectionParentIndex(e,n){return this.un.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Io.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class CG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new pn(Pt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new pn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Fu(0)}static kn(){return new Fu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(){this.changes=new Ju(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&od(r.mutation,s,Ts.empty(),Jt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const s=sl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let o=Wc();return a.forEach((c,d)=>{o=o.insert(c,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=sl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,s){let a=oa();const o=ad(),c=function(){return ad()}();return n.forEach((d,h)=>{const g=r.get(h.key);s.has(h.key)&&(g===void 0||g.mutation instanceof Tl)?a=a.insert(h.key,h):g!==void 0?(o.set(h.key,g.mutation.getFieldMask()),od(g.mutation,h,g.mutation.getFieldMask(),Jt.now())):o.set(h.key,Ts.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((h,g)=>o.set(h,g)),n.forEach((h,g)=>{var v;return c.set(h,new OG(g,(v=o.get(h))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const r=ad();let s=new Mt((o,c)=>o-c),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let g=r.get(d)||Ts.empty();g=c.applyToLocalView(h,g),r.set(d,g);const v=(s.get(c.batchId)||Ue()).add(d);s=s.insert(c.batchId,v)})}).next(()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,g=d.value,v=CC();g.forEach(y=>{if(!a.has(y)){const b=AC(n.get(y),r.get(y));b!==null&&v.set(y,b),a=a.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,v))}return ne.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Lq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const o=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):ne.resolve(sl());let c=-1,d=a;return o.next(h=>ne.forEach(h,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),a.get(g)?ne.resolve():this.remoteDocumentCache.getEntry(e,g).next(y=>{d=d.insert(g,y)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,d,h,Ue())).next(g=>({batchId:c,changes:IC(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(r=>{let s=Wc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let o=Wc();return this.indexManager.getCollectionParents(e,a).next(c=>ne.forEach(c,d=>{const h=function(v,y){return new mg(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(g=>{g.forEach((v,y)=>{o=o.insert(v,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(o=>{a.forEach((d,h)=>{const g=h.getKey();o.get(g)===null&&(o=o.insert(g,Mn.newInvalidDocument(g)))});let c=Wc();return o.forEach((d,h)=>{const g=a.get(d);g!==void 0&&od(g.mutation,h,Ts.empty(),Jt.now()),pg(n,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ne.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:di(s.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:PG(s.bundledQuery),readTime:di(s.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(){this.overlays=new Mt(Te.comparator),this.Ir=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=sl();return ne.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.ht(e,n,a)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const s=sl(),a=n.length+1,o=new Te(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new Mt((h,g)=>h-g);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let g=a.get(h.largestBatchId);g===null&&(g=sl(),a=a.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const c=sl(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,g)=>c.set(h,g)),!(c.size()>=s)););return ne.resolve(c)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rG(n,r));let a=this.Ir.get(n);a===void 0&&(a=Ue(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.Tr=new pn(rn.Er),this.dr=new pn(rn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new rn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new rn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Te(new Pt([])),r=new rn(n,e),s=new rn(n,e+1),a=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Te(new Pt([])),r=new rn(n,e),s=new rn(n,e+1);let a=Ue();return this.dr.forEachInRange([r,s],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new rn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Te.comparator(e.key,n.key)||Xe(e.wr,n.wr)}static Ar(e,n){return Xe(e.wr,n.wr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new pn(rn.Er)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nG(a,n,r,s);this.mutationQueue.push(o);for(const c of s)this.br=this.br.add(new rn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ne.resolve(o)}lookupMutationBatch(e,n){return ne.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),a=s<0?0:s;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rn(n,0),s=new rn(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,s],o=>{const c=this.Dr(o.wr);a.push(c)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pn(Xe);return n.forEach(s=>{const a=new rn(s,0),o=new rn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],c=>{r=r.add(c.wr)})}),ne.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Te.isDocumentKey(a)||(a=a.child(""));const o=new rn(new Te(a),0);let c=new pn(Xe);return this.br.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(d.wr)),!0)},o),ne.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){it(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ne.forEach(n.mutations,s=>{const a=new rn(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new rn(n,0),s=this.br.firstAfterOrEqual(r);return ne.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e){this.Mr=e,this.docs=function(){return new Mt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let r=oa();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Mn.newInvalidDocument(s))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=oa();const o=n.path,c=new Te(o.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:g}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||yq(vq(g),r)<=0||(s.has(g.key)||pg(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,n,r,s){je()}Or(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LG(this)}getSize(e){return ne.resolve(this.size)}}class LG extends NG{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(e){this.persistence=e,this.Nr=new Ju(n=>J_(n),Z_),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ax,this.targetCount=0,this.kr=Fu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ne.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Fu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Kn(n),ne.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),ne.waitFor(a).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(o=>{a.push(s.markPotentiallyOrphaned(e,o))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(e,n){this.qr={},this.overlays={},this.Qr=new G_(0),this.Kr=!1,this.Kr=!0,this.$r=new AG,this.referenceDelegate=e(this),this.Ur=new VG(this),this.indexManager=new IG,this.remoteDocumentCache=function(s){return new kG(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new TG(n),this.Gr=new MG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new FG(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const s=new UG(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(a=>this.referenceDelegate.jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Hr(e,n){return ne.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class UG extends xq{constructor(e){super(),this.currentSequenceNumber=e}}class ox{constructor(e){this.persistence=e,this.Jr=new ax,this.Yr=null}static Zr(e){return new ox(e)}get Xr(){if(this.Yr)return this.Yr;throw je()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,r=>{const s=Te.fromPath(r);return this.ei(e,s).next(a=>{a||n.removeEntry(s,Me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ne.or([()=>ne.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ue(),s=Ue();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new lx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return $W()?8:wq(An())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.Yi(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,n,s,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new BG;return this.Xi(e,n,o).next(c=>{if(a.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>a.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Fc()<=We.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Ql(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(Fc()<=We.DEBUG&&ye("QueryEngine","Query:",Ql(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Fc()<=We.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Ql(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):ne.resolve())}Yi(e,n){if(rE(n))return ne.resolve(null);let r=ui(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Vv(n,null,"F"),r=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=Ue(...a);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.ts(n,c);return this.ns(n,h,o,d.readTime)?this.Yi(e,Vv(n,null,"F")):this.rs(e,h,n,d)}))})))}Zi(e,n,r,s){return rE(n)||s.isEqual(Me.min())?ne.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const o=this.ts(n,a);return this.ns(n,o,r,s)?ne.resolve(null):(Fc()<=We.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ql(n)),this.rs(e,o,n,pq(s,-1)).next(c=>c))})}ts(e,n){let r=new pn(TC(e));return n.forEach((s,a)=>{pg(e,a)&&(r=r.add(a))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Xi(e,n,r){return Fc()<=We.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Ql(n)),this.Ji.getDocumentsMatchingQuery(e,n,Io.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Mt(Xe),this._s=new Ju(a=>J_(a),Z_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jG(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function HG(t,e,n,r){return new $G(t,e,n,r)}async function qC(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],c=[];let d=Ue();for(const h of s){o.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}for(const h of a){c.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:c}))})})}function YG(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,d,h,g){const v=h.batch,y=v.keys();let b=ne.resolve();return y.forEach(N=>{b=b.next(()=>g.getEntry(d,N)).next(E=>{const k=h.docVersions.get(N);it(k!==null),E.version.compareTo(k)<0&&(v.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),g.addEntry(E)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(d,v))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=Ue();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function GC(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function qG(t,e){const n=Re(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const c=[];e.targetChanges.forEach((g,v)=>{const y=s.get(v);if(!y)return;c.push(n.Ur.removeMatchingKeys(a,g.removedDocuments,v).next(()=>n.Ur.addMatchingKeys(a,g.addedDocuments,v)));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(yn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),s=s.insert(v,b),function(E,k,S){return E.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(y,b,g)&&c.push(n.Ur.updateTargetData(a,b))});let d=oa(),h=Ue();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(GG(a,o,e.documentUpdates).next(g=>{d=g.Ps,h=g.Is})),!r.isEqual(Me.min())){const g=n.Ur.getLastRemoteSnapshotVersion(a).next(v=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return ne.waitFor(c).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,d,h)).next(()=>d)}).then(a=>(n.os=s,a))}function GG(t,e,n){let r=Ue(),s=Ue();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=oa();return n.forEach((c,d)=>{const h=a.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Me.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):ye("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{Ps:o,Is:s}})}function KG(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QG(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(a=>a?(s=a,ne.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new co(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function $v(t,e,n){const r=Re(t),s=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!lf(o))throw o;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function mE(t,e,n){const r=Re(t);let s=Me.min(),a=Ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(d,h,g){const v=Re(d),y=v._s.get(g);return y!==void 0?ne.resolve(v.os.get(y)):v.Ur.getTargetData(h,g)}(r,o,ui(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(d=>{a=d})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Me.min(),n?a:Ue())).next(c=>(XG(r,zq(e),c),{documents:c,Ts:a})))}function XG(t,e,n){let r=t.us.get(e)||Me.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class gE{constructor(){this.activeTargetIds=Yq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JG{constructor(){this.so=new gE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new gE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf=null;function Dp(){return Zf===null?Zf=function(){return 268435456+Math.round(2147483648*Math.random())}():Zf++,"0x"+Zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class nK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get Fo(){return!1}Mo(n,r,s,a,o){const c=Dp(),d=this.xo(n,r.toUriEncodedString());ye("RestConnection",`Sending RPC '${n}' ${c}:`,d,s);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,a,o),this.No(n,d,h,s).then(g=>(ye("RestConnection",`Received RPC '${n}' ${c}: `,g),g),g=>{throw ju("RestConnection",`RPC '${n}' ${c} failed with error: `,g,"url: ",d,"request:",s),g})}Lo(n,r,s,a,o,c){return this.Mo(n,r,s,a,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,o)=>n[o]=a),s&&s.headers.forEach((a,o)=>n[o]=a)}xo(n,r){const s=eK[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const a=Dp();return new Promise((o,c)=>{const d=new uC;d.setWithCredentials(!0),d.listenOnce(cC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case xh.NO_ERROR:const g=d.getResponseJson();ye(In,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),o(g);break;case xh.TIMEOUT:ye(In,`RPC '${e}' ${a} timed out`),c(new be(te.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const v=d.getStatus();if(ye(In,`RPC '${e}' ${a} failed with status:`,v,"response text:",d.getResponseText()),v>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const N=function(k){const S=k.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(S)>=0?S:te.UNKNOWN}(b.status);c(new be(N,b.message))}else c(new be(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new be(te.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{ye(In,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);ye(In,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",h,r,15)})}Bo(e,n,r){const s=Dp(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hC(),c=fC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=a.join("");ye(In,`Creating RPC '${e}' stream ${s}: ${g}`,d);const v=o.createWebChannel(g,d);let y=!1,b=!1;const N=new tK({Io:k=>{b?ye(In,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(y||(ye(In,`Opening RPC '${e}' stream ${s} transport.`),v.open(),y=!0),ye(In,`RPC '${e}' stream ${s} sending:`,k),v.send(k))},To:()=>v.close()}),E=(k,S,T)=>{k.listen(S,I=>{try{T(I)}catch(R){setTimeout(()=>{throw R},0)}})};return E(v,Bc.EventType.OPEN,()=>{b||(ye(In,`RPC '${e}' stream ${s} transport opened.`),N.yo())}),E(v,Bc.EventType.CLOSE,()=>{b||(b=!0,ye(In,`RPC '${e}' stream ${s} transport closed`),N.So())}),E(v,Bc.EventType.ERROR,k=>{b||(b=!0,ju(In,`RPC '${e}' stream ${s} transport errored:`,k),N.So(new be(te.UNAVAILABLE,"The operation could not be completed")))}),E(v,Bc.EventType.MESSAGE,k=>{var S;if(!b){const T=k.data[0];it(!!T);const I=T,R=I.error||((S=I[0])===null||S===void 0?void 0:S.error);if(R){ye(In,`RPC '${e}' stream ${s} received error:`,R);const $=R.status;let H=function(P){const O=Wt[P];if(O!==void 0)return kC(O)}($),D=R.message;H===void 0&&(H=te.INTERNAL,D="Unknown error status: "+$+" with message "+R.message),b=!0,N.So(new be(H,D)),v.close()}else ye(In,`RPC '${e}' stream ${s} received:`,T),N.bo(T)}}),E(c,dC.STAT_EVENT,k=>{k.stat===Rv.PROXY?ye(In,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Rv.NOPROXY&&ye(In,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}}function Sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t){return new fG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r=1e3,s=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,r,s,a,o,c,d){this.ui=e,this.Ho=r,this.Jo=s,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new KC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(aa(n.toString()),aa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new be(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rK extends QC{constructor(e,n,r,s,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=gG(this.serializer,e),r=function(a){if(!("targetChange"in a))return Me.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Me.min():o.readTime?di(o.readTime):Me.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Wv(this.serializer),n.addTarget=function(a,o){let c;const d=o.target;if(c=Lv(d)?{documents:yG(a,d)}:{query:_G(a,d)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=zC(a,o.resumeToken);const h=zv(a,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(Me.min())>0){c.readTime=fm(a,o.snapshotVersion.toTimestamp());const h=zv(a,o.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=wG(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Wv(this.serializer),n.removeTarget=e,this.a_(n)}}class sK extends QC{constructor(e,n,r,s,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return it(!!e.streamToken),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=vG(e.writeResults,e.commitTime),r=di(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Wv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pG(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new be(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,Uv(n,r),s,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(te.UNKNOWN,a.toString())})}Lo(e,n,r,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Uv(n,r),s,o,c,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(te.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class aK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(aa(n),this.D_=!1):ye("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{r.enqueueAndForget(async()=>{Pl(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(d){const h=Re(d);h.L_.add(4),await df(h),h.q_.set("Unknown"),h.L_.delete(4),await wg(h)}(this))})}),this.q_=new aK(r,s)}}async function wg(t){if(Pl(t))for(const e of t.B_)await e(!0)}async function df(t){for(const e of t.B_)await e(!1)}function XC(t,e){const n=Re(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),fx(n)?dx(n):Zu(n).r_()&&cx(n,e))}function ux(t,e){const n=Re(t),r=Zu(n);n.N_.delete(e),r.r_()&&JC(n,e),n.N_.size===0&&(r.r_()?r.o_():Pl(n)&&n.q_.set("Unknown"))}function cx(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zu(t).A_(e)}function JC(t,e){t.Q_.xe(e),Zu(t).R_(e)}function dx(t){t.Q_=new lG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Zu(t).start(),t.q_.v_()}function fx(t){return Pl(t)&&!Zu(t).n_()&&t.N_.size>0}function Pl(t){return Re(t).L_.size===0}function ZC(t){t.Q_=void 0}async function lK(t){t.q_.set("Online")}async function uK(t){t.N_.forEach((e,n)=>{cx(t,e)})}async function cK(t,e){ZC(t),fx(t)?(t.q_.M_(e),dx(t)):t.q_.set("Unknown")}async function dK(t,e,n){if(t.q_.set("Online"),e instanceof VC&&e.state===2&&e.cause)try{await async function(s,a){const o=a.cause;for(const c of a.targetIds)s.N_.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.N_.delete(c),s.Q_.removeTarget(c))}(t,e)}catch(r){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hm(t,r)}else if(e instanceof Eh?t.Q_.Ke(e):e instanceof LC?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Me.min()))try{const r=await GC(t.localStore);n.compareTo(r)>=0&&await function(a,o){const c=a.Q_.rt(o);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.N_.get(h);g&&a.N_.set(h,g.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach((d,h)=>{const g=a.N_.get(d);if(!g)return;a.N_.set(d,g.withResumeToken(yn.EMPTY_BYTE_STRING,g.snapshotVersion)),JC(a,d);const v=new co(g.target,d,h,g.sequenceNumber);cx(a,v)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){ye("RemoteStore","Failed to raise snapshot:",r),await hm(t,r)}}async function hm(t,e,n){if(!lf(e))throw e;t.L_.add(1),await df(t),t.q_.set("Offline"),n||(n=()=>GC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await wg(t)})}function eN(t,e){return e().catch(n=>hm(t,n,e))}async function bg(t){const e=Re(t),n=No(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fK(e);)try{const s=await KG(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,hK(e,s)}catch(s){await hm(e,s)}tN(e)&&nN(e)}function fK(t){return Pl(t)&&t.O_.length<10}function hK(t,e){t.O_.push(e);const n=No(t);n.r_()&&n.V_&&n.m_(e.mutations)}function tN(t){return Pl(t)&&!No(t).n_()&&t.O_.length>0}function nN(t){No(t).start()}async function mK(t){No(t).p_()}async function gK(t){const e=No(t);for(const n of t.O_)e.m_(n.mutations)}async function pK(t,e,n){const r=t.O_.shift(),s=rx.from(r,e,n);await eN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await bg(t)}async function vK(t,e){e&&No(t).V_&&await async function(r,s){if(function(o){return iG(o)&&o!==te.ABORTED}(s.code)){const a=r.O_.shift();No(r).s_(),await eN(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await bg(r)}}(t,e),tN(t)&&nN(t)}async function vE(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const r=Pl(n);n.L_.add(3),await df(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await wg(n)}async function yK(t,e){const n=Re(t);e?(n.L_.delete(2),await wg(n)):e||(n.L_.add(2),await df(n),n.q_.set("Unknown"))}function Zu(t){return t.K_||(t.K_=function(n,r,s){const a=Re(n);return a.w_(),new rK(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Eo:lK.bind(null,t),Ro:uK.bind(null,t),mo:cK.bind(null,t),d_:dK.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),fx(t)?dx(t):t.q_.set("Unknown")):(await t.K_.stop(),ZC(t))})),t.K_}function No(t){return t.U_||(t.U_=function(n,r,s){const a=Re(n);return a.w_(),new sK(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mK.bind(null,t),mo:vK.bind(null,t),f_:gK.bind(null,t),g_:pK.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await bg(t)):(await t.U_.stop(),t.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const o=Date.now()+r,c=new hx(e,n,o,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mx(t,e){if(aa("AsyncQueue",`${e}: ${t}`),lf(t))return new be(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=Wc(),this.sortedSet=new Mt(this.comparator)}static emptySet(e){return new bu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.W_=new Mt(Te.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):je():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ku{constructor(e,n,r,s,a,o,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,a){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new ku(e,n,bu.emptySet(n),o,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class xK{constructor(){this.queries=_E(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Re(n),a=s.queries;s.queries=_E(),a.forEach((o,c)=>{for(const d of c.j_)d.onError(r)})})(this,new be(te.ABORTED,"Firestore shutting down"))}}function _E(){return new Ju(t=>SC(t),gg)}async function rN(t,e){const n=Re(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.H_()&&e.J_()&&(r=2):(a=new _K,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(s,!0);break;case 1:a.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const c=mx(o,`Initialization of query '${Ql(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&gx(n)}async function sN(t,e){const n=Re(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?s=e.J_()?0:1:!a.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function wK(t,e){const n=Re(t);let r=!1;for(const s of e){const a=s.query,o=n.queries.get(a);if(o){for(const c of o.j_)c.X_(s)&&(r=!0);o.z_=s}}r&&gx(n)}function bK(t,e,n){const r=Re(t),s=r.queries.get(e);if(s)for(const a of s.j_)a.onError(n);r.queries.delete(e)}function gx(t){t.Y_.forEach(e=>{e.next()})}var Hv,xE;(xE=Hv||(Hv={})).ea="default",xE.Cache="cache";class iN{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ku(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Hv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.key=e}}class oN{constructor(e){this.key=e}}class EK{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ue(),this.mutatedKeys=Ue(),this.Aa=TC(e),this.Ra=new bu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new yE,s=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,v)=>{const y=s.get(g),b=pg(this.query,v)?v:null,N=!!y&&this.mutatedKeys.has(y.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let k=!1;y&&b?y.data.isEqual(b.data)?N!==E&&(r.track({type:3,doc:b}),k=!0):this.ga(y,b)||(r.track({type:2,doc:b}),k=!0,(d&&this.Aa(b,d)>0||h&&this.Aa(b,h)<0)&&(c=!0)):!y&&b?(r.track({type:0,doc:b}),k=!0):y&&!b&&(r.track({type:1,doc:y}),k=!0,(d||h)&&(c=!0)),k&&(b?(o=o.add(b),a=E?a.add(g):a.delete(g)):(o=o.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const g=this.query.limitType==="F"?o.last():o.first();o=o.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{Ra:o,fa:r,ns:c,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((g,v)=>function(b,N){const E=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return E(b)-E(N)}(g.type,v.type)||this.Aa(g.doc,v.doc)),this.pa(r),s=s!=null&&s;const c=n&&!s?this.ya():[],d=this.da.size===0&&this.current&&!s?1:0,h=d!==this.Ea;return this.Ea=d,o.length!==0||h?{snapshot:new ku(this.query,e.Ra,a,o,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new yE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new oN(r))}),this.da.forEach(r=>{e.has(r)||n.push(new aN(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ue();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ku.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class DK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class SK{constructor(e){this.key=e,this.va=!1}}class TK{constructor(e,n,r,s,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ju(c=>SC(c),gg),this.Ma=new Map,this.xa=new Set,this.Oa=new Mt(Te.comparator),this.Na=new Map,this.La=new ax,this.Ba={},this.ka=new Map,this.qa=Fu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function PK(t,e,n=!0){const r=hN(t);let s;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Da()):s=await lN(r,e,n,!0),s}async function IK(t,e){const n=hN(t);await lN(n,e,!0,!1)}async function lN(t,e,n,r){const s=await QG(t.localStore,ui(e)),a=s.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await CK(t,e,a,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&XC(t.remoteStore,s),c}async function CK(t,e,n,r,s){t.Ka=(v,y,b)=>async function(E,k,S,T){let I=k.view.ma(S);I.ns&&(I=await mE(E.localStore,k.query,!1).then(({documents:D})=>k.view.ma(D,I)));const R=T&&T.targetChanges.get(k.targetId),$=T&&T.targetMismatches.get(k.targetId)!=null,H=k.view.applyChanges(I,E.isPrimaryClient,R,$);return bE(E,k.targetId,H.wa),H.snapshot}(t,v,y,b);const a=await mE(t.localStore,e,!0),o=new EK(e,a.Ts),c=o.ma(a.documents),d=cf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(c,t.isPrimaryClient,d);bE(t,n,h.wa);const g=new DK(e,n,o);return t.Fa.set(e,g),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function NK(t,e,n){const r=Re(t),s=r.Fa.get(e),a=r.Ma.get(s.targetId);if(a.length>1)return r.Ma.set(s.targetId,a.filter(o=>!gg(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await $v(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ux(r.remoteStore,s.targetId),Yv(r,s.targetId)}).catch(of)):(Yv(r,s.targetId),await $v(r.localStore,s.targetId,!0))}async function OK(t,e){const n=Re(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ux(n.remoteStore,r.targetId))}async function jK(t,e,n){const r=VK(t);try{const s=await function(o,c){const d=Re(o),h=Jt.now(),g=c.reduce((b,N)=>b.add(N.key),Ue());let v,y;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let N=oa(),E=Ue();return d.cs.getEntries(b,g).next(k=>{N=k,N.forEach((S,T)=>{T.isValidDocument()||(E=E.add(S))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,N)).next(k=>{v=k;const S=[];for(const T of c){const I=eG(T,v.get(T.key).overlayedDocument);I!=null&&S.push(new Tl(T.key,I,yC(I.value.mapValue),ci.exists(!0)))}return d.mutationQueue.addMutationBatch(b,h,S,c)}).next(k=>{y=k;const S=k.applyToLocalDocumentSet(v,E);return d.documentOverlayCache.saveOverlays(b,k.batchId,S)})}).then(()=>({batchId:y.batchId,changes:IC(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,c,d){let h=o.Ba[o.currentUser.toKey()];h||(h=new Mt(Xe)),h=h.insert(c,d),o.Ba[o.currentUser.toKey()]=h}(r,s.batchId,n),await ff(r,s.changes),await bg(r.remoteStore)}catch(s){const a=mx(s,"Failed to persist write");n.reject(a)}}async function uN(t,e){const n=Re(t);try{const r=await qG(n.localStore,e);e.targetChanges.forEach((s,a)=>{const o=n.Na.get(a);o&&(it(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?it(o.va):s.removedDocuments.size>0&&(it(o.va),o.va=!1))}),await ff(n,r,e)}catch(r){await of(r)}}function wE(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((a,o)=>{const c=o.view.Z_(e);c.snapshot&&s.push(c.snapshot)}),function(o,c){const d=Re(o);d.onlineState=c;let h=!1;d.queries.forEach((g,v)=>{for(const y of v.j_)y.Z_(c)&&(h=!0)}),h&&gx(d)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function MK(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),a=s&&s.key;if(a){let o=new Mt(Te.comparator);o=o.insert(a,Mn.newNoDocument(a,Me.min()));const c=Ue().add(a),d=new _g(Me.min(),new Map,new Mt(Xe),o,c);await uN(r,d),r.Oa=r.Oa.remove(a),r.Na.delete(e),px(r)}else await $v(r.localStore,e,!1).then(()=>Yv(r,e,n)).catch(of)}async function RK(t,e){const n=Re(t),r=e.batch.batchId;try{const s=await YG(n.localStore,e);dN(n,r,null),cN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ff(n,s)}catch(s){await of(s)}}async function AK(t,e,n){const r=Re(t);try{const s=await function(o,c){const d=Re(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return d.mutationQueue.lookupMutationBatch(h,c).next(v=>(it(v!==null),g=v.keys(),d.mutationQueue.removeMutationBatch(h,v))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>d.localDocuments.getDocuments(h,g))})}(r.localStore,e);dN(r,e,n),cN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ff(r,s)}catch(s){await of(s)}}function cN(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function dN(t,e,n){const r=Re(t);let s=r.Ba[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Yv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||fN(t,r)})}function fN(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ux(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),px(t))}function bE(t,e,n){for(const r of n)r instanceof aN?(t.La.addReference(r.key,e),FK(t,r)):r instanceof oN?(ye("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||fN(t,r.key)):je()}function FK(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ye("SyncEngine","New document in limbo: "+n),t.xa.add(r),px(t))}function px(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Te(Pt.fromString(e)),r=t.qa.next();t.Na.set(r,new SK(n)),t.Oa=t.Oa.insert(n,r),XC(t.remoteStore,new co(ui(ex(n.path)),r,"TargetPurposeLimboResolution",G_.oe))}}async function ff(t,e,n){const r=Re(t),s=[],a=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,d)=>{o.push(r.Ka(d,e,n).then(h=>{var g;if((h||n)&&r.isPrimaryClient){const v=h?!h.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(h){s.push(h);const v=lx.Wi(d.targetId,h);a.push(v)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(d,h){const g=Re(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ne.forEach(h,y=>ne.forEach(y.$i,b=>g.persistence.referenceDelegate.addReference(v,y.targetId,b)).next(()=>ne.forEach(y.Ui,b=>g.persistence.referenceDelegate.removeReference(v,y.targetId,b)))))}catch(v){if(!lf(v))throw v;ye("LocalStore","Failed to update sequence numbers: "+v)}for(const v of h){const y=v.targetId;if(!v.fromCache){const b=g.os.get(y),N=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(N);g.os=g.os.insert(y,E)}}}(r.localStore,a))}async function kK(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const r=await qC(n.localStore,e);n.currentUser=e,function(a,o){a.ka.forEach(c=>{c.forEach(d=>{d.reject(new be(te.CANCELLED,o))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ff(n,r.hs)}}function LK(t,e){const n=Re(t),r=n.Na.get(e);if(r&&r.va)return Ue().add(r.key);{let s=Ue();const a=n.Ma.get(e);if(!a)return s;for(const o of a){const c=n.Fa.get(o);s=s.unionWith(c.view.Va)}return s}}function hN(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MK.bind(null,e),e.Ca.d_=wK.bind(null,e.eventManager),e.Ca.$a=bK.bind(null,e.eventManager),e}function VK(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AK.bind(null,e),e}class mm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return HG(this.persistence,new WG,e.initialUser,this.serializer)}Ga(e){return new zG(ox.Zr,this.serializer)}Wa(e){return new JG}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mm.provider={build:()=>new mm};class qv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kK.bind(null,this.syncEngine),await yK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xK}()}createDatastore(e){const n=xg(e.databaseInfo.databaseId),r=function(a){return new nK(a)}(e.databaseInfo);return function(a,o,c,d){return new iK(a,o,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,o,c){return new oK(r,s,a,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>wE(this.syncEngine,n,0),function(){return pE.D()?new pE:new ZG}())}createSyncEngine(e,n){return function(s,a,o,c,d,h,g){const v=new TK(s,a,o,c,d,h);return g&&(v.Qa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=Re(s);ye("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await df(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qv.provider={build:()=>new qv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):aa("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Cn.UNAUTHENTICATED,this.clientId=gC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{ye("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ye("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=mx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Tp(t,e){t.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await qC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function EE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await UK(t);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>vE(e.remoteStore,s)),t._onlineComponents=e}async function UK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await Tp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ju("Error using user provided cache. Falling back to memory cache: "+n),await Tp(t,new mm)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await Tp(t,new mm);return t._offlineComponents}async function gN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await EE(t,t._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await EE(t,new qv))),t._onlineComponents}function BK(t){return gN(t).then(e=>e.syncEngine)}async function pN(t){const e=await gN(t),n=e.eventManager;return n.onListen=PK.bind(null,e.syncEngine),n.onUnlisten=NK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OK.bind(null,e.syncEngine),n}function WK(t,e,n={}){const r=new Xi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,c,d,h){const g=new mN({next:y=>{g.Za(),o.enqueueAndForget(()=>sN(a,v));const b=y.docs.has(c);!b&&y.fromCache?h.reject(new be(te.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&d&&d.source==="server"?h.reject(new be(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),v=new iN(ex(c.path),g,{includeMetadataChanges:!0,_a:!0});return rN(a,v)}(await pN(t),t.asyncQueue,e,n,r)),r.promise}function $K(t,e,n={}){const r=new Xi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,c,d,h){const g=new mN({next:y=>{g.Za(),o.enqueueAndForget(()=>sN(a,v)),y.fromCache&&d.source==="server"?h.reject(new be(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),v=new iN(c,g,{includeMetadataChanges:!0,_a:!0});return rN(a,v)}(await pN(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t,e,n){if(!n)throw new be(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HK(t,e,n,r){if(e===!0&&r===!0)throw new be(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SE(t){if(!Te.isDocumentKey(t))throw new be(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TE(t){if(Te.isDocumentKey(t))throw new be(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je()}function Oo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vx(t);throw new be(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new be(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new be(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new be(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new be(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oq;switch(r.type){case"firstParty":return new dq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DE.get(n);r&&(ye("ComponentProvider","Removing Datastore"),DE.delete(n),r.terminate())}(this),Promise.resolve()}}function YK(t,e,n,r={}){var s;const a=(t=Oo(t,Eg))._getSettings(),o=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Cn.MOCK_USER;else{c=kW(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new be(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Cn(h)}t._authCredentials=new lq(new mC(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dg(this.firestore,e,this._query)}}class br{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new br(this.firestore,e,this._key)}}class Do extends Dg{constructor(e,n,r){super(e,n,ex(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new br(this.firestore,null,new Te(e))}withConverter(e){return new Do(this.firestore,e,this._path)}}function Lu(t,e,...n){if(t=Dr(t),yN("collection","path",e),t instanceof Eg){const r=Pt.fromString(e,...n);return TE(r),new Do(t,null,r)}{if(!(t instanceof br||t instanceof Do))throw new be(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return TE(r),new Do(t.firestore,null,r)}}function Ft(t,e,...n){if(t=Dr(t),arguments.length===1&&(e=gC.newId()),yN("doc","path",e),t instanceof Eg){const r=Pt.fromString(e,...n);return SE(r),new br(t,null,new Te(r))}{if(!(t instanceof br||t instanceof Do))throw new be(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return SE(r),new br(t.firestore,t instanceof Do?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new KC(this,"async_queue_retry"),this.Vu=()=>{const r=Sp();r&&ye("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Xi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!lf(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw aa("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=hx.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(s),s}fu(){this.Eu&&je()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class hf extends Eg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new IE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IE(e),this._firestoreClient=void 0,await e}}}function qK(t,e){const n=typeof t=="object"?t:II(),r=typeof t=="string"?t:"(default)",s=A_(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=AW("firestore");a&&YK(s,...a)}return s}function yx(t){if(t._terminated)throw new be(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GK(t),t._firestoreClient}function GK(t){var e,n,r;const s=t._freezeSettings(),a=function(c,d,h,g){return new Dq(c,d,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,vN(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new zK(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vu(yn.fromBase64String(e))}catch(n){throw new be(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vu(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KK=/^__.*__$/;class QK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tl(e,this.data,this.fieldMask,n,this.fieldTransforms):new uf(e,this.data,n,this.fieldTransforms)}}function _N(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class Ex{constructor(e,n,r,s,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ex(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(_N(this.Cu)&&KK.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class XK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xg(e)}Qu(e,n,r,s=!1){return new Ex({Cu:e,methodName:n,qu:r,path:mn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JK(t){const e=t._freezeSettings(),n=xg(t._databaseId);return new XK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZK(t,e,n,r,s,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,n,s);EN("Data must be an object, but it was:",o,r);const c=wN(r,o);let d,h;if(a.merge)d=new Ts(o.fieldMask),h=o.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const y=eQ(e,v,n);if(!o.contains(y))throw new be(te.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);nQ(g,y)||g.push(y)}d=new Ts(g),h=o.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,h=o.fieldTransforms;return new QK(new Gr(c),d,h)}class Dx extends xx{_toFieldTransform(e){return new Qq(e.path,new Od)}isEqual(e){return e instanceof Dx}}function xN(t,e){if(bN(t=Dr(t)))return EN("Unsupported field value:",e,t),wN(t,e);if(t instanceof xx)return function(r,s){if(!_N(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const a=[];let o=0;for(const c of r){let d=xN(c,s.Lu(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Dr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qq(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Jt.fromDate(r);return{timestampValue:fm(s.serializer,a)}}if(r instanceof Jt){const a=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fm(s.serializer,a)}}if(r instanceof wx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vu)return{bytesValue:zC(s.serializer,r._byteString)};if(r instanceof br){const a=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ix(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof bx)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.Bu("VectorValues must only contain numeric values.");return tx(c.serializer,d)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${vx(r)}`)}(t,e)}function wN(t,e){const n={};return pC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xu(t,(r,s)=>{const a=xN(s,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function bN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof wx||t instanceof Vu||t instanceof br||t instanceof xx||t instanceof bx)}function EN(t,e,n){if(!bN(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=vx(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function eQ(t,e,n){if((e=Dr(e))instanceof _x)return e._internalPath;if(typeof e=="string")return DN(t,e);throw gm("Field path arguments must be of type string or ",t,!1,void 0,n)}const tQ=new RegExp("[~\\*/\\[\\]]");function DN(t,e,n){if(e.search(tQ)>=0)throw gm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _x(...e.split("."))._internalPath}catch{throw gm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gm(t,e,n,r,s){const a=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${r}`),o&&(d+=` in document ${s}`),d+=")"),new be(te.INVALID_ARGUMENT,c+t+d)}function nQ(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(TN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rQ extends SN{data(){return super.data()}}function TN(t,e){return typeof e=="string"?DN(t,e):e instanceof _x?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sQ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iQ{convertValue(e,n="none"){switch(yl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xu(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Vt(o.doubleValue));return new bx(a)}convertGeoPoint(e){return new wx(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Q_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Id(e));default:return null}}convertTimestamp(e){const n=Co(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);it(YC(r));const s=new Cd(r.get(1),r.get(3)),a=new Te(r.popFirst(5));return s.isEqual(n)||aa(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aQ(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class PN extends SN{constructor(e,n,r,s,a,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(TN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Dh extends PN{data(e={}){return super.data(e)}}class oQ{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Hc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dh(this._firestore,this._userDataWriter,r.key,r,new Hc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(c=>{const d=new Dh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Hc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new Dh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Hc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,g=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),g=o.indexOf(c.doc.key)),{type:lQ(c.type),doc:d,oldIndex:h,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t){t=Oo(t,br);const e=Oo(t.firestore,hf);return WK(yx(e),t._key).then(n=>uQ(e,t,n))}class IN extends iQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new br(this.firestore,null,n)}}function zu(t){t=Oo(t,Dg);const e=Oo(t.firestore,hf),n=yx(e),r=new IN(e);return sQ(t._query),$K(n,t._query).then(s=>new oQ(e,r,t,s))}function Nn(t,e,n){t=Oo(t,br);const r=Oo(t.firestore,hf),s=aQ(t.converter,e,n);return CN(r,[ZK(JK(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ci.none())])}function mf(t){return CN(Oo(t.firestore,hf),[new nx(t._key,ci.none())])}function CN(t,e){return function(r,s){const a=new Xi;return r.asyncQueue.enqueueAndForget(async()=>jK(await BK(r),s,a)),a.promise}(yx(t),e)}function uQ(t,e,n){const r=n.docs.get(e._key),s=new IN(t);return new PN(t,s,e._key,r,new Hc(n.hasPendingWrites,n.fromCache),e.converter)}function On(){return new Dx("serverTimestamp")}(function(e,n=!0){(function(s){Qu=s})(Gu),Nu(new ml("firestore",(r,{instanceIdentifier:s,options:a})=>{const o=r.getProvider("app").getImmediate(),c=new hf(new uq(r.getProvider("auth-internal")),new hq(r.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new be(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cd(h.options.projectId,g)}(o,s),o);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Eo(q1,"4.7.3",e),Eo(q1,"4.7.3","esm2017")})();var cQ="firebase",dQ="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eo(cQ,dQ,"app");const fQ={apiKey:"AIzaSyCHmU0EO6DOV8Vr30TdWwRhDuiVm2_JtZg",authDomain:"travel-planner-f39cd.firebaseapp.com",projectId:"travel-planner-f39cd",storageBucket:"travel-planner-f39cd.firebasestorage.app",messagingSenderId:"468788845614",appId:"1:468788845614:web:8e628a48c20ce6c9da53bf"},NN=PI(fQ),Pp=iq(NN),hQ=new Bi,ut=qK(NN),ON=L.createContext({}),ya=()=>{const t=L.useContext(ON);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},mQ=({children:t})=>{const[e,n]=L.useState(null),[r,s]=L.useState(!0),[a,o]=L.useState(null),c=async v=>{try{const y=await pm(Ft(ut,"users",v,"profile","migration"));if(y.exists()&&y.data().completed){console.log("Data already migrated for this user");return}console.log("Starting localStorage migration...");const b=localStorage.getItem("travelPlanner_trips"),N=localStorage.getItem("travelPlanner_currentTrip"),E=localStorage.getItem("travelPlanner_dailyPlans"),k=localStorage.getItem("travelPlanner_flights"),S=localStorage.getItem("travelPlanner_expenses");if(b||E||k||S){const T=b?JSON.parse(b):[],I=E?JSON.parse(E):[],R=k?JSON.parse(k):[],$=S?JSON.parse(S):[],H=N?JSON.parse(N):null;for(const D of T)await Nn(Ft(ut,"users",v,"trips",D.id.toString()),{...D,createdAt:On()});H&&await Nn(Ft(ut,"users",v,"profile","currentTrip"),{tripId:H.id,updatedAt:On()});for(const D of I)await Nn(Ft(ut,"users",v,"dailyPlans",D.id.toString()),{...D,createdAt:On()});for(const D of R)await Nn(Ft(ut,"users",v,"flights",D.id.toString()),{...D,createdAt:On()});for(const D of $)await Nn(Ft(ut,"users",v,"expenses",D.id.toString()),{...D,createdAt:On()});console.log("Migration completed successfully!")}await Nn(Ft(ut,"users",v,"profile","migration"),{completed:!0,migratedAt:On()})}catch(y){throw console.error("Error migrating localStorage data:",y),y}},d=async()=>{try{o(null),s(!0);const v=await mY(Pp,hQ),y=v.user,b=Ft(ut,"users",y.uid,"profile","info");(await pm(b)).exists()?await Nn(b,{lastLoginAt:On()},{merge:!0}):(await Nn(b,{email:y.email,displayName:y.displayName,photoURL:y.photoURL,createdAt:On()}),await c(y.uid));try{typeof window<"u"&&localStorage.setItem("showSetupOnLogin","1")}catch(E){console.warn("Could not set showSetupOnLogin flag in localStorage",E)}return v}catch(v){throw console.error("Error signing in with Google:",v),o(v.message),v}finally{s(!1)}},h=async()=>{try{o(null),await GH(Pp)}catch(v){throw console.error("Error signing out:",v),o(v.message),v}};L.useEffect(()=>qH(Pp,y=>{n(y),s(!1)}),[]);const g={currentUser:e,loading:r,error:a,signInWithGoogle:d,signOut:h};return l.jsx(ON.Provider,{value:g,children:t})},Sx=()=>{const{currentUser:t}=ya(),[e,n]=L.useState([]),[r,s]=L.useState(!0),[a,o]=L.useState(null);L.useEffect(()=>{if(!t){n([]),s(!1);return}c()},[t]);const c=async()=>{try{s(!0);const g=Lu(ut,"users",t.uid,"trips"),y=(await zu(g)).docs.map(b=>({...b.data(),id:parseInt(b.id)}));n(y),o(null)}catch(g){console.error("Error loading trips:",g),o(g.message)}finally{s(!1)}};return{trips:e,loading:r,error:a,saveTrip:async g=>{try{await Nn(Ft(ut,"users",t.uid,"trips",g.id.toString()),{...g,updatedAt:On()}),await c()}catch(v){throw console.error("Error saving trip:",v),v}},deleteTrip:async g=>{try{await mf(Ft(ut,"users",t.uid,"trips",g.toString())),await c()}catch(v){throw console.error("Error deleting trip:",v),v}},reloadTrips:c}},Tx=()=>{const{currentUser:t}=ya(),[e,n]=L.useState(null),[r,s]=L.useState(!0);L.useEffect(()=>{if(!t){n(null),s(!1);return}a()},[t]);const a=async()=>{try{s(!0);const c=Ft(ut,"users",t.uid,"profile","currentTrip"),d=await pm(c);if(d.exists()){const h=d.data().tripId;if(!h){n(null);return}const g=Ft(ut,"users",t.uid,"trips",h.toString()),v=await pm(g);v.exists()?n({...v.data(),id:parseInt(v.id)}):n(null)}else n(null)}catch(c){console.error("Error loading current trip:",c),n(null)}finally{s(!1)}};return{currentTrip:e,loading:r,saveCurrentTrip:async c=>{try{await Nn(Ft(ut,"users",t.uid,"profile","currentTrip"),{tripId:c.id,updatedAt:On()}),n(c)}catch(d){throw console.error("Error saving current trip:",d),d}},reloadCurrentTrip:a}},gQ=()=>{const{currentUser:t}=ya(),[e,n]=L.useState([]),[r,s]=L.useState(!0);L.useEffect(()=>{if(!t){n([]),s(!1);return}a()},[t]);const a=async()=>{try{s(!0);const d=Lu(ut,"users",t.uid,"flights"),g=(await zu(d)).docs.map(v=>({...v.data(),id:parseInt(v.id)}));n(g)}catch(d){console.error("Error loading flights:",d)}finally{s(!1)}};return{flights:e,loading:r,saveFlight:async d=>{try{await Nn(Ft(ut,"users",t.uid,"flights",d.id.toString()),{...d,updatedAt:On()}),await a()}catch(h){throw console.error("Error saving flight:",h),h}},deleteFlight:async d=>{try{await mf(Ft(ut,"users",t.uid,"flights",d.toString())),await a()}catch(h){throw console.error("Error deleting flight:",h),h}},setFlights:n,reloadFlights:a}},pQ=()=>{const{currentUser:t}=ya(),[e,n]=L.useState([]),[r,s]=L.useState(!0);L.useEffect(()=>{if(!t){n([]),s(!1);return}a()},[t]);const a=async()=>{try{s(!0);const d=Lu(ut,"users",t.uid,"hotels"),g=(await zu(d)).docs.map(v=>({...v.data(),id:parseInt(v.id)}));n(g)}catch(d){console.error("Error loading hotels:",d)}finally{s(!1)}};return{hotels:e,loading:r,saveHotel:async d=>{try{await Nn(Ft(ut,"users",t.uid,"hotels",d.id.toString()),{...d,updatedAt:On()}),await a()}catch(h){throw console.error("Error saving hotel:",h),h}},deleteHotel:async d=>{try{await mf(Ft(ut,"users",t.uid,"hotels",d.toString())),await a()}catch(h){throw console.error("Error deleting hotel:",h),h}},setHotels:n,reloadHotels:a}},jN=()=>{const{currentUser:t}=ya(),[e,n]=L.useState([]),[r,s]=L.useState(!0);L.useEffect(()=>{if(!t){n([]),s(!1);return}a()},[t]);const a=async()=>{try{s(!0);const h=Lu(ut,"users",t.uid,"dailyPlans"),v=(await zu(h)).docs.map(y=>({...y.data(),id:parseInt(y.id)}));v.sort((y,b)=>new Date(y.date)-new Date(b.date)),n(v)}catch(h){console.error("Error loading daily plans:",h)}finally{s(!1)}};return{dailyPlans:e,loading:r,saveDailyPlan:async h=>{try{await Nn(Ft(ut,"users",t.uid,"dailyPlans",h.id.toString()),{...h,updatedAt:On()})}catch(g){throw console.error("Error saving daily plan:",g),g}},saveDailyPlans:async h=>{try{const g=h.map(v=>Nn(Ft(ut,"users",t.uid,"dailyPlans",v.id.toString()),{...v,updatedAt:On()}));await Promise.all(g)}catch(g){throw console.error("Error saving daily plans:",g),g}},replaceDailyPlans:async h=>{try{const g=Lu(ut,"users",t.uid,"dailyPlans"),v=await zu(g),y=new Set(h.map(E=>E.id.toString())),b=v.docs.filter(E=>!y.has(E.id)).map(E=>mf(E.ref)),N=h.map(E=>Nn(Ft(ut,"users",t.uid,"dailyPlans",E.id.toString()),{...E,updatedAt:On()}));await Promise.all([...b,...N]),await a()}catch(g){throw console.error("Error replacing daily plans:",g),g}},setDailyPlans:n,reloadDailyPlans:a}},MN=()=>{const{currentUser:t}=ya(),[e,n]=L.useState([]),[r,s]=L.useState(!0);L.useEffect(()=>{if(!t){n([]),s(!1);return}a()},[t]);const a=async()=>{try{s(!0);const d=Lu(ut,"users",t.uid,"expenses"),g=(await zu(d)).docs.map(v=>({...v.data(),id:parseInt(v.id)}));n(g)}catch(d){console.error("Error loading expenses:",d)}finally{s(!1)}};return{expenses:e,loading:r,saveExpense:async d=>{try{await Nn(Ft(ut,"users",t.uid,"expenses",d.id.toString()),{...d,updatedAt:On()}),await a()}catch(h){throw console.error("Error saving expense:",h),h}},deleteExpense:async d=>{try{await mf(Ft(ut,"users",t.uid,"expenses",d.toString())),await a()}catch(h){throw console.error("Error deleting expense:",h),h}},setExpenses:n,reloadExpenses:a}},Gv={Switzerland:["Zurich","Geneva","Basel","Lausanne","Bern","Winterthur","Lucerne","St. Gallen","Lugano","Biel/Bienne","Thun","Kniz","La Chaux-de-Fonds","Schaffhausen","Fribourg","Vernier","Chur","Neuchtel","Uster","Sion","Emmen","Zug","Yverdon-les-Bains","Kriens","Rapperswil-Jona","Dbendorf","Montreux","Frauenfeld","Dietikon","Wetzikon","Interlaken","Zermatt","Grindelwald","Lauterbrunnen","Wengen","Murren","Locarno","Ascona","Bellinzona","Davos","St. Moritz","Arosa","Engelberg","Andermatt"],Italy:["Rome","Milan","Naples","Turin","Palermo","Genoa","Bologna","Florence","Bari","Catania","Venice","Verona","Messina","Padua","Trieste","Brescia","Taranto","Prato","Parma","Modena","Reggio Calabria","Reggio Emilia","Perugia","Livorno","Ravenna","Cagliari","Foggia","Rimini","Salerno","Ferrara","Sassari","Latina","Giugliano in Campania","Monza","Syracuse","Pescara","Bergamo","Forl","Trento","Vicenza","Terni","Bolzano","Novara","Piacenza","Ancona","Andria","Arezzo","Udine","Cesena","Lecce","Pisa","Siena","Lucca","Como","La Spezia","Varese","Sorrento","Amalfi","Positano","Capri","Portofino","Cinque Terre","Matera","Assisi","Siracusa","Taormina","Pompeii","Pienza","San Gimignano","Orvieto"],France:["Paris","Marseille","Lyon","Toulouse","Nice","Nantes","Strasbourg","Montpellier","Bordeaux","Lille","Rennes","Reims","Le Havre","Saint-tienne","Toulon","Grenoble","Dijon","Angers","Nmes","Villeurbanne","Saint-Denis","Le Mans","Aix-en-Provence","Clermont-Ferrand","Brest","Tours","Amiens","Limoges","Annecy","Perpignan","Boulogne-Billancourt","Metz","Besanon","Orlans","Saint-Denis","Argenteuil","Rouen","Mulhouse","Montreuil","Caen","Nancy","Avignon","Cannes","Antibes","Saint-Tropez","Monaco","Versailles","Colmar","Chamonix","Annecy","Carcassonne","Arles","Aix-les-Bains","Menton","Grasse","Saint-Malo","La Rochelle","Biarritz","Lourdes","Mont-Saint-Michel","Giverny","Fontainebleau","Chartres","Beaune","pernay","Reims","Troyes"]},vQ=(t=null)=>!t||t.length===0?Object.entries(Gv).flatMap(([e,n])=>n.map(r=>({city:r,country:e}))):Object.entries(Gv).filter(([e])=>t.includes(e)).flatMap(([e,n])=>n.map(r=>({city:r,country:e}))),CE=(t,e=400)=>{if(!t||t.length===0)return null;const n=t[0];return n.createMediaUrl?n.createMediaUrl({maxHeight:e,maxWidth:e}):n.getURI?n.getURI({maxHeight:e,maxWidth:e}):n.getUrl?n.getUrl({maxWidth:e,maxHeight:e}):null},RN=(t,e="")=>{const n={EUR:"",USD:"$",GBP:"",CHF:"CHF",BRL:"R$",CAD:"$",AUD:"$",JPY:""};return t?n[t]||t:e},Zl=t=>{if(!t)return"";const e=String(t).toUpperCase(),n=e.match(/\b(USD|EUR|GBP|CHF|BRL|CAD|AUD|JPY|CNY|MXN|ARS|CLP|INR)\b/);return n?n[1]:e.includes("R$")?"BRL":e.includes("CHF")?"CHF":e.includes("")?"EUR":e.includes("")?"GBP":e.includes("$")?"USD":""},dn=t=>{if(typeof t=="number")return Number.isFinite(t)?t:0;if(!t)return 0;const e=String(t).replace(/[^0-9.,-]/g,"").trim();if(!e)return 0;const n=e.includes(","),r=e.includes(".");let s=e;if(n&&!r)s=e.replace(/\./g,"").replace(",",".");else if(n&&r){const o=e.lastIndexOf(","),c=e.lastIndexOf(".");o>c?s=e.replace(/\./g,"").replace(",","."):s=e.replace(/,/g,"")}else s=e;const a=parseFloat(s);return Number.isFinite(a)?a:0},yQ=(t="")=>{const e=String(t).split(",").map(r=>r.trim()).filter(Boolean),n=e.length;return{city:n>=3?e[n-3]:"",state:n>=2?e[n-2]:"",country:n>=1?e[n-1]:""}},eh=(t={})=>{const e=yQ(t.address||"");return{city:t.city||e.city||"",state:t.state||e.state||"",country:t.country||e.country||""}},NE=(t=[])=>{const e=a=>{const o=t.find(c=>a.every(d=>{var h;return(h=c.types)==null?void 0:h.includes(d)}));return(o==null?void 0:o.longText)||(o==null?void 0:o.long_name)||""},n=e(["locality"])||e(["postal_town"])||e(["administrative_area_level_2"]),r=e(["administrative_area_level_1"]),s=e(["country"]);return{city:n,state:r,country:s}},Wo=t=>{if(!t)return"";const e=String(t);if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const n=new Date(e);return Number.isNaN(n.getTime())?e:vr(n)},OE={EUR:1,USD:.92,GBP:1.17,CHF:1.03,BRL:.18,CAD:.67,AUD:.61,JPY:.0061},th=(t,e)=>{const n=e||Zl(t)||"",r=dn(t);if(r>0){const s=RN(n,""),a=`${r.toFixed(2)}`;return`${s}${a}${n?` ${n}`:""}`.trim()}return t||""},_Q=(t,e=16,n="")=>{switch(t){case"restaurant":return l.jsx(Qo,{size:e,className:n});case"cafe":return l.jsx(Ko,{size:e,className:n});case"activity":return l.jsx(Go,{size:e,className:n});case"note":return l.jsx(Ui,{size:e,className:n});default:return l.jsx(qo,{size:e,className:n})}},nh=t=>t&&t!=="place",Zo=t=>{if(!t||typeof t!="string")return"";const[e,n]=t.split(":"),r=parseInt(e,10);return Number.isNaN(r)||!n?t:`${r}:${n.padStart(2,"0")}`},jE=(t,e)=>{const n=Zo(t),r=Zo(e);return n&&r?`${n} - ${r}`:""},ME=t=>{if(!t||typeof t!="string"||!t.includes(":"))return{hour:0,minute:0};const[e,n]=t.split(":").map(Number);return{hour:Number.isNaN(e)?0:e,minute:Number.isNaN(n)?0:n}},RE=(t,e)=>{const n=String(Math.max(0,Math.min(23,t))).padStart(2,"0"),r=String(Math.max(0,Math.min(59,e))).padStart(2,"0");return`${n}:${r}`},vr=t=>{const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},kt=t=>{if(!t)return new Date;if(t instanceof Date)return new Date(t.getFullYear(),t.getMonth(),t.getDate());if(typeof t=="string"){const[e,n,r]=t.split("-").map(Number);if(!Number.isNaN(e)&&!Number.isNaN(n)&&!Number.isNaN(r))return new Date(e,n-1,r)}return new Date(t)},Ip=(t=[])=>{const e={walking:0,car:0,transit:0,plane:0};return t.forEach(n=>{const r=parseFloat(n.distance||0);if(!Number.isFinite(r)||r<=0)return;const s=n.transportMode;if(s==="car"){e.car+=r;return}if(s==="transit"||s==="bus"||s==="metro"||s==="train"){e.transit+=r;return}if(s==="plane"){e.plane+=r;return}s==="walking"&&(e.walking+=r)}),e.all=Object.values(e).reduce((n,r)=>typeof r=="number"?n+r:n,0),e},AE=({initialTrip:t=null,onExitTrip:e=()=>{},onEnterDayMode:n=()=>{}})=>{var Fl,kl,Ll,Vl,zl,Ul,Bl;const{currentUser:r,signOut:s}=ya(),{saveTrip:a}=Sx(),{currentTrip:o,saveCurrentTrip:c}=Tx(),{flights:d,loading:h,saveFlight:g,deleteFlight:v}=gQ(),{hotels:y,saveHotel:b,deleteHotel:N}=pQ(),{dailyPlans:E,loading:k,saveDailyPlans:S,replaceDailyPlans:T,setDailyPlans:I}=jN(),{expenses:R,loading:$,saveExpense:H,deleteExpense:D}=MN(),[w,P]=L.useState("itinerary"),[O,M]=L.useState(!1),[V,C]=L.useState(!1),[et,tt]=L.useState(!1),[Z,Ae]=L.useState(null),[ee,de]=L.useState(!1),[ue,Pe]=L.useState(null),[J,q]=L.useState(null),[U,A]=L.useState({top:0,left:0}),[G,oe]=L.useState(null),[me,ge]=L.useState(null),[pe,Ce]=L.useState(null),[ke,Fe]=L.useState({top:0,left:0}),[Le,ct]=L.useState("AIzaSyBFY-pyT3UnUN5bWc_G82xltZ7bqxInCo0"),bt="8ceaca4f71482b3a74e1f404".trim(),[Yt,qn]=L.useState(!1),[js,Gn]=L.useState(!1),[Fn,ur]=L.useState(""),[Pr,Kn]=L.useState([]),[Ms,Et]=L.useState(!1),[ft,cr]=L.useState(null),[_a,es]=L.useState(!1),[Rs,kn]=L.useState(null),[dr,As]=L.useState({}),[Ir,yi]=L.useState(""),[Fs,ts]=L.useState(""),[xa,ns]=L.useState(!1),[rs,Cr]=L.useState(!1),[_i,Qn]=L.useState(!1),[wa,Nr]=L.useState(!1),[ba,fr]=L.useState(!1),[ss,Rt]=L.useState([{startDate:new Date,endDate:new Date,key:"selection"}]),[Ea,xn]=L.useState(!1),[is,Da]=L.useState(!1),xi=L.useRef(null),Xn=L.useRef(null),wi=L.useRef(null),Sa=L.useRef(null),as=L.useRef(null),bi=L.useRef(null),Or=L.useRef(new Map),Jn=L.useRef(new Map),wn=L.useRef([]),[ks,os]=L.useState(null),[ls,us]=L.useState(null),[Ta,Ls]=L.useState(!1),[Pa,cs]=L.useState(""),[$e,Ln]=L.useState({name:"",startDate:"",endDate:""}),It=(Le||"AIzaSyBFY-pyT3UnUN5bWc_G82xltZ7bqxInCo0").trim(),ce=L.useMemo(()=>E.find(f=>f.id===Z),[E,Z]),Zn=L.useMemo(()=>{if(!ce)return[];const f=Wo(ce.date);return d.filter(_=>{const i=Wo(_.departureDate||_.date),j=Wo(_.arrivalDate);return i===f||j===f})},[d,ce]),on=L.useMemo(()=>{if(!ce)return[];const f=kt(ce.date);return y.filter(_=>{if(!_.checkIn)return!1;const i=kt(_.checkIn),j=_.checkOut?kt(_.checkOut):i,F=f.getTime();return F>=i.getTime()&&F<=j.getTime()})},[y,ce]),Dt=(f,_)=>(Ma[f]||{})[_]||{mode:"walking",distance:"",time:""},Ei=f=>{const _=Sa.current;if(!_)return;const i=_.clientWidth*.8;_.scrollBy({left:f==="left"?-i:i,behavior:"smooth"})},Vs=L.useMemo(()=>{const f=((ce==null?void 0:ce.places)||[]).map(j=>({id:j.id,address:j.address,location:j.location?{lat:j.location.lat,lng:j.location.lng}:null,transportMode:j.transportMode})),_=Zn.map(j=>({id:j.id,from:j.from,to:j.to})),i=on.map(j=>({id:j.id,address:j.address,location:j.location?{lat:j.location.lat,lng:j.location.lng}:null}));return JSON.stringify({day:ce==null?void 0:ce.id,placesKey:f,flightsKey:_,hotelsKey:i})},[ce,Zn,on]),ds=f=>{var j,F,B;if(!f)return;const _=ce==null?void 0:ce.places.findIndex(K=>K.id===f);if(_===-1||_===void 0)return;m||p(!0);const i=mt.current[_];if(i&&((F=(j=window.google)==null?void 0:j.maps)!=null&&F.event)){window.google.maps.event.trigger(i,"click");const K=i.position||(typeof i.getPosition=="function"?i.getPosition():null);K&&((B=Be.current)!=null&&B.panTo)&&Be.current.panTo(K),os(null)}else os({placeId:f,markerIndex:_})},fs=(f,_)=>`${f}-${_.toLowerCase()}`,Ia=f=>{var B,K,se;if(!f)return;m||p(!0);const _=f.to?"Arrival":f.from?"Departure":null,i=f.from?"Departure":null,j=fs(f.id,_)||(i?fs(f.id,i):null);if(!j)return;const F=Jn.current.get(j);if(F&&((K=(B=window.google)==null?void 0:B.maps)!=null&&K.event)){window.google.maps.event.trigger(F,"click");const Q=F.position||(typeof F.getPosition=="function"?F.getPosition():null);Q&&((se=Be.current)!=null&&se.panTo)&&Be.current.panTo(Q),us(null)}else us(j)},Ca=f=>{if(!f)return;const _=f.address||f.name;if(!_)return;m||p(!0);const i=new window.google.maps.Geocoder,j=_.toLowerCase(),F=Or.current.get(j),B=K=>{!K||!Be.current||(Be.current.panTo&&Be.current.panTo(K),Be.current.setZoom(Math.max(Be.current.getZoom()||12,13)),new window.google.maps.InfoWindow({content:`<div style="font-family:system-ui,-apple-system,sans-serif;font-size:12px;color:#1f2937;"><strong>${f.name||"Hotel"}</strong>${f.address?`<div style="color:#4b5563;">${f.address}</div>`:""}</div>`}).open({map:Be.current,position:K}))};if(F){B(new window.google.maps.LatLng(F.lat,F.lng));return}i.geocode({address:_},(K,se)=>{if(se==="OK"&&K[0]){const Q=K[0].geometry.location,le={lat:Q.lat(),lng:Q.lng()};Or.current.set(j,le),B(new window.google.maps.LatLng(le.lat,le.lng))}})};L.useEffect(()=>{!o&&t&&c(t).catch(f=>{console.error("Failed to save initial trip from TravelPlanner:",f)})},[t,o,c]),L.useEffect(()=>{const f="AIzaSyBFY-pyT3UnUN5bWc_G82xltZ7bqxInCo0".trim();f&&f!==Le&&ct(f)},[Le]),L.useEffect(()=>{const f=_=>{Xn.current&&!Xn.current.contains(_.target)&&de(!1)};return ee&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[ee]),L.useEffect(()=>{const f=_=>{wi.current&&!wi.current.contains(_.target)&&kn(null)};return Rs!==null&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[Rs]),L.useEffect(()=>{if(!pe)return;const f=_=>{const i=typeof _.composedPath=="function"?_.composedPath():[],j=as.current,F=bi.current,B=j&&(j.contains(_.target)||i.includes(j)),K=F&&(F.contains(_.target)||i.includes(F));B||K||Ce(null)};return document.addEventListener("pointerdown",f),()=>document.removeEventListener("pointerdown",f)},[pe]),L.useEffect(()=>{var f,_,i;if(Z&&ce&&!dr[Z]){const j=((f=ce.places)==null?void 0:f.length)||0,F=Ip(ce.places),B=F.all||0,K=((_=ce.places)==null?void 0:_.reduce((we,xe)=>we+parseFloat(xe.transportTime||0),0))||0,se=((i=ce.places)==null?void 0:i.reduce((we,xe)=>we+(parseFloat(xe.cost||0)||0),0))||0,Q=R.filter(we=>we.dayId===Z).reduce((we,xe)=>we+(parseFloat(xe.amount||0)||0),0)||0,le=se+Q;As(we=>({...we,[Z]:{totalStops:j,totalDistance:B,totalTime:K,totalCost:le,distanceByMode:F}}))}},[Z,ce,dr,R]),L.useEffect(()=>{var B;if(!Z||!ce)return;const f=((B=ce.places)==null?void 0:B.reduce((K,se)=>K+(parseFloat(se.cost||0)||0),0))||0,_=Ip(ce.places),i=_.all||0,j=R.filter(K=>K.dayId===Z).reduce((K,se)=>K+(parseFloat(se.amount||0)||0),0)||0,F=f+j;As(K=>{const se=K[Z];return!se||se.totalCost===F&&se.totalDistance===i?K:{...K,[Z]:{...se,totalCost:F,totalDistance:i,distanceByMode:_}}})},[R,Z,ce]),L.useEffect(()=>{const f=setTimeout(()=>{var _,i;if(Z&&ce){const j=((_=ce.places)==null?void 0:_.length)||0,F=Ip(ce.places),B=F.all||0,K=((i=ce.places)==null?void 0:i.reduce((se,Q)=>se+parseFloat(Q.transportTime||0),0))||0;As(se=>({...se,[Z]:{...se[Z],totalStops:j,totalDistance:B,totalTime:K,distanceByMode:F}}))}},3e3);return()=>clearTimeout(f)},[Z,ce,ce==null?void 0:ce.places]),L.useEffect(()=>{o&&E.length===0&&!k&&(async()=>{const _=[],i=kt(o.startDate),j=kt(o.endDate);let F=new Date(i),B=1;for(;F<=j;){const K=vr(F);_.push({id:B++,date:K,title:"",city:"",country:"",places:[]}),F.setDate(F.getDate()+1)}try{await T(_),_.length>0&&Ae(_[0].id)}catch(K){console.error("Failed to generate daily plans:",K)}})()},[o,E.length,k]),L.useEffect(()=>{E&&E.length>0&&!Z&&Ae(E[0].id)},[E,Z]),L.useEffect(()=>{var se,Q;if(!o||k||E.length===0)return;const f=kt(o.startDate),_=kt(o.endDate),i=vr(f),j=vr(_),F=Math.floor((_-f)/(1e3*60*60*24))+1,B=(se=E[0])==null?void 0:se.date,K=(Q=E[E.length-1])==null?void 0:Q.date;if(B!==i||K!==j||E.length!==F){const le=new Map(E.map(Ee=>[Ee.date,Ee])),we=[];let xe=new Date(f),Y=1;for(;xe<=_;){const Ee=vr(xe),Ie=le.get(Ee);we.push({id:Y++,date:Ee,title:(Ie==null?void 0:Ie.title)||"",city:(Ie==null?void 0:Ie.city)||"",country:(Ie==null?void 0:Ie.country)||"",places:(Ie==null?void 0:Ie.places)||[]}),xe.setDate(xe.getDate()+1)}T(we).then(()=>{we.length>0&&Ae(we[0].id)}).catch(Ee=>{console.error("Failed to realign daily plans with trip dates:",Ee)})}},[o,k,E]);const[ve,vt]=L.useState({airline:"",flightNumber:"",from:"",to:"",departureDate:"",arrivalDate:"",date:"",departureTime:"",arrivalTime:"",bookingRef:"",price:"",priceCurrency:"USD",isRoundTrip:!1,returnDate:"",returnDepartureTime:"",returnArrivalTime:""}),[Je,Ut]=L.useState({name:"",address:"",city:"",state:"",country:"",checkIn:"",checkOut:"",price:"",priceCurrency:"USD"}),[jr,er]=L.useState("manual"),[ln,hs]=L.useState(null),[ms,zs]=L.useState(""),[Ze,Mr]=L.useState(!1),[Rr,hr]=L.useState(""),[Us,Di]=L.useState(null),[Ar,Na]=L.useState("manual"),[Si,Ti]=L.useState(null),[Fr,un]=L.useState(""),[Oa,Bs]=L.useState(!1),[Pi,Vn]=L.useState(""),[ja,Ii]=L.useState([]),[Ma,bn]=L.useState({}),[Qe,gs]=L.useState(null);L.useEffect(()=>{if(!Qe)return;const f=()=>gs(null);return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[Qe]),L.useEffect(()=>{if(!It||!Z||!ce||on.length===0||ce.places.length===0)return;const f=on[0],_=ce.places[0],i=ce.places[ce.places.length-1],j=async(F,B,K)=>{const se=Dt(Z,F),Q=await tr(B,K,se.mode||"walking");Q.error||bn(le=>({...le,[Z]:{...le[Z],[F]:{...se,distance:Q.distance,time:Q.time,mode:se.mode||"walking"}}}))};j("toFirst",f.location||f.address||f.name,_.location||_.address),j("fromLast",i.location||i.address,f.location||f.address||f.name)},[It,Z,ce,on,Ma]);const[ps,kr]=L.useState({name:"",address:"",placeId:"",location:null,city:"",state:"",country:"",photoUrl:"",notes:"",transportMode:"walking",transportTime:"",distance:"",startTime:"",endTime:"",priority:0,metroStation:"",metroLine:"",visited:!1}),[ht,Bt]=L.useState({description:"",amount:"",category:"food",date:"",city:"",country:"",currency:"USD"}),[Lr,Ra]=L.useState("category"),[Vr,nt]=L.useState("EUR"),Ws=(f={})=>{const _=Mi(f.departureDate||f.date||""),i=Mi(f.arrivalDate||""),j=Mi(f.date||f.departureDate||"");return{airline:f.airline||"",flightNumber:f.flightNumber||"",from:f.from||"",to:f.to||"",departureDate:_,arrivalDate:i,date:j,departureTime:f.departureTime||"",arrivalTime:f.arrivalTime||"",bookingRef:f.bookingRef||"",price:f.price||f.value||"",priceCurrency:f.priceCurrency||f.currency||Zl(f.price||f.value)||"USD",segments:f.segments||[]}},Aa=f=>new Promise((_,i)=>{const j=new FileReader;j.onload=()=>{const F=j.result;if(typeof F=="string"){const[,B]=F.split(",");_(B||"")}else i(new Error("Unsupported file encoding"))},j.onerror=()=>i(new Error("Unable to read file. Please try again.")),j.readAsDataURL(f)}),Ci=(f="")=>{try{return JSON.parse(f)}catch{const i=f.match(/{[\s\S]*}/);if(i)try{return JSON.parse(i[0])}catch(j){console.error("Gemini JSON parse failed:",j)}}return null},Fa=async({base64Data:f,mimeType:_})=>{var we,xe,Y,Ee;const i="AIzaSyAOPK1oEj4SrtvBfYRw904Pwv85UX_2tWI".trim();if(!i)throw new Error("Add VITE_GEMINI_API_KEY in your env to enable file/image extraction with Gemini.");const j="gemini-2.5-flash-lite".trim(),F="v1".trim(),K=await fetch(`https://generativelanguage.googleapis.com/${F}/models/${j}:generateContent?key=${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:'Extract flight details from this ticket. Support round trips. Return ONLY a JSON object. Keys: airline, flightNumber, bookingRef, price, priceCurrency. Include "segments" as an array; each segment object must have from, to, departureDate (YYYY-MM-DD), arrivalDate (YYYY-MM-DD), departureTime (24h HH:MM), arrivalTime (24h HH:MM). If it is round trip, include two segments (outbound first, return second). Use empty strings when data is missing.'},{inline_data:{mime_type:_||"application/octet-stream",data:f}}]}]})});if(!K.ok){const Ie=await K.text();throw new Error(`Gemini request failed (${K.status}): ${Ie||"Unknown error"}`)}const Q=((Ee=(Y=(xe=(we=(await K.json()).candidates)==null?void 0:we[0])==null?void 0:xe.content)==null?void 0:Y.parts)==null?void 0:Ee.map(Ie=>Ie.text||"").join(`
`))||"",le=Ci(Q);if(!le)throw new Error("Gemini responded but no flight details were parsed.");return Ws(le)},Ni=async f=>{var _;if(f){hs({name:f.name,type:f.type||"unknown",size:f.size}),hr(""),Mr(!0),(_=f.type)!=null&&_.startsWith("image/")?zs(URL.createObjectURL(f)):zs("");try{const i=await Aa(f),j=await Fa({base64Data:i,mimeType:f.type}),F=Array.isArray(j.segments)?j.segments:[];if(F.length>=2){const B=Ws({...j,...F[0]}),K=Ws({...j,...F[1]});vt(se=>({...se,...B,isRoundTrip:!0,returnDate:K.departureDate||K.date||"",returnDepartureTime:K.departureTime||"",returnArrivalTime:K.arrivalTime||"",to:B.to||K.from||se.to,from:B.from||se.from}))}else{const B=Ws(j);vt(K=>({...K,...B,isRoundTrip:!1,returnDate:"",returnDepartureTime:"",returnArrivalTime:""}))}}catch(i){console.error("Flight extraction failed:",i),hr(i.message||"Unable to extract details. Please fill the form manually.")}finally{Mr(!1)}}},$s=async f=>{var j;if(jr!=="image")return;const _=(j=f.clipboardData)==null?void 0:j.items;if(!_)return;const i=Array.from(_).find(F=>F.type.startsWith("image/"));if(i){f.preventDefault();const F=i.getAsFile();F&&await Ni(F)}},zr=()=>{vt({airline:"",flightNumber:"",from:"",to:"",departureDate:"",arrivalDate:"",date:"",departureTime:"",arrivalTime:"",bookingRef:"",price:"",priceCurrency:"USD",isRoundTrip:!1,returnDate:"",returnDepartureTime:"",returnArrivalTime:""}),hs(null),zs(""),hr(""),Mr(!1),er("manual"),Di(null)},zn=async()=>{try{if(Us){const j={id:Us,...ve,date:ve.departureDate||ve.date||""};await g(j),zr(),M(!1);return}const f=Date.now(),_={id:f,...ve,date:ve.departureDate||ve.date||"",groupId:ve.isRoundTrip?f:null,leg:"outbound"},i=ve.isRoundTrip&&ve.returnDate?{...ve,id:f+1,airline:ve.airline,flightNumber:`${ve.flightNumber||""}`.trim()?`${ve.flightNumber}-R`:"",from:ve.to,to:ve.from,departureDate:ve.returnDate,arrivalDate:ve.returnDate,date:ve.returnDate,departureTime:ve.returnDepartureTime,arrivalTime:ve.returnArrivalTime,bookingRef:ve.bookingRef,price:"",priceCurrency:ve.priceCurrency,groupId:f,leg:"return"}:null;await g(_),i&&await g(i),zr(),M(!1)}catch(f){console.error("Failed to add flight:",f),alert("Failed to add flight. Please try again.")}},ka=async f=>{try{await N(f)}catch(_){console.error("Failed to delete hotel:",_)}},ko=(f={})=>{const _=[],i=(B,K)=>{if(!K)return;const se=String(K).trim();se&&_.push({label:B,value:se})},j=f.total||f.totalPrice||f.total_price||f.totalAmount||f.total_amount||f.totalWithTaxes||f.total_with_taxes||f.grandTotal||f.subtotal||f.price||f.value||"";i("Total",f.total||f.totalPrice||f.total_price||f.totalWithTaxes||f.total_with_taxes||f.grandTotal),i("Subtotal",f.subtotal),i("Nightly",f.nightlyRate||f.nightly_rate),i("Fees",f.fees||f.fee),i("Taxes",f.taxes||f.tax),i("Deposit",f.deposit),i("Other",f.price||f.value),Array.isArray(f.amounts)&&f.amounts.forEach(B=>{B&&B.value&&i(B.label||"Amount",B.value)});const F=f.priceCurrency||f.currency||Zl(j||f.price||f.value)||"USD";return{name:f.name||f.hotelName||"",address:f.address||"",city:f.city||"",state:f.state||"",country:f.country||"",checkIn:Mi(f.checkIn||f.checkInDate||""),checkOut:Mi(f.checkOut||f.checkOutDate||""),price:j,priceCurrency:F,amounts:_}},vs=async({base64Data:f,mimeType:_})=>{var we,xe,Y,Ee;const i="AIzaSyAOPK1oEj4SrtvBfYRw904Pwv85UX_2tWI".trim();if(!i)throw new Error("Add VITE_GEMINI_API_KEY in your env to enable file/image extraction with Gemini.");const j="gemini-2.5-flash-lite".trim(),F="v1".trim(),K=await fetch(`https://generativelanguage.googleapis.com/${F}/models/${j}:generateContent?key=${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"Extract hotel booking details. Return ONLY a JSON object with keys: name (hotel name), address, city, state, country, checkIn (YYYY-MM-DD), checkOut (YYYY-MM-DD), total (overall total amount including taxes/fees), priceCurrency (3-letter ISO), and amounts (array of {label,value} for any monetary values you see such as total, grand total, subtotal, nightly, fees, taxes, deposits). Prefer the overall total even if individual fees/taxes are listed. Use empty strings when missing."},{inline_data:{mime_type:_||"application/octet-stream",data:f}}]}]})});if(!K.ok){const Ie=await K.text();throw new Error(`Gemini request failed (${K.status}): ${Ie||"Unknown error"}`)}const Q=((Ee=(Y=(xe=(we=(await K.json()).candidates)==null?void 0:we[0])==null?void 0:xe.content)==null?void 0:Y.parts)==null?void 0:Ee.map(Ie=>Ie.text||"").join(`
`))||"",le=Ci(Q);if(!le)throw new Error("Gemini responded but no hotel details were parsed.");return ko(le)},Oi=async f=>{var _;if(f){Ti({name:f.name,type:f.type||"unknown",size:f.size}),Vn(""),Bs(!0),Ii([]),(_=f.type)!=null&&_.startsWith("image/")?un(URL.createObjectURL(f)):un("");try{const i=await Aa(f),j=await vs({base64Data:i,mimeType:f.type});Ii(j.amounts||[]),Ut(F=>({...F,...j}))}catch(i){console.error("Hotel extraction failed:",i),Vn(i.message||"Unable to extract hotel details. Please fill manually.")}finally{Bs(!1)}}},ji=()=>{Ti(null),un(""),Vn(""),Ii([]),Ut({name:"",address:"",city:"",state:"",country:"",checkIn:"",checkOut:"",price:"",priceCurrency:"USD"})},Hs=async f=>{var j;if(Ar!=="image")return;const _=(j=f.clipboardData)==null?void 0:j.items;if(!_)return;const i=Array.from(_).find(F=>F.type.startsWith("image/"));if(i){f.preventDefault();const F=i.getAsFile();F&&await Oi(F)}},La=async()=>{if(!r){alert("You must be signed in to save hotels.");return}const f={id:Date.now(),...Je,ownerId:r.uid,userId:r.uid};try{await b(f),Ut({name:"",address:"",city:"",state:"",country:"",checkIn:"",checkOut:"",price:"",priceCurrency:"USD"}),Ti(null),un(""),Vn(""),Bs(!1),Na("manual"),C(!1)}catch(_){console.error("Failed to add hotel:",_),alert("Failed to add hotel. Please try again.")}},Ys=async()=>{const f={id:Date.now(),...ht};try{await H(f),Bt({description:"",amount:"",category:"food",date:"",city:"",country:"",currency:"USD"}),yi(""),ts(""),tt(!1)}catch(_){console.error("Failed to add expense:",_),alert("Failed to add expense. Please try again.")}},Va=(f,_)=>{const i=E.map(j=>j.id===f?{...j,places:j.places.filter(F=>F.id!==_)}:j);I(i)},za=(f,_,i)=>{cr({dayId:_,placeId:i}),es(!0),f.dataTransfer.effectAllowed="move",f.stopPropagation()},ys=f=>{f.preventDefault(),f.dataTransfer.dropEffect="move"},Ua=()=>{cr(null),setTimeout(()=>es(!1),100)},Ba=async(f,_,i)=>{if(f.preventDefault(),f.stopPropagation(),!ft||ft.placeId===i){cr(null),setTimeout(()=>es(!1),100);return}const j=E.map(B=>{if(B.id===_){const K=[...B.places],se=K.findIndex(le=>le.id===ft.placeId),Q=K.findIndex(le=>le.id===i);if(se!==-1&&Q!==-1){const[le]=K.splice(se,1);K.splice(Q,0,le)}return{...B,places:K}}return B});I(j),cr(null),setTimeout(()=>es(!1),100);const F=j.find(B=>B.id===_);if(F&&F.places.length>1){const B=await Promise.all(j.map(async K=>{if(K.id===_){const se=await Promise.all(K.places.map(async(Q,le)=>{if(le===0)return Q;const we=K.places[le-1];if(we.coordinates&&Q.coordinates)try{const xe=await tr(we.coordinates,Q.coordinates,Q.transportMode||"walking");return{...Q,distance:xe.distance,transportTime:xe.time}}catch(xe){return console.error("Error recalculating distance:",xe),Q}return Q}));return{...K,places:se}}return K}));I(B)}},qs=(f,_,i,j,F=!0)=>{const B=i==="start"?"startTime":i==="end"?"endTime":i,K=E.map(se=>({...se,places:se.places.map(Q=>Q.id===_&&se.id===f?{...Q,[B]:j}:Q)}));I(K),F&&Ce(null)},Gs=(f,_,i)=>{if(i){bi.current=i;const j=i.getBoundingClientRect(),F=220,B=170,K=j.top,se=window.innerHeight-j.bottom;let Q=j.bottom+6;se<F&&K>F&&(Q=j.top-F-6);const le=Math.max(8,Math.min(window.innerWidth-B-8,j.left));Fe({top:Q,left:le})}Ce({placeId:f,field:_})},Wa=(f,_,i)=>{const j=E.map(F=>{if(F.id===f){const B=F.places.map(K=>K.id===_?{...K,priority:i}:K);return{...F,places:B}}return F});I(j)},Ks=async(f,_,i)=>{const j=E.find(le=>le.id===f);if(!j)return;const F=j.places.findIndex(le=>le.id===_);if(F<=0)return;const B=j.places[F],K=j.places[F-1];yt(null);let se=E.map(le=>le.id===f?{...le,places:le.places.map(we=>we.id===_?{...we,transportMode:i,distance:"",transportTime:"",isAutoCalculated:!1}:we)}:le),Q={distance:"",time:"",error:null};It&&K.address&&B.address&&(i==="plane"?Q={distance:"",time:"",error:null,isAutoCalculated:!1}:i==="transit"||i==="bus"?(Q=await tr(K.address,B.address,"transit"),(Q.error||!Q.distance&&!Q.time)&&(Q=await tr(K.address,B.address,"car"))):Q=await tr(K.address,B.address,i)),(Q.distance||Q.time)&&(se=se.map(le=>le.id===f?{...le,places:le.places.map(we=>we.id===_?{...we,distance:Q.distance,transportTime:Q.time,isAutoCalculated:Q.isAutoCalculated||!1}:we)}:le)),I(se)},$a=async f=>{try{await v(f)}catch(_){console.error("Failed to delete flight:",_),alert("Failed to delete flight. Please try again.")}},Ha=async f=>{try{await D(f)}catch(_){console.error("Failed to delete expense:",_),alert("Failed to delete expense. Please try again.")}},Un=f=>f&&typeof f=="object"&&typeof f.lat=="number"&&typeof f.lng=="number"?new window.google.maps.LatLng(f.lat,f.lng):f,tr=async(f,_,i)=>{if(!It)return{distance:"",time:"",error:"API key not set"};Gn(!0);try{await St();const F={walking:"WALKING",transit:"TRANSIT",car:"DRIVING",plane:"DRIVING",metro:"TRANSIT",bus:"TRANSIT",train:"TRANSIT",other:"DRIVING"}[i]||"WALKING",B=await new Promise((K,se)=>{var xe;if(!((xe=window.google)!=null&&xe.maps))return se(new Error("Google Maps not loaded"));const Q=new window.google.maps.DistanceMatrixService,le=Un(f),we=Un(_);Q.getDistanceMatrix({origins:[le],destinations:[we],travelMode:F},(Y,Ee)=>{if(Ee==="OK"&&Y.rows[0].elements[0].status==="OK"){const Ie=Y.rows[0].elements[0],ot=(Ie.distance.value/1e3).toFixed(1),tn=Math.round(Ie.duration.value/60);K({distance:ot,time:tn,error:null,isAutoCalculated:!0})}else se(new Error("Could not calculate route"))})});return Gn(!1),B}catch(j){return Gn(!1),{distance:"",time:"",error:j.message}}},[En,Qs]=L.useState(typeof window<"u"&&!!((Fl=window.google)!=null&&Fl.maps)),Xs=L.useRef(null),Be=L.useRef(null),mt=L.useRef([]),Ur=L.useRef([]),qt=L.useRef(null),mr=L.useRef(null),u=L.useRef(!1),[m,p]=L.useState(!0),[x,z]=L.useState(!1),[W,ie]=L.useState(!1),[Ne,yt]=L.useState(null),[_e,rt]=L.useState(null),St=()=>{var f;return En&&((f=window.google)!=null&&f.maps)?Promise.resolve():new Promise((_,i)=>{let j=0;const F=setInterval(()=>{var B;(B=window.google)!=null&&B.maps?(clearInterval(F),Qs(!0),_()):j++>30&&(clearInterval(F),i(new Error("Google Maps failed to load")))},200)})},Br=async f=>{var _,i;if(!It||!f||f.length<3){Kn([]);return}Et(!0);try{await St();const j=!!((i=(_=window.google.maps.places)==null?void 0:_.AutocompleteSuggestion)!=null&&i.fetchAutocompleteSuggestions);let F=[];if(j){const{suggestions:B}=await window.google.maps.places.AutocompleteSuggestion.fetchAutocompleteSuggestions({input:f,includedPrimaryTypes:["tourist_attraction","museum","restaurant","park","point_of_interest"]});F=await Promise.all(B.map(async K=>{var le,we,xe,Y,Ee,Ie;const se=K.placePrediction,Q={place_id:se.placeId,description:((le=se.text)==null?void 0:le.toString())||"",structured_formatting:{main_text:((xe=(we=se.structuredFormat)==null?void 0:we.mainText)==null?void 0:xe.toString())||((Y=se.text)==null?void 0:Y.toString())||"",secondary_text:((Ie=(Ee=se.structuredFormat)==null?void 0:Ee.secondaryText)==null?void 0:Ie.toString())||""}};try{const ot=new window.google.maps.places.Place({id:se.placeId});await ot.fetchFields({fields:["photos"]});const tn=CE(ot.photos,160);return{...Q,photoUrl:tn}}catch(ot){return console.warn("Failed to fetch photo for suggestion",se.placeId,ot),Q}}))}else{const B=new window.google.maps.places.AutocompleteService;F=(await new Promise((se,Q)=>{B.getPlacePredictions({input:f,types:["tourist_attraction","restaurant","park","point_of_interest"]},(le,we)=>{we===window.google.maps.places.PlacesServiceStatus.OK&&le?se(le):we===window.google.maps.places.PlacesServiceStatus.ZERO_RESULTS?se([]):Q(new Error(we))})})).map(se=>{var Q,le;return{place_id:se.place_id,description:se.description||"",structured_formatting:{main_text:((Q=se.structured_formatting)==null?void 0:Q.main_text)||se.description||"",secondary_text:((le=se.structured_formatting)==null?void 0:le.secondary_text)||""}}})}Kn(F),Et(!1)}catch(j){console.error("Place autocomplete failed:",j),Kn([]),Et(!1)}},cn=async f=>{var _,i;try{await St();const j=!!((_=window.google.maps.places)!=null&&_.Place);let F=null;if(j){const Q=new window.google.maps.places.Place({id:f.place_id});await Q.fetchFields({fields:["displayName","formattedAddress","location","addressComponents","photos"]});const le=CE(Q.photos,600),we=NE(Q.addressComponents||[]);F={name:Q.displayName||Fn,address:Q.formattedAddress||Fn,placeId:f.place_id,location:Q.location?{lat:Q.location.lat(),lng:Q.location.lng()}:null,city:we.city||"",state:we.state||"",country:we.country||"",photoUrl:le||"",notes:"",transportMode:"walking",transportTime:"",distance:"",startTime:"",endTime:"",type:ue||"place"}}else{const Q=new window.google.maps.places.PlacesService(document.createElement("div")),le=await new Promise((Ee,Ie)=>{Q.getDetails({placeId:f.place_id,fields:["name","formatted_address","geometry","photos","address_component"]},(ot,tn)=>{tn===window.google.maps.places.PlacesServiceStatus.OK&&ot?Ee(ot):Ie(new Error(tn))})}),we=le.photos&&le.photos.length>0?le.photos[0].getUrl({maxWidth:600,maxHeight:600}):"",xe=(le.address_components||[]).map(Ee=>({longText:Ee.long_name,types:Ee.types||[]})),Y=NE(xe);F={name:le.name||Fn,address:le.formatted_address||Fn,placeId:f.place_id,location:(i=le.geometry)!=null&&i.location?{lat:le.geometry.location.lat(),lng:le.geometry.location.lng()}:null,city:Y.city||"",state:Y.state||"",country:Y.country||"",photoUrl:we,notes:"",transportMode:"walking",transportTime:"",distance:"",startTime:"",endTime:"",type:ue||"place"}}const B=E.find(Q=>Q.id===Z);let K={...F};if(B&&B.places.length>0&&It){const Q=B.places[B.places.length-1],le=await tr(Q.location||Q.address,F.location||F.address,"walking");let we="walking";!le.error&&le.distance&&parseFloat(le.distance)>=1&&(we="transit");const xe=await tr(Q.location||Q.address,F.location||F.address,we);xe.error||(K={...F,transportMode:we,distance:xe.distance,transportTime:xe.time,isAutoCalculated:xe.isAutoCalculated||!1})}const se=E.map(Q=>Q.id===Z?{...Q,places:[...Q.places,{id:Date.now(),...K}]}:Q);I(se),kr({name:"",address:"",placeId:"",location:null,city:"",state:"",country:"",photoUrl:"",notes:"",transportMode:"walking",transportTime:"",distance:"",startTime:"",endTime:""}),ur(""),Kn([]),Pe(null)}catch(j){console.error("Failed to get place details:",j)}};L.useEffect(()=>{if(!It)return;if(window.google&&window.google.maps){Qs(!0);return}const f="google-maps-js";if(document.getElementById(f))return;const _=document.createElement("script");_.id=f,_.src=`https://maps.googleapis.com/maps/api/js?key=${It}&libraries=places,marker`,_.async=!0,_.defer=!0,_.onload=()=>Qs(!0),_.onerror=()=>console.error("Failed to load Google Maps script"),document.head.appendChild(_)},[It]),L.useEffect(()=>{if(!En)return;const f="hide-gm-close-button";if(document.getElementById(f))return;const _=document.createElement("style");_.id=f,_.innerHTML=".gm-ui-hover-effect { display: none !important; }",document.head.appendChild(_)},[En]),L.useEffect(()=>{if(!(!m||!En||!Xs.current))try{Be.current=new window.google.maps.Map(Xs.current,{center:{lat:46.8182,lng:8.2275},zoom:7,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,mapId:bt||void 0}),Be.current.addListener("click",()=>{qt.current&&(qt.current.close(),qt.current=null)})}catch(f){console.error("Error creating map instance:",f)}},[m,En]),L.useEffect(()=>{m||(mt.current.forEach(f=>{f&&typeof f.setMap=="function"?f.setMap(null):f&&(f.map=null)}),mt.current=[],Ur.current.forEach(f=>f.setMap(null)),Ur.current=[])},[m]),L.useEffect(()=>{var xe;if(!m||!En||!Be.current||(mt.current.forEach(Y=>{typeof Y.setMap=="function"?Y.setMap(null):Y.map=null}),mt.current=[],Ur.current.forEach(Y=>Y.setMap(null)),Ur.current=[],Jn.current.forEach(Y=>{typeof Y.setMap=="function"?Y.setMap(null):Y&&(Y.map=null)}),Jn.current=new Map,wn.current.forEach(Y=>{typeof Y.setMap=="function"?Y.setMap(null):Y&&(Y.map=null)}),wn.current=[],!ce||!((xe=ce.places)!=null&&xe.length)&&Zn.length===0&&on.length===0))return;const f=new window.google.maps.LatLngBounds;let _=!1;z(!0);const i=new window.google.maps.Geocoder,j=Y=>{if(!Y)return Promise.resolve(null);const Ee=String(Y).trim(),Ie=Ee.toUpperCase(),ot=new Set;ot.add(Ee),ot.add(`${Ee} airport`),ot.add(`${Ee} international airport`),ot.add(Ie),Ie.length===3&&(ot.add(`${Ie} airport`),ot.add(`${Ie} international airport`));const tn=Gt=>{if(!Gt.length)return Promise.resolve(null);const[Dn,...Sn]=Gt,Wr=Dn.toLowerCase(),xs=Or.current.get(Wr);return xs?Promise.resolve(new window.google.maps.LatLng(xs.lat,xs.lng)):new Promise(Ri=>{i.geocode({address:Dn},(gf,pf)=>{if(_)return Ri(null);if(pf==="OK"&&gf[0]){const hc=gf[0].geometry.location,mc={lat:hc.lat(),lng:hc.lng()};Or.current.set(Wr,mc),Ri(new window.google.maps.LatLng(mc.lat,mc.lng))}else Ri(null)})}).then(Ri=>Ri||tn(Sn))};return tn([...ot])},F=(Y,Ee)=>new Promise(Ie=>{const ot=Y.location&&typeof Y.location.lat=="number"&&typeof Y.location.lng=="number"?new window.google.maps.LatLng(Y.location.lat,Y.location.lng):null,tn=Dn=>{var Ix,Cx,Nx;const Sn="M384 192c0 87.4-117 243-168.3 307.2c-12.3 15.3-35.1 15.3-47.4 0C117 435 0 279.4 0 192C0 86 86 0 192 0S384 86 384 192z",Wr=!!bt&&((Nx=(Cx=(Ix=window.google)==null?void 0:Ix.maps)==null?void 0:Cx.marker)==null?void 0:Nx.AdvancedMarkerElement);let xs;if(Wr){const gr=document.createElement("div");gr.style.position="relative",gr.style.width="40px",gr.style.height="52px",gr.style.display="flex",gr.style.alignItems="center",gr.style.justifyContent="center";const Ya=document.createElementNS("http://www.w3.org/2000/svg","svg");Ya.setAttribute("viewBox","0 0 384 512"),Ya.setAttribute("width","40"),Ya.setAttribute("height","52");const Sg=document.createElementNS("http://www.w3.org/2000/svg","path");Sg.setAttribute("d",Sn),Sg.setAttribute("fill","#FF6B6B"),Ya.appendChild(Sg),gr.appendChild(Ya);const Zs=document.createElement("div");Zs.textContent=`${Ee+1}`,Zs.style.position="absolute",Zs.style.top="16px",Zs.style.left="50%",Zs.style.transform="translateX(-50%)",Zs.style.color="white",Zs.style.fontWeight="700",Zs.style.fontSize="13px",Zs.style.textShadow="0 1px 4px rgba(0,0,0,0.35)",gr.appendChild(Zs),xs=new window.google.maps.marker.AdvancedMarkerElement({map:Be.current,position:Dn,title:Y.name||Y.address||"Place",content:gr})}else{const gr=`<svg xmlns="http://www.w3.org/2000/svg" width="40" height="52" viewBox="0 0 384 512"><path fill="%23FF6B6B" d="${Sn}"/></svg>`,Ya=`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(gr)}`;xs=new window.google.maps.Marker({map:Be.current,position:Dn,title:Y.name||Y.address||"Place",icon:{url:Ya,scaledSize:new window.google.maps.Size(32,44),anchor:new window.google.maps.Point(16,44),labelOrigin:new window.google.maps.Point(16,18)},label:{text:`${Ee+1}`,color:"white",fontSize:"12px",fontWeight:"bold"}})}const Ri=gr=>({place:"",restaurant:"",cafe:"",activity:"",note:""})[gr]||"",gf={walking:"",transit:"",car:"",plane:""},pf=Y.priority?"".repeat(Math.min(5,Y.priority)):"",hc=Y.address||Y.name?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(Y.address||Y.name)}`:"",mc=`
          <div style="max-width:300px;font-family:system-ui,-apple-system,sans-serif;color:#1f2937;">
            ${Y.photoUrl?`
              <div style="overflow:hidden;border-radius:12px;margin-bottom:10px;box-shadow:0 8px 20px rgba(0,0,0,0.08);position:relative;">
                <img src="${Y.photoUrl}" alt="${Y.name||"Place photo"}" style="width:100%;height:170px;object-fit:cover;display:block;" />
                ${Y.type?`<span style="position:absolute;left:10px;top:10px;padding:4px 10px;border-radius:999px;background:rgba(0,0,0,0.55);color:#fff;font-size:11px;display:inline-flex;align-items:center;gap:6px;">${Ri(Y.type)} ${Y.type.charAt(0).toUpperCase()+Y.type.slice(1)}</span>`:""}
              </div>
            `:""}
            <div style="display:flex;align-items:flex-start;gap:8px;margin-bottom:8px;">
              <span style="font-size:18px;">${Ri(Y.type)}</span>
              <div style="flex:1;">
                <strong style="font-size:15px;color:#111827;display:block;">${Y.name||"Place"}</strong>
            ${Y.address?`<div style="color:#6b7280;font-size:12px;margin-top:2px;line-height:1.4;">${Y.address}</div>`:""}
          </div>
          ${pf?`<div style="background:#fff4e5;border:1px solid #fde68a;padding:4px 8px;border-radius:8px;font-size:11px;white-space:nowrap;">${pf}</div>`:""}
        </div>
        <div style="display:flex;flex-wrap:wrap;gap:6px;margin-top:6px;font-size:11px;">
          ${Y.visitTime?`<div style="background:#f3f4f6;padding:4px 8px;border-radius:6px;"> ${Y.visitTime}</div>`:""}
          ${Y.startTime&&Y.endTime?`<div style="background:#eef2ff;padding:4px 8px;border-radius:6px;"> ${jE(Y.startTime,Y.endTime)}</div>`:""}
          ${Y.cost?`<div style="background:#f3f4f6;padding:4px 8px;border-radius:6px;"> ${Y.cost} ${RN(Y.currency)}</div>`:""}
          ${Y.transportMode||Y.distance||Y.transportTime?`
            <div style="background:#e0f2fe;padding:4px 8px;border-radius:6px;display:flex;align-items:center;gap:6px;">
              <span>${gf[Y.transportMode]||""}</span>
              <span style="color:#0f172a;">
                    ${Y.transportMode?Y.transportMode.charAt(0).toUpperCase()+Y.transportMode.slice(1):"Route"}
                    ${Y.distance?`  ${Y.distance} km`:""}${Y.transportTime?`  ${Y.transportTime} min`:""}
                  </span>
                </div>
              `:""}
            </div>
            ${Y.notes?`<div style="margin-top:10px;padding:10px;background:#f9fafb;border-radius:10px;font-size:12px;color:#4b5563;line-height:1.4;">${Y.notes}</div>`:""}
            ${hc?`<a href="${hc}" target="_blank" rel="noopener noreferrer" style="display:inline-block;margin-top:10px;font-size:12px;color:#2563eb;text-decoration:none;">Open in Google Maps </a>`:""}
          </div>
        `,Px=new window.google.maps.InfoWindow({content:mc});xs.addListener("click",()=>{qt.current&&qt.current.close(),Px.open({anchor:xs,map:Be.current}),qt.current=Px}),mt.current.push(xs),f.extend(Dn),Ie(Dn)};if(ot){tn(ot);return}const Gt=Y.address||Y.name;if(!Gt)return Ie(null);j(Gt).then(Dn=>{if(_||!Dn)return Ie(null);tn(Dn)})}),B=Zn.flatMap(Y=>{const Ee=[];return Y.from&&Ee.push({airport:Y.from,label:"Departure",flightId:Y.id}),Y.to&&Ee.push({airport:Y.to,label:"Arrival",flightId:Y.id}),Ee}),K=on.map(Y=>({id:Y.id,title:Y.name||"Hotel",address:Y.address||[Y.name,Y.city,Y.country].filter(Boolean).join(", "),position:Y.location||null})),se=({airport:Y,label:Ee,flightId:Ie})=>new Promise(ot=>{const tn=Y.toLowerCase().includes("airport")?Y:`${Y} airport`;j(tn).then(Gt=>{if(_||!Gt)return ot(null);const Dn='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="%230b6559" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2.5 19h19"/><path d="M17 14.5V19"/><path d="M5 10L2 7.5"/><path d="M22 7.5L19 10"/><path d="M7.5 11l.5 8"/><path d="M16 19.5V11"/><path d="M12 19.5V3l3 2v4l7 2-1 3-6-1.5V19"/></svg>',Sn=new window.google.maps.Marker({map:Be.current,position:Gt,title:`${Ee} Airport: ${Y}`,icon:{url:`data:image/svg+xml;utf-8,${encodeURIComponent(Dn)}`,scaledSize:new window.google.maps.Size(28,28),anchor:new window.google.maps.Point(14,20)},label:{text:Ee==="Departure"?"DEP":"ARR",color:"#0b6559",fontSize:"11px",fontWeight:"700"}}),Wr=new window.google.maps.InfoWindow({content:`<div style="font-family:system-ui,-apple-system,sans-serif;font-size:12px;color:#1f2937;"><strong>${Ee} Airport</strong><div style="color:#4b5563;">${Y}</div></div>`});Sn.addListener("click",()=>{qt.current&&qt.current.close(),Wr.open({anchor:Sn,map:Be.current}),qt.current=Wr}),Jn.current.set(fs(Ie,Ee),Sn),mt.current.push(Sn),f.extend(Gt),ot(Gt)})}),Q=Promise.all((ce.places||[]).map((Y,Ee)=>F(Y,Ee))),le=Promise.all(B.map(Y=>se(Y))),we=Promise.all(K.map(Y=>new Promise(Ee=>{const Ie=Un(Y.position),ot=Gt=>{const Dn='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="%230b7f4e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9.5V19a2 2 0 0 0 2 2h3v-6a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v6h3a2 2 0 0 0 2-2V9.5L12 4z"/><path d="M9 22V12h6v10"/></svg>',Sn=new window.google.maps.Marker({map:Be.current,position:Gt,title:Y.title,icon:{url:`data:image/svg+xml;utf-8,${encodeURIComponent(Dn)}`,scaledSize:new window.google.maps.Size(26,26),anchor:new window.google.maps.Point(13,20)}}),Wr=new window.google.maps.InfoWindow({content:`<div style="font-family:system-ui,-apple-system,sans-serif;font-size:12px;color:#1f2937;"><strong>${Y.title}</strong>${Y.address?`<div style="color:#4b5563;">${Y.address}</div>`:""}</div>`});Sn.addListener("click",()=>{qt.current&&qt.current.close(),Wr.open({anchor:Sn,map:Be.current}),qt.current=Wr}),wn.current.push(Sn),f.extend(Gt),Ee(Gt)};if(Ie){ot(Ie);return}const tn=Y.address||"";if(!tn)return Ee(null);j(tn).then(Gt=>{if(_||!Gt)return Ee(null);ot(Gt)})})));return Promise.all([Q,le,we]).then(([Y])=>{if(_)return;const Ee=Y.filter(Ie=>Ie!==null);if(Ee.length>1)for(let Ie=0;Ie<Ee.length-1;Ie++){const ot=ce.places[Ie+1],Gt={walking:"WALKING",transit:"TRANSIT",car:"DRIVING",plane:"DRIVING",metro:"TRANSIT",bus:"TRANSIT",train:"TRANSIT",other:"DRIVING"}[ot.transportMode]||"WALKING",Dn=new window.google.maps.DirectionsService,Sn=new window.google.maps.DirectionsRenderer({map:Be.current,suppressMarkers:!0,polylineOptions:{strokeColor:"#4ECDC4",strokeWeight:3,strokeOpacity:.7}});Dn.route({origin:Ee[Ie],destination:Ee[Ie+1],travelMode:Gt},(Wr,xs)=>{xs==="OK"&&!_&&(Sn.setDirections(Wr),Ur.current.push(Sn))})}z(!1),f.isEmpty()||Be.current.fitBounds(f)}).catch(()=>z(!1)),()=>{_=!0}},[m,En,Vs]),L.useEffect(()=>{var i,j,F;if(!ks||!m)return;const f=ce==null?void 0:ce.places.findIndex(B=>B.id===ks.placeId);if(f===-1||f===void 0){os(null);return}const _=mt.current[f];if(_&&((j=(i=window.google)==null?void 0:i.maps)!=null&&j.event)){window.google.maps.event.trigger(_,"click");const B=_.position||(typeof _.getPosition=="function"?_.getPosition():null);B&&((F=Be.current)!=null&&F.panTo)&&Be.current.panTo(B),os(null)}},[ks,m,ce,Vs]),L.useEffect(()=>{var _,i,j;if(!ls||!m)return;const f=Jn.current.get(ls);if(f&&((i=(_=window.google)==null?void 0:_.maps)!=null&&i.event)){window.google.maps.event.trigger(f,"click");const F=f.position||(typeof f.getPosition=="function"?f.getPosition():null);F&&((j=Be.current)!=null&&j.panTo)&&Be.current.panTo(F),us(null)}},[ls,m,Vs]),L.useEffect(()=>{if(!Ne)return;const f=()=>{yt(null)};return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[Ne]),L.useEffect(()=>{if(E.length>0&&r&&!k){const f=JSON.stringify(E);if(mr.current===f)return;const _=setTimeout(async()=>{u.current=!0,mr.current=f;try{await S(E)}catch(i){console.error("Failed to save daily plans:",i)}finally{setTimeout(()=>{u.current=!1},100)}},3e3);return()=>clearTimeout(_)}},[E,r,k]),L.useEffect(()=>{d.length>=0},[d]),L.useEffect(()=>{R.length>=0},[R]);const _s=f=>{if(!f||f.length<1)return[];const _=f.toLowerCase();return vQ(o==null?void 0:o.countries).filter(({city:j})=>j.toLowerCase().includes(_)).slice(0,10)},Js=f=>{if(!f||f.length<1)return[];const _=f.toLowerCase();return(o!=null&&o.countries&&o.countries.length>0?o.countries:Object.keys(Gv)).filter(j=>j.toLowerCase().includes(_))},ec=()=>{Ln({...$e,name:o.name}),Nr(!0)},tc=()=>{Ln({...$e,startDate:o.startDate,endDate:o.endDate});const f=o!=null&&o.startDate?kt(o.startDate):new Date,_=o!=null&&o.endDate?kt(o.endDate):new Date;Rt([{startDate:f,endDate:_,key:"selection"}]),fr(!0)},Mi=f=>{if(!f)return"";const _=String(f).trim();if(/\d{4}/.test(_)){const xe=new Date(_);return Number.isNaN(xe.getTime())?_:vr(xe)}const i=_.split(/[-/]/).map(Number);if(i.length<2)return _;const[j,F]=i;if(Number.isNaN(j)||Number.isNaN(F))return _;let B=j,K=F;j>12&&F<=12?(K=j,B=F):F>12&&j<=12&&(B=j,K=F);const se=new Date,Q=se.getFullYear(),le=[Q-1,Q,Q+1].map(xe=>new Date(xe,(B||1)-1,K||1)).filter(xe=>!Number.isNaN(xe.getTime()));if(!le.length)return _;const we=le.reduce((xe,Y)=>{const Ee=Math.abs(Y.getTime()-se.getTime());return Ee<xe.diff?{date:Y,diff:Ee}:xe},{date:le[0],diff:Math.abs(le[0].getTime()-se.getTime())}).date;return vr(we)},Il=async()=>{if($e.name.trim()&&o)try{const f={...o,name:$e.name};await a(f),await c(f)}catch(f){console.error("Failed to save trip name:",f),alert("Failed to save trip name. Please try again.")}Nr(!1)},nc=async()=>{var j;fr(!1);const f=ss&&ss[0]?ss[0]:null,_=f&&f.startDate?vr(new Date(f.startDate)):$e.startDate,i=f&&f.endDate?vr(new Date(f.endDate)):$e.endDate;if(_&&i&&o)try{const F={...o,startDate:_,endDate:i};if(await a(F),await c(F),_!==o.startDate||i!==o.endDate){const B=[],K=kt(_),se=kt(i);let Q=new Date(K),le=1;for(;Q<=se;){const we=vr(Q),xe=E.find(Y=>Y.date===we);B.push({id:le++,date:we,title:(xe==null?void 0:xe.title)||"",city:(xe==null?void 0:xe.city)||"",country:(xe==null?void 0:xe.country)||"",places:(xe==null?void 0:xe.places)||[]}),Q.setDate(Q.getDate()+1)}await T(B),Ae((j=B[0])==null?void 0:j.id)}}catch(F){console.error("Failed to save trip dates:",F),alert("Failed to save trip dates. Please try again.")}},rc=f=>{cs(f),Ls(!0)},Cl=()=>{const f=E.map(_=>_.id===Z?{..._,title:Pa}:_);I(f),Ls(!1)},sc=async()=>{var f;if(o)try{const _={...o,name:$e.name,startDate:$e.startDate,endDate:$e.endDate};if(await a(_),await c(_),$e.startDate!==o.startDate||$e.endDate!==o.endDate){const i=[],j=kt($e.startDate),F=kt($e.endDate);let B=new Date(j),K=1;for(;B<=F;){const se=vr(B),Q=E.find(le=>le.date===se);i.push({id:K++,date:se,title:(Q==null?void 0:Q.title)||"",city:(Q==null?void 0:Q.city)||"",country:(Q==null?void 0:Q.country)||"",places:(Q==null?void 0:Q.places)||[]}),B.setDate(B.getDate()+1)}await T(i),Ae((f=i[0])==null?void 0:f.id)}Qn(!1)}catch(_){console.error("Failed to save trip:",_),alert("Failed to save trip. Please try again.")}},Ct=(f,_)=>{const i=(_||Vr||"EUR").toUpperCase(),j=(Vr||"EUR").toUpperCase(),F=OE[i]||1,B=OE[j]||1;return f*F/B},Nl=f=>`${f.toFixed(2)}`,Ol=(f,_=14)=>{switch(f){case"food":return l.jsx(hW,{size:_,className:"text-[#F7B731]"});case"accommodation":return l.jsx(Hf,{size:_,className:"text-[#4ECDC4]"});case"transportation":return l.jsx(aW,{size:_,className:"text-[#FF6B6B]"});case"activities":return l.jsx(dW,{size:_,className:"text-[#45AAF2]"});case"shopping":return l.jsx(cW,{size:_,className:"text-[#9B59B6]"});case"places":return l.jsx(ra,{size:_,className:"text-[#1B7F79]"});default:return l.jsx(ii,{size:_,className:"text-gray-500"})}};L.useEffect(()=>{const f=_=>{xi.current&&!xi.current.contains(_.target)&&xn(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const jl=()=>{const f=new Map;let _=0;return d.forEach(i=>{const j=dn(i.price);j&&(i.groupId?f.has(i.groupId)||(f.set(i.groupId,!0),_+=Ct(j,i.priceCurrency||"EUR")):_+=Ct(j,i.priceCurrency||"EUR"))}),_},Ml=()=>y.reduce((f,_)=>f+Ct(dn(_.price),_.priceCurrency||"EUR"),0),Rl=()=>E.reduce((f,_)=>f+_.places.reduce((i,j)=>i+Ct(dn(j.cost),j.currency||"EUR"),0),0),ic=()=>R.reduce((f,_)=>f+Ct(parseFloat(_.amount||0),_.currency||"EUR"),0)+jl()+Rl()+Ml(),Al=()=>{const f=ic();return Nl(f)},ac=()=>{const f={};R.forEach(F=>{f[F.category]=(f[F.category]||0)+Ct(parseFloat(F.amount||0),F.currency||"EUR")});const _=jl();_>0&&(f.flights=_);const i=Rl();i>0&&(f.places=i);const j=Ml();return j>0&&(f.hotels=j),f},oc=()=>{const f={};return R.forEach(_=>{_.city&&(f[_.city]=(f[_.city]||0)+Ct(parseFloat(_.amount||0),_.currency||"EUR"))}),E.forEach(_=>{_.places.forEach(i=>{const j=eh(i);j.city&&(f[j.city]=(f[j.city]||0)+Ct(dn(i.cost),i.currency||"EUR"))})}),y.forEach(_=>{_.city&&(f[_.city]=(f[_.city]||0)+Ct(dn(_.price),_.priceCurrency||"EUR"))}),f},lc=()=>{const f={};return R.forEach(_=>{_.country&&(f[_.country]=(f[_.country]||0)+Ct(parseFloat(_.amount||0),_.currency||"EUR"))}),E.forEach(_=>{_.places.forEach(i=>{const j=eh(i);j.country&&(f[j.country]=(f[j.country]||0)+Ct(dn(i.cost),i.currency||"EUR"))})}),y.forEach(_=>{_.country&&(f[_.country]=(f[_.country]||0)+Ct(dn(_.price),_.priceCurrency||"EUR"))}),f},uc=()=>{const f={};return R.forEach(_=>{const i=Wo(_.date);i&&(f[i]=(f[i]||0)+Ct(parseFloat(_.amount||0),_.currency||"EUR"))}),E.forEach(_=>{const i=_.places.reduce((F,B)=>F+Ct(dn(B.cost),B.currency||"EUR"),0),j=Wo(_.date);j&&(f[j]=(f[j]||0)+i)}),d.forEach(_=>{const i=Wo(_.departureDate||_.date);i&&(f[i]=(f[i]||0)+Ct(dn(_.price),_.priceCurrency||"EUR"))}),y.forEach(_=>{const i=Wo(_.checkIn);i&&(f[i]=(f[i]||0)+Ct(dn(_.price),_.priceCurrency||"EUR"))}),f},cc=()=>{const f={};return R.forEach(_=>{_.state&&(f[_.state]=(f[_.state]||0)+Ct(parseFloat(_.amount||0),_.currency||"EUR"))}),E.forEach(_=>{_.places.forEach(i=>{const j=eh(i);j.state&&(f[j.state]=(f[j.state]||0)+Ct(dn(i.cost),i.currency||"EUR"))})}),y.forEach(_=>{_.state&&(f[_.state]=(f[_.state]||0)+Ct(dn(_.price),_.priceCurrency||"EUR"))}),f},dc=f=>{switch(f){case"day":return Object.entries(uc()).map(([_,i])=>({label:_,value:i}));case"city":return Object.entries(oc()).map(([_,i])=>({label:_,value:i}));case"state":return Object.entries(cc()).map(([_,i])=>({label:_,value:i}));case"country":return Object.entries(lc()).map(([_,i])=>({label:_,value:i}));case"category":default:return Object.entries(ac()).map(([_,i])=>({label:_,value:i}))}},fc=f=>{const _=dc(f);if(!_.length)return null;const i=[..._].sort((F,B)=>{if(f==="day"){const K=new Date(F.label),se=new Date(B.label);return!Number.isNaN(K.getTime())&&!Number.isNaN(se.getTime())?K-se:String(F.label).localeCompare(String(B.label))}return B.value-F.value}),j=Math.max(...i.map(F=>F.value));return l.jsx("div",{className:"space-y-2",children:i.map(({label:F,value:B})=>{const K=j===0?0:B/j*100,se=(()=>{if(f!=="day")return F||"Unspecified";if(!F)return"Unspecified";const Q=new Date(F);return Number.isNaN(Q.getTime())?F:Q.toLocaleDateString()})();return l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-32 text-sm text-gray-700 truncate",children:se}),l.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-2.5 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-[#4ECDC4] to-[#44A08D]",style:{width:`${K}%`}})}),l.jsx("div",{className:"text-sm font-semibold text-gray-800 whitespace-nowrap",children:Nl(B)})]},`${f}-${F}`)})})};return l.jsx("div",{className:"min-h-screen bg-[#F8F9FA] p-2 sm:p-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("div",{className:"rounded-2xl border border-gray-100 bg-white shadow-md p-4 sm:p-6 mb-4 sm:mb-6",children:l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center gap-3 mb-2",children:[l.jsx("span",{className:"h-10 w-10 rounded-full bg-[#FF6B6B] flex items-center justify-center text-white shadow-sm",children:l.jsx(ra,{className:"text-white",size:20})}),l.jsx("span",{children:"Travel Planner"})]}),o&&l.jsxs("div",{className:"space-y-2",children:[wa?l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("input",{type:"text",value:$e.name,onChange:f=>Ln({...$e,name:f.target.value}),onBlur:Il,onKeyDown:f=>{f.key==="Enter"&&Il(),f.key==="Escape"&&Nr(!1)},autoFocus:!0,className:"px-3 py-1 rounded border border-gray-200 bg-white text-lg font-medium flex-1 outline-none focus:border-[#FF6B6B]"})}):l.jsx("div",{onClick:ec,className:"cursor-pointer hover:bg-gray-50 px-3 py-1 rounded transition-colors inline-block",children:l.jsx("span",{className:"text-lg font-medium text-gray-900",children:o.name})}),l.jsx("div",{className:"hidden sm:block",children:ba?l.jsx("div",{className:"mt-2 flex justify-start",children:l.jsxs("div",{className:"inline-block bg-white border-2 border-gray-200 rounded-xl shadow-lg p-4",children:[l.jsx($0.DateRange,{ranges:ss,onChange:f=>{const _=f.selection;Rt([_]),Ln({...$e,startDate:vr(new Date(_.startDate)),endDate:vr(new Date(_.endDate))})},months:2,direction:"horizontal",showDateDisplay:!1,rangeColors:["#FF6B6B"],className:"rounded-xl"}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsx("button",{onClick:nc,className:"px-3 py-2 bg-[#FF6B6B] text-white rounded-lg text-sm hover:bg-[#E85555] transition-colors",children:"Save"}),l.jsx("button",{onClick:()=>fr(!1),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})}):l.jsx("div",{onClick:tc,className:"cursor-pointer hover:bg-white/20 px-3 py-1 rounded transition-colors inline-block",children:l.jsxs("span",{className:"text-sm text-gray-600",children:[kt(o.startDate).toLocaleDateString()," - ",kt(o.endDate).toLocaleDateString()]})})})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-3 w-full sm:w-auto",children:[l.jsxs("div",{className:"flex gap-2 items-center self-end",children:[l.jsx("button",{onClick:async()=>{try{await c({id:null,name:null,startDate:null,endDate:null,countries:[]}),e()}catch(f){console.error("Failed to go back to trip setup:",f)}},className:"w-10 h-10 rounded-full border border-gray-200 bg-white text-gray-600 hover:text-[#FF6B6B] hover:border-[#FF6B6B]/40 flex items-center justify-center transition-colors shadow-sm",title:"Back to trip setup",children:l.jsx(gI,{size:20})}),l.jsxs("button",{onClick:n,className:"px-4 py-2 bg-white rounded-full flex items-center gap-2 transition-all hover:shadow-md border border-gray-200 text-gray-700 hover:text-[#FF6B6B] hover:border-[#FF6B6B]/40",title:"Switch to Day Mode",children:[l.jsx(td,{size:18}),l.jsx("span",{className:"text-gray-800 font-medium text-sm hidden sm:inline",children:"Day Mode"})]}),r&&l.jsxs("div",{className:"relative",ref:xi,children:[l.jsx("button",{onClick:()=>xn(f=>!f),className:"w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center focus:outline-none border border-gray-100",title:r.displayName||r.email,children:r.photoURL?l.jsx("img",{src:r.photoURL,alt:r.displayName,className:"w-10 h-10 rounded-full object-cover border-2 border-white/50"}):l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-700 font-medium border-2 border-white",children:(r.displayName||r.email||"U")[0].toUpperCase()})}),Ea&&l.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border rounded-lg shadow-lg z-50",children:[l.jsxs("div",{className:"px-3 py-2 border-b",children:[l.jsx("div",{className:"text-sm font-medium text-gray-800",children:r.displayName||"Account"}),l.jsx("div",{className:"text-xs text-gray-500 truncate",children:r.email})]}),l.jsxs("button",{onClick:()=>{qn(!0),xn(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2",children:[l.jsx(qf,{size:16,className:"text-gray-600"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Setup API"})]}),l.jsxs("button",{onClick:()=>{Da(!0),xn(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2",children:[l.jsx(fW,{size:16,className:"text-gray-600"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Account Settings"})]}),l.jsxs("button",{onClick:async()=>{xn(!1);try{await c({id:null,name:null,startDate:null,endDate:null,countries:[]}),e()}catch(f){console.error("Failed to start new trip:",f),alert("Failed to start new trip. Please try again.")}},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2 border-t",children:[l.jsx(Uc,{size:16,className:"text-gray-600"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Start New Trip"})]}),l.jsxs("button",{onClick:async()=>{xn(!1),window.confirm("Are you sure you want to sign out?")&&await s()},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2 text-red-600 border-t",children:[l.jsx(uW,{size:16}),l.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-[#4ECDC4]/10 text-[#1B7F79] border border-[#4ECDC4]/30 rounded-full px-3 py-1 text-sm font-semibold self-end",children:[l.jsx(ii,{size:14}),l.jsx("span",{children:"Total Expenses"}),l.jsx("span",{children:Al()}),l.jsxs("select",{value:Vr,onChange:f=>nt(f.target.value),className:"bg-transparent border border-transparent text-[#0b6559] text-xs font-semibold focus:outline-none cursor-pointer rounded",children:[l.jsx("option",{value:"EUR",children:"EUR"}),l.jsx("option",{value:"USD",children:"USD"}),l.jsx("option",{value:"GBP",children:"GBP"}),l.jsx("option",{value:"CHF",children:"CHF"}),l.jsx("option",{value:"BRL",children:"BRL"}),l.jsx("option",{value:"CAD",children:"CAD"}),l.jsx("option",{value:"AUD",children:"AUD"}),l.jsx("option",{value:"JPY",children:"JPY"})]})]})]})]})}),l.jsx("div",{className:"bg-white rounded-2xl shadow-lg mb-4 sm:mb-6",children:l.jsxs("div",{className:"flex border-b overflow-x-auto",children:[l.jsxs("button",{onClick:()=>P("itinerary"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${w==="itinerary"?"border-b-3 border-[#FF6B6B] text-[#FF6B6B]":"text-gray-600 hover:text-[#FF6B6B]"}`,children:[l.jsx(td,{size:20}),l.jsx("span",{className:"hidden sm:inline",children:"Daily Plans"}),l.jsx("span",{className:"sm:hidden",children:"Plans"})]}),l.jsxs("button",{onClick:()=>P("flights"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${w==="flights"?"border-b-3 border-[#4ECDC4] text-[#4ECDC4]":"text-gray-600 hover:text-[#4ECDC4]"}`,children:[l.jsx(zi,{size:20}),l.jsx("span",{children:"Flights"})]}),l.jsxs("button",{onClick:()=>P("hotels"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${w==="hotels"?"border-b-3 border-[#26DE81] text-[#26DE81]":"text-gray-600 hover:text-[#26DE81]"}`,children:[l.jsx(Hf,{size:20}),l.jsx("span",{children:"Hotels"})]}),l.jsxs("button",{onClick:()=>P("expenses"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${w==="expenses"?"border-b-3 border-[#FFE66D] text-[#F7B731]":"text-gray-600 hover:text-[#F7B731]"}`,children:[l.jsx(ii,{size:20}),l.jsx("span",{children:"Expenses"})]})]})}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-3 sm:p-6",children:[w==="itinerary"&&l.jsxs("div",{className:`grid gap-4 items-start ${m?"grid-cols-1 lg:grid-cols-[60%_40%]":"grid-cols-1"}`,children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white shadow-sm overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3 px-4 py-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-[#FF6B6B] flex items-center justify-center text-white shadow-sm",children:l.jsx(td,{size:18,className:"text-white"})}),l.jsxs("div",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-base font-semibold text-gray-800",children:"Itinerary"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Your daily plan"})]})]}),l.jsx("button",{onClick:()=>p(f=>!f),className:"h-10 w-10 flex items-center justify-center rounded-full border border-gray-200 text-gray-600 hover:text-[#4ECDC4] hover:border-[#4ECDC4]/40 bg-white shadow-sm transition-all hover:-translate-y-0.5",title:m?"Hide Map":"Show Map",children:l.jsx(wW,{size:18})})]}),l.jsx("div",{className:"border-t border-gray-100 px-3 py-3 bg-white/60",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>Ei("left"),className:"h-10 w-10 flex items-center justify-center rounded-full border border-gray-200 text-gray-600 hover:text-[#FF6B6B] hover:border-[#FF6B6B]/40 bg-white shadow-sm transition-all hover:-translate-y-0.5",title:"Previous days",children:l.jsx(SW,{size:18})}),l.jsx("div",{className:"relative flex-1 overflow-hidden",children:l.jsx("div",{ref:Sa,className:"flex items-center gap-2 px-2 scroll-smooth overflow-x-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:E.map((f,_)=>l.jsxs("button",{onClick:()=>Ae(f.id),className:`flex-shrink-0 px-3.5 py-2 rounded-xl text-sm font-semibold transition-all shadow-sm ${Z===f.id?"bg-[#FF6B6B] text-white shadow-md scale-[1.03]":"bg-white border border-gray-200 text-gray-700 hover:border-[#FF6B6B]/40 hover:text-[#FF6B6B] hover:-translate-y-0.5"}`,children:[l.jsx("div",{className:"text-[11px] uppercase tracking-wide",children:kt(f.date).toLocaleDateString("en-US",{weekday:"short"})}),l.jsx("div",{className:"text-xs text-gray-600",children:kt(f.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},f.id))})}),l.jsx("button",{onClick:()=>Ei("right"),className:"h-10 w-10 flex items-center justify-center rounded-full border border-gray-200 text-gray-600 hover:text-[#FF6B6B] hover:border-[#FF6B6B]/40 bg-white shadow-sm transition-all hover:-translate-y-0.5",title:"Next days",children:l.jsx(TW,{size:18})})]})})]}),ce&&l.jsxs("div",{className:"rounded-2xl border border-gray-100 shadow-md overflow-visible bg-white",children:[l.jsx("div",{className:"p-4 sm:p-5 border-b border-gray-100 bg-white",children:l.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"hidden sm:block w-1 self-stretch bg-[#FF6B6B] rounded-full opacity-80"}),l.jsxs("div",{className:"flex flex-col gap-1",children:[Ta?l.jsx("input",{type:"text",value:Pa,onChange:f=>cs(f.target.value),onBlur:Cl,onKeyDown:f=>{f.key==="Enter"&&Cl(),f.key==="Escape"&&Ls(!1)},autoFocus:!0,placeholder:`Day ${E.findIndex(f=>f.id===Z)+1}`,className:"w-full px-3 py-2 rounded-lg bg-white/90 border border-[#FF6B6B]/30 text-lg font-semibold text-[#FF6B6B] outline-none shadow-sm"}):l.jsx("div",{onClick:()=>rc(ce.title),className:"w-full px-0 py-1 rounded cursor-pointer text-lg font-semibold text-[#FF6B6B] hover:text-[#E85A5A] transition-colors",children:ce.title||`Day ${E.findIndex(f=>f.id===Z)+1}`}),l.jsx("div",{className:"text-xs uppercase tracking-[0.08em] text-gray-500",children:kt(ce.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-700 flex-wrap",children:[l.jsxs("div",{className:"flex items-center gap-1 bg-white/70 px-3 py-1.5 rounded-full border border-gray-100 shadow-sm",title:"Total stops",children:[l.jsx(bW,{className:"text-[#FF6B6B]",size:14}),l.jsx("span",{className:"font-semibold",children:((kl=dr[Z])==null?void 0:kl.totalStops)??0})]}),l.jsxs("div",{className:"flex items-center gap-1 bg-white/70 px-3 py-1.5 rounded-full border border-gray-100 shadow-sm",title:"Walking distance",children:[l.jsx(Ds,{className:"text-[#4ECDC4]",size:14}),l.jsxs("span",{className:"font-semibold",children:[(((Vl=(Ll=dr[Z])==null?void 0:Ll.distanceByMode)==null?void 0:Vl.walking)??0).toFixed(1)," km"]})]}),l.jsxs("div",{className:"flex items-center gap-1 bg-white/70 px-3 py-1.5 rounded-full border border-gray-100 shadow-sm",title:"Estimated total time",children:[l.jsx("span",{children:""}),l.jsxs("span",{className:"font-semibold",children:[((zl=dr[Z])==null?void 0:zl.totalTime)??0," min"]})]}),l.jsxs("div",{className:"flex items-center gap-1 bg-white/70 px-3 py-1.5 rounded-full border border-gray-100 shadow-sm",title:"Expected daily cost",children:[l.jsx("span",{children:""}),l.jsxs("span",{className:"font-semibold",children:["",(((Ul=dr[Z])==null?void 0:Ul.totalCost)??0).toFixed(2)]})]})]})]})}),l.jsxs("div",{className:"space-y-3 p-3 sm:p-5 bg-white",children:[Zn.length>0&&l.jsx("div",{className:"space-y-2",children:Zn.map(f=>{const _=jE(f.departureTime,f.arrivalTime)||Zo(f.departureTime)||Zo(f.arrivalTime)||"Time TBA",i=f.from&&f.to?`${f.from}  ${f.to}`:f.from||f.to||"Flight";return l.jsxs("div",{onClick:()=>Ia(f),className:"rounded-xl bg-white border border-gray-200 shadow-sm px-3 py-2 flex items-center justify-between cursor-pointer hover:shadow-md hover:-translate-y-0.5 transition-all",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("div",{className:"w-9 h-9 rounded-lg bg-[#4ECDC4]/10 flex items-center justify-center text-[#0b6559]",children:l.jsx(zi,{size:16})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:i}),f.flightNumber&&l.jsx("p",{className:"text-[11px] text-gray-600 truncate",children:f.flightNumber})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm font-bold text-[#0b6559] leading-tight",children:_}),f.airline&&l.jsx("div",{className:"text-[11px] text-gray-500",children:f.airline})]})]},`flight-${f.id}`)})}),on.length>0&&l.jsx("div",{className:"space-y-2",children:on.map(f=>{const _=f.checkIn?kt(f.checkIn).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"",i=f.checkOut?kt(f.checkOut).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"";return l.jsxs("div",{onClick:()=>Ca(f),className:"rounded-xl bg-white border border-gray-200 shadow-sm px-3 py-2 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("div",{className:"w-9 h-9 rounded-lg bg-[#26DE81]/10 flex items-center justify-center text-[#0b7f4e]",children:l.jsx(Hf,{size:16})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:f.name||"Hotel"}),(f.city||f.country)&&l.jsx("p",{className:"text-[11px] text-gray-600 truncate",children:[f.city,f.country].filter(Boolean).join(", ")})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm font-bold text-[#0b7f4e] leading-tight",children:[_||"Check-in"," ",i?` ${i}`:""]}),f.price&&l.jsx("div",{className:"text-[11px] text-gray-500",children:th(f.price,f.priceCurrency||"USD")})]})]},`hotel-${f.id}`)})}),on.length>0&&ce.places.length>0&&l.jsx("div",{className:"relative py-1",children:l.jsx("div",{className:"ml-[2.9rem] flex justify-start",children:l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:f=>{f.stopPropagation(),gs((Qe==null?void 0:Qe.dayId)===Z&&(Qe==null?void 0:Qe.key)==="toFirst"?null:{dayId:Z,key:"toFirst"})},className:"flex items-center gap-1 px-2.5 py-1 rounded-full bg-[#4ECDC4]/8 hover:bg-[#4ECDC4]/12 border border-[#4ECDC4]/25 hover:border-[#4ECDC4]/35 shadow-sm transition-all cursor-pointer text-[11px]",children:[Dt(Z,"toFirst").mode==="car"&&l.jsx(no,{size:14,className:"text-[#4ECDC4]"}),Dt(Z,"toFirst").mode==="transit"&&l.jsx(ki,{size:14,className:"text-[#4ECDC4]"}),(!Dt(Z,"toFirst").mode||Dt(Z,"toFirst").mode==="walking")&&l.jsx(Ds,{size:14,className:"text-[#4ECDC4]"}),l.jsxs("span",{className:"font-semibold",children:[Dt(Z,"toFirst").time||"--"," min"]}),l.jsx("span",{className:"text-gray-400",children:"|"}),l.jsx("span",{className:"font-semibold",children:Dt(Z,"toFirst").distance?`${Dt(Z,"toFirst").distance} km`:"-- km"}),l.jsx(gh,{size:12,className:"text-gray-400"})]}),(Qe==null?void 0:Qe.dayId)===Z&&(Qe==null?void 0:Qe.key)==="toFirst"&&l.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 z-10 min-w-[140px]",children:["walking","car","transit"].map((f,_,i)=>l.jsxs("button",{type:"button",onClick:j=>{j.stopPropagation(),bn(F=>({...F,[Z]:{...F[Z],toFirst:{...Dt(Z,"toFirst"),mode:f}}})),gs(null)},className:`w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-50 transition-colors ${_===0?"rounded-t-lg":""} ${_===i.length-1?"rounded-b-lg":""}`,children:[f==="car"&&l.jsx(no,{size:16,className:"text-[#4ECDC4]"}),f==="transit"&&l.jsx(ki,{size:16,className:"text-[#4ECDC4]"}),f==="walking"&&l.jsx(Ds,{size:16,className:"text-[#4ECDC4]"}),l.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:f})]},f))})]})})}),ce.places.map((f,_)=>l.jsxs(Qr.Fragment,{children:[!f.visited&&_>0&&l.jsxs("div",{className:"relative py-1",children:[l.jsx("div",{className:"ml-[2.9rem] flex justify-start",children:l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:i=>{i.stopPropagation(),yt((Ne==null?void 0:Ne.dayId)===Z&&(Ne==null?void 0:Ne.placeId)===f.id?null:{dayId:Z,placeId:f.id})},className:"flex items-center gap-1 px-2.5 py-1 rounded-full bg-[#4ECDC4]/8 hover:bg-[#4ECDC4]/12 border border-[#4ECDC4]/25 hover:border-[#4ECDC4]/35 shadow-sm transition-all cursor-pointer text-[11px]",children:[f.transportMode==="walking"&&l.jsx(Ds,{size:14,className:"text-[#4ECDC4]"}),f.transportMode==="car"&&l.jsx(no,{size:14,className:"text-[#4ECDC4]"}),f.transportMode==="transit"&&l.jsx(ki,{size:14,className:"text-[#4ECDC4]"}),f.transportMode==="plane"&&l.jsx(zi,{size:14,className:"text-[#4ECDC4]"}),(f.transportMode==="bus"||f.transportMode==="metro"||f.transportMode==="train")&&l.jsx(ki,{size:14,className:"text-[#4ECDC4]"}),!f.isAutoCalculated&&(_e==null?void 0:_e.dayId)===Z&&(_e==null?void 0:_e.placeId)===f.id&&(_e==null?void 0:_e.field)==="time"?l.jsx("input",{type:"number",value:_e.value,onChange:i=>rt({..._e,value:i.target.value}),onBlur:()=>{const i=E.map(j=>({...j,places:j.places.map(F=>F.id===f.id&&j.id===Z?{...F,transportTime:_e.value,isAutoCalculated:!1}:F)}));I(i),rt(null)},onKeyDown:i=>{i.key==="Enter"&&i.target.blur(),i.key==="Escape"&&rt(null),i.stopPropagation()},onClick:i=>i.stopPropagation(),autoFocus:!0,className:"w-10 px-1 font-semibold text-gray-700 bg-white rounded border border-[#4ECDC4] outline-none"}):l.jsxs("span",{onClick:i=>{f.isAutoCalculated||(i.stopPropagation(),rt({dayId:Z,placeId:f.id,field:"time",value:f.transportTime||""}))},className:`font-semibold ${f.isAutoCalculated?"text-gray-700":"text-gray-600"}`,children:[f.transportTime||"--"," min"]}),l.jsx("span",{className:"text-gray-400",children:"|"}),!f.isAutoCalculated&&(_e==null?void 0:_e.dayId)===Z&&(_e==null?void 0:_e.placeId)===f.id&&(_e==null?void 0:_e.field)==="distance"?l.jsx("input",{type:"number",step:"0.1",value:_e.value,onChange:i=>rt({..._e,value:i.target.value}),onBlur:()=>{const i=E.map(j=>({...j,places:j.places.map(F=>F.id===f.id&&j.id===Z?{...F,distance:_e.value,isAutoCalculated:!1}:F)}));I(i),rt(null)},onKeyDown:i=>{i.key==="Enter"&&i.target.blur(),i.key==="Escape"&&rt(null),i.stopPropagation()},onClick:i=>i.stopPropagation(),autoFocus:!0,className:"w-10 px-1 font-semibold text-gray-700 bg-white rounded border border-[#4ECDC4] outline-none"}):l.jsx("span",{onClick:i=>{f.isAutoCalculated||(i.stopPropagation(),rt({dayId:Z,placeId:f.id,field:"distance",value:f.distance||""}))},className:`font-semibold ${f.isAutoCalculated?"text-gray-700":"text-gray-600"}`,children:f.distance?`${f.distance} km`:f.transportTime?"-- km":"--"}),l.jsx(gh,{size:12,className:"text-gray-400"})]}),(Ne==null?void 0:Ne.dayId)===Z&&(Ne==null?void 0:Ne.placeId)===f.id&&l.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 z-50 min-w-[140px]",children:["walking","car","transit","plane"].map((i,j,F)=>l.jsxs("button",{type:"button",onClick:B=>{B.preventDefault(),B.stopPropagation(),Ks(Z,f.id,i)},className:`w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-50 transition-colors ${f.transportMode===i?"bg-[#4ECDC4]/10":""} ${j===0?"rounded-t-lg":""} ${j===F.length-1?"rounded-b-lg":""}`,children:[i==="walking"&&l.jsx(Ds,{size:16,className:"text-[#4ECDC4]"}),i==="car"&&l.jsx(no,{size:16,className:"text-[#4ECDC4]"}),i==="transit"&&l.jsx(ki,{size:16,className:"text-[#4ECDC4]"}),i==="plane"&&l.jsx(zi,{size:16,className:"text-[#4ECDC4]"}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:i==="transit"?"Transport":i.charAt(0).toUpperCase()+i.slice(1)})]},i))})]})}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:l.jsx("button",{onClick:i=>{i.stopPropagation(),kn(Rs===_?null:_)},className:"text-teal-500 hover:text-teal-600 transition-colors cursor-pointer pointer-events-auto",title:"Add place here",children:l.jsx(y1,{size:28})})})]}),_>0&&Rs===_&&l.jsxs("div",{className:"my-2",ref:wi,children:[!ue&&l.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 z-20 w-56 bg-white rounded-xl shadow-2xl border border-gray-200 p-2",children:[l.jsxs("button",{onClick:i=>{i.stopPropagation(),Pe("place")},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600",children:l.jsx(qo,{size:14})}),l.jsx("div",{className:"text-left",children:l.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Place / Attraction"})})]}),l.jsxs("button",{onClick:i=>{i.stopPropagation(),Pe("restaurant")},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center text-orange-600",children:l.jsx(Qo,{size:13})}),l.jsx("div",{className:"text-left",children:l.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Restaurant"})})]}),l.jsxs("button",{onClick:i=>{i.stopPropagation(),Pe("cafe")},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-100 flex items-center justify-center text-amber-700",children:l.jsx(Ko,{size:14})}),l.jsx("div",{className:"text-left",children:l.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Caf / Bar"})})]}),l.jsxs("button",{onClick:i=>{i.stopPropagation(),Pe("activity")},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-100 flex items-center justify-center text-green-600",children:l.jsx(Go,{size:14})}),l.jsx("div",{className:"text-left",children:l.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Activity"})})]}),l.jsxs("button",{onClick:i=>{i.stopPropagation(),Pe("note")},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600",children:l.jsx(Ui,{size:14})}),l.jsx("div",{className:"text-left",children:l.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Note"})})]})]}),ue&&l.jsx("div",{className:"p-3 border-2 border-dashed border-blue-300 rounded-lg bg-blue-50",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex-shrink-0",children:[ue==="place"&&l.jsx("div",{className:"w-6 h-6 rounded-lg bg-blue-500 flex items-center justify-center",children:l.jsx(qo,{size:12,className:"text-white"})}),ue==="restaurant"&&l.jsx("div",{className:"w-6 h-6 rounded-lg bg-orange-500 flex items-center justify-center",children:l.jsx(Qo,{size:10,className:"text-white"})}),ue==="cafe"&&l.jsx("div",{className:"w-6 h-6 rounded-lg bg-amber-600 flex items-center justify-center",children:l.jsx(Ko,{size:12,className:"text-white"})}),ue==="activity"&&l.jsx("div",{className:"w-6 h-6 rounded-lg bg-green-500 flex items-center justify-center",children:l.jsx(Go,{size:12,className:"text-white"})}),ue==="note"&&l.jsx("div",{className:"w-6 h-6 rounded-lg bg-purple-500 flex items-center justify-center",children:l.jsx(Ui,{size:12,className:"text-white"})})]}),l.jsx("input",{type:"text",placeholder:"Type name and press Enter...",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm focus:border-blue-500 focus:outline-none",onKeyDown:i=>{if(i.key==="Enter"&&i.target.value.trim()){const j={id:Date.now(),name:i.target.value.trim(),type:ue,address:"",notes:"",visited:!1,transportMode:"walking",transportTime:"",distance:"",startTime:"",endTime:"",priority:0},F=E.map(B=>{if(B.id===Z){const K=[...B.places];return K.splice(_,0,j),{...B,places:K}}return B});I(F),kn(null),Pe(null),i.target.value=""}else i.key==="Escape"&&(kn(null),Pe(null))},onClick:i=>i.stopPropagation(),autoFocus:!0}),l.jsx("button",{onClick:i=>{i.stopPropagation(),kn(null),Pe(null)},className:"p-1 text-gray-400 hover:text-gray-600 flex-shrink-0",children:l.jsx(_r,{size:14})})]})})]}),l.jsxs("div",{className:"flex items-stretch gap-3 group relative",children:[!nh(f.type)&&l.jsxs("div",{className:"flex-shrink-0 w-10 flex flex-col items-center relative",children:[l.jsx("div",{className:"w-9 h-9 flex items-center justify-center mb-2",children:l.jsxs("div",{className:"relative w-9 h-9 flex items-center justify-center text-[#FF6B6B] drop-shadow-sm",children:[l.jsx(EW,{size:30}),l.jsx("span",{className:"absolute text-[13px] font-bold text-white top-1.5",children:_+1})]})}),!f.visited&&l.jsx("button",{onMouseDown:i=>i.preventDefault(),className:"absolute left-1/2 -translate-x-1/2 -translate-y-1/2 top-1/2 opacity-0 group-hover:opacity-100 transition-opacity",title:"Drag to reorder",children:l.jsx(p1,{size:18,className:"text-gray-400 cursor-grab active:cursor-grabbing"})})]}),nh(f.type)&&l.jsx("div",{className:"flex-shrink-0 w-10 flex items-center justify-center",children:!f.visited&&l.jsx("button",{onMouseDown:i=>i.preventDefault(),className:"opacity-60 hover:opacity-100 transition-opacity text-gray-400 hover:text-gray-600",title:"Drag to reorder",children:l.jsx(p1,{size:16})})}),l.jsx("div",{draggable:!f.visited&&(pe==null?void 0:pe.placeId)!==f.id,onDragStart:i=>za(i,Z,f.id),onDragOver:ys,onDrop:i=>Ba(i,Z,f.id),onDragEnd:Ua,onClick:()=>{_a||ds(f.id)},className:`flex-1 transition-all ring-1 ring-transparent ${nh(f.type)?`rounded-xl bg-white border border-gray-200 shadow-sm hover:shadow-md hover:-translate-y-0.5 px-3 py-2 ${f.visited?"opacity-80":""}`:`relative rounded-2xl overflow-visible ${f.visited?"bg-gray-50 border border-gray-200":"bg-white/90 border border-gray-100 shadow-sm hover:shadow-lg hover:-translate-y-0.5 hover:ring-[#FF6B6B]/15 cursor-move"}`} ${(ft==null?void 0:ft.placeId)===f.id?"opacity-50":""}`,children:nh(f.type)?l.jsxs("div",{className:"relative flex items-center gap-2 pr-14",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("div",{className:"w-9 h-9 rounded-lg bg-gray-100 flex items-center justify-center text-gray-700",children:_Q(f.type,16,"text-gray-700")}),l.jsx("div",{className:"min-w-0",children:l.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:f.name||"Item"})})]}),l.jsxs("div",{className:"absolute top-1.5 right-1 flex items-center gap-1",children:[l.jsx("button",{onClick:i=>{i.stopPropagation(),ds(f.id)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Show on map",children:l.jsx(qf,{size:16})}),l.jsx("button",{onClick:i=>{i.stopPropagation(),Va(Z,f.id)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg",children:l.jsx(fu,{size:16})})]}),l.jsx("div",{className:"mt-1 flex items-center gap-1.5 text-xs text-gray-700",children:l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-white border border-gray-200 rounded-md shadow-sm",children:[l.jsx(v1,{size:14,className:"text-gray-500"}),l.jsx("input",{type:"text",inputMode:"decimal",value:f.cost||"",onChange:i=>{const j=E.map(F=>({...F,places:F.places.map(B=>B.id===f.id&&F.id===Z?{...B,cost:i.target.value}:B)}));I(j)},onClick:i=>i.stopPropagation(),className:"w-14 px-2 py-1 border border-gray-100 rounded bg-slate-50 text-[11px] font-semibold text-gray-800 focus:border-[#4ECDC4] focus:ring-1 focus:ring-[#4ECDC4] focus:outline-none",placeholder:"25.00"}),l.jsxs("button",{onClick:i=>{i.stopPropagation();const j=i.currentTarget.getBoundingClientRect();A({top:j.bottom+8,left:j.right-180}),q(J===f.id?null:f.id)},className:"px-2 py-1 text-gray-700 hover:text-[#0b6559] hover:border-[#4ECDC4] transition-colors cursor-pointer text-[11px] font-semibold border border-gray-100 rounded bg-white",children:[(f.currency||"EUR")==="EUR"&&"",(f.currency||"EUR")==="USD"&&"$",(f.currency||"EUR")==="GBP"&&"",(f.currency||"EUR")==="CHF"&&"CHF",(f.currency||"EUR")==="BRL"&&"R$"]})]})})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-4 sm:p-5 bg-gradient-to-br from-white via-white to-[#FFE66D]/10",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:f.photoUrl?l.jsxs("div",{className:"relative w-24 h-24 rounded-2xl overflow-hidden shadow-md border border-gray-100",children:[l.jsx("img",{src:f.photoUrl,alt:f.name,className:"w-full h-full object-cover",loading:"lazy"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent"}),f.type&&f.type!=="place"&&l.jsx("div",{className:"absolute bottom-1 left-1",children:l.jsxs("div",{className:"w-8 h-8 rounded-lg bg-white/90 backdrop-blur flex items-center justify-center shadow",children:[f.type==="restaurant"&&l.jsx(Qo,{size:14,className:"text-orange-500"}),f.type==="cafe"&&l.jsx(Ko,{size:16,className:"text-amber-600"}),f.type==="activity"&&l.jsx(Go,{size:16,className:"text-green-500"}),f.type==="note"&&l.jsx(Ui,{size:16,className:"text-purple-500"})]})})]}):l.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-[#FF6B6B] to-[#FFE66D] flex items-center justify-center shadow-sm text-white",children:[f.type==="place"&&l.jsx(qo,{size:18,className:"text-white"}),f.type==="restaurant"&&l.jsx(Qo,{size:15,className:"text-white"}),f.type==="cafe"&&l.jsx(Ko,{size:17,className:"text-white"}),f.type==="activity"&&l.jsx(Go,{size:17,className:"text-white"}),f.type==="note"&&l.jsx(Ui,{size:17,className:"text-white"}),!f.type&&l.jsx(qo,{size:18,className:"text-white"})]})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[l.jsx("h4",{className:"font-bold text-base sm:text-lg text-gray-900",children:f.name}),l.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(i=>{const j=f.priority||0,F=i<=j;return l.jsx("button",{onClick:B=>{B.stopPropagation(),Wa(Z,f.id,i)},className:"transition-all hover:scale-110",title:`Priority: ${i}/5`,children:l.jsx(DW,{className:F?"text-yellow-500":"text-gray-300",size:16})},i)})})]}),l.jsx("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:f.visited&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 text-[11px] rounded-full bg-[#ecfdf3] text-[#166534] border border-[#bbf7d0] shadow-sm font-semibold",children:[" ",l.jsx("span",{className:"tracking-tight",children:"Completed"})]})}),l.jsxs("div",{className:"relative -mt-1",children:[G===f.id&&l.jsxs("div",{className:"flex items-center gap-1 mb-1 p-1 bg-gray-50 border border-gray-200 rounded flex-wrap",onMouseDown:i=>i.preventDefault(),onClick:i=>i.stopPropagation(),children:[l.jsx("button",{onMouseDown:i=>{i.preventDefault(),document.execCommand("bold",!1,null)},className:"px-2 py-1 hover:bg-gray-200 rounded text-xs font-bold",title:"Bold",children:"B"}),l.jsx("button",{onMouseDown:i=>{i.preventDefault(),document.execCommand("italic",!1,null)},className:"px-2 py-1 hover:bg-gray-200 rounded text-xs italic",title:"Italic",children:"I"}),l.jsx("span",{className:"text-gray-300",children:"|"}),l.jsxs("select",{onMouseDown:i=>i.preventDefault(),onChange:i=>{document.execCommand("fontName",!1,i.target.value),i.target.value=""},className:"px-1 py-1 text-xs border border-gray-300 rounded hover:bg-gray-200",title:"Font",children:[l.jsx("option",{value:"",children:"Font"}),l.jsx("option",{value:"Arial",children:"Arial"}),l.jsx("option",{value:"Courier New",children:"Courier"}),l.jsx("option",{value:"Georgia",children:"Georgia"}),l.jsx("option",{value:"Times New Roman",children:"Times"}),l.jsx("option",{value:"Verdana",children:"Verdana"}),l.jsx("option",{value:"Comic Sans MS",children:"Comic Sans"})]}),l.jsx("input",{type:"color",onMouseDown:i=>i.preventDefault(),onChange:i=>{document.execCommand("foreColor",!1,i.target.value)},className:"w-6 h-6 border border-gray-300 rounded cursor-pointer",title:"Text Color"}),l.jsx("input",{type:"color",onMouseDown:i=>i.preventDefault(),onChange:i=>{document.execCommand("backColor",!1,i.target.value)},className:"w-6 h-6 border border-gray-300 rounded cursor-pointer",title:"Background Color"}),l.jsx("span",{className:"text-gray-300",children:"|"}),l.jsx("button",{onMouseDown:i=>i.preventDefault(),onClick:i=>{i.stopPropagation(),ge(me===f.id?null:f.id)},className:"px-2 py-1 hover:bg-gray-200 rounded text-xs",title:"Add Emoji",children:""}),me===f.id&&l.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded shadow-lg p-2 z-10 flex flex-wrap gap-1 max-w-[200px]",onMouseDown:i=>i.preventDefault(),children:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(i=>l.jsx("button",{onMouseDown:j=>{j.preventDefault(),document.execCommand("insertText",!1,i),ge(null)},className:"text-lg hover:bg-gray-100 rounded p-1",children:i},i))})]}),l.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,onFocus:i=>{i.stopPropagation(),oe(f.id)},onBlur:i=>{setTimeout(()=>{oe(null),ge(null)},200);const j=E.map(F=>({...F,places:F.places.map(B=>B.id===f.id&&F.id===Z?{...B,notes:i.currentTarget.innerHTML}:B)}));I(j)},onClick:i=>i.stopPropagation(),onKeyDown:i=>i.stopPropagation(),dangerouslySetInnerHTML:{__html:f.notes||""},"data-placeholder":"Add notes, links and so on...",className:"text-gray-600 text-sm mb-2 px-2 py-1 border border-transparent hover:border-gray-300 focus:border-[#4ECDC4] rounded outline-none min-h-[24px] max-h-[200px] overflow-y-auto transition-all empty:before:content-[attr(data-placeholder)] empty:before:text-gray-400",style:{wordWrap:"break-word",whiteSpace:"pre-wrap"}})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs flex-wrap",children:[l.jsxs("div",{className:"relative flex items-center gap-1",onClick:i=>i.stopPropagation(),onPointerDown:i=>i.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-white border border-gray-200 rounded-md shadow-sm",children:[l.jsx(PW,{size:14,className:"text-gray-600"}),l.jsx("button",{type:"button",onPointerDown:i=>i.stopPropagation(),onDragStart:i=>i.preventDefault(),onClick:i=>{i.stopPropagation(),Gs(f.id,"start",i.currentTarget)},className:"w-14 px-1.5 py-1 border border-gray-100 rounded bg-slate-50 text-[11px] font-semibold text-gray-800 hover:border-[#4ECDC4] focus:outline-none",children:f.startTime?Zo(f.startTime):"Start"}),l.jsx("span",{className:"text-gray-300 text-xs",children:""}),l.jsx("button",{type:"button",onPointerDown:i=>i.stopPropagation(),onDragStart:i=>i.preventDefault(),onClick:i=>{i.stopPropagation(),Gs(f.id,"end",i.currentTarget)},className:"w-14 px-1.5 py-1 border border-gray-100 rounded bg-slate-50 text-[11px] font-semibold text-gray-800 hover:border-[#4ECDC4] focus:outline-none",children:f.endTime?Zo(f.endTime):"End"})]}),(pe==null?void 0:pe.placeId)===f.id&&l.jsxs("div",{ref:as,className:"fixed z-30 bg-white border border-gray-200 rounded-lg shadow-lg p-2 flex gap-2",onPointerDown:i=>i.stopPropagation(),style:{top:ke.top,left:ke.left},children:[l.jsx("div",{className:"flex-1 max-h-48 overflow-y-auto border-r border-gray-100 pr-2",children:Array.from({length:24}).map((i,j)=>{const F=ME(pe.field==="start"?f.startTime:f.endTime),B=F.hour===j;return l.jsx("button",{type:"button",onClick:K=>{K.stopPropagation(),qs(Z,f.id,pe.field,RE(j,F.minute),!1)},className:`w-full text-left px-3 py-1 text-[11px] rounded hover:bg-gray-50 ${B?"bg-[#4ECDC4]/10 text-[#0b6559] font-semibold":"text-gray-700"}`,children:Zo(`${String(j).padStart(2,"0")}:00`)},j)})}),l.jsx("div",{className:"flex-1 max-h-48 overflow-y-auto",children:[0,15,30,45].map(i=>{const j=ME(pe.field==="start"?f.startTime:f.endTime),F=j.minute===i;return l.jsxs("button",{type:"button",onClick:B=>{B.stopPropagation(),qs(Z,f.id,pe.field,RE(j.hour,i),!0)},className:`w-full text-left px-3 py-1 text-[11px] rounded hover:bg-gray-50 ${F?"bg-[#4ECDC4]/10 text-[#0b6559] font-semibold":"text-gray-700"}`,children:[String(i).padStart(2,"0"),"m"]},i)})})]})]}),l.jsx("span",{className:"text-gray-300",children:"|"}),l.jsxs("div",{className:"flex items-center gap-1 relative",children:[l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-white border border-gray-200 rounded-md shadow-sm",children:[l.jsx(v1,{size:14,className:"text-gray-500"}),l.jsx("input",{type:"text",inputMode:"decimal",value:f.cost||"",onChange:i=>{const j=E.map(F=>({...F,places:F.places.map(B=>B.id===f.id&&F.id===Z?{...B,cost:i.target.value}:B)}));I(j)},onClick:i=>i.stopPropagation(),className:"w-14 px-2 py-1 border border-gray-100 rounded bg-slate-50 text-[11px] font-semibold text-gray-800 focus:border-[#4ECDC4] focus:ring-1 focus:ring-[#4ECDC4] focus:outline-none",placeholder:"25.00"}),l.jsxs("button",{onClick:i=>{i.stopPropagation();const j=i.currentTarget.getBoundingClientRect();A({top:j.bottom+8,left:j.right-180}),q(J===f.id?null:f.id)},className:"px-2 py-1 text-gray-700 hover:text-[#0b6559] hover:border-[#4ECDC4] transition-colors cursor-pointer text-[11px] font-semibold border border-gray-100 rounded bg-white",children:[(f.currency||"EUR")==="EUR"&&"",(f.currency||"EUR")==="USD"&&"$",(f.currency||"EUR")==="GBP"&&"",(f.currency||"EUR")==="CHF"&&"CHF",(f.currency||"EUR")==="BRL"&&"R$"]})]}),J===f.id&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-[998]",onClick:()=>q(null)}),l.jsxs("div",{className:"fixed bg-white rounded-lg shadow-2xl border border-gray-200 py-1 z-[999] min-w-[180px]",style:{top:`${U.top}px`,left:`${U.left}px`},onClick:i=>i.stopPropagation(),children:[l.jsxs("button",{onClick:i=>{i.stopPropagation();const j=E.map(F=>({...F,places:F.places.map(B=>B.id===f.id&&F.id===Z?{...B,currency:"EUR"}:B)}));I(j),q(null)},className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 transition-colors flex items-center justify-between ${(f.currency||"EUR")==="EUR"?"bg-[#4ECDC4] bg-opacity-10":""}`,children:[l.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""}),"Euro (EUR)"]}),(f.currency||"EUR")==="EUR"&&l.jsx("span",{className:"text-[#4ECDC4] text-xs",children:""})]}),l.jsxs("button",{onClick:i=>{i.stopPropagation();const j=E.map(F=>({...F,places:F.places.map(B=>B.id===f.id&&F.id===Z?{...B,currency:"USD"}:B)}));I(j),q(null)},className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 transition-colors flex items-center justify-between ${(f.currency||"EUR")==="USD"?"bg-[#4ECDC4] bg-opacity-10":""}`,children:[l.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""}),"US Dollar (USD)"]}),(f.currency||"EUR")==="USD"&&l.jsx("span",{className:"text-[#4ECDC4] text-xs",children:""})]}),l.jsxs("button",{onClick:i=>{i.stopPropagation();const j=E.map(F=>({...F,places:F.places.map(B=>B.id===f.id&&F.id===Z?{...B,currency:"GBP"}:B)}));I(j),q(null)},className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 transition-colors flex items-center justify-between ${(f.currency||"EUR")==="GBP"?"bg-[#4ECDC4] bg-opacity-10":""}`,children:[l.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""}),"British Pound (GBP)"]}),(f.currency||"EUR")==="GBP"&&l.jsx("span",{className:"text-[#4ECDC4] text-xs",children:""})]}),l.jsxs("button",{onClick:i=>{i.stopPropagation();const j=E.map(F=>({...F,places:F.places.map(B=>B.id===f.id&&F.id===Z?{...B,currency:"CHF"}:B)}));I(j),q(null)},className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 transition-colors flex items-center justify-between ${(f.currency||"EUR")==="CHF"?"bg-[#4ECDC4] bg-opacity-10":""}`,children:[l.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""}),"Swiss Franc (CHF)"]}),(f.currency||"EUR")==="CHF"&&l.jsx("span",{className:"text-[#4ECDC4] text-xs",children:""})]}),l.jsxs("button",{onClick:i=>{i.stopPropagation();const j=E.map(F=>({...F,places:F.places.map(B=>B.id===f.id&&F.id===Z?{...B,currency:"BRL"}:B)}));I(j),q(null)},className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 transition-colors flex items-center justify-between ${(f.currency||"EUR")==="BRL"?"bg-[#4ECDC4] bg-opacity-10":""}`,children:[l.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""}),"Brazilian Real (BRL)"]}),(f.currency||"EUR")==="BRL"&&l.jsx("span",{className:"text-[#4ECDC4] text-xs",children:""})]})]})]})]})]})]})]})}),l.jsxs("div",{className:"absolute top-3 right-3 flex gap-1 sm:gap-2 flex-shrink-0",children:[l.jsx("button",{onClick:i=>{i.stopPropagation(),ds(f.id)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Show on map",children:l.jsx(qf,{size:18})}),l.jsx("button",{onClick:i=>{i.stopPropagation(),Va(Z,f.id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:l.jsx(fu,{size:18})})]})]})})]})]},f.id)),on.length>0&&ce.places.length>0&&l.jsx("div",{className:"relative py-1",children:l.jsx("div",{className:"ml-[2.9rem] flex justify-start",children:l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:f=>{f.stopPropagation(),gs((Qe==null?void 0:Qe.dayId)===Z&&(Qe==null?void 0:Qe.key)==="fromLast"?null:{dayId:Z,key:"fromLast"})},className:"flex items-center gap-1 px-2.5 py-1 rounded-full bg-[#4ECDC4]/8 hover:bg-[#4ECDC4]/12 border border-[#4ECDC4]/25 hover:border-[#4ECDC4]/35 shadow-sm transition-all cursor-pointer text-[11px]",children:[Dt(Z,"fromLast").mode==="car"&&l.jsx(no,{size:14,className:"text-[#4ECDC4]"}),Dt(Z,"fromLast").mode==="transit"&&l.jsx(ki,{size:14,className:"text-[#4ECDC4]"}),(!Dt(Z,"fromLast").mode||Dt(Z,"fromLast").mode==="walking")&&l.jsx(Ds,{size:14,className:"text-[#4ECDC4]"}),l.jsxs("span",{className:"font-semibold",children:[Dt(Z,"fromLast").time||"--"," min"]}),l.jsx("span",{className:"text-gray-400",children:"|"}),l.jsx("span",{className:"font-semibold",children:Dt(Z,"fromLast").distance?`${Dt(Z,"fromLast").distance} km`:"-- km"}),l.jsx(gh,{size:12,className:"text-gray-400"})]}),(Qe==null?void 0:Qe.dayId)===Z&&(Qe==null?void 0:Qe.key)==="fromLast"&&l.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 z-10 min-w-[140px]",children:["walking","car","transit"].map((f,_,i)=>l.jsxs("button",{type:"button",onClick:j=>{j.stopPropagation(),bn(F=>({...F,[Z]:{...F[Z],fromLast:{...Dt(Z,"fromLast"),mode:f}}})),gs(null)},className:`w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-50 transition-colors ${_===0?"rounded-t-lg":""} ${_===i.length-1?"rounded-b-lg":""}`,children:[f==="car"&&l.jsx(no,{size:16,className:"text-[#4ECDC4]"}),f==="transit"&&l.jsx(ki,{size:16,className:"text-[#4ECDC4]"}),f==="walking"&&l.jsx(Ds,{size:16,className:"text-[#4ECDC4]"}),l.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:f})]},f))})]})})})]}),l.jsx("div",{className:"mt-4",children:ue?l.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-4 bg-gray-50",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex-shrink-0",children:[ue==="place"&&l.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500 flex items-center justify-center",children:l.jsx(qo,{size:16,className:"text-white"})}),ue==="restaurant"&&l.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-500 flex items-center justify-center",children:l.jsx(Qo,{size:14,className:"text-white"})}),ue==="cafe"&&l.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-600 flex items-center justify-center",children:l.jsx(Ko,{size:16,className:"text-white"})}),ue==="activity"&&l.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500 flex items-center justify-center",children:l.jsx(Go,{size:16,className:"text-white"})}),ue==="note"&&l.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500 flex items-center justify-center",children:l.jsx(Ui,{size:16,className:"text-white"})})]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("input",{type:"text",placeholder:"Search for a place...",value:Fn||ps.name,onChange:f=>{ur(f.target.value),kr({...ps,name:f.target.value}),Br(f.target.value)},className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-[#4ECDC4] focus:outline-none bg-white"}),It&&Pr.length>0&&l.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border-2 border-gray-200 rounded-lg shadow-lg divide-y max-h-60 overflow-y-auto",children:Pr.map(f=>{var _,i,j;return l.jsx("button",{onClick:()=>cn(f),className:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-3",children:[f.photoUrl&&l.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:l.jsx("img",{src:f.photoUrl,alt:((_=f.structured_formatting)==null?void 0:_.main_text)||f.description,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-sm",children:((i=f.structured_formatting)==null?void 0:i.main_text)||f.description}),l.jsx("div",{className:"text-xs text-gray-500",children:((j=f.structured_formatting)==null?void 0:j.secondary_text)||"Google Places"})]})]})},f.place_id)})}),Ms&&l.jsx("div",{className:"absolute right-3 top-3 text-sm text-gray-400",children:"Searching..."})]}),l.jsx("button",{onClick:()=>{Pe(null),kr({name:"",address:"",placeId:"",location:null,notes:"",transportMode:"walking",transportTime:"",distance:"",startTime:"",endTime:""}),ur(""),Kn([])},className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:l.jsx(_r,{size:20})})]})}):l.jsxs("div",{className:"relative",ref:Xn,children:[l.jsx("button",{onClick:()=>de(!ee),className:"w-full flex items-center justify-center text-teal-500 hover:text-teal-600 transition-colors cursor-pointer",title:"Add to This Day",children:l.jsx(y1,{size:28})}),ee&&l.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 z-10 w-64 mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 p-2",children:[l.jsxs("button",{onClick:()=>{Pe("place"),de(!1)},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600",children:l.jsx(qo,{size:16})}),l.jsx("div",{className:"text-left",children:l.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Place / Attraction"})})]}),l.jsxs("button",{onClick:()=>{Pe("restaurant"),de(!1)},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center text-orange-600",children:l.jsx(Qo,{size:14})}),l.jsx("div",{className:"text-left",children:l.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Restaurant"})})]}),l.jsxs("button",{onClick:()=>{Pe("cafe"),de(!1)},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-100 flex items-center justify-center text-amber-700",children:l.jsx(Ko,{size:16})}),l.jsx("div",{className:"text-left",children:l.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Caf / Bar"})})]}),l.jsxs("button",{onClick:()=>{Pe("activity"),de(!1)},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-100 flex items-center justify-center text-green-600",children:l.jsx(Go,{size:16})}),l.jsx("div",{className:"text-left",children:l.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Activity"})})]}),l.jsxs("button",{onClick:()=>{Pe("note"),de(!1)},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600",children:l.jsx(Ui,{size:16})}),l.jsx("div",{className:"text-left",children:l.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Note"})})]})]})]})})]})]}),m&&l.jsxs("div",{className:"bg-white border rounded-2xl shadow-md p-3 sm:p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qf,{size:18,className:"text-[#4ECDC4]"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Day Map"}),l.jsx("p",{className:"text-xs text-gray-500",children:ce?kt(ce.date).toLocaleDateString():"Select a day to view pins"})]})]}),l.jsx("button",{onClick:()=>p(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",title:"Hide map",children:l.jsx(_r,{size:16})})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{ref:Xs,className:"w-full h-96 sm:h-[500px] lg:h-[600px] xl:h-[700px] rounded-xl overflow-hidden bg-gray-100"}),!It&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50",children:l.jsx("div",{className:"p-4 text-sm text-gray-500 bg-white rounded-lg border border-dashed",children:"Google Maps integration active"})}),It&&!En&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50",children:l.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"Loading map..."})}),x&&l.jsx("div",{className:"absolute inset-0 bg-white/60 flex items-center justify-center text-sm text-gray-600",children:"Mapping your stops..."}),En&&!((Bl=ce==null?void 0:ce.places)!=null&&Bl.length)&&!x&&!W&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"relative p-4 text-sm text-gray-500 bg-white/90 rounded-lg border border-dashed backdrop-blur-sm pointer-events-auto",children:["Add places to this day to see pins here.",l.jsx("button",{onClick:()=>ie(!0),className:"absolute -top-2 -right-2 p-1 bg-white rounded-full shadow-md hover:bg-gray-100 transition-colors",title:"Dismiss",children:l.jsx(_r,{size:14,className:"text-gray-600"})})]})})]})]})]}),w==="hotels"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Hotels"}),l.jsxs("button",{onClick:()=>C(!0),className:"px-4 py-2 bg-gradient-to-r from-[#26DE81] to-[#1ABC9C] text-white rounded-xl hover:shadow-lg transition-all hover:scale-[1.02] flex items-center gap-2 font-medium",children:[l.jsx(Uc,{size:20}),"Add Hotel"]})]}),y.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(Hf,{size:48,className:"mx-auto mb-4 opacity-50 text-[#26DE81]"}),l.jsx("p",{children:'No hotels added yet. Click "Add Hotel" to get started.'})]}):l.jsx("div",{className:"space-y-3",children:y.map(f=>l.jsx("div",{className:"border-2 border-gray-100 rounded-xl p-4 hover:shadow-lg hover:border-[#26DE81]/30 transition-all",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("span",{className:"font-bold text-lg",children:f.name||"Hotel"}),f.price&&l.jsx("span",{className:"text-sm font-semibold text-[#1B7F79]",children:th(f.price,f.priceCurrency||"USD")})]}),l.jsxs("div",{className:"text-sm text-gray-700 flex gap-3 flex-wrap",children:[f.address&&l.jsxs("span",{children:[" ",f.address]}),f.city&&l.jsxs("span",{children:[" ",f.city]}),f.state&&l.jsxs("span",{children:[" ",f.state]}),f.country&&l.jsxs("span",{children:[" ",f.country]})]}),l.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[f.checkIn?`Check-in: ${f.checkIn}`:"Check-in not set","  ",f.checkOut?` Check-out: ${f.checkOut}`:""]})]}),l.jsx("button",{onClick:()=>ka(f.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:l.jsx(fu,{size:18})})]})},f.id))}),V&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-5 max-w-3xl w-full max-h-[92vh] overflow-y-auto border border-gray-100",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.12em] text-[#1B7F79] font-semibold",children:"Hotels"}),l.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Add Hotel"})]}),l.jsx("button",{onClick:()=>{C(!1)},className:"p-2 rounded-full hover:bg-gray-100 text-gray-500",children:l.jsx(_r,{size:18})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"grid sm:grid-cols-3 gap-2 bg-gray-50 border border-gray-200 rounded-xl p-2",children:[{key:"manual",label:"Manual",icon:l.jsx(gp,{size:16})},{key:"pdf",label:"PDF",icon:l.jsx(Yf,{size:16}),ai:!0},{key:"image",label:"Image",icon:l.jsx(d1,{size:16}),ai:!0}].map(f=>l.jsxs("button",{onClick:()=>Na(f.key),className:`flex items-center justify-center gap-2 px-3 py-2 rounded-lg border text-sm transition-all ${Ar===f.key?"border-[#4ECDC4] bg-white shadow-sm text-[#1B7F79]":"border-transparent bg-gray-50 hover:border-gray-200 text-gray-700"}`,children:[f.icon,l.jsxs("span",{className:"flex items-center gap-1",children:[f.label,f.ai&&l.jsx(h1,{size:14,className:"text-[#4ECDC4]"})]})]},f.key))}),Ar!=="manual"&&l.jsxs("div",{className:"border border-gray-200 rounded-xl p-3 space-y-3 bg-gray-50",onPaste:Ar==="image"?Hs:void 0,children:[l.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l.jsx(Gf,{size:16,className:"text-[#4ECDC4]"}),l.jsx("span",{children:Ar==="pdf"?"Upload booking PDF":"Upload or paste booking image"})]}),l.jsx("span",{className:"text-xs text-gray-500",children:"Cmd/Ctrl + V to paste"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white border rounded-lg cursor-pointer hover:border-[#4ECDC4] transition-colors text-sm",children:[l.jsx(Gf,{size:14}),l.jsx("span",{children:"Select file"}),l.jsx("input",{type:"file",accept:Ar==="pdf"?"application/pdf":"image/*",className:"hidden",onChange:f=>{var _;return Oi(((_=f.target.files)==null?void 0:_[0])||null)}})]}),Si&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l.jsx(Yf,{size:14,className:"text-[#4ECDC4]"}),l.jsx("span",{children:Si.name}),l.jsxs("span",{className:"text-gray-400",children:["(",Si.type,")"]}),l.jsx("button",{type:"button",onClick:ji,className:"ml-1 inline-flex items-center justify-center rounded-full border border-red-200 text-red-500 hover:bg-red-50 w-6 h-6",title:"Remove file",children:l.jsx(_r,{size:12})})]}),ja.length>0&&!Je.price&&l.jsxs("div",{className:"border border-amber-200 bg-amber-50 rounded-lg p-3 space-y-2",children:[l.jsx("div",{className:"text-sm font-semibold text-amber-800",children:"Pick the total"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:ja.map((f,_)=>l.jsxs("button",{type:"button",onClick:()=>Ut(i=>({...i,price:f.value,priceCurrency:Zl(f.value)||i.priceCurrency})),className:"px-3 py-1.5 rounded-lg border border-amber-200 bg-white text-sm text-amber-800 hover:border-amber-300 hover:-translate-y-0.5 transition-all shadow-sm",children:[f.label?`${f.label}: `:"",f.value]},`${f.label}-${_}`))}),l.jsx("div",{className:"text-xs text-amber-700",children:"We couldn't identify a single total; please choose the correct amount."})]}),Fr&&l.jsx("div",{className:"rounded-lg overflow-hidden border bg-white",children:l.jsx("img",{src:Fr,alt:"Hotel booking preview",className:"max-h-48 w-full object-contain"})}),Oa&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#1B7F79]",children:[l.jsx(f1,{size:14,className:"animate-spin"}),"Extracting details..."]}),Pi&&l.jsx("div",{className:"text-sm text-red-600",children:Pi})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"text",placeholder:"Hotel name *",value:Je.name,onChange:f=>Ut({...Je,name:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),l.jsx("input",{type:"text",placeholder:"Address",value:Je.address,onChange:f=>Ut({...Je,address:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),l.jsx("input",{type:"text",placeholder:"City",value:Je.city,onChange:f=>Ut({...Je,city:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),l.jsx("input",{type:"text",placeholder:"State",value:Je.state,onChange:f=>Ut({...Je,state:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),l.jsx("input",{type:"text",placeholder:"Country",value:Je.country,onChange:f=>Ut({...Je,country:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),l.jsx("input",{type:"date",placeholder:"Check-in",value:Je.checkIn,onChange:f=>Ut({...Je,checkIn:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),l.jsx("input",{type:"date",placeholder:"Check-out",value:Je.checkOut,onChange:f=>Ut({...Je,checkOut:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("input",{type:"text",placeholder:"Price",value:Je.price,onChange:f=>Ut({...Je,price:f.target.value,priceCurrency:Zl(f.target.value)||Je.priceCurrency}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),l.jsxs("select",{value:Je.priceCurrency,onChange:f=>Ut({...Je,priceCurrency:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition bg-white",children:[l.jsx("option",{value:"USD",children:"USD"}),l.jsx("option",{value:"EUR",children:"EUR"}),l.jsx("option",{value:"GBP",children:"GBP"}),l.jsx("option",{value:"CHF",children:"CHF"}),l.jsx("option",{value:"BRL",children:"BRL"}),l.jsx("option",{value:"CAD",children:"CAD"}),l.jsx("option",{value:"AUD",children:"AUD"}),l.jsx("option",{value:"JPY",children:"JPY"})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("button",{onClick:La,disabled:!Je.name||!Je.checkIn||!Je.checkOut,className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#26DE81] to-[#1ABC9C] text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base font-semibold",children:"Save Hotel"}),l.jsx("button",{onClick:()=>C(!1),className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Cancel"})]})]})]})})]}),w==="flights"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Flights"}),l.jsxs("button",{onClick:()=>{zr(),M(!0)},className:"px-4 py-2 bg-gradient-to-r from-[#4ECDC4] to-[#44A08D] text-white rounded-xl hover:shadow-lg transition-all hover:scale-[1.02] flex items-center gap-2 font-medium",children:[l.jsx(Uc,{size:20}),"Add Flight"]})]}),d.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(zi,{size:48,className:"mx-auto mb-4 opacity-50 text-[#4ECDC4]"}),l.jsx("p",{children:'No flights added yet. Click "Add Flight" to get started.'})]}):l.jsx("div",{className:"space-y-3",children:d.map(f=>l.jsx("div",{className:"border-2 border-gray-100 rounded-xl p-4 hover:shadow-lg hover:border-[#4ECDC4]/30 transition-all",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxs("span",{className:"font-bold text-lg",children:[f.airline," ",f.flightNumber]}),l.jsx("span",{className:"text-sm text-gray-500",children:f.bookingRef})]}),l.jsxs("div",{className:"flex items-center gap-4 text-gray-700",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:f.from}),l.jsx("div",{className:"text-sm",children:f.departureTime})]}),l.jsx(zi,{size:20,className:"text-[#4ECDC4]"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:f.to}),l.jsx("div",{className:"text-sm",children:f.arrivalTime})]})]}),l.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[(()=>{const _=f.departureDate||f.date,i=f.arrivalDate,j=F=>F?new Date(F).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"";return _&&i&&_!==i?`${j(_)}  ${j(i)}`:_?j(_):"Date not set"})(),th(f.price,f.priceCurrency)&&l.jsxs("span",{className:"ml-2 inline-flex items-center text-gray-700 font-semibold",children:[" ",th(f.price,f.priceCurrency)]}),f.groupId&&l.jsxs("div",{className:"mt-1 inline-flex items-center gap-2 px-2 py-1 rounded-full bg-[#4ECDC4]/10 text-[#0b6559] text-xs font-semibold",children:["Round trip",l.jsx("span",{className:"px-2 py-[2px] bg-white/70 rounded border border-[#4ECDC4]/40",children:f.leg==="return"?"Return":"Outbound"})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("button",{onClick:()=>{vt({airline:f.airline||"",flightNumber:f.flightNumber||"",from:f.from||"",to:f.to||"",departureDate:f.departureDate||f.date||"",arrivalDate:f.arrivalDate||"",date:f.date||"",departureTime:f.departureTime||"",arrivalTime:f.arrivalTime||"",bookingRef:f.bookingRef||"",price:f.price||"",priceCurrency:f.priceCurrency||"USD",isRoundTrip:!1,returnDate:"",returnDepartureTime:"",returnArrivalTime:""}),Di(f.id),M(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:l.jsx(gp,{size:18})}),l.jsx("button",{onClick:()=>$a(f.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:l.jsx(fu,{size:18})})]})]})},f.id))}),O&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-5 max-w-3xl w-full max-h-[92vh] overflow-y-auto border border-gray-100",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.12em] text-[#1B7F79] font-semibold",children:"Flights"}),l.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:Us?"Edit Flight":"Add Flight"})]}),l.jsx("button",{onClick:()=>{zr(),M(!1)},className:"p-2 rounded-full hover:bg-gray-100 text-gray-500",children:l.jsx(_r,{size:18})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"grid sm:grid-cols-3 gap-2 bg-gray-50 border border-gray-200 rounded-xl p-2",children:[{key:"manual",label:"Manual",icon:l.jsx(gp,{size:16})},{key:"pdf",label:"PDF",icon:l.jsx(Yf,{size:16}),ai:!0},{key:"image",label:"Image",icon:l.jsx(d1,{size:16}),ai:!0}].map(f=>l.jsxs("button",{onClick:()=>er(f.key),className:`flex items-center justify-center gap-2 px-3 py-2 rounded-lg border text-sm transition-all ${jr===f.key?"border-[#4ECDC4] bg-white shadow-sm text-[#1B7F79]":"border-transparent bg-gray-50 hover:border-gray-200 text-gray-700"}`,children:[f.icon,l.jsxs("span",{className:"flex items-center gap-1",children:[f.label,f.ai&&l.jsx(h1,{size:14,className:"text-[#4ECDC4]"})]})]},f.key))}),jr!=="manual"&&l.jsxs("div",{className:"border border-gray-200 rounded-xl p-3 space-y-3 bg-gray-50",onPaste:jr==="image"?$s:void 0,children:[l.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l.jsx(Gf,{size:16,className:"text-[#4ECDC4]"}),l.jsx("span",{children:jr==="pdf"?"Upload e-ticket PDF":"Upload or paste ticket image"})]}),l.jsx("span",{className:"text-xs text-gray-500",children:"Cmd/Ctrl + V to paste"})]}),l.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white border rounded-lg cursor-pointer hover:border-[#4ECDC4] transition-colors text-sm",children:[l.jsx(Gf,{size:14}),l.jsx("span",{children:"Select file"}),l.jsx("input",{type:"file",accept:jr==="pdf"?"application/pdf":"image/*",className:"hidden",onChange:f=>{var _;return Ni(((_=f.target.files)==null?void 0:_[0])||null)}})]}),ln&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l.jsx(Yf,{size:14,className:"text-[#4ECDC4]"}),l.jsx("span",{children:ln.name}),l.jsxs("span",{className:"text-gray-400",children:["(",ln.type,")"]})]}),ms&&l.jsx("div",{className:"rounded-lg overflow-hidden border bg-white",children:l.jsx("img",{src:ms,alt:"Flight ticket preview",className:"max-h-48 w-full object-contain"})}),Ze&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#1B7F79]",children:[l.jsx(f1,{size:14,className:"animate-spin"}),"Extracting details..."]}),Rr&&l.jsx("div",{className:"text-sm text-red-600",children:Rr})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"text",placeholder:"Airline *",value:ve.airline,onChange:f=>vt({...ve,airline:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),l.jsx("input",{type:"text",placeholder:"Flight number *",value:ve.flightNumber,onChange:f=>vt({...ve,flightNumber:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),l.jsx("input",{type:"text",placeholder:"From (airport) *",value:ve.from,onChange:f=>vt({...ve,from:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),l.jsx("input",{type:"text",placeholder:"To (airport) *",value:ve.to,onChange:f=>vt({...ve,to:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),l.jsx("input",{type:"date",value:ve.departureDate||ve.date,onChange:f=>vt({...ve,departureDate:f.target.value,date:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition",placeholder:"Departure date"}),l.jsx("input",{type:"date",value:ve.arrivalDate,onChange:f=>vt({...ve,arrivalDate:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition",placeholder:"Arrival date"}),l.jsx("input",{type:"text",placeholder:"Booking reference",value:ve.bookingRef,onChange:f=>vt({...ve,bookingRef:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("input",{type:"text",placeholder:"Price (e.g., USD 350)",value:ve.price,onChange:f=>vt({...ve,price:f.target.value,priceCurrency:Zl(f.target.value)||ve.priceCurrency}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),l.jsxs("select",{value:ve.priceCurrency,onChange:f=>vt({...ve,priceCurrency:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition bg-white",children:[l.jsx("option",{value:"USD",children:"USD"}),l.jsx("option",{value:"EUR",children:"EUR"}),l.jsx("option",{value:"GBP",children:"GBP"}),l.jsx("option",{value:"CHF",children:"CHF"}),l.jsx("option",{value:"BRL",children:"BRL"}),l.jsx("option",{value:"CAD",children:"CAD"}),l.jsx("option",{value:"AUD",children:"AUD"}),l.jsx("option",{value:"JPY",children:"JPY"})]})]}),l.jsx("input",{type:"time",placeholder:"Departure time",value:ve.departureTime,onChange:f=>vt({...ve,departureTime:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),l.jsx("input",{type:"time",placeholder:"Arrival time",value:ve.arrivalTime,onChange:f=>vt({...ve,arrivalTime:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"})]}),l.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-800 mb-3",children:[l.jsx("input",{type:"checkbox",checked:ve.isRoundTrip,onChange:f=>vt({...ve,isRoundTrip:f.target.checked})}),"Add return flight"]}),ve.isRoundTrip&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"date",value:ve.returnDate,onChange:f=>vt({...ve,returnDate:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition",placeholder:"Return date"}),l.jsx("input",{type:"time",value:ve.returnDepartureTime,onChange:f=>vt({...ve,returnDepartureTime:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition",placeholder:"Return departure"}),l.jsx("input",{type:"time",value:ve.returnArrivalTime,onChange:f=>vt({...ve,returnArrivalTime:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition",placeholder:"Return arrival"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("button",{onClick:zn,disabled:!ve.airline||!ve.flightNumber||!ve.from||!ve.to,className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#4ECDC4] to-[#44A08D] text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base font-semibold",children:Us?"Update Flight":"Save Flight"}),l.jsx("button",{onClick:()=>{zr(),M(!1)},className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Cancel"})]})]})]})})]}),w==="expenses"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Expenses"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("div",{className:"flex items-center gap-2 bg-[#4ECDC4]/10 text-[#1B7F79] border border-[#4ECDC4]/30 rounded-full px-3 py-1 text-sm font-semibold",children:[l.jsx(ii,{size:14}),l.jsx("span",{children:"Total"}),l.jsx("span",{children:Al()}),l.jsxs("select",{value:Vr,onChange:f=>nt(f.target.value),className:"bg-transparent outline-none font-semibold text-[#0b6559] text-xs border border-transparent rounded cursor-pointer",children:[l.jsx("option",{value:"EUR",children:"EUR"}),l.jsx("option",{value:"USD",children:"USD"}),l.jsx("option",{value:"GBP",children:"GBP"}),l.jsx("option",{value:"CHF",children:"CHF"}),l.jsx("option",{value:"BRL",children:"BRL"}),l.jsx("option",{value:"CAD",children:"CAD"}),l.jsx("option",{value:"AUD",children:"AUD"}),l.jsx("option",{value:"JPY",children:"JPY"})]})]})}),l.jsxs("button",{onClick:()=>tt(!0),className:"px-4 py-2 bg-gradient-to-r from-[#FFE66D] to-[#FFBE5C] text-gray-800 rounded-xl hover:shadow-lg transition-all hover:scale-[1.02] flex items-center gap-2 font-medium",children:[l.jsx(Uc,{size:20}),"Add Expense"]})]}),l.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl p-4 shadow-sm space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ii,{size:16,className:"text-[#26DE81]"}),l.jsx("p",{className:"font-semibold text-gray-800",children:"Spending overview"})]}),l.jsx("div",{className:"flex items-center gap-2 text-sm",children:[{key:"category",label:"By category"},{key:"day",label:"By day"},{key:"city",label:"By city"},{key:"state",label:"By state"},{key:"country",label:"By country"}].map(f=>l.jsx("button",{onClick:()=>Ra(f.key),className:`px-3 py-1 rounded-full border text-sm transition ${Lr===f.key?"border-[#4ECDC4] text-[#1B7F79] bg-[#4ECDC4]/10":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:f.label},f.key))})]}),fc(Lr)||l.jsx("p",{className:"text-sm text-gray-500",children:"No expenses yet to summarize."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-gray-800",children:"Added expenses"}),R.length===0&&d.filter(f=>dn(f.price)>0).length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"No expenses added yet."}):l.jsx("div",{className:"space-y-2",children:(()=>{const f=[],_=new Set;return d.forEach(i=>{const j=dn(i.price);if(j){if(i.groupId){if(_.has(i.groupId))return;_.add(i.groupId)}f.push({id:`flight-${i.id}`,description:`${i.airline||"Flight"} ${i.flightNumber||""}`.trim()||"Flight",category:"flight",amount:j,currency:i.priceCurrency||"USD",date:i.departureDate||i.date,city:i.from||"",country:"",leg:i.leg})}}),[...R,...f].sort((i,j)=>new Date(j.date||0)-new Date(i.date||0)).map(i=>l.jsx("div",{className:"border border-gray-200 rounded-lg p-2 bg-white hover:shadow-sm transition",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded-full bg-gray-50 border border-gray-200",children:Ol(i.category)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"font-semibold text-gray-900 truncate",children:i.description}),l.jsx("span",{className:"px-2 py-[2px] bg-gray-100 text-gray-700 rounded text-[11px] capitalize",children:i.category})]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[l.jsx("span",{children:i.date?new Date(i.date).toLocaleDateString():"No date"}),i.city&&l.jsxs("span",{children:[" ",i.city]}),i.state&&l.jsxs("span",{children:[" ",i.state]}),i.country&&l.jsxs("span",{children:[" ",i.country]})]})]}),l.jsxs("div",{className:"text-right shrink-0",children:[l.jsxs("div",{className:"text-sm font-bold text-[#F7B731]",children:[i.currency||"USD"," $",parseFloat(i.amount||0).toFixed(2)]}),i.category!=="flight"&&i._source!=="place"&&l.jsx("button",{onClick:()=>Ha(i.id),className:"text-red-600 hover:text-red-700 text-[11px]",children:"Delete"})]})]})},i.id))})()})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-gray-800",children:"Itinerary costs"}),E.every(f=>f.places.every(_=>!dn(_.cost)))?l.jsx("div",{className:"text-sm text-gray-500",children:"No itinerary costs recorded."}):l.jsx("div",{className:"space-y-2",children:E.flatMap(f=>f.places.map(_=>{const i=dn(_.cost);if(!i)return null;const j=eh(_);return{id:`place-${f.id}-${_.id}`,description:_.name||"Place cost",amount:i,currency:_.currency||"EUR",date:f.date,city:j.city,state:j.state,country:j.country}}).filter(Boolean)).sort((f,_)=>new Date(_.date||0)-new Date(f.date||0)).map(f=>l.jsx("div",{className:"border border-gray-200 rounded-lg p-2 bg-white hover:shadow-sm transition",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded-full bg-gray-50 border border-gray-200",children:Ol("places")}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"font-semibold text-gray-900 truncate",children:f.description}),l.jsx("span",{className:"px-2 py-[2px] bg-gray-100 text-gray-700 rounded text-[11px]",children:"Itinerary"})]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[l.jsx("span",{children:f.date?new Date(f.date).toLocaleDateString():"No date"}),f.city&&l.jsxs("span",{children:[" ",f.city]}),f.state&&l.jsxs("span",{children:[" ",f.state]}),f.country&&l.jsxs("span",{children:[" ",f.country]})]})]}),l.jsx("div",{className:"text-right shrink-0",children:l.jsxs("div",{className:"text-sm font-bold text-[#F7B731]",children:[f.currency||"EUR"," $",parseFloat(f.amount||0).toFixed(2)]})})]})},f.id))})]})]}),et&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Add Expense"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Description *",value:ht.description,onChange:f=>Bt({...ht,description:f.target.value}),className:"w-full px-3 py-2 border rounded-lg"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("input",{type:"number",step:"0.01",placeholder:"Amount *",value:ht.amount,onChange:f=>Bt({...ht,amount:f.target.value}),className:"px-3 py-2 border rounded-lg"}),l.jsxs("select",{value:ht.currency,onChange:f=>Bt({...ht,currency:f.target.value}),className:"px-3 py-2 border rounded-lg",children:[l.jsx("option",{value:"USD",children:"USD"}),l.jsx("option",{value:"EUR",children:"EUR"}),l.jsx("option",{value:"GBP",children:"GBP"}),l.jsx("option",{value:"BRL",children:"BRL"}),l.jsx("option",{value:"CHF",children:"CHF"})]}),l.jsxs("select",{value:ht.category,onChange:f=>Bt({...ht,category:f.target.value}),className:"px-3 py-2 border rounded-lg",children:[l.jsx("option",{value:"food",children:"Food & Dining"}),l.jsx("option",{value:"accommodation",children:"Accommodation"}),l.jsx("option",{value:"transportation",children:"Transportation"}),l.jsx("option",{value:"activities",children:"Activities"}),l.jsx("option",{value:"shopping",children:"Shopping"}),l.jsx("option",{value:"other",children:"Other"})]}),l.jsx("input",{type:"date",value:ht.date,onChange:f=>Bt({...ht,date:f.target.value}),className:"px-3 py-2 border rounded-lg"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"City",value:Ir||ht.city,onChange:f=>{yi(f.target.value),Bt({...ht,city:f.target.value}),ns(!0)},onFocus:()=>ns(!0),onBlur:()=>setTimeout(()=>ns(!1),200),className:"w-full px-3 py-2 border rounded-lg"}),xa&&Ir&&_s(Ir).length>0&&l.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:_s(Ir).map(({city:f,country:_},i)=>l.jsxs("button",{onClick:()=>{Bt({...ht,city:f,country:_}),yi(""),ns(!1)},className:"w-full px-3 py-2 text-left hover:bg-indigo-50 flex justify-between items-center",children:[l.jsx("span",{className:"font-medium",children:f}),l.jsx("span",{className:"text-sm text-gray-500",children:_})]},i))})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Country",value:Fs||ht.country,onChange:f=>{ts(f.target.value),Bt({...ht,country:f.target.value}),Cr(!0)},onFocus:()=>Cr(!0),onBlur:()=>setTimeout(()=>Cr(!1),200),className:"w-full px-3 py-2 border rounded-lg"}),rs&&Fs&&Js(Fs).length>0&&l.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Js(Fs).map((f,_)=>l.jsx("button",{onClick:()=>{Bt({...ht,country:f}),ts(""),Cr(!1)},className:"w-full px-3 py-2 text-left hover:bg-indigo-50",children:f},_))})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[l.jsx("button",{onClick:Ys,disabled:!ht.description||!ht.amount,className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#FFE66D] to-[#FFBE5C] text-gray-800 rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base font-medium",children:"Add Expense"}),l.jsx("button",{onClick:()=>tt(!1),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Cancel"})]})]})})]}),!1]}),Yt&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Google Maps API Setup"}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsx("p",{className:"text-gray-700",children:"To automatically calculate distances and travel times between places, you need a Google Maps API key."}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-2 text-sm",children:[l.jsx("p",{className:"font-medium text-blue-900",children:"How to get your API key:"}),l.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-blue-800",children:[l.jsxs("li",{children:["Go to ",l.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Google Cloud Console"})]}),l.jsx("li",{children:"Create a new project or select an existing one"}),l.jsx("li",{children:'Enable "Distance Matrix API" and "Maps JavaScript API"'}),l.jsx("li",{children:'Go to "Credentials" and create an API key'}),l.jsx("li",{children:"Copy the API key and paste it below"})]})]}),l.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-sm text-yellow-800",children:[l.jsx("p",{className:"font-medium mb-1",children:" Important Notes:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[l.jsx("li",{children:"Google provides $200 free credit per month"}),l.jsx("li",{children:"The API key is stored only in your browser"}),l.jsx("li",{children:"Never share your API key publicly"}),l.jsx("li",{children:"Consider restricting your API key to specific domains"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Maps API Key"}),l.jsx("input",{type:"text",value:It,onChange:f=>ct(f.target.value),placeholder:"Enter your API key here",className:"w-full px-3 py-2 border rounded-lg font-mono text-sm"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("div",{className:"flex-1 px-4 py-2 text-center text-sm text-gray-500",children:"API key is provided via environment. No need to paste it here."}),l.jsx("button",{onClick:()=>qn(!1),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Close"})]})]})}),is&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-md w-full",children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Account Settings"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),l.jsx("div",{className:"mt-1 text-gray-800",children:(r==null?void 0:r.displayName)||""})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsx("div",{className:"mt-1 text-gray-800",children:r==null?void 0:r.email})]})]}),l.jsx("div",{className:"mt-6 flex justify-end gap-3",children:l.jsx("button",{onClick:()=>Da(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Close"})})]})}),_i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full",children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Edit Trip Details"}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Name"}),l.jsx("input",{type:"text",value:$e.name,onChange:f=>Ln({...$e,name:f.target.value}),placeholder:"e.g., European Adventure 2026",className:"w-full px-3 py-2 border rounded-lg"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),l.jsx("input",{type:"date",value:$e.startDate,onChange:f=>Ln({...$e,startDate:f.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),l.jsx("input",{type:"date",value:$e.endDate,onChange:f=>Ln({...$e,endDate:f.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),$e.startDate!==o.startDate||$e.endDate!==o.endDate?l.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-sm text-yellow-800",children:[l.jsx("p",{className:"font-medium mb-1",children:" Note about changing dates:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[l.jsx("li",{children:"Your existing daily plans will be preserved where dates match"}),l.jsx("li",{children:"New days will be added if you extend the trip"}),l.jsx("li",{children:"Days outside the new range will be removed"})]})]}):null]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("button",{onClick:sc,disabled:!$e.name||!$e.startDate||!$e.endDate,className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base font-medium",children:"Save Changes"}),l.jsx("button",{onClick:()=>Qn(!1),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Cancel"})]})]})})]})})},xQ=({onBack:t,dayNumber:e,totalDays:n,dayTitle:r,dayDate:s,city:a})=>{const o=c=>new Date(c+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return l.jsx("div",{className:"bg-white border-b-2 border-gray-100 sticky top-0 z-50 shadow-sm",children:l.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsx(gI,{size:20,className:"text-gray-700"}),l.jsx("span",{className:"font-medium text-gray-700",children:"Planning"})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm font-semibold text-[#4ECDC4]",children:["Day ",e," of ",n]}),l.jsx("div",{className:"text-xs text-gray-500",children:o(s)})]})]}),l.jsxs("div",{children:[r&&l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:r}),a&&l.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[l.jsx(ra,{size:16}),l.jsx("span",{className:"text-sm font-medium",children:a})]}),!r&&!a&&l.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Day ",e]})]})]})})},wQ=({place:t,onMarkVisited:e,onMarkSkipped:n})=>{const r=a=>{switch(a){case"walking":return l.jsx(Ds,{size:20,className:"text-[#4ECDC4]"});case"car":return l.jsx(no,{size:20,className:"text-[#4ECDC4]"});case"transit":return l.jsx(ki,{size:20,className:"text-[#4ECDC4]"});case"plane":return l.jsx(zi,{size:20,className:"text-[#4ECDC4]"});default:return l.jsx(Ds,{size:20,className:"text-[#4ECDC4]"})}},s=()=>{const o=`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(t.address||t.name)}`;window.open(o,"_blank")};return l.jsxs("div",{className:"bg-gradient-to-br from-[#4ECDC4] to-[#44A08D] rounded-2xl shadow-xl p-6 mb-6 mt-6",children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-white/80 text-sm font-medium mb-1",children:"NEXT STOP"}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:t.name}),t.address&&l.jsxs("div",{className:"flex items-start gap-2 text-white/90 text-sm",children:[l.jsx(ra,{size:16,className:"mt-0.5 flex-shrink-0"}),l.jsx("span",{children:t.address})]})]})}),l.jsxs("div",{className:"flex items-center gap-4 mb-4 text-white",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[r(t.transportMode),l.jsx("span",{className:"font-medium capitalize",children:t.transportMode==="transit"?"Public Transport":t.transportMode})]}),t.transportTime&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-1 h-1 bg-white/50 rounded-full"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(lg,{size:16}),l.jsxs("span",{className:"font-medium",children:[t.transportTime," min"]})]})]}),t.distance&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-1 h-1 bg-white/50 rounded-full"}),l.jsxs("span",{className:"font-medium",children:[t.distance," km"]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("button",{onClick:s,className:"col-span-3 sm:col-span-1 flex items-center justify-center gap-2 px-4 py-3 bg-white text-[#4ECDC4] rounded-xl font-semibold hover:bg-gray-50 transition-all shadow-md",children:[l.jsx(pI,{size:18}),"Navigate"]}),l.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-2 px-4 py-3 bg-white/20 text-white rounded-xl font-semibold hover:bg-white/30 transition-all backdrop-blur-sm border border-white/30",children:[l.jsx(nd,{size:18}),"Visited"]}),l.jsxs("button",{onClick:n,className:"flex items-center justify-center gap-2 px-4 py-3 bg-white/20 text-white rounded-xl font-semibold hover:bg-white/30 transition-all backdrop-blur-sm border border-white/30",children:[l.jsx(_r,{size:18}),"Skip"]})]}),t.notes&&l.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:l.jsx("div",{className:"text-white/90 text-sm",children:t.notes})})]})},bQ=({visited:t,total:e,distance:n,totalDistance:r,time:s,totalTime:a,todayExpenses:o})=>l.jsx("div",{className:"bg-white border-b-2 border-gray-100 shadow-sm",children:l.jsx("div",{className:"max-w-2xl mx-auto px-4 py-4",children:l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[l.jsx(oW,{size:16,className:"text-[#26DE81]"}),l.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Places"})]}),l.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[t,l.jsxs("span",{className:"text-sm text-gray-400",children:["/",e]})]})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[l.jsx(ra,{size:16,className:"text-[#4ECDC4]"}),l.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Distance"})]}),l.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[n.toFixed(1),l.jsxs("span",{className:"text-sm text-gray-400",children:["/",r.toFixed(1)," km"]})]})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[l.jsx(lg,{size:16,className:"text-[#FF6B6B]"}),l.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Time"})]}),l.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[Math.floor(s),l.jsxs("span",{className:"text-sm text-gray-400",children:["/",Math.floor(a)," min"]})]})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[l.jsx(ii,{size:16,className:"text-[#FFE66D]"}),l.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Spent"})]}),l.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["",o.toFixed(0)]})]})]})})}),EQ=({place:t,index:e,onMarkVisited:n,onMarkSkipped:r,onUpdateActualCost:s})=>{const[a,o]=L.useState(!t.visited&&!t.skipped),[c,d]=L.useState(t.actualCost||""),h=y=>{switch(y){case"walking":return l.jsx(Ds,{size:14,className:"text-[#4ECDC4]"});case"car":return l.jsx(no,{size:14,className:"text-[#4ECDC4]"});case"transit":return l.jsx(ki,{size:14,className:"text-[#4ECDC4]"});case"plane":return l.jsx(zi,{size:14,className:"text-[#4ECDC4]"});default:return l.jsx(Ds,{size:14,className:"text-[#4ECDC4]"})}},g=()=>{const b=`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(t.address||t.name)}`;window.open(b,"_blank")},v=t.visited||t.skipped;return l.jsxs("div",{className:`bg-white rounded-xl shadow-md border-2 transition-all ${t.visited?"border-[#26DE81]/30 bg-gradient-to-r from-[#26DE81]/5 to-transparent":t.skipped?"border-gray-300 bg-gray-50 opacity-60":"border-gray-100 hover:border-[#4ECDC4]/30 hover:shadow-lg"}`,children:[l.jsxs("div",{className:"px-4 py-3 flex items-start justify-between cursor-pointer",onClick:()=>o(!a),children:[l.jsxs("div",{className:"flex-1 flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0",children:t.photoUrl?l.jsxs("div",{className:"relative w-20 h-20 rounded-xl overflow-hidden border border-gray-100 shadow-sm",children:[l.jsx("img",{src:t.photoUrl,alt:t.name,className:"w-full h-full object-cover",loading:"lazy"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent"}),l.jsx("div",{className:"absolute top-1 left-1",children:l.jsx("div",{className:"w-6 h-6 rounded-full bg-white/85 backdrop-blur flex items-center justify-center shadow",children:t.visited?l.jsx(nd,{size:12,className:"text-[#26DE81]"}):t.skipped?l.jsx(_r,{size:12,className:"text-gray-500"}):l.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:e+1})})})]}):l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 text-xs font-bold border",children:t.visited?l.jsx(nd,{size:14}):t.skipped?l.jsx(_r,{size:14}):e+1})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:`font-semibold text-base mb-1 ${t.visited?"text-gray-700":t.skipped?"text-gray-500 line-through":"text-gray-900"}`,children:t.name}),!v&&l.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:t.transportMode&&l.jsxs(l.Fragment,{children:[h(t.transportMode),t.transportTime&&l.jsxs("span",{children:[t.transportTime," min"]}),t.distance&&l.jsxs("span",{children:[" ",t.distance," km"]})]})})]})]}),l.jsx("button",{className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:a?l.jsx(lW,{size:20,className:"text-gray-400"}):l.jsx(gh,{size:20,className:"text-gray-400"})})]}),a&&l.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[t.address&&l.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[l.jsx(ra,{size:14,className:"mt-0.5 text-[#4ECDC4] flex-shrink-0"}),l.jsx("span",{children:t.address})]}),(t.transportMode||t.transportTime||t.distance)&&!v&&l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[t.transportMode&&l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-[#4ECDC4]/10 rounded-lg",children:[h(t.transportMode),l.jsx("span",{className:"text-gray-700 capitalize",children:t.transportMode==="transit"?"Transit":t.transportMode})]}),t.transportTime&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(lg,{size:14,className:"text-gray-400"}),l.jsxs("span",{className:"text-gray-600",children:[t.transportTime," min"]})]}),t.distance&&l.jsxs("span",{className:"text-gray-600",children:[t.distance," km"]})]}),t.notes&&l.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[l.jsx(Ui,{size:14,className:"mt-0.5 text-gray-400 flex-shrink-0"}),l.jsx("span",{children:t.notes})]}),!v&&l.jsxs("div",{className:"bg-[#FFE66D]/10 border-2 border-[#FFE66D]/30 rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(ii,{size:14,className:"text-[#F7B731]"}),l.jsx("label",{className:"text-xs font-semibold text-gray-700",children:"Actual Cost (Optional)"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:""}),l.jsx("input",{type:"number",step:"0.01",value:c,onChange:y=>d(y.target.value),onBlur:()=>{c!==(t.actualCost||"")&&s(t.id,c)},onClick:y=>y.stopPropagation(),placeholder:t.estimatedCost?`Estimated: ${t.estimatedCost}`:"0.00",className:"flex-1 px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-[#FFE66D] text-sm"})]}),t.estimatedCost&&l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Estimated: ",t.estimatedCost,c&&parseFloat(c)!==parseFloat(t.estimatedCost)&&l.jsx("span",{className:`ml-2 font-medium ${parseFloat(c)>parseFloat(t.estimatedCost)?"text-red-600":"text-green-600"}`,children:parseFloat(c)>parseFloat(t.estimatedCost)?`+${(parseFloat(c)-parseFloat(t.estimatedCost)).toFixed(2)}`:`-${(parseFloat(t.estimatedCost)-parseFloat(c)).toFixed(2)}`})]})]}),v&&t.actualCost&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(ii,{size:14,className:"text-[#F7B731]"}),l.jsxs("span",{className:"text-gray-700",children:["Actual Cost: ",l.jsxs("span",{className:"font-semibold",children:["",t.actualCost]})]}),t.estimatedCost&&parseFloat(t.actualCost)!==parseFloat(t.estimatedCost)&&l.jsxs("span",{className:`text-xs ${parseFloat(t.actualCost)>parseFloat(t.estimatedCost)?"text-red-600":"text-green-600"}`,children:["(",parseFloat(t.actualCost)>parseFloat(t.estimatedCost)?"+":"-","",Math.abs(parseFloat(t.actualCost)-parseFloat(t.estimatedCost)).toFixed(2),")"]})]}),!v&&l.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[l.jsxs("button",{onClick:y=>{y.stopPropagation(),g()},className:"flex items-center justify-center gap-1 px-3 py-2 bg-[#4ECDC4] text-white rounded-lg font-medium text-sm hover:bg-[#44A08D] transition-all shadow-sm",children:[l.jsx(pI,{size:14}),"Navigate"]}),l.jsxs("button",{onClick:y=>{y.stopPropagation(),n(t.id)},className:"flex items-center justify-center gap-1 px-3 py-2 bg-[#26DE81] text-white rounded-lg font-medium text-sm hover:bg-[#20bf6b] transition-all shadow-sm",children:[l.jsx(nd,{size:14}),"Visited"]}),l.jsxs("button",{onClick:y=>{y.stopPropagation(),r(t.id)},className:"flex items-center justify-center gap-1 px-3 py-2 bg-gray-400 text-white rounded-lg font-medium text-sm hover:bg-gray-500 transition-all shadow-sm",children:[l.jsx(_r,{size:14}),"Skip"]})]}),v&&l.jsxs("div",{className:"pt-2",children:[t.visited&&l.jsx("button",{onClick:y=>{y.stopPropagation(),n(t.id)},className:"text-sm text-gray-500 hover:text-gray-700 font-medium",children:"Undo visited"}),t.skipped&&l.jsx("button",{onClick:y=>{y.stopPropagation(),r(t.id)},className:"text-sm text-gray-500 hover:text-gray-700 font-medium",children:"Undo skip"})]})]})]})},DQ=({places:t,onMarkVisited:e,onMarkSkipped:n,onUpdateActualCost:r})=>!t||t.length===0?l.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center",children:[l.jsx("div",{className:"text-gray-400 text-lg mb-2",children:"No places planned for today"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Add places in the planning mode to see them here"})]}):l.jsx("div",{className:"space-y-3 pb-4",children:t.map((s,a)=>l.jsx(EQ,{place:s,index:a,onMarkVisited:e,onMarkSkipped:n,onUpdateActualCost:r},s.id))}),SQ=({places:t,nextPlaceId:e})=>{const n=L.useRef(null),r=L.useRef(null),s=L.useRef([]),a=L.useRef([]),[o,c]=L.useState(!1),[d,h]=L.useState(null);return L.useEffect(()=>{const g=()=>{window.google&&window.google.maps?c(!0):setTimeout(g,100)};g()},[]),L.useEffect(()=>{if(!(!o||!n.current||r.current))try{const g=new window.google.maps.Map(n.current,{zoom:12,center:{lat:0,lng:0},mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0,zoomControl:!0});r.current=g}catch(g){console.error("Error initializing map:",g),h("Failed to initialize map")}},[o]),L.useEffect(()=>{if(!r.current||!o||!t||t.length===0)return;s.current.forEach(b=>b.setMap(null)),s.current=[],a.current.forEach(b=>b.setMap(null)),a.current=[];const g=new window.google.maps.LatLngBounds,v=t.filter(b=>b.location&&b.location.lat&&b.location.lng);if(v.length===0){h("No locations available for today");return}v.forEach((b,N)=>{const E={lat:parseFloat(b.location.lat),lng:parseFloat(b.location.lng)},k=b.id===e,S=b.visited,T=b.skipped;let I="#4ECDC4",R=(N+1).toString();S?I="#26DE81":T?I="#95a5a6":k&&(I="#FF6B6B");const $=new window.google.maps.Marker({position:E,map:r.current,title:b.name,label:{text:R,color:"white",fontSize:"12px",fontWeight:"bold"},icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:14,fillColor:I,fillOpacity:1,strokeColor:"white",strokeWeight:2}}),H=new window.google.maps.InfoWindow({content:`
          <div style="padding: 8px;">
            <h3 style="margin: 0 0 4px 0; font-weight: bold; font-size: 14px;">${b.name}</h3>
            ${b.address?`<p style="margin: 0; font-size: 12px; color: #666;">${b.address}</p>`:""}
            ${k?'<p style="margin: 4px 0 0 0; font-size: 12px; color: #FF6B6B; font-weight: bold;"> Next Stop</p>':""}
            ${S?'<p style="margin: 4px 0 0 0; font-size: 12px; color: #26DE81; font-weight: bold;"> Visited</p>':""}
          </div>
        `});$.addListener("click",()=>{H.open(r.current,$)}),s.current.push($),g.extend(E)});const y={walking:"WALKING",car:"DRIVING",transit:"TRANSIT",plane:"DRIVING"};for(let b=0;b<v.length-1;b++){const N={lat:parseFloat(v[b].location.lat),lng:parseFloat(v[b].location.lng)},E={lat:parseFloat(v[b+1].location.lat),lng:parseFloat(v[b+1].location.lng)},k=v[b+1],S=y[k.transportMode]||"WALKING",T=new window.google.maps.DirectionsService,I=new window.google.maps.DirectionsRenderer({map:r.current,suppressMarkers:!0,polylineOptions:{strokeColor:"#4ECDC4",strokeWeight:3,strokeOpacity:.7}});T.route({origin:N,destination:E,travelMode:S},(R,$)=>{$==="OK"&&(I.setDirections(R),a.current.push(I))})}v.length>0&&(r.current.fitBounds(g),v.length===1&&r.current.setZoom(15)),h(null)},[t,e,o]),o?d?l.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center",children:[l.jsx(mI,{size:48,className:"text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 mb-2",children:d}),l.jsx("p",{className:"text-sm text-gray-500",children:"Add locations to places in planning mode"})]}):l.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:[l.jsx("div",{ref:n,className:"w-full h-[500px] sm:h-[600px]"}),l.jsxs("div",{className:"p-4 border-t border-gray-100 flex flex-wrap gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-[#FF6B6B] rounded-full border-2 border-white"}),l.jsx("span",{className:"text-gray-600",children:"Next Stop"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-[#4ECDC4] rounded-full border-2 border-white"}),l.jsx("span",{className:"text-gray-600",children:"Upcoming"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-[#26DE81] rounded-full border-2 border-white"}),l.jsx("span",{className:"text-gray-600",children:"Visited"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 bg-[#95a5a6] rounded-full border-2 border-white"}),l.jsx("span",{className:"text-gray-600",children:"Skipped"})]})]})]}):l.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-[#4ECDC4]/20 border-t-[#4ECDC4] rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading map..."})]})},TQ=({onAddExpense:t,onMarkNextVisited:e,onAddNote:n})=>l.jsxs("div",{className:"fixed bottom-6 right-6 z-40 flex flex-col gap-3",children:[e&&l.jsx("button",{onClick:e,className:"w-14 h-14 bg-[#26DE81] text-white rounded-full shadow-lg hover:shadow-xl hover:scale-110 transition-all flex items-center justify-center",title:"Mark next visited",children:l.jsx(nd,{size:24})}),l.jsx("button",{onClick:t,className:"w-14 h-14 bg-gradient-to-r from-[#FFE66D] to-[#F7B731] text-white rounded-full shadow-lg hover:shadow-xl hover:scale-110 transition-all flex items-center justify-center",title:"Add expense",children:l.jsx(ii,{size:24})}),n&&l.jsx("button",{onClick:n,className:"w-14 h-14 bg-[#4ECDC4] text-white rounded-full shadow-lg hover:shadow-xl hover:scale-110 transition-all flex items-center justify-center",title:"Add note",children:l.jsx(Ui,{size:24})})]}),PQ=({onClose:t,onSave:e})=>{const[n,r]=L.useState({description:"",amount:"",category:"food"}),s=[{value:"food",label:"Food",emoji:""},{value:"transport",label:"Transport",emoji:""},{value:"accommodation",label:"Hotel",emoji:""},{value:"activities",label:"Activities",emoji:""},{value:"shopping",label:"Shopping",emoji:""},{value:"other",label:"Other",emoji:""}],a=o=>{if(o.preventDefault(),!n.amount||!n.description.trim()){alert("Please enter amount and description");return}e(n)};return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-t-3xl sm:rounded-3xl w-full max-w-md shadow-2xl animate-slide-up",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#FFE66D] to-[#F7B731] rounded-full flex items-center justify-center",children:l.jsx(ii,{size:20,className:"text-white"})}),l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Quick Expense"})]}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(_r,{size:20,className:"text-gray-600"})})]}),l.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Amount ()"}),l.jsx("input",{type:"number",step:"0.01",value:n.amount,onChange:o=>r({...n,amount:o.target.value}),placeholder:"0.00",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-[#FFE66D] text-lg font-semibold",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),l.jsx("input",{type:"text",value:n.description,onChange:o=>r({...n,description:o.target.value}),placeholder:"e.g., Lunch at cafe",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-[#FFE66D]"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:s.map(o=>l.jsxs("button",{type:"button",onClick:()=>r({...n,category:o.value}),className:`px-3 py-3 rounded-xl border-2 transition-all text-center ${n.category===o.value?"border-[#FFE66D] bg-[#FFE66D]/10 shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[l.jsx("div",{className:"text-2xl mb-1",children:o.emoji}),l.jsx("div",{className:"text-xs font-medium text-gray-700",children:o.label})]},o.value))})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl font-semibold hover:bg-gray-50 transition-all",children:"Cancel"}),l.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#FFE66D] to-[#F7B731] text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Add Expense"})]})]})]})})},FE=({onExitDayMode:t})=>{Tx();const{dailyPlans:e,saveDailyPlans:n}=jN(),{expenses:r,saveExpense:s}=MN(),[a,o]=L.useState(null),[c,d]=L.useState(!1),[h,g]=L.useState(!1),v=R=>{const $=R.getFullYear(),H=String(R.getMonth()+1).padStart(2,"0"),D=String(R.getDate()).padStart(2,"0");return`${$}-${H}-${D}`};L.useEffect(()=>{var R;if(e.length>0&&!a){const $=v(new Date),H=e.find(D=>D.date===$);if(H)o(H.id);else{const D=[...e].sort((O,M)=>new Date(O.date)-new Date(M.date)),w=new Date,P=D.find(O=>new Date(O.date)>=w);o(P?P.id:(R=D[D.length-1])==null?void 0:R.id)}}},[e,a]);const y=L.useMemo(()=>e.find(R=>R.id===a),[e,a]),b=L.useMemo(()=>y?[...e].sort(($,H)=>new Date($.date)-new Date(H.date)).findIndex($=>$.id===a)+1:0,[e,a]),N=L.useMemo(()=>y!=null&&y.places?y.places.find(R=>!R.visited&&!R.skipped):null,[y]),E=L.useMemo(()=>{if(!(y!=null&&y.places))return{visited:0,total:0,distance:0,totalDistance:0,time:0,totalTime:0};const R=y.places.length,$=y.places.filter(M=>M.visited).length,H=y.places.reduce((M,V)=>M+(parseFloat(V.distance)||0),0),D=y.places.reduce((M,V)=>M+(parseFloat(V.transportTime)||0),0),w=y.places.filter(M=>M.visited),P=w.reduce((M,V)=>M+(parseFloat(V.distance)||0),0),O=w.reduce((M,V)=>M+(parseFloat(V.transportTime)||0),0);return{visited:$,total:R,distance:P,totalDistance:H,time:O,totalTime:D}},[y]),k=async R=>{if(!y)return;const $=e.map(H=>H.id===a?{...H,places:H.places.map(D=>D.id===R?{...D,visited:!D.visited,visitedAt:D.visited?null:new Date().toISOString()}:D)}:H);try{await n($)}catch(H){console.error("Failed to mark place as visited:",H)}},S=async R=>{if(!y)return;const $=e.map(H=>H.id===a?{...H,places:H.places.map(D=>D.id===R?{...D,skipped:!D.skipped}:D)}:H);try{await n($)}catch(H){console.error("Failed to mark place as skipped:",H)}},T=async R=>{try{const $={id:Date.now(),date:y.date,city:y.city||"",country:y.country||"",...R};await s($),d(!1)}catch($){console.error("Failed to add expense:",$),alert("Failed to add expense. Please try again.")}},I=L.useMemo(()=>y?r.filter(R=>R.date===y.date).reduce((R,$)=>R+(parseFloat($.amount)||0),0):0,[r,y]);return y?l.jsxs("div",{className:"min-h-screen bg-[#F8F9FA] pb-24",children:[l.jsx(xQ,{onBack:t,dayNumber:b,totalDays:e.length,dayTitle:y.title,dayDate:y.date,city:y.city}),l.jsx(bQ,{visited:E.visited,total:E.total,distance:E.distance,totalDistance:E.totalDistance,time:E.time,totalTime:E.totalTime,todayExpenses:I}),l.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[N&&l.jsx(wQ,{place:N,onMarkVisited:()=>k(N.id),onMarkSkipped:()=>S(N.id)}),l.jsxs("div",{className:"flex gap-2 mb-4 mt-6",children:[l.jsx("button",{onClick:()=>g(!1),className:`flex-1 py-3 rounded-xl font-semibold transition-all ${h?"bg-white text-gray-600 border-2 border-gray-200":"bg-gradient-to-r from-[#4ECDC4] to-[#44A08D] text-white shadow-md"}`,children:"Timeline"}),l.jsx("button",{onClick:()=>g(!0),className:`flex-1 py-3 rounded-xl font-semibold transition-all ${h?"bg-gradient-to-r from-[#4ECDC4] to-[#44A08D] text-white shadow-md":"bg-white text-gray-600 border-2 border-gray-200"}`,children:"Map"})]}),h?l.jsx(SQ,{places:y.places||[],nextPlaceId:N==null?void 0:N.id}):l.jsx(DQ,{places:y.places||[],onMarkVisited:k,onMarkSkipped:S})]}),l.jsx(TQ,{onAddExpense:()=>d(!0),onMarkNextVisited:N?()=>k(N.id):null}),c&&l.jsx(PQ,{onClose:()=>d(!1),onSave:T})]}):l.jsx("div",{className:"min-h-screen bg-[#F8F9FA] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-[#4ECDC4]/20 border-t-[#4ECDC4] rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 text-lg",children:"Loading your day..."})]})})},IQ=()=>{const{signInWithGoogle:t,error:e}=ya(),[n,r]=L.useState(!1),[s,a]=L.useState(null),o=async()=>{try{r(!0),a(null),await t()}catch(c){console.error("Sign in error:",c),a(c.message||"Failed to sign in with Google")}finally{r(!1)}};return l.jsx("div",{className:"min-h-screen bg-[#F8F9FA] flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx("div",{className:"bg-gradient-to-br from-[#4ECDC4] to-[#44A08D] p-3 rounded-2xl shadow-lg",children:l.jsx(zi,{className:"w-8 h-8 text-white"})}),l.jsx("div",{className:"bg-gradient-to-br from-[#FF6B6B] to-[#FF8E53] p-3 rounded-2xl shadow-lg",children:l.jsx(ra,{className:"w-8 h-8 text-white"})})]}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Travel Planner"}),l.jsx("p",{className:"text-gray-600 text-lg",children:"Plan your perfect journey"})]}),l.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border-2 border-gray-50",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2 text-center",children:"Welcome!"}),l.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Sign in to access your trips from any device"}),(e||s)&&l.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-red-50/50 border-2 border-red-200 rounded-xl flex items-start gap-3",children:[l.jsx(mI,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-red-800 font-medium",children:"Sign in failed"}),l.jsx("p",{className:"text-sm text-red-600 mt-1",children:s||e})]})]}),l.jsx("button",{onClick:o,disabled:n,className:"w-full bg-white border-2 border-gray-300 hover:border-[#4ECDC4] text-gray-700 font-semibold py-4 px-6 rounded-xl transition-all duration-200 flex items-center justify-center gap-3 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:n?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-[#4ECDC4] rounded-full animate-spin"}),l.jsx("span",{children:"Signing in..."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l.jsx("span",{children:"Continue with Google"})]})}),l.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 mb-4",children:"With your account you can:"}),l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[l.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-[#4ECDC4]/20 to-[#4ECDC4]/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:l.jsx("div",{className:"w-2 h-2 rounded-full bg-[#4ECDC4]"})}),l.jsx("span",{children:"Access your trips from any device"})]}),l.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[l.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-[#FF6B6B]/20 to-[#FF6B6B]/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:l.jsx("div",{className:"w-2 h-2 rounded-full bg-[#FF6B6B]"})}),l.jsx("span",{children:"Never lose your travel data"})]}),l.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[l.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-[#FFE66D]/20 to-[#FFE66D]/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:l.jsx("div",{className:"w-2 h-2 rounded-full bg-[#F7B731]"})}),l.jsx("span",{children:"Plan trips seamlessly across phone and desktop"})]})]})]})]}),l.jsx("p",{className:"text-center text-sm text-gray-600 mt-6",children:"By signing in, you agree to sync your data with Firebase"})]})})},CQ={Switzerland:["Zurich","Geneva","Basel","Lausanne","Bern","Winterthur","Lucerne","St. Gallen","Lugano","Biel/Bienne","Thun","Kniz","La Chaux-de-Fonds","Schaffhausen","Fribourg","Vernier","Chur","Neuchtel","Uster","Sion","Emmen","Zug","Yverdon-les-Bains","Kriens","Rapperswil-Jona","Dbendorf","Montreux","Frauenfeld","Dietikon","Wetzikon","Interlaken","Zermatt","Grindelwald","Lauterbrunnen","Wengen","Murren","Locarno","Ascona","Bellinzona","Davos","St. Moritz","Arosa","Engelberg","Andermatt"],Italy:["Rome","Milan","Naples","Turin","Palermo","Genoa","Bologna","Florence","Bari","Catania","Venice","Verona","Messina","Padua","Trieste","Brescia","Taranto","Prato","Parma","Modena","Reggio Calabria","Reggio Emilia","Perugia","Livorno","Ravenna","Cagliari","Foggia","Rimini","Salerno","Ferrara","Sassari","Latina","Giugliano in Campania","Monza","Syracuse","Pescara","Bergamo","Forl","Trento","Vicenza","Terni","Bolzano","Novara","Piacenza","Ancona","Andria","Arezzo","Udine","Cesena","Lecce","Pisa","Siena","Lucca","Como","La Spezia","Varese","Sorrento","Amalfi","Positano","Capri","Portofino","Cinque Terre","Matera","Assisi","Siracusa","Taormina","Pompeii","Pienza","San Gimignano","Orvieto"],France:["Paris","Marseille","Lyon","Toulouse","Nice","Nantes","Strasbourg","Montpellier","Bordeaux","Lille","Rennes","Reims","Le Havre","Saint-tienne","Toulon","Grenoble","Dijon","Angers","Nmes","Villeurbanne","Saint-Denis","Le Mans","Aix-en-Provence","Clermont-Ferrand","Brest","Tours","Amiens","Limoges","Annecy","Perpignan","Boulogne-Billancourt","Metz","Besanon","Orlans","Saint-Denis","Argenteuil","Rouen","Mulhouse","Montreuil","Caen","Nancy","Avignon","Cannes","Antibes","Saint-Tropez","Monaco","Versailles","Colmar","Chamonix","Annecy","Carcassonne","Arles","Aix-les-Bains","Menton","Grasse","Saint-Malo","La Rochelle","Biarritz","Lourdes","Mont-Saint-Michel","Giverny","Fontainebleau","Chartres","Beaune","pernay","Reims","Troyes"],Spain:["Madrid","Barcelona","Valencia","Seville","Bilbao","Mlaga","Granada"],Portugal:["Lisbon","Porto","Faro","Coimbra","Braga"],Germany:["Berlin","Munich","Hamburg","Frankfurt","Cologne","Stuttgart","Dsseldorf"],Austria:["Vienna","Salzburg","Innsbruck","Graz","Linz"],Netherlands:["Amsterdam","Rotterdam","The Hague","Utrecht","Eindhoven"],Belgium:["Brussels","Antwerp","Ghent","Bruges","Lige"],Greece:["Athens","Thessaloniki","Santorini","Mykonos","Crete","Rhodes"],"United Kingdom":["London","Edinburgh","Manchester","Liverpool","Oxford","Cambridge"],"Czech Republic":["Prague","Brno","esk Krumlov"],Croatia:["Zagreb","Dubrovnik","Split","Pula"],Poland:["Warsaw","Krakow","Gdansk","Wroclaw"],Hungary:["Budapest","Debrecen","Szeged"],"United States":["New York","Los Angeles","Chicago","San Francisco","Miami","Las Vegas"],Canada:["Toronto","Vancouver","Montreal","Quebec City","Calgary"],Japan:["Tokyo","Kyoto","Osaka","Hiroshima","Nara"],"South Korea":["Seoul","Busan","Jeju"],Thailand:["Bangkok","Chiang Mai","Phuket","Pattaya"],Australia:["Sydney","Melbourne","Brisbane","Perth","Adelaide"],"New Zealand":["Auckland","Wellington","Christchurch","Queenstown"],Brazil:["Rio de Janeiro","So Paulo","Salvador","Braslia"],Argentina:["Buenos Aires","Mendoza","Bariloche","Crdoba"],Mexico:["Mexico City","Cancun","Playa del Carmen","Guadalajara"],Egypt:["Cairo","Alexandria","Luxor","Aswan"],"United Arab Emirates":["Dubai","Abu Dhabi","Sharjah"],Turkey:["Istanbul","Ankara","Antalya","Izmir"],Morocco:["Marrakech","Casablanca","Fes","Rabat"],"South Africa":["Cape Town","Johannesburg","Durban","Pretoria"]},kE=({onCreateTrip:t})=>{const{trips:e,loading:n,deleteTrip:r}=Sx(),[s,a]=L.useState([]),[o,c]=L.useState(!1),[d,h]=L.useState(""),[g,v]=L.useState([{startDate:new Date,endDate:new Date(Date.now()+7*24*60*60*1e3),key:"selection"}]),[y,b]=L.useState(!1),[N,E]=L.useState(""),[k,S]=L.useState(!1),[T,I]=L.useState(null),[R,$]=L.useState(!1),[H,D]=L.useState(null),w=L.useRef(null),P=L.useRef(null),M=Object.keys(CQ).filter(U=>!s.includes(U)).filter(U=>U.toLowerCase().includes(d.toLowerCase())),V=U=>{a([...s,U]),h(""),c(!1)},C=U=>{a(s.filter(A=>A!==U))},et=U=>{I(U)},tt=(U,A)=>{U.preventDefault()},Z=(U,A)=>{if(U.preventDefault(),T===null||T===A)return;const G=[...s],[oe]=G.splice(T,1);G.splice(A,0,oe),a(G),I(null)},Ae=()=>s.length===0?"":s.length===1?`Trip to ${s[0]}`:s.length===2?`Trip to ${s[0]} & ${s[1]}`:`Trip to ${s.slice(0,-1).join(", ")} & ${s[s.length-1]}`;L.useEffect(()=>{k||E(Ae())},[s,k]),L.useEffect(()=>{const U=A=>{w.current&&!w.current.contains(A.target)&&b(!1)};return y&&document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[y]),L.useEffect(()=>{const U=A=>{P.current&&!P.current.contains(A.target)&&c(!1)};return o&&document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[o]);const ee=U=>{const A=U.getFullYear(),G=String(U.getMonth()+1).padStart(2,"0"),oe=String(U.getDate()).padStart(2,"0");return`${A}-${G}-${oe}`},de=async()=>{if(s.length===0){alert("Please select at least one country");return}if(!N.trim()){alert("Please enter a trip name");return}const U={id:Date.now(),name:N.trim(),startDate:ee(g[0].startDate),endDate:ee(g[0].endDate),countries:s};try{console.log("TripSetup: creating trip",U),await t(U),console.log("TripSetup: onCreateTrip resolved")}catch(A){console.error("Failed to create trip:",A),alert("Failed to create trip. Please try again.")}},ue=async U=>{console.log("TripSetup: selecting existing trip",U),await t(U)},Pe=U=>{D(U),$(!0)},J=async()=>{if(H)try{await r(H.id)}catch(U){console.error("Failed to delete trip:",U),alert("Failed to delete trip. Please try again.")}finally{$(!1),D(null)}},q=e.sort((U,A)=>new Date(A.startDate)-new Date(U.startDate)).slice(0,6);return l.jsxs("div",{className:"min-h-screen bg-[#F8F9FA] flex items-center justify-center p-4",children:[l.jsxs("div",{className:"max-w-2xl w-full",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"inline-block p-4 bg-gradient-to-br from-[#FF6B6B] to-[#FF8E53] rounded-3xl shadow-lg mb-4",children:l.jsx(ra,{className:"w-12 h-12 text-white"})}),l.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Plan Your Adventure"}),l.jsx("p",{className:"text-gray-600 text-lg",children:"Tell us where you're going and when"})]}),l.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6 sm:p-8 border-2 border-gray-50",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-3",children:"Where are you travelling to?"}),l.jsxs("div",{className:"flex flex-wrap gap-3 mb-3",children:[s.map((U,A)=>l.jsxs("div",{draggable:!0,onDragStart:()=>et(A),onDragOver:G=>tt(G),onDrop:G=>Z(G,A),className:`flex items-center gap-2 px-5 py-3 bg-gradient-to-r from-[#FF6B6B]/10 to-[#FF8E53]/10 text-[#FF6B6B] rounded-full border-2 border-[#FF6B6B]/20 cursor-move hover:shadow-md hover:border-[#FF6B6B]/40 transition-all ${T===A?"opacity-50 scale-95":""}`,children:[l.jsx(c1,{size:20,className:"text-[#FF6B6B]/60 flex-shrink-0"}),l.jsx("span",{className:"font-medium text-base",children:U}),l.jsx("button",{onClick:G=>{G.stopPropagation(),C(U)},className:"hover:bg-[#FF6B6B]/20 rounded-full p-1 transition-colors",children:l.jsx(_r,{size:18})})]},U)),l.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-2 px-5 py-3 border-2 border-dashed border-gray-300 hover:border-[#4ECDC4] text-gray-600 hover:text-[#4ECDC4] rounded-full transition-all",children:[l.jsx(Uc,{size:18}),l.jsx("span",{className:"font-medium",children:"Add Country"})]})]}),s.length>1&&l.jsxs("p",{className:"text-xs text-gray-500 mb-3 flex items-center gap-1",children:[l.jsx(c1,{size:14}),"Drag countries to reorder them"]}),o&&l.jsxs("div",{ref:P,className:"relative mt-2",children:[l.jsx("input",{type:"text",placeholder:"Search countries...",value:d,onChange:U=>h(U.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-[#4ECDC4] transition-colors",autoFocus:!0}),l.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white border-2 border-gray-200 rounded-xl shadow-lg max-h-64 overflow-y-auto",children:M.length>0?M.map(U=>l.jsx("button",{onClick:()=>V(U),className:"w-full px-4 py-3 text-left hover:bg-gradient-to-r hover:from-[#4ECDC4]/10 hover:to-[#4ECDC4]/5 transition-colors border-b border-gray-100 last:border-b-0",children:l.jsx("span",{className:"font-medium",children:U})},U)):l.jsx("div",{className:"px-4 py-3 text-gray-500 text-center",children:"No countries found"})})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-3",children:"When are you going?"}),l.jsxs("button",{onClick:()=>b(!y),className:"w-full px-4 py-3 bg-gradient-to-r from-[#4ECDC4]/10 to-[#4ECDC4]/5 border-2 border-[#4ECDC4]/30 hover:border-[#4ECDC4] rounded-xl transition-all flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(td,{className:"text-[#4ECDC4]",size:20}),l.jsxs("span",{className:"font-medium text-gray-700",children:[g[0].startDate.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),"  ",g[0].endDate.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[Math.ceil((g[0].endDate-g[0].startDate)/(1e3*60*60*24))+1," days"]})]}),y&&l.jsx("div",{ref:w,className:"mt-4 flex justify-center",children:l.jsx("div",{className:"inline-block bg-white border-2 border-gray-200 rounded-xl shadow-lg p-4",children:l.jsx($0.DateRange,{ranges:g,onChange:U=>{const A=U.selection;v([A]),A.startDate&&A.endDate&&A.startDate.getTime()!==A.endDate.getTime()&&b(!1)},months:2,direction:"horizontal",showDateDisplay:!1,rangeColors:["#4ECDC4"],className:"rounded-xl"})})})]}),s.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-3",children:"Trip Name"}),l.jsx("input",{type:"text",value:N,onChange:U=>{E(U.target.value),S(!0)},onBlur:()=>{N.trim()||(E(Ae()),S(!1))},placeholder:"Enter trip name",className:"w-full px-4 py-3 border-2 border-[#FFE66D]/30 bg-gradient-to-r from-[#FFE66D]/10 to-[#FFE66D]/5 rounded-xl focus:outline-none focus:border-[#FFE66D] focus:bg-white transition-colors text-lg font-semibold text-gray-900"})]}),l.jsx("button",{onClick:de,disabled:s.length===0,className:"w-full px-6 py-4 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] text-white rounded-xl font-semibold text-lg hover:shadow-lg transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:"Create My Trip"})]}),!n&&q.length>0&&l.jsxs("div",{className:"mt-8",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(lg,{size:20,className:"text-[#4ECDC4]"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Trips"})]}),l.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Continue planning one of your previous trips"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:q.map(U=>l.jsxs("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl border-2 border-gray-50 hover:border-[#4ECDC4] p-5 text-left transition-all hover:scale-[1.02] group relative",children:[l.jsx("button",{onClick:()=>Pe(U),className:"absolute top-3 right-3 p-2 rounded-full hover:bg-red-50 text-red-500 transition-colors",title:"Delete trip",children:l.jsx(fu,{size:18})}),l.jsxs("button",{onClick:()=>ue(U),className:"w-full text-left",children:[l.jsx("div",{className:"flex items-start justify-between mb-3 pr-6",children:l.jsx("h3",{className:"font-bold text-lg text-gray-900 line-clamp-2 group-hover:text-[#4ECDC4] transition-colors",children:U.name})}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[l.jsx(td,{size:14,className:"text-[#4ECDC4]"}),l.jsxs("span",{children:[new Date(U.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(U.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),U.countries&&U.countries.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ra,{size:14,className:"text-[#FF6B6B]"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[U.countries.slice(0,2).map((A,G)=>l.jsx("span",{className:"text-xs px-2 py-1 bg-gradient-to-r from-[#FF6B6B]/10 to-[#FF8E53]/10 text-[#FF6B6B] rounded-full font-medium",children:A},G)),U.countries.length>2&&l.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-full font-medium",children:["+",U.countries.length-2]})]})]})]}),l.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:l.jsx("span",{className:"text-xs text-[#4ECDC4] font-medium group-hover:underline",children:"Continue Planning "})})]})]},U.id))})]})]}),R&&H&&l.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 px-4",children:l.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-red-50 flex items-center justify-center",children:l.jsx(fu,{className:"text-red-500",size:20})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Delete trip?"})]}),l.jsxs("p",{className:"text-gray-600 mb-6",children:['"',H.name,'" will be removed from your trips. This action cannot be undone.']}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("button",{onClick:J,className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:shadow-lg transition-all",children:"Delete Trip"}),l.jsx("button",{onClick:()=>{$(!1),D(null)},className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl hover:bg-gray-50 transition-all",children:"Cancel"})]})]})})]})},NQ=()=>{const{currentUser:t,loading:e}=ya(),{currentTrip:n,loading:r,saveCurrentTrip:s}=Tx(),{saveTrip:a}=Sx(),[o,c]=Qr.useState(null),[d,h]=Qr.useState(!1),[g,v]=Qr.useState("planning");if(e||t&&r)return l.jsx("div",{className:"min-h-screen bg-[#F8F9FA] flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-[#4ECDC4]/20 border-t-[#4ECDC4] rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600 text-lg",children:"Loading..."})]})});if(!t)return l.jsx(IQ,{});if(typeof window<"u"&&localStorage.getItem("showSetupOnLogin")==="1"&&!o&&(!n||!n.id)){try{localStorage.removeItem("showSetupOnLogin")}catch(y){console.warn("Could not remove showSetupOnLogin flag",y)}return l.jsx(kE,{onCreateTrip:async y=>{try{await a(y),await s(y),c(y),h(!1)}catch(b){console.error("Failed to create trip:",b),alert("Failed to create trip. Please try again.")}}})}return d||!n||!n.id?o&&!d?g==="planning"?l.jsx(AE,{initialTrip:o,onExitTrip:()=>{c(null),h(!0)},onEnterDayMode:()=>v("dayMode")}):l.jsx(FE,{onExitDayMode:()=>v("planning")}):l.jsx(kE,{onCreateTrip:async y=>{try{console.log("App: onCreateTrip start",y),await a(y),console.log("App: saveTrip completed"),await s(y),console.log("App: saveCurrentTrip completed"),c(y),console.log("App: setCreatedTrip",y),h(!1)}catch(b){console.error("Failed to create trip:",b),alert("Failed to create trip. Please try again.")}}}):g==="planning"?l.jsx(AE,{onExitTrip:()=>{c(null),h(!0)},onEnterDayMode:()=>v("dayMode")}):l.jsx(FE,{onExitDayMode:()=>v("planning")})},Kv=document.getElementById("root"),AN=Kv._reactRoot||Cp.createRoot(Kv);Kv._reactRoot=AN;AN.render(l.jsx(Qr.StrictMode,{children:l.jsx(mQ,{children:l.jsx(NQ,{})})}));
