var lM=Object.defineProperty;var uM=(t,e,n)=>e in t?lM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var te=(t,e,n)=>uM(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var cM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var pT={exports:{}},Ff={},vT={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uc=Symbol.for("react.element"),hM=Symbol.for("react.portal"),mM=Symbol.for("react.fragment"),gM=Symbol.for("react.strict_mode"),pM=Symbol.for("react.profiler"),vM=Symbol.for("react.provider"),_M=Symbol.for("react.context"),yM=Symbol.for("react.forward_ref"),wM=Symbol.for("react.suspense"),EM=Symbol.for("react.memo"),bM=Symbol.for("react.lazy"),T0=Symbol.iterator;function TM(t){return t===null||typeof t!="object"?null:(t=T0&&t[T0]||t["@@iterator"],typeof t=="function"?t:null)}var _T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yT=Object.assign,wT={};function Tl(t,e,n){this.props=t,this.context=e,this.refs=wT,this.updater=n||_T}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ET(){}ET.prototype=Tl.prototype;function qp(t,e,n){this.props=t,this.context=e,this.refs=wT,this.updater=n||_T}var Gp=qp.prototype=new ET;Gp.constructor=qp;yT(Gp,Tl.prototype);Gp.isPureReactComponent=!0;var S0=Array.isArray,bT=Object.prototype.hasOwnProperty,Qp={current:null},TT={key:!0,ref:!0,__self:!0,__source:!0};function ST(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)bT.call(e,r)&&!TT.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:uc,type:t,key:s,ref:o,props:i,_owner:Qp.current}}function SM(t,e){return{$$typeof:uc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kp(t){return typeof t=="object"&&t!==null&&t.$$typeof===uc}function PM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var P0=/\/+/g;function bm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PM(""+t.key):e.toString(36)}function bd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case uc:case hM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+bm(o,0):r,S0(i)?(n="",t!=null&&(n=t.replace(P0,"$&/")+"/"),bd(i,e,n,"",function(d){return d})):i!=null&&(Kp(i)&&(i=SM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(P0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",S0(t))for(var u=0;u<t.length;u++){s=t[u];var c=r+bm(s,u);o+=bd(s,e,n,c,i)}else if(c=TM(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=r+bm(s,u++),o+=bd(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uc(t,e,n){if(t==null)return t;var r=[],i=0;return bd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function xM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nn={current:null},Td={transition:null},IM={ReactCurrentDispatcher:Nn,ReactCurrentBatchConfig:Td,ReactCurrentOwner:Qp};function PT(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Uc,forEach:function(t,e,n){Uc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uc(t,function(){e++}),e},toArray:function(t){return Uc(t,function(e){return e})||[]},only:function(t){if(!Kp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=Tl;De.Fragment=mM;De.Profiler=pM;De.PureComponent=qp;De.StrictMode=gM;De.Suspense=wM;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IM;De.act=PT;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)bT.call(e,c)&&!TT.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:uc,type:t.type,key:i,ref:s,props:r,_owner:o}};De.createContext=function(t){return t={$$typeof:_M,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vM,_context:t},t.Consumer=t};De.createElement=ST;De.createFactory=function(t){var e=ST.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:yM,render:t}};De.isValidElement=Kp;De.lazy=function(t){return{$$typeof:bM,_payload:{_status:-1,_result:t},_init:xM}};De.memo=function(t,e){return{$$typeof:EM,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=Td.transition;Td.transition={};try{t()}finally{Td.transition=e}};De.unstable_act=PT;De.useCallback=function(t,e){return Nn.current.useCallback(t,e)};De.useContext=function(t){return Nn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return Nn.current.useDeferredValue(t)};De.useEffect=function(t,e){return Nn.current.useEffect(t,e)};De.useId=function(){return Nn.current.useId()};De.useImperativeHandle=function(t,e,n){return Nn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return Nn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return Nn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return Nn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return Nn.current.useReducer(t,e,n)};De.useRef=function(t){return Nn.current.useRef(t)};De.useState=function(t){return Nn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return Nn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return Nn.current.useTransition()};De.version="18.3.1";vT.exports=De;var H=vT.exports;const Sg=dM(H);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DM=H,OM=Symbol.for("react.element"),MM=Symbol.for("react.fragment"),CM=Object.prototype.hasOwnProperty,NM=DM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RM={key:!0,ref:!0,__self:!0,__source:!0};function xT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CM.call(e,r)&&!RM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:OM,type:t,key:s,ref:o,props:i,_owner:NM.current}}Ff.Fragment=MM;Ff.jsx=xT;Ff.jsxs=xT;pT.exports=Ff;var m=pT.exports,Pg={},IT={exports:{}},Xn={},DT={exports:{}},OT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,ie){var ue=q.length;q.push(ie);e:for(;0<ue;){var Se=ue-1>>>1,Y=q[Se];if(0<i(Y,ie))q[Se]=ie,q[ue]=Y,ue=Se;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ie=q[0],ue=q.pop();if(ue!==ie){q[0]=ue;e:for(var Se=0,Y=q.length,W=Y>>>1;Se<W;){var L=2*(Se+1)-1,C=q[L],z=L+1,J=q[z];if(0>i(C,ue))z<Y&&0>i(J,C)?(q[Se]=J,q[z]=ue,Se=z):(q[Se]=C,q[L]=ue,Se=L);else if(z<Y&&0>i(J,ue))q[Se]=J,q[z]=ue,Se=z;else break e}}return ie}function i(q,ie){var ue=q.sortIndex-ie.sortIndex;return ue!==0?ue:q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],d=[],h=1,p=null,v=3,E=!1,O=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(q){for(var ie=n(d);ie!==null;){if(ie.callback===null)r(d);else if(ie.startTime<=q)r(d),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=n(d)}}function j(q){if(I=!1,M(q),!O)if(n(c)!==null)O=!0,_t(U);else{var ie=n(d);ie!==null&&xe(j,ie.startTime-q)}}function U(q,ie){O=!1,I&&(I=!1,b(w),w=-1),E=!0;var ue=v;try{for(M(ie),p=n(c);p!==null&&(!(p.expirationTime>ie)||q&&!N());){var Se=p.callback;if(typeof Se=="function"){p.callback=null,v=p.priorityLevel;var Y=Se(p.expirationTime<=ie);ie=t.unstable_now(),typeof Y=="function"?p.callback=Y:p===n(c)&&r(c),M(ie)}else r(c);p=n(c)}if(p!==null)var W=!0;else{var L=n(d);L!==null&&xe(j,L.startTime-ie),W=!1}return W}finally{p=null,v=ue,E=!1}}var $=!1,T=null,w=-1,P=5,D=-1;function N(){return!(t.unstable_now()-D<P)}function R(){if(T!==null){var q=t.unstable_now();D=q;var ie=!0;try{ie=T(!0,q)}finally{ie?x():($=!1,T=null)}}else $=!1}var x;if(typeof S=="function")x=function(){S(R)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,Ye=$e.port2;$e.port1.onmessage=R,x=function(){Ye.postMessage(null)}}else x=function(){A(R,0)};function _t(q){T=q,$||($=!0,x())}function xe(q,ie){w=A(function(){q(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){O||E||(O=!0,_t(U))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var ue=v;v=ie;try{return q()}finally{v=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ue=v;v=q;try{return ie()}finally{v=ue}},t.unstable_scheduleCallback=function(q,ie,ue){var Se=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Se+ue:Se):ue=Se,q){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ue+Y,q={id:h++,callback:ie,priorityLevel:q,startTime:ue,expirationTime:Y,sortIndex:-1},ue>Se?(q.sortIndex=ue,e(d,q),n(c)===null&&q===n(d)&&(I?(b(w),w=-1):I=!0,xe(j,ue-Se))):(q.sortIndex=Y,e(c,q),O||E||(O=!0,_t(U))),q},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(q){var ie=v;return function(){var ue=v;v=ie;try{return q.apply(this,arguments)}finally{v=ue}}}})(OT);DT.exports=OT;var AM=DT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jM=H,Qn=AM;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MT=new Set,ju={};function Ja(t,e){ol(t,e),ol(t+"Capture",e)}function ol(t,e){for(ju[t]=e,t=0;t<e.length;t++)MT.add(e[t])}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xg=Object.prototype.hasOwnProperty,FM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x0={},I0={};function LM(t){return xg.call(I0,t)?!0:xg.call(x0,t)?!1:FM.test(t)?I0[t]=!0:(x0[t]=!0,!1)}function VM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kM(t,e,n,r){if(e===null||typeof e>"u"||VM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new Rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new Rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new Rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new Rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new Rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new Rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new Rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new Rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new Rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xp=/[\-:]([a-z])/g;function Jp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xp,Jp);on[e]=new Rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xp,Jp);on[e]=new Rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xp,Jp);on[e]=new Rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new Rn(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new Rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zp(t,e,n,r){var i=on.hasOwnProperty(e)?on[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kM(e,n,i,r)&&(n=null),r||i===null?LM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gi=jM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bc=Symbol.for("react.element"),ko=Symbol.for("react.portal"),zo=Symbol.for("react.fragment"),ev=Symbol.for("react.strict_mode"),Ig=Symbol.for("react.profiler"),CT=Symbol.for("react.provider"),NT=Symbol.for("react.context"),tv=Symbol.for("react.forward_ref"),Dg=Symbol.for("react.suspense"),Og=Symbol.for("react.suspense_list"),nv=Symbol.for("react.memo"),Ps=Symbol.for("react.lazy"),RT=Symbol.for("react.offscreen"),D0=Symbol.iterator;function Bl(t){return t===null||typeof t!="object"?null:(t=D0&&t[D0]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,Tm;function du(t){if(Tm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tm=e&&e[1]||""}return`
`+Tm+t}var Sm=!1;function Pm(t,e){if(!t||Sm)return"";Sm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=u);break}}}finally{Sm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?du(t):""}function zM(t){switch(t.tag){case 5:return du(t.type);case 16:return du("Lazy");case 13:return du("Suspense");case 19:return du("SuspenseList");case 0:case 2:case 15:return t=Pm(t.type,!1),t;case 11:return t=Pm(t.type.render,!1),t;case 1:return t=Pm(t.type,!0),t;default:return""}}function Mg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zo:return"Fragment";case ko:return"Portal";case Ig:return"Profiler";case ev:return"StrictMode";case Dg:return"Suspense";case Og:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NT:return(t.displayName||"Context")+".Consumer";case CT:return(t._context.displayName||"Context")+".Provider";case tv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nv:return e=t.displayName||null,e!==null?e:Mg(t.type)||"Memo";case Ps:e=t._payload,t=t._init;try{return Mg(t(e))}catch{}}return null}function WM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mg(e);case 8:return e===ev?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function AT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UM(t){var e=AT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $c(t){t._valueTracker||(t._valueTracker=UM(t))}function jT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=AT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $d(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cg(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function O0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FT(t,e){e=e.checked,e!=null&&Zp(t,"checked",e,!1)}function Ng(t,e){FT(t,e);var n=Gs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rg(t,e.type,Gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function M0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rg(t,e,n){(e!=="number"||$d(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fu=Array.isArray;function Xo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ag(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function C0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(fu(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gs(n)}}function LT(t,e){var n=Gs(e.value),r=Gs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function N0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hc,kT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hc=Hc||document.createElement("div"),Hc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BM=["Webkit","ms","Moz","O"];Object.keys(wu).forEach(function(t){BM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wu[e]=wu[t]})});function zT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wu.hasOwnProperty(t)&&wu[t]?(""+e).trim():e+"px"}function WT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $M=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fg(t,e){if(e){if($M[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Lg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vg=null;function rv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kg=null,Jo=null,Zo=null;function R0(t){if(t=fc(t)){if(typeof kg!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Wf(e),kg(t.stateNode,t.type,e))}}function UT(t){Jo?Zo?Zo.push(t):Zo=[t]:Jo=t}function BT(){if(Jo){var t=Jo,e=Zo;if(Zo=Jo=null,R0(t),e)for(t=0;t<e.length;t++)R0(e[t])}}function $T(t,e){return t(e)}function HT(){}var xm=!1;function YT(t,e,n){if(xm)return t(e,n);xm=!0;try{return $T(t,e,n)}finally{xm=!1,(Jo!==null||Zo!==null)&&(HT(),BT())}}function Lu(t,e){var n=t.stateNode;if(n===null)return null;var r=Wf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var zg=!1;if(ki)try{var $l={};Object.defineProperty($l,"passive",{get:function(){zg=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{zg=!1}function HM(t,e,n,r,i,s,o,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Eu=!1,Hd=null,Yd=!1,Wg=null,YM={onError:function(t){Eu=!0,Hd=t}};function qM(t,e,n,r,i,s,o,u,c){Eu=!1,Hd=null,HM.apply(YM,arguments)}function GM(t,e,n,r,i,s,o,u,c){if(qM.apply(this,arguments),Eu){if(Eu){var d=Hd;Eu=!1,Hd=null}else throw Error(K(198));Yd||(Yd=!0,Wg=d)}}function Za(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function A0(t){if(Za(t)!==t)throw Error(K(188))}function QM(t){var e=t.alternate;if(!e){if(e=Za(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return A0(i),t;if(s===r)return A0(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function GT(t){return t=QM(t),t!==null?QT(t):null}function QT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QT(t);if(e!==null)return e;t=t.sibling}return null}var KT=Qn.unstable_scheduleCallback,j0=Qn.unstable_cancelCallback,KM=Qn.unstable_shouldYield,XM=Qn.unstable_requestPaint,Mt=Qn.unstable_now,JM=Qn.unstable_getCurrentPriorityLevel,iv=Qn.unstable_ImmediatePriority,XT=Qn.unstable_UserBlockingPriority,qd=Qn.unstable_NormalPriority,ZM=Qn.unstable_LowPriority,JT=Qn.unstable_IdlePriority,Lf=null,Jr=null;function eC(t){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(Lf,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:rC,tC=Math.log,nC=Math.LN2;function rC(t){return t>>>=0,t===0?32:31-(tC(t)/nC|0)|0}var Yc=64,qc=4194304;function hu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=hu(u):(s&=o,s!==0&&(r=hu(s)))}else o=n&~i,o!==0?r=hu(o):s!==0&&(r=hu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nr(e),i=1<<n,r|=t[n],e&=~i;return r}function iC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Nr(s),u=1<<o,c=i[o];c===-1?(!(u&n)||u&r)&&(i[o]=iC(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function Ug(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ZT(){var t=Yc;return Yc<<=1,!(Yc&4194240)&&(Yc=64),t}function Im(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=n}function aC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function sv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function eS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tS,av,nS,rS,iS,Bg=!1,Gc=[],js=null,Fs=null,Ls=null,Vu=new Map,ku=new Map,Is=[],oC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F0(t,e){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Vu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(e.pointerId)}}function Hl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fc(e),e!==null&&av(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function lC(t,e,n,r,i){switch(e){case"focusin":return js=Hl(js,t,e,n,r,i),!0;case"dragenter":return Fs=Hl(Fs,t,e,n,r,i),!0;case"mouseover":return Ls=Hl(Ls,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Vu.set(s,Hl(Vu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ku.set(s,Hl(ku.get(s)||null,t,e,n,r,i)),!0}return!1}function sS(t){var e=Ra(t.target);if(e!==null){var n=Za(e);if(n!==null){if(e=n.tag,e===13){if(e=qT(n),e!==null){t.blockedOn=e,iS(t.priority,function(){nS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$g(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vg=r,n.target.dispatchEvent(r),Vg=null}else return e=fc(n),e!==null&&av(e),t.blockedOn=n,!1;e.shift()}return!0}function L0(t,e,n){Sd(t)&&n.delete(e)}function uC(){Bg=!1,js!==null&&Sd(js)&&(js=null),Fs!==null&&Sd(Fs)&&(Fs=null),Ls!==null&&Sd(Ls)&&(Ls=null),Vu.forEach(L0),ku.forEach(L0)}function Yl(t,e){t.blockedOn===e&&(t.blockedOn=null,Bg||(Bg=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,uC)))}function zu(t){function e(i){return Yl(i,t)}if(0<Gc.length){Yl(Gc[0],t);for(var n=1;n<Gc.length;n++){var r=Gc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(js!==null&&Yl(js,t),Fs!==null&&Yl(Fs,t),Ls!==null&&Yl(Ls,t),Vu.forEach(e),ku.forEach(e),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)sS(n),n.blockedOn===null&&Is.shift()}var el=Gi.ReactCurrentBatchConfig,Qd=!0;function cC(t,e,n,r){var i=Qe,s=el.transition;el.transition=null;try{Qe=1,ov(t,e,n,r)}finally{Qe=i,el.transition=s}}function dC(t,e,n,r){var i=Qe,s=el.transition;el.transition=null;try{Qe=4,ov(t,e,n,r)}finally{Qe=i,el.transition=s}}function ov(t,e,n,r){if(Qd){var i=$g(t,e,n,r);if(i===null)Lm(t,e,r,Kd,n),F0(t,r);else if(lC(i,t,e,n,r))r.stopPropagation();else if(F0(t,r),e&4&&-1<oC.indexOf(t)){for(;i!==null;){var s=fc(i);if(s!==null&&tS(s),s=$g(t,e,n,r),s===null&&Lm(t,e,r,Kd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Lm(t,e,r,null,n)}}var Kd=null;function $g(t,e,n,r){if(Kd=null,t=rv(r),t=Ra(t),t!==null)if(e=Za(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kd=t,null}function aS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JM()){case iv:return 1;case XT:return 4;case qd:case ZM:return 16;case JT:return 536870912;default:return 16}default:return 16}}var Ns=null,lv=null,Pd=null;function oS(){if(Pd)return Pd;var t,e=lv,n=e.length,r,i="value"in Ns?Ns.value:Ns.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Pd=i.slice(t,1<r?1-r:void 0)}function xd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qc(){return!0}function V0(){return!1}function Jn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qc:V0,this.isPropagationStopped=V0,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),e}var Sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uv=Jn(Sl),dc=pt({},Sl,{view:0,detail:0}),fC=Jn(dc),Dm,Om,ql,Vf=pt({},dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ql&&(ql&&t.type==="mousemove"?(Dm=t.screenX-ql.screenX,Om=t.screenY-ql.screenY):Om=Dm=0,ql=t),Dm)},movementY:function(t){return"movementY"in t?t.movementY:Om}}),k0=Jn(Vf),hC=pt({},Vf,{dataTransfer:0}),mC=Jn(hC),gC=pt({},dc,{relatedTarget:0}),Mm=Jn(gC),pC=pt({},Sl,{animationName:0,elapsedTime:0,pseudoElement:0}),vC=Jn(pC),_C=pt({},Sl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yC=Jn(_C),wC=pt({},Sl,{data:0}),z0=Jn(wC),EC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TC[t])?!!e[t]:!1}function cv(){return SC}var PC=pt({},dc,{key:function(t){if(t.key){var e=EC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cv,charCode:function(t){return t.type==="keypress"?xd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xC=Jn(PC),IC=pt({},Vf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W0=Jn(IC),DC=pt({},dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cv}),OC=Jn(DC),MC=pt({},Sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),CC=Jn(MC),NC=pt({},Vf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RC=Jn(NC),AC=[9,13,27,32],dv=ki&&"CompositionEvent"in window,bu=null;ki&&"documentMode"in document&&(bu=document.documentMode);var jC=ki&&"TextEvent"in window&&!bu,lS=ki&&(!dv||bu&&8<bu&&11>=bu),U0=" ",B0=!1;function uS(t,e){switch(t){case"keyup":return AC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wo=!1;function FC(t,e){switch(t){case"compositionend":return cS(e);case"keypress":return e.which!==32?null:(B0=!0,U0);case"textInput":return t=e.data,t===U0&&B0?null:t;default:return null}}function LC(t,e){if(Wo)return t==="compositionend"||!dv&&uS(t,e)?(t=oS(),Pd=lv=Ns=null,Wo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lS&&e.locale!=="ko"?null:e.data;default:return null}}var VC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VC[t.type]:e==="textarea"}function dS(t,e,n,r){UT(r),e=Xd(e,"onChange"),0<e.length&&(n=new uv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tu=null,Wu=null;function kC(t){bS(t,0)}function kf(t){var e=$o(t);if(jT(e))return t}function zC(t,e){if(t==="change")return e}var fS=!1;if(ki){var Cm;if(ki){var Nm="oninput"in document;if(!Nm){var H0=document.createElement("div");H0.setAttribute("oninput","return;"),Nm=typeof H0.oninput=="function"}Cm=Nm}else Cm=!1;fS=Cm&&(!document.documentMode||9<document.documentMode)}function Y0(){Tu&&(Tu.detachEvent("onpropertychange",hS),Wu=Tu=null)}function hS(t){if(t.propertyName==="value"&&kf(Wu)){var e=[];dS(e,Wu,t,rv(t)),YT(kC,e)}}function WC(t,e,n){t==="focusin"?(Y0(),Tu=e,Wu=n,Tu.attachEvent("onpropertychange",hS)):t==="focusout"&&Y0()}function UC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kf(Wu)}function BC(t,e){if(t==="click")return kf(e)}function $C(t,e){if(t==="input"||t==="change")return kf(e)}function HC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jr=typeof Object.is=="function"?Object.is:HC;function Uu(t,e){if(jr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xg.call(e,i)||!jr(t[i],e[i]))return!1}return!0}function q0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function G0(t,e){var n=q0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=q0(n)}}function mS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gS(){for(var t=window,e=$d();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$d(t.document)}return e}function fv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YC(t){var e=gS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mS(n.ownerDocument.documentElement,n)){if(r!==null&&fv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=G0(n,s);var o=G0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qC=ki&&"documentMode"in document&&11>=document.documentMode,Uo=null,Hg=null,Su=null,Yg=!1;function Q0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yg||Uo==null||Uo!==$d(r)||(r=Uo,"selectionStart"in r&&fv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Su&&Uu(Su,r)||(Su=r,r=Xd(Hg,"onSelect"),0<r.length&&(e=new uv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Uo)))}function Kc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bo={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},Rm={},pS={};ki&&(pS=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function zf(t){if(Rm[t])return Rm[t];if(!Bo[t])return t;var e=Bo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pS)return Rm[t]=e[n];return t}var vS=zf("animationend"),_S=zf("animationiteration"),yS=zf("animationstart"),wS=zf("transitionend"),ES=new Map,K0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ta(t,e){ES.set(t,e),Ja(e,[t])}for(var Am=0;Am<K0.length;Am++){var jm=K0[Am],GC=jm.toLowerCase(),QC=jm[0].toUpperCase()+jm.slice(1);ta(GC,"on"+QC)}ta(vS,"onAnimationEnd");ta(_S,"onAnimationIteration");ta(yS,"onAnimationStart");ta("dblclick","onDoubleClick");ta("focusin","onFocus");ta("focusout","onBlur");ta(wS,"onTransitionEnd");ol("onMouseEnter",["mouseout","mouseover"]);ol("onMouseLeave",["mouseout","mouseover"]);ol("onPointerEnter",["pointerout","pointerover"]);ol("onPointerLeave",["pointerout","pointerover"]);Ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KC=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function X0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GM(r,e,void 0,t),t.currentTarget=null}function bS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;X0(i,u,d),s=c}else for(o=0;o<r.length;o++){if(u=r[o],c=u.instance,d=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;X0(i,u,d),s=c}}}if(Yd)throw t=Wg,Yd=!1,Wg=null,t}function at(t,e){var n=e[Xg];n===void 0&&(n=e[Xg]=new Set);var r=t+"__bubble";n.has(r)||(TS(e,t,2,!1),n.add(r))}function Fm(t,e,n){var r=0;e&&(r|=4),TS(n,t,r,e)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Bu(t){if(!t[Xc]){t[Xc]=!0,MT.forEach(function(n){n!=="selectionchange"&&(KC.has(n)||Fm(n,!1,t),Fm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xc]||(e[Xc]=!0,Fm("selectionchange",!1,e))}}function TS(t,e,n,r){switch(aS(e)){case 1:var i=cC;break;case 4:i=dC;break;default:i=ov}n=i.bind(null,e,n,t),i=void 0,!zg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Ra(u),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}u=u.parentNode}}r=r.return}YT(function(){var d=s,h=rv(n),p=[];e:{var v=ES.get(t);if(v!==void 0){var E=uv,O=t;switch(t){case"keypress":if(xd(n)===0)break e;case"keydown":case"keyup":E=xC;break;case"focusin":O="focus",E=Mm;break;case"focusout":O="blur",E=Mm;break;case"beforeblur":case"afterblur":E=Mm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=k0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=mC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=OC;break;case vS:case _S:case yS:E=vC;break;case wS:E=CC;break;case"scroll":E=fC;break;case"wheel":E=RC;break;case"copy":case"cut":case"paste":E=yC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=W0}var I=(e&4)!==0,A=!I&&t==="scroll",b=I?v!==null?v+"Capture":null:v;I=[];for(var S=d,M;S!==null;){M=S;var j=M.stateNode;if(M.tag===5&&j!==null&&(M=j,b!==null&&(j=Lu(S,b),j!=null&&I.push($u(S,j,M)))),A)break;S=S.return}0<I.length&&(v=new E(v,O,null,n,h),p.push({event:v,listeners:I}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",v&&n!==Vg&&(O=n.relatedTarget||n.fromElement)&&(Ra(O)||O[zi]))break e;if((E||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,E?(O=n.relatedTarget||n.toElement,E=d,O=O?Ra(O):null,O!==null&&(A=Za(O),O!==A||O.tag!==5&&O.tag!==6)&&(O=null)):(E=null,O=d),E!==O)){if(I=k0,j="onMouseLeave",b="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(I=W0,j="onPointerLeave",b="onPointerEnter",S="pointer"),A=E==null?v:$o(E),M=O==null?v:$o(O),v=new I(j,S+"leave",E,n,h),v.target=A,v.relatedTarget=M,j=null,Ra(h)===d&&(I=new I(b,S+"enter",O,n,h),I.target=M,I.relatedTarget=A,j=I),A=j,E&&O)t:{for(I=E,b=O,S=0,M=I;M;M=Oo(M))S++;for(M=0,j=b;j;j=Oo(j))M++;for(;0<S-M;)I=Oo(I),S--;for(;0<M-S;)b=Oo(b),M--;for(;S--;){if(I===b||b!==null&&I===b.alternate)break t;I=Oo(I),b=Oo(b)}I=null}else I=null;E!==null&&J0(p,v,E,I,!1),O!==null&&A!==null&&J0(p,A,O,I,!0)}}e:{if(v=d?$o(d):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var U=zC;else if($0(v))if(fS)U=$C;else{U=UC;var $=WC}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(U=BC);if(U&&(U=U(t,d))){dS(p,U,n,h);break e}$&&$(t,v,d),t==="focusout"&&($=v._wrapperState)&&$.controlled&&v.type==="number"&&Rg(v,"number",v.value)}switch($=d?$o(d):window,t){case"focusin":($0($)||$.contentEditable==="true")&&(Uo=$,Hg=d,Su=null);break;case"focusout":Su=Hg=Uo=null;break;case"mousedown":Yg=!0;break;case"contextmenu":case"mouseup":case"dragend":Yg=!1,Q0(p,n,h);break;case"selectionchange":if(qC)break;case"keydown":case"keyup":Q0(p,n,h)}var T;if(dv)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Wo?uS(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(lS&&n.locale!=="ko"&&(Wo||w!=="onCompositionStart"?w==="onCompositionEnd"&&Wo&&(T=oS()):(Ns=h,lv="value"in Ns?Ns.value:Ns.textContent,Wo=!0)),$=Xd(d,w),0<$.length&&(w=new z0(w,t,null,n,h),p.push({event:w,listeners:$}),T?w.data=T:(T=cS(n),T!==null&&(w.data=T)))),(T=jC?FC(t,n):LC(t,n))&&(d=Xd(d,"onBeforeInput"),0<d.length&&(h=new z0("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:d}),h.data=T))}bS(p,e)})}function $u(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Lu(t,n),s!=null&&r.unshift($u(t,s,i)),s=Lu(t,e),s!=null&&r.push($u(t,s,i))),t=t.return}return r}function Oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function J0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,i?(c=Lu(n,s),c!=null&&o.unshift($u(n,c,u))):i||(c=Lu(n,s),c!=null&&o.push($u(n,c,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var XC=/\r\n?/g,JC=/\u0000|\uFFFD/g;function Z0(t){return(typeof t=="string"?t:""+t).replace(XC,`
`).replace(JC,"")}function Jc(t,e,n){if(e=Z0(e),Z0(t)!==e&&n)throw Error(K(425))}function Jd(){}var qg=null,Gg=null;function Qg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kg=typeof setTimeout=="function"?setTimeout:void 0,ZC=typeof clearTimeout=="function"?clearTimeout:void 0,ew=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof ew<"u"?function(t){return ew.resolve(null).then(t).catch(t2)}:Kg;function t2(t){setTimeout(function(){throw t})}function Vm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zu(e)}function Vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pl=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Pl,Hu="__reactProps$"+Pl,zi="__reactContainer$"+Pl,Xg="__reactEvents$"+Pl,n2="__reactListeners$"+Pl,r2="__reactHandles$"+Pl;function Ra(t){var e=t[Xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zi]||n[Xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tw(t);t!==null;){if(n=t[Xr])return n;t=tw(t)}return e}t=n,n=t.parentNode}return null}function fc(t){return t=t[Xr]||t[zi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $o(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Wf(t){return t[Hu]||null}var Jg=[],Ho=-1;function na(t){return{current:t}}function ut(t){0>Ho||(t.current=Jg[Ho],Jg[Ho]=null,Ho--)}function rt(t,e){Ho++,Jg[Ho]=t.current,t.current=e}var Qs={},En=na(Qs),kn=na(!1),Ua=Qs;function ll(t,e){var n=t.type.contextTypes;if(!n)return Qs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zn(t){return t=t.childContextTypes,t!=null}function Zd(){ut(kn),ut(En)}function nw(t,e,n){if(En.current!==Qs)throw Error(K(168));rt(En,e),rt(kn,n)}function SS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,WM(t)||"Unknown",i));return pt({},n,r)}function ef(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qs,Ua=En.current,rt(En,t),rt(kn,kn.current),!0}function rw(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=SS(t,e,Ua),r.__reactInternalMemoizedMergedChildContext=t,ut(kn),ut(En),rt(En,t)):ut(kn),rt(kn,n)}var Ii=null,Uf=!1,km=!1;function PS(t){Ii===null?Ii=[t]:Ii.push(t)}function i2(t){Uf=!0,PS(t)}function ra(){if(!km&&Ii!==null){km=!0;var t=0,e=Qe;try{var n=Ii;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ii=null,Uf=!1}catch(i){throw Ii!==null&&(Ii=Ii.slice(t+1)),KT(iv,ra),i}finally{Qe=e,km=!1}}return null}var Yo=[],qo=0,tf=null,nf=0,sr=[],ar=0,Ba=null,Mi=1,Ci="";function Da(t,e){Yo[qo++]=nf,Yo[qo++]=tf,tf=t,nf=e}function xS(t,e,n){sr[ar++]=Mi,sr[ar++]=Ci,sr[ar++]=Ba,Ba=t;var r=Mi;t=Ci;var i=32-Nr(r)-1;r&=~(1<<i),n+=1;var s=32-Nr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mi=1<<32-Nr(e)+i|n<<i|r,Ci=s+t}else Mi=1<<s|n<<i|r,Ci=t}function hv(t){t.return!==null&&(Da(t,1),xS(t,1,0))}function mv(t){for(;t===tf;)tf=Yo[--qo],Yo[qo]=null,nf=Yo[--qo],Yo[qo]=null;for(;t===Ba;)Ba=sr[--ar],sr[ar]=null,Ci=sr[--ar],sr[ar]=null,Mi=sr[--ar],sr[ar]=null}var qn=null,Yn=null,dt=!1,Mr=null;function IS(t,e){var n=ur(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function iw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qn=t,Yn=Vs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qn=t,Yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ba!==null?{id:Mi,overflow:Ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ur(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qn=t,Yn=null,!0):!1;default:return!1}}function Zg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ep(t){if(dt){var e=Yn;if(e){var n=e;if(!iw(t,e)){if(Zg(t))throw Error(K(418));e=Vs(n.nextSibling);var r=qn;e&&iw(t,e)?IS(r,n):(t.flags=t.flags&-4097|2,dt=!1,qn=t)}}else{if(Zg(t))throw Error(K(418));t.flags=t.flags&-4097|2,dt=!1,qn=t}}}function sw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qn=t}function Zc(t){if(t!==qn)return!1;if(!dt)return sw(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qg(t.type,t.memoizedProps)),e&&(e=Yn)){if(Zg(t))throw DS(),Error(K(418));for(;e;)IS(t,e),e=Vs(e.nextSibling)}if(sw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yn=Vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yn=null}}else Yn=qn?Vs(t.stateNode.nextSibling):null;return!0}function DS(){for(var t=Yn;t;)t=Vs(t.nextSibling)}function ul(){Yn=qn=null,dt=!1}function gv(t){Mr===null?Mr=[t]:Mr.push(t)}var s2=Gi.ReactCurrentBatchConfig;function Gl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function ed(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function aw(t){var e=t._init;return e(t._payload)}function OS(t){function e(b,S){if(t){var M=b.deletions;M===null?(b.deletions=[S],b.flags|=16):M.push(S)}}function n(b,S){if(!t)return null;for(;S!==null;)e(b,S),S=S.sibling;return null}function r(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function i(b,S){return b=Us(b,S),b.index=0,b.sibling=null,b}function s(b,S,M){return b.index=M,t?(M=b.alternate,M!==null?(M=M.index,M<S?(b.flags|=2,S):M):(b.flags|=2,S)):(b.flags|=1048576,S)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function u(b,S,M,j){return S===null||S.tag!==6?(S=Ym(M,b.mode,j),S.return=b,S):(S=i(S,M),S.return=b,S)}function c(b,S,M,j){var U=M.type;return U===zo?h(b,S,M.props.children,j,M.key):S!==null&&(S.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ps&&aw(U)===S.type)?(j=i(S,M.props),j.ref=Gl(b,S,M),j.return=b,j):(j=Rd(M.type,M.key,M.props,null,b.mode,j),j.ref=Gl(b,S,M),j.return=b,j)}function d(b,S,M,j){return S===null||S.tag!==4||S.stateNode.containerInfo!==M.containerInfo||S.stateNode.implementation!==M.implementation?(S=qm(M,b.mode,j),S.return=b,S):(S=i(S,M.children||[]),S.return=b,S)}function h(b,S,M,j,U){return S===null||S.tag!==7?(S=ka(M,b.mode,j,U),S.return=b,S):(S=i(S,M),S.return=b,S)}function p(b,S,M){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Ym(""+S,b.mode,M),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bc:return M=Rd(S.type,S.key,S.props,null,b.mode,M),M.ref=Gl(b,null,S),M.return=b,M;case ko:return S=qm(S,b.mode,M),S.return=b,S;case Ps:var j=S._init;return p(b,j(S._payload),M)}if(fu(S)||Bl(S))return S=ka(S,b.mode,M,null),S.return=b,S;ed(b,S)}return null}function v(b,S,M,j){var U=S!==null?S.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return U!==null?null:u(b,S,""+M,j);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Bc:return M.key===U?c(b,S,M,j):null;case ko:return M.key===U?d(b,S,M,j):null;case Ps:return U=M._init,v(b,S,U(M._payload),j)}if(fu(M)||Bl(M))return U!==null?null:h(b,S,M,j,null);ed(b,M)}return null}function E(b,S,M,j,U){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(M)||null,u(S,b,""+j,U);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Bc:return b=b.get(j.key===null?M:j.key)||null,c(S,b,j,U);case ko:return b=b.get(j.key===null?M:j.key)||null,d(S,b,j,U);case Ps:var $=j._init;return E(b,S,M,$(j._payload),U)}if(fu(j)||Bl(j))return b=b.get(M)||null,h(S,b,j,U,null);ed(S,j)}return null}function O(b,S,M,j){for(var U=null,$=null,T=S,w=S=0,P=null;T!==null&&w<M.length;w++){T.index>w?(P=T,T=null):P=T.sibling;var D=v(b,T,M[w],j);if(D===null){T===null&&(T=P);break}t&&T&&D.alternate===null&&e(b,T),S=s(D,S,w),$===null?U=D:$.sibling=D,$=D,T=P}if(w===M.length)return n(b,T),dt&&Da(b,w),U;if(T===null){for(;w<M.length;w++)T=p(b,M[w],j),T!==null&&(S=s(T,S,w),$===null?U=T:$.sibling=T,$=T);return dt&&Da(b,w),U}for(T=r(b,T);w<M.length;w++)P=E(T,b,w,M[w],j),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?w:P.key),S=s(P,S,w),$===null?U=P:$.sibling=P,$=P);return t&&T.forEach(function(N){return e(b,N)}),dt&&Da(b,w),U}function I(b,S,M,j){var U=Bl(M);if(typeof U!="function")throw Error(K(150));if(M=U.call(M),M==null)throw Error(K(151));for(var $=U=null,T=S,w=S=0,P=null,D=M.next();T!==null&&!D.done;w++,D=M.next()){T.index>w?(P=T,T=null):P=T.sibling;var N=v(b,T,D.value,j);if(N===null){T===null&&(T=P);break}t&&T&&N.alternate===null&&e(b,T),S=s(N,S,w),$===null?U=N:$.sibling=N,$=N,T=P}if(D.done)return n(b,T),dt&&Da(b,w),U;if(T===null){for(;!D.done;w++,D=M.next())D=p(b,D.value,j),D!==null&&(S=s(D,S,w),$===null?U=D:$.sibling=D,$=D);return dt&&Da(b,w),U}for(T=r(b,T);!D.done;w++,D=M.next())D=E(T,b,w,D.value,j),D!==null&&(t&&D.alternate!==null&&T.delete(D.key===null?w:D.key),S=s(D,S,w),$===null?U=D:$.sibling=D,$=D);return t&&T.forEach(function(R){return e(b,R)}),dt&&Da(b,w),U}function A(b,S,M,j){if(typeof M=="object"&&M!==null&&M.type===zo&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Bc:e:{for(var U=M.key,$=S;$!==null;){if($.key===U){if(U=M.type,U===zo){if($.tag===7){n(b,$.sibling),S=i($,M.props.children),S.return=b,b=S;break e}}else if($.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ps&&aw(U)===$.type){n(b,$.sibling),S=i($,M.props),S.ref=Gl(b,$,M),S.return=b,b=S;break e}n(b,$);break}else e(b,$);$=$.sibling}M.type===zo?(S=ka(M.props.children,b.mode,j,M.key),S.return=b,b=S):(j=Rd(M.type,M.key,M.props,null,b.mode,j),j.ref=Gl(b,S,M),j.return=b,b=j)}return o(b);case ko:e:{for($=M.key;S!==null;){if(S.key===$)if(S.tag===4&&S.stateNode.containerInfo===M.containerInfo&&S.stateNode.implementation===M.implementation){n(b,S.sibling),S=i(S,M.children||[]),S.return=b,b=S;break e}else{n(b,S);break}else e(b,S);S=S.sibling}S=qm(M,b.mode,j),S.return=b,b=S}return o(b);case Ps:return $=M._init,A(b,S,$(M._payload),j)}if(fu(M))return O(b,S,M,j);if(Bl(M))return I(b,S,M,j);ed(b,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,S!==null&&S.tag===6?(n(b,S.sibling),S=i(S,M),S.return=b,b=S):(n(b,S),S=Ym(M,b.mode,j),S.return=b,b=S),o(b)):n(b,S)}return A}var cl=OS(!0),MS=OS(!1),rf=na(null),sf=null,Go=null,pv=null;function vv(){pv=Go=sf=null}function _v(t){var e=rf.current;ut(rf),t._currentValue=e}function tp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function tl(t,e){sf=t,pv=Go=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vn=!0),t.firstContext=null)}function dr(t){var e=t._currentValue;if(pv!==t)if(t={context:t,memoizedValue:e,next:null},Go===null){if(sf===null)throw Error(K(308));Go=t,sf.dependencies={lanes:0,firstContext:t}}else Go=Go.next=t;return e}var Aa=null;function yv(t){Aa===null?Aa=[t]:Aa.push(t)}function CS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,yv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wi(t,r)}function Wi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xs=!1;function wv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ks(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wi(t,n)}return i=r.interleaved,i===null?(e.next=e,yv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wi(t,n)}function Id(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sv(t,n)}}function ow(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function af(t,e,n,r){var i=t.updateQueue;xs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,u=h.lastBaseUpdate,u!==o&&(u===null?h.firstBaseUpdate=d:u.next=d,h.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,h=d=c=null,u=s;do{var v=u.lane,E=u.eventTime;if((r&v)===v){h!==null&&(h=h.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var O=t,I=u;switch(v=e,E=n,I.tag){case 1:if(O=I.payload,typeof O=="function"){p=O.call(E,p,v);break e}p=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=I.payload,v=typeof O=="function"?O.call(E,p,v):O,v==null)break e;p=pt({},p,v);break e;case 2:xs=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[u]:v.push(u))}else E={eventTime:E,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},h===null?(d=h=E,c=p):h=h.next=E,o|=v;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;v=u,u=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(h===null&&(c=p),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ha|=o,t.lanes=o,t.memoizedState=p}}function lw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var hc={},Zr=na(hc),Yu=na(hc),qu=na(hc);function ja(t){if(t===hc)throw Error(K(174));return t}function Ev(t,e){switch(rt(qu,e),rt(Yu,t),rt(Zr,hc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jg(e,t)}ut(Zr),rt(Zr,e)}function dl(){ut(Zr),ut(Yu),ut(qu)}function RS(t){ja(qu.current);var e=ja(Zr.current),n=jg(e,t.type);e!==n&&(rt(Yu,t),rt(Zr,n))}function bv(t){Yu.current===t&&(ut(Zr),ut(Yu))}var mt=na(0);function of(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zm=[];function Tv(){for(var t=0;t<zm.length;t++)zm[t]._workInProgressVersionPrimary=null;zm.length=0}var Dd=Gi.ReactCurrentDispatcher,Wm=Gi.ReactCurrentBatchConfig,$a=0,gt=null,Vt=null,qt=null,lf=!1,Pu=!1,Gu=0,a2=0;function gn(){throw Error(K(321))}function Sv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jr(t[n],e[n]))return!1;return!0}function Pv(t,e,n,r,i,s){if($a=s,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dd.current=t===null||t.memoizedState===null?c2:d2,t=n(r,i),Pu){s=0;do{if(Pu=!1,Gu=0,25<=s)throw Error(K(301));s+=1,qt=Vt=null,e.updateQueue=null,Dd.current=f2,t=n(r,i)}while(Pu)}if(Dd.current=uf,e=Vt!==null&&Vt.next!==null,$a=0,qt=Vt=gt=null,lf=!1,e)throw Error(K(300));return t}function xv(){var t=Gu!==0;return Gu=0,t}function Kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?gt.memoizedState=qt=t:qt=qt.next=t,qt}function fr(){if(Vt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=qt===null?gt.memoizedState:qt.next;if(e!==null)qt=e,Vt=t;else{if(t===null)throw Error(K(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},qt===null?gt.memoizedState=qt=t:qt=qt.next=t}return qt}function Qu(t,e){return typeof e=="function"?e(t):e}function Um(t){var e=fr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=Vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,c=null,d=s;do{var h=d.lane;if(($a&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=p,o=r):c=c.next=p,gt.lanes|=h,Ha|=h}d=d.next}while(d!==null&&d!==s);c===null?o=r:c.next=u,jr(r,e.memoizedState)||(Vn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,gt.lanes|=s,Ha|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bm(t){var e=fr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);jr(s,e.memoizedState)||(Vn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function AS(){}function jS(t,e){var n=gt,r=fr(),i=e(),s=!jr(r.memoizedState,i);if(s&&(r.memoizedState=i,Vn=!0),r=r.queue,Iv(VS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,Ku(9,LS.bind(null,n,r,i,e),void 0,null),Gt===null)throw Error(K(349));$a&30||FS(n,e,i)}return i}function FS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LS(t,e,n,r){e.value=n,e.getSnapshot=r,kS(e)&&zS(t)}function VS(t,e,n){return n(function(){kS(e)&&zS(t)})}function kS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jr(t,n)}catch{return!0}}function zS(t){var e=Wi(t,1);e!==null&&Rr(e,t,1,-1)}function uw(t){var e=Kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:t},e.queue=t,t=t.dispatch=u2.bind(null,gt,t),[e.memoizedState,t]}function Ku(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WS(){return fr().memoizedState}function Od(t,e,n,r){var i=Kr();gt.flags|=t,i.memoizedState=Ku(1|e,n,void 0,r===void 0?null:r)}function Bf(t,e,n,r){var i=fr();r=r===void 0?null:r;var s=void 0;if(Vt!==null){var o=Vt.memoizedState;if(s=o.destroy,r!==null&&Sv(r,o.deps)){i.memoizedState=Ku(e,n,s,r);return}}gt.flags|=t,i.memoizedState=Ku(1|e,n,s,r)}function cw(t,e){return Od(8390656,8,t,e)}function Iv(t,e){return Bf(2048,8,t,e)}function US(t,e){return Bf(4,2,t,e)}function BS(t,e){return Bf(4,4,t,e)}function $S(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function HS(t,e,n){return n=n!=null?n.concat([t]):null,Bf(4,4,$S.bind(null,e,t),n)}function Dv(){}function YS(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qS(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function GS(t,e,n){return $a&21?(jr(n,e)||(n=ZT(),gt.lanes|=n,Ha|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vn=!0),t.memoizedState=n)}function o2(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=Wm.transition;Wm.transition={};try{t(!1),e()}finally{Qe=n,Wm.transition=r}}function QS(){return fr().memoizedState}function l2(t,e,n){var r=Ws(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KS(t))XS(e,n);else if(n=CS(t,e,n,r),n!==null){var i=Cn();Rr(n,t,r,i),JS(n,e,r)}}function u2(t,e,n){var r=Ws(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KS(t))XS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,jr(u,o)){var c=e.interleaved;c===null?(i.next=i,yv(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=CS(t,e,i,r),n!==null&&(i=Cn(),Rr(n,t,r,i),JS(n,e,r))}}function KS(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function XS(t,e){Pu=lf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function JS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sv(t,n)}}var uf={readContext:dr,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},c2={readContext:dr,useCallback:function(t,e){return Kr().memoizedState=[t,e===void 0?null:e],t},useContext:dr,useEffect:cw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Od(4194308,4,$S.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Od(4194308,4,t,e)},useInsertionEffect:function(t,e){return Od(4,2,t,e)},useMemo:function(t,e){var n=Kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=l2.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=Kr();return t={current:t},e.memoizedState=t},useState:uw,useDebugValue:Dv,useDeferredValue:function(t){return Kr().memoizedState=t},useTransition:function(){var t=uw(!1),e=t[0];return t=o2.bind(null,t[1]),Kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,i=Kr();if(dt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Gt===null)throw Error(K(349));$a&30||FS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,cw(VS.bind(null,r,s,t),[t]),r.flags|=2048,Ku(9,LS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Kr(),e=Gt.identifierPrefix;if(dt){var n=Ci,r=Mi;n=(r&~(1<<32-Nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=a2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},d2={readContext:dr,useCallback:YS,useContext:dr,useEffect:Iv,useImperativeHandle:HS,useInsertionEffect:US,useLayoutEffect:BS,useMemo:qS,useReducer:Um,useRef:WS,useState:function(){return Um(Qu)},useDebugValue:Dv,useDeferredValue:function(t){var e=fr();return GS(e,Vt.memoizedState,t)},useTransition:function(){var t=Um(Qu)[0],e=fr().memoizedState;return[t,e]},useMutableSource:AS,useSyncExternalStore:jS,useId:QS,unstable_isNewReconciler:!1},f2={readContext:dr,useCallback:YS,useContext:dr,useEffect:Iv,useImperativeHandle:HS,useInsertionEffect:US,useLayoutEffect:BS,useMemo:qS,useReducer:Bm,useRef:WS,useState:function(){return Bm(Qu)},useDebugValue:Dv,useDeferredValue:function(t){var e=fr();return Vt===null?e.memoizedState=t:GS(e,Vt.memoizedState,t)},useTransition:function(){var t=Bm(Qu)[0],e=fr().memoizedState;return[t,e]},useMutableSource:AS,useSyncExternalStore:jS,useId:QS,unstable_isNewReconciler:!1};function Dr(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function np(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $f={isMounted:function(t){return(t=t._reactInternals)?Za(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Cn(),i=Ws(t),s=Li(r,i);s.payload=e,n!=null&&(s.callback=n),e=ks(t,s,i),e!==null&&(Rr(e,t,i,r),Id(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Cn(),i=Ws(t),s=Li(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ks(t,s,i),e!==null&&(Rr(e,t,i,r),Id(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Cn(),r=Ws(t),i=Li(n,r);i.tag=2,e!=null&&(i.callback=e),e=ks(t,i,r),e!==null&&(Rr(e,t,r,n),Id(e,t,r))}};function dw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Uu(n,r)||!Uu(i,s):!0}function ZS(t,e,n){var r=!1,i=Qs,s=e.contextType;return typeof s=="object"&&s!==null?s=dr(s):(i=zn(e)?Ua:En.current,r=e.contextTypes,s=(r=r!=null)?ll(t,i):Qs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$f,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function fw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$f.enqueueReplaceState(e,e.state,null)}function rp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},wv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=dr(s):(s=zn(e)?Ua:En.current,i.context=ll(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(np(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$f.enqueueReplaceState(i,i.state,null),af(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fl(t,e){try{var n="",r=e;do n+=zM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $m(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ip(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var h2=typeof WeakMap=="function"?WeakMap:Map;function eP(t,e,n){n=Li(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){df||(df=!0,mp=r),ip(t,e)},n}function tP(t,e,n){n=Li(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ip(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ip(t,e),typeof r!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new h2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=I2.bind(null,t,e,n),e.then(t,t))}function mw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Li(-1,1),e.tag=2,ks(n,e,1))),n.lanes|=1),t)}var m2=Gi.ReactCurrentOwner,Vn=!1;function Dn(t,e,n,r){e.child=t===null?MS(e,null,n,r):cl(e,t.child,n,r)}function pw(t,e,n,r,i){n=n.render;var s=e.ref;return tl(e,i),r=Pv(t,e,n,r,s,i),n=xv(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ui(t,e,i)):(dt&&n&&hv(e),e.flags|=1,Dn(t,e,r,i),e.child)}function vw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Fv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,nP(t,e,s,r,i)):(t=Rd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Uu,n(o,r)&&t.ref===e.ref)return Ui(t,e,i)}return e.flags|=1,t=Us(s,r),t.ref=e.ref,t.return=e,e.child=t}function nP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Uu(s,r)&&t.ref===e.ref)if(Vn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Vn=!0);else return e.lanes=t.lanes,Ui(t,e,i)}return sp(t,e,n,r,i)}function rP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Ko,Hn),Hn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(Ko,Hn),Hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,rt(Ko,Hn),Hn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,rt(Ko,Hn),Hn|=r;return Dn(t,e,i,n),e.child}function iP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sp(t,e,n,r,i){var s=zn(n)?Ua:En.current;return s=ll(e,s),tl(e,i),n=Pv(t,e,n,r,s,i),r=xv(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ui(t,e,i)):(dt&&r&&hv(e),e.flags|=1,Dn(t,e,n,i),e.child)}function _w(t,e,n,r,i){if(zn(n)){var s=!0;ef(e)}else s=!1;if(tl(e,i),e.stateNode===null)Md(t,e),ZS(e,n,r),rp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=dr(d):(d=zn(n)?Ua:En.current,d=ll(e,d));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||c!==d)&&fw(e,o,r,d),xs=!1;var v=e.memoizedState;o.state=v,af(e,r,o,i),c=e.memoizedState,u!==r||v!==c||kn.current||xs?(typeof h=="function"&&(np(e,n,h,r),c=e.memoizedState),(u=xs||dw(e,n,u,r,v,c,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,NS(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Dr(e.type,u),o.props=d,p=e.pendingProps,v=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=dr(c):(c=zn(n)?Ua:En.current,c=ll(e,c));var E=n.getDerivedStateFromProps;(h=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==p||v!==c)&&fw(e,o,r,c),xs=!1,v=e.memoizedState,o.state=v,af(e,r,o,i);var O=e.memoizedState;u!==p||v!==O||kn.current||xs?(typeof E=="function"&&(np(e,n,E,r),O=e.memoizedState),(d=xs||dw(e,n,d,r,v,O,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,O,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,O,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=O),o.props=r,o.state=O,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return ap(t,e,n,r,s,i)}function ap(t,e,n,r,i,s){iP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&rw(e,n,!1),Ui(t,e,s);r=e.stateNode,m2.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=cl(e,t.child,null,s),e.child=cl(e,null,u,s)):Dn(t,e,u,s),e.memoizedState=r.state,i&&rw(e,n,!0),e.child}function sP(t){var e=t.stateNode;e.pendingContext?nw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nw(t,e.context,!1),Ev(t,e.containerInfo)}function yw(t,e,n,r,i){return ul(),gv(i),e.flags|=256,Dn(t,e,n,r),e.child}var op={dehydrated:null,treeContext:null,retryLane:0};function lp(t){return{baseLanes:t,cachePool:null,transitions:null}}function aP(t,e,n){var r=e.pendingProps,i=mt.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(mt,i&1),t===null)return ep(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qf(o,r,0,null),t=ka(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=lp(n),e.memoizedState=op,t):Ov(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return g2(t,e,o,r,u,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Us(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Us(u,s):(s=ka(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?lp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=op,r}return s=t.child,t=s.sibling,r=Us(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ov(t,e){return e=qf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function td(t,e,n,r){return r!==null&&gv(r),cl(e,t.child,null,n),t=Ov(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=$m(Error(K(422))),td(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=qf({mode:"visible",children:r.children},i,0,null),s=ka(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&cl(e,t.child,null,o),e.child.memoizedState=lp(o),e.memoizedState=op,s);if(!(e.mode&1))return td(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(K(419)),r=$m(s,r,void 0),td(t,e,o,r)}if(u=(o&t.childLanes)!==0,Vn||u){if(r=Gt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wi(t,i),Rr(r,t,i,-1))}return jv(),r=$m(Error(K(421))),td(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=D2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Yn=Vs(i.nextSibling),qn=e,dt=!0,Mr=null,t!==null&&(sr[ar++]=Mi,sr[ar++]=Ci,sr[ar++]=Ba,Mi=t.id,Ci=t.overflow,Ba=e),e=Ov(e,r.children),e.flags|=4096,e)}function ww(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tp(t.return,e,n)}function Hm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function oP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Dn(t,e,r.children,n),r=mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ww(t,n,e);else if(t.tag===19)ww(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(mt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&of(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&of(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hm(e,!0,n,null,s);break;case"together":Hm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Md(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ui(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ha|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Us(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Us(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function p2(t,e,n){switch(e.tag){case 3:sP(e),ul();break;case 5:RS(e);break;case 1:zn(e.type)&&ef(e);break;case 4:Ev(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(rf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?aP(t,e,n):(rt(mt,mt.current&1),t=Ui(t,e,n),t!==null?t.sibling:null);rt(mt,mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return oP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(mt,mt.current),r)break;return null;case 22:case 23:return e.lanes=0,rP(t,e,n)}return Ui(t,e,n)}var lP,up,uP,cP;lP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};up=function(){};uP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ja(Zr.current);var s=null;switch(n){case"input":i=Cg(t,i),r=Cg(t,r),s=[];break;case"select":i=pt({},i,{value:void 0}),r=pt({},r,{value:void 0}),s=[];break;case"textarea":i=Ag(t,i),r=Ag(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jd)}Fg(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ju.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(u=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ju.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&at("scroll",t),s||u===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};cP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ql(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function v2(t,e,n){var r=e.pendingProps;switch(mv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(e),null;case 1:return zn(e.type)&&Zd(),pn(e),null;case 3:return r=e.stateNode,dl(),ut(kn),ut(En),Tv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mr!==null&&(vp(Mr),Mr=null))),up(t,e),pn(e),null;case 5:bv(e);var i=ja(qu.current);if(n=e.type,t!==null&&e.stateNode!=null)uP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return pn(e),null}if(t=ja(Zr.current),Zc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Xr]=e,r[Hu]=s,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(i=0;i<mu.length;i++)at(mu[i],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":O0(r,s),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},at("invalid",r);break;case"textarea":C0(r,s),at("invalid",r)}Fg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Jc(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Jc(r.textContent,u,t),i=["children",""+u]):ju.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&at("scroll",r)}switch(n){case"input":$c(r),M0(r,s,!0);break;case"textarea":$c(r),N0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xr]=e,t[Hu]=r,lP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Lg(n,r),n){case"dialog":at("cancel",t),at("close",t),i=r;break;case"iframe":case"object":case"embed":at("load",t),i=r;break;case"video":case"audio":for(i=0;i<mu.length;i++)at(mu[i],t);i=r;break;case"source":at("error",t),i=r;break;case"img":case"image":case"link":at("error",t),at("load",t),i=r;break;case"details":at("toggle",t),i=r;break;case"input":O0(t,r),i=Cg(t,r),at("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pt({},r,{value:void 0}),at("invalid",t);break;case"textarea":C0(t,r),i=Ag(t,r),at("invalid",t);break;default:i=r}Fg(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?WT(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kT(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fu(t,c):typeof c=="number"&&Fu(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ju.hasOwnProperty(s)?c!=null&&s==="onScroll"&&at("scroll",t):c!=null&&Zp(t,s,c,o))}switch(n){case"input":$c(t),M0(t,r,!1);break;case"textarea":$c(t),N0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Xo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Xo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pn(e),null;case 6:if(t&&e.stateNode!=null)cP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=ja(qu.current),ja(Zr.current),Zc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xr]=e,(s=r.nodeValue!==n)&&(t=qn,t!==null))switch(t.tag){case 3:Jc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xr]=e,e.stateNode=r}return pn(e),null;case 13:if(ut(mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Yn!==null&&e.mode&1&&!(e.flags&128))DS(),ul(),e.flags|=98560,s=!1;else if(s=Zc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Xr]=e}else ul(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pn(e),s=!1}else Mr!==null&&(vp(Mr),Mr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?zt===0&&(zt=3):jv())),e.updateQueue!==null&&(e.flags|=4),pn(e),null);case 4:return dl(),up(t,e),t===null&&Bu(e.stateNode.containerInfo),pn(e),null;case 10:return _v(e.type._context),pn(e),null;case 17:return zn(e.type)&&Zd(),pn(e),null;case 19:if(ut(mt),s=e.memoizedState,s===null)return pn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ql(s,!1);else{if(zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=of(t),o!==null){for(e.flags|=128,Ql(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(mt,mt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Mt()>hl&&(e.flags|=128,r=!0,Ql(s,!1),e.lanes=4194304)}else{if(!r)if(t=of(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ql(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!dt)return pn(e),null}else 2*Mt()-s.renderingStartTime>hl&&n!==1073741824&&(e.flags|=128,r=!0,Ql(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Mt(),e.sibling=null,n=mt.current,rt(mt,r?n&1|2:n&1),e):(pn(e),null);case 22:case 23:return Av(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Hn&1073741824&&(pn(e),e.subtreeFlags&6&&(e.flags|=8192)):pn(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function _2(t,e){switch(mv(e),e.tag){case 1:return zn(e.type)&&Zd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return dl(),ut(kn),ut(En),Tv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bv(e),null;case 13:if(ut(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(mt),null;case 4:return dl(),null;case 10:return _v(e.type._context),null;case 22:case 23:return Av(),null;case 24:return null;default:return null}}var nd=!1,yn=!1,y2=typeof WeakSet=="function"?WeakSet:Set,re=null;function Qo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(t,e,r)}else n.current=null}function cp(t,e,n){try{n()}catch(r){bt(t,e,r)}}var Ew=!1;function w2(t,e){if(qg=Qd,t=gS(),fv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,c=-1,d=0,h=0,p=t,v=null;t:for(;;){for(var E;p!==n||i!==0&&p.nodeType!==3||(u=o+i),p!==s||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(E=p.firstChild)!==null;)v=p,p=E;for(;;){if(p===t)break t;if(v===n&&++d===i&&(u=o),v===s&&++h===r&&(c=o),(E=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=E}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gg={focusedElem:t,selectionRange:n},Qd=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var O=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var I=O.memoizedProps,A=O.memoizedState,b=e.stateNode,S=b.getSnapshotBeforeUpdate(e.elementType===e.type?I:Dr(e.type,I),A);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(j){bt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return O=Ew,Ew=!1,O}function xu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&cp(e,n,s)}i=i.next}while(i!==r)}}function Hf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dP(t){var e=t.alternate;e!==null&&(t.alternate=null,dP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xr],delete e[Hu],delete e[Xg],delete e[n2],delete e[r2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fP(t){return t.tag===5||t.tag===3||t.tag===4}function bw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jd));else if(r!==4&&(t=t.child,t!==null))for(fp(t,e,n),t=t.sibling;t!==null;)fp(t,e,n),t=t.sibling}function hp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hp(t,e,n),t=t.sibling;t!==null;)hp(t,e,n),t=t.sibling}var tn=null,Or=!1;function _s(t,e,n){for(n=n.child;n!==null;)hP(t,e,n),n=n.sibling}function hP(t,e,n){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(Lf,n)}catch{}switch(n.tag){case 5:yn||Qo(n,e);case 6:var r=tn,i=Or;tn=null,_s(t,e,n),tn=r,Or=i,tn!==null&&(Or?(t=tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tn.removeChild(n.stateNode));break;case 18:tn!==null&&(Or?(t=tn,n=n.stateNode,t.nodeType===8?Vm(t.parentNode,n):t.nodeType===1&&Vm(t,n),zu(t)):Vm(tn,n.stateNode));break;case 4:r=tn,i=Or,tn=n.stateNode.containerInfo,Or=!0,_s(t,e,n),tn=r,Or=i;break;case 0:case 11:case 14:case 15:if(!yn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cp(n,e,o),i=i.next}while(i!==r)}_s(t,e,n);break;case 1:if(!yn&&(Qo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){bt(n,e,u)}_s(t,e,n);break;case 21:_s(t,e,n);break;case 22:n.mode&1?(yn=(r=yn)||n.memoizedState!==null,_s(t,e,n),yn=r):_s(t,e,n);break;default:_s(t,e,n)}}function Tw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new y2),e.forEach(function(r){var i=O2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:tn=u.stateNode,Or=!1;break e;case 3:tn=u.stateNode.containerInfo,Or=!0;break e;case 4:tn=u.stateNode.containerInfo,Or=!0;break e}u=u.return}if(tn===null)throw Error(K(160));hP(s,o,i),tn=null,Or=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){bt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mP(e,t),e=e.sibling}function mP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ir(e,t),qr(t),r&4){try{xu(3,t,t.return),Hf(3,t)}catch(I){bt(t,t.return,I)}try{xu(5,t,t.return)}catch(I){bt(t,t.return,I)}}break;case 1:Ir(e,t),qr(t),r&512&&n!==null&&Qo(n,n.return);break;case 5:if(Ir(e,t),qr(t),r&512&&n!==null&&Qo(n,n.return),t.flags&32){var i=t.stateNode;try{Fu(i,"")}catch(I){bt(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&FT(i,s),Lg(u,o);var d=Lg(u,s);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?WT(i,p):h==="dangerouslySetInnerHTML"?kT(i,p):h==="children"?Fu(i,p):Zp(i,h,p,d)}switch(u){case"input":Ng(i,s);break;case"textarea":LT(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?Xo(i,!!s.multiple,E,!1):v!==!!s.multiple&&(s.defaultValue!=null?Xo(i,!!s.multiple,s.defaultValue,!0):Xo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hu]=s}catch(I){bt(t,t.return,I)}}break;case 6:if(Ir(e,t),qr(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){bt(t,t.return,I)}}break;case 3:if(Ir(e,t),qr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zu(e.containerInfo)}catch(I){bt(t,t.return,I)}break;case 4:Ir(e,t),qr(t);break;case 13:Ir(e,t),qr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Nv=Mt())),r&4&&Tw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(yn=(d=yn)||h,Ir(e,t),yn=d):Ir(e,t),qr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(re=t,h=t.child;h!==null;){for(p=re=h;re!==null;){switch(v=re,E=v.child,v.tag){case 0:case 11:case 14:case 15:xu(4,v,v.return);break;case 1:Qo(v,v.return);var O=v.stateNode;if(typeof O.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,O.props=e.memoizedProps,O.state=e.memoizedState,O.componentWillUnmount()}catch(I){bt(r,n,I)}}break;case 5:Qo(v,v.return);break;case 22:if(v.memoizedState!==null){Pw(p);continue}}E!==null?(E.return=v,re=E):Pw(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=zT("display",o))}catch(I){bt(t,t.return,I)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(I){bt(t,t.return,I)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ir(e,t),qr(t),r&4&&Tw(t);break;case 21:break;default:Ir(e,t),qr(t)}}function qr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fP(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fu(i,""),r.flags&=-33);var s=bw(t);hp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=bw(t);fp(t,u,o);break;default:throw Error(K(161))}}catch(c){bt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function E2(t,e,n){re=t,gP(t)}function gP(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||nd;if(!o){var u=i.alternate,c=u!==null&&u.memoizedState!==null||yn;u=nd;var d=yn;if(nd=o,(yn=c)&&!d)for(re=i;re!==null;)o=re,c=o.child,o.tag===22&&o.memoizedState!==null?xw(i):c!==null?(c.return=o,re=c):xw(i);for(;s!==null;)re=s,gP(s),s=s.sibling;re=i,nd=u,yn=d}Sw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):Sw(t)}}function Sw(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yn||Hf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Dr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&lw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lw(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&zu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}yn||e.flags&512&&dp(e)}catch(v){bt(e,e.return,v)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function Pw(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function xw(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hf(4,e)}catch(c){bt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){bt(e,i,c)}}var s=e.return;try{dp(e)}catch(c){bt(e,s,c)}break;case 5:var o=e.return;try{dp(e)}catch(c){bt(e,o,c)}}}catch(c){bt(e,e.return,c)}if(e===t){re=null;break}var u=e.sibling;if(u!==null){u.return=e.return,re=u;break}re=e.return}}var b2=Math.ceil,cf=Gi.ReactCurrentDispatcher,Mv=Gi.ReactCurrentOwner,cr=Gi.ReactCurrentBatchConfig,Le=0,Gt=null,Lt=null,sn=0,Hn=0,Ko=na(0),zt=0,Xu=null,Ha=0,Yf=0,Cv=0,Iu=null,Ln=null,Nv=0,hl=1/0,xi=null,df=!1,mp=null,zs=null,rd=!1,Rs=null,ff=0,Du=0,gp=null,Cd=-1,Nd=0;function Cn(){return Le&6?Mt():Cd!==-1?Cd:Cd=Mt()}function Ws(t){return t.mode&1?Le&2&&sn!==0?sn&-sn:s2.transition!==null?(Nd===0&&(Nd=ZT()),Nd):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:aS(t.type)),t):1}function Rr(t,e,n,r){if(50<Du)throw Du=0,gp=null,Error(K(185));cc(t,n,r),(!(Le&2)||t!==Gt)&&(t===Gt&&(!(Le&2)&&(Yf|=n),zt===4&&Ds(t,sn)),Wn(t,r),n===1&&Le===0&&!(e.mode&1)&&(hl=Mt()+500,Uf&&ra()))}function Wn(t,e){var n=t.callbackNode;sC(t,e);var r=Gd(t,t===Gt?sn:0);if(r===0)n!==null&&j0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&j0(n),e===1)t.tag===0?i2(Iw.bind(null,t)):PS(Iw.bind(null,t)),e2(function(){!(Le&6)&&ra()}),n=null;else{switch(eS(r)){case 1:n=iv;break;case 4:n=XT;break;case 16:n=qd;break;case 536870912:n=JT;break;default:n=qd}n=TP(n,pP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pP(t,e){if(Cd=-1,Nd=0,Le&6)throw Error(K(327));var n=t.callbackNode;if(nl()&&t.callbackNode!==n)return null;var r=Gd(t,t===Gt?sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hf(t,r);else{e=r;var i=Le;Le|=2;var s=_P();(Gt!==t||sn!==e)&&(xi=null,hl=Mt()+500,Va(t,e));do try{P2();break}catch(u){vP(t,u)}while(!0);vv(),cf.current=s,Le=i,Lt!==null?e=0:(Gt=null,sn=0,e=zt)}if(e!==0){if(e===2&&(i=Ug(t),i!==0&&(r=i,e=pp(t,i))),e===1)throw n=Xu,Va(t,0),Ds(t,r),Wn(t,Mt()),n;if(e===6)Ds(t,r);else{if(i=t.current.alternate,!(r&30)&&!T2(i)&&(e=hf(t,r),e===2&&(s=Ug(t),s!==0&&(r=s,e=pp(t,s))),e===1))throw n=Xu,Va(t,0),Ds(t,r),Wn(t,Mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Oa(t,Ln,xi);break;case 3:if(Ds(t,r),(r&130023424)===r&&(e=Nv+500-Mt(),10<e)){if(Gd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kg(Oa.bind(null,t,Ln,xi),e);break}Oa(t,Ln,xi);break;case 4:if(Ds(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Nr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*b2(r/1960))-r,10<r){t.timeoutHandle=Kg(Oa.bind(null,t,Ln,xi),r);break}Oa(t,Ln,xi);break;case 5:Oa(t,Ln,xi);break;default:throw Error(K(329))}}}return Wn(t,Mt()),t.callbackNode===n?pP.bind(null,t):null}function pp(t,e){var n=Iu;return t.current.memoizedState.isDehydrated&&(Va(t,e).flags|=256),t=hf(t,e),t!==2&&(e=Ln,Ln=n,e!==null&&vp(e)),t}function vp(t){Ln===null?Ln=t:Ln.push.apply(Ln,t)}function T2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!jr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ds(t,e){for(e&=~Cv,e&=~Yf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nr(e),r=1<<n;t[n]=-1,e&=~r}}function Iw(t){if(Le&6)throw Error(K(327));nl();var e=Gd(t,0);if(!(e&1))return Wn(t,Mt()),null;var n=hf(t,e);if(t.tag!==0&&n===2){var r=Ug(t);r!==0&&(e=r,n=pp(t,r))}if(n===1)throw n=Xu,Va(t,0),Ds(t,e),Wn(t,Mt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oa(t,Ln,xi),Wn(t,Mt()),null}function Rv(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(hl=Mt()+500,Uf&&ra())}}function Ya(t){Rs!==null&&Rs.tag===0&&!(Le&6)&&nl();var e=Le;Le|=1;var n=cr.transition,r=Qe;try{if(cr.transition=null,Qe=1,t)return t()}finally{Qe=r,cr.transition=n,Le=e,!(Le&6)&&ra()}}function Av(){Hn=Ko.current,ut(Ko)}function Va(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZC(n)),Lt!==null)for(n=Lt.return;n!==null;){var r=n;switch(mv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zd();break;case 3:dl(),ut(kn),ut(En),Tv();break;case 5:bv(r);break;case 4:dl();break;case 13:ut(mt);break;case 19:ut(mt);break;case 10:_v(r.type._context);break;case 22:case 23:Av()}n=n.return}if(Gt=t,Lt=t=Us(t.current,null),sn=Hn=e,zt=0,Xu=null,Cv=Yf=Ha=0,Ln=Iu=null,Aa!==null){for(e=0;e<Aa.length;e++)if(n=Aa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Aa=null}return t}function vP(t,e){do{var n=Lt;try{if(vv(),Dd.current=uf,lf){for(var r=gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lf=!1}if($a=0,qt=Vt=gt=null,Pu=!1,Gu=0,Mv.current=null,n===null||n.return===null){zt=1,Xu=e,Lt=null;break}e:{var s=t,o=n.return,u=n,c=e;if(e=sn,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=u,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var v=h.alternate;v?(h.updateQueue=v.updateQueue,h.memoizedState=v.memoizedState,h.lanes=v.lanes):(h.updateQueue=null,h.memoizedState=null)}var E=mw(o);if(E!==null){E.flags&=-257,gw(E,o,u,s,e),E.mode&1&&hw(s,d,e),e=E,c=d;var O=e.updateQueue;if(O===null){var I=new Set;I.add(c),e.updateQueue=I}else O.add(c);break e}else{if(!(e&1)){hw(s,d,e),jv();break e}c=Error(K(426))}}else if(dt&&u.mode&1){var A=mw(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),gw(A,o,u,s,e),gv(fl(c,u));break e}}s=c=fl(c,u),zt!==4&&(zt=2),Iu===null?Iu=[s]:Iu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=eP(s,c,e);ow(s,b);break e;case 1:u=c;var S=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(zs===null||!zs.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=tP(s,u,e);ow(s,j);break e}}s=s.return}while(s!==null)}wP(n)}catch(U){e=U,Lt===n&&n!==null&&(Lt=n=n.return);continue}break}while(!0)}function _P(){var t=cf.current;return cf.current=uf,t===null?uf:t}function jv(){(zt===0||zt===3||zt===2)&&(zt=4),Gt===null||!(Ha&268435455)&&!(Yf&268435455)||Ds(Gt,sn)}function hf(t,e){var n=Le;Le|=2;var r=_P();(Gt!==t||sn!==e)&&(xi=null,Va(t,e));do try{S2();break}catch(i){vP(t,i)}while(!0);if(vv(),Le=n,cf.current=r,Lt!==null)throw Error(K(261));return Gt=null,sn=0,zt}function S2(){for(;Lt!==null;)yP(Lt)}function P2(){for(;Lt!==null&&!KM();)yP(Lt)}function yP(t){var e=bP(t.alternate,t,Hn);t.memoizedProps=t.pendingProps,e===null?wP(t):Lt=e,Mv.current=null}function wP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_2(n,e),n!==null){n.flags&=32767,Lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{zt=6,Lt=null;return}}else if(n=v2(n,e,Hn),n!==null){Lt=n;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);zt===0&&(zt=5)}function Oa(t,e,n){var r=Qe,i=cr.transition;try{cr.transition=null,Qe=1,x2(t,e,n,r)}finally{cr.transition=i,Qe=r}return null}function x2(t,e,n,r){do nl();while(Rs!==null);if(Le&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(aC(t,s),t===Gt&&(Lt=Gt=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rd||(rd=!0,TP(qd,function(){return nl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=cr.transition,cr.transition=null;var o=Qe;Qe=1;var u=Le;Le|=4,Mv.current=null,w2(t,n),mP(n,t),YC(Gg),Qd=!!qg,Gg=qg=null,t.current=n,E2(n),XM(),Le=u,Qe=o,cr.transition=s}else t.current=n;if(rd&&(rd=!1,Rs=t,ff=i),s=t.pendingLanes,s===0&&(zs=null),eC(n.stateNode),Wn(t,Mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(df)throw df=!1,t=mp,mp=null,t;return ff&1&&t.tag!==0&&nl(),s=t.pendingLanes,s&1?t===gp?Du++:(Du=0,gp=t):Du=0,ra(),null}function nl(){if(Rs!==null){var t=eS(ff),e=cr.transition,n=Qe;try{if(cr.transition=null,Qe=16>t?16:t,Rs===null)var r=!1;else{if(t=Rs,Rs=null,ff=0,Le&6)throw Error(K(331));var i=Le;for(Le|=4,re=t.current;re!==null;){var s=re,o=s.child;if(re.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(re=d;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:xu(8,h,s)}var p=h.child;if(p!==null)p.return=h,re=p;else for(;re!==null;){h=re;var v=h.sibling,E=h.return;if(dP(h),h===d){re=null;break}if(v!==null){v.return=E,re=v;break}re=E}}}var O=s.alternate;if(O!==null){var I=O.child;if(I!==null){O.child=null;do{var A=I.sibling;I.sibling=null,I=A}while(I!==null)}}re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,re=o;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xu(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,re=b;break e}re=s.return}}var S=t.current;for(re=S;re!==null;){o=re;var M=o.child;if(o.subtreeFlags&2064&&M!==null)M.return=o,re=M;else e:for(o=S;re!==null;){if(u=re,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Hf(9,u)}}catch(U){bt(u,u.return,U)}if(u===o){re=null;break e}var j=u.sibling;if(j!==null){j.return=u.return,re=j;break e}re=u.return}}if(Le=i,ra(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(Lf,t)}catch{}r=!0}return r}finally{Qe=n,cr.transition=e}}return!1}function Dw(t,e,n){e=fl(n,e),e=eP(t,e,1),t=ks(t,e,1),e=Cn(),t!==null&&(cc(t,1,e),Wn(t,e))}function bt(t,e,n){if(t.tag===3)Dw(t,t,n);else for(;e!==null;){if(e.tag===3){Dw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zs===null||!zs.has(r))){t=fl(n,t),t=tP(e,t,1),e=ks(e,t,1),t=Cn(),e!==null&&(cc(e,1,t),Wn(e,t));break}}e=e.return}}function I2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Cn(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(sn&n)===n&&(zt===4||zt===3&&(sn&130023424)===sn&&500>Mt()-Nv?Va(t,0):Cv|=n),Wn(t,e)}function EP(t,e){e===0&&(t.mode&1?(e=qc,qc<<=1,!(qc&130023424)&&(qc=4194304)):e=1);var n=Cn();t=Wi(t,e),t!==null&&(cc(t,e,n),Wn(t,n))}function D2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),EP(t,n)}function O2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),EP(t,n)}var bP;bP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)Vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vn=!1,p2(t,e,n);Vn=!!(t.flags&131072)}else Vn=!1,dt&&e.flags&1048576&&xS(e,nf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Md(t,e),t=e.pendingProps;var i=ll(e,En.current);tl(e,n),i=Pv(null,e,r,t,i,n);var s=xv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(r)?(s=!0,ef(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wv(e),i.updater=$f,e.stateNode=i,i._reactInternals=e,rp(e,r,t,n),e=ap(null,e,r,!0,s,n)):(e.tag=0,dt&&s&&hv(e),Dn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Md(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=C2(r),t=Dr(r,t),i){case 0:e=sp(null,e,r,t,n);break e;case 1:e=_w(null,e,r,t,n);break e;case 11:e=pw(null,e,r,t,n);break e;case 14:e=vw(null,e,r,Dr(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dr(r,i),sp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dr(r,i),_w(t,e,r,i,n);case 3:e:{if(sP(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,NS(t,e),af(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=fl(Error(K(423)),e),e=yw(t,e,r,n,i);break e}else if(r!==i){i=fl(Error(K(424)),e),e=yw(t,e,r,n,i);break e}else for(Yn=Vs(e.stateNode.containerInfo.firstChild),qn=e,dt=!0,Mr=null,n=MS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ul(),r===i){e=Ui(t,e,n);break e}Dn(t,e,r,n)}e=e.child}return e;case 5:return RS(e),t===null&&ep(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Qg(r,i)?o=null:s!==null&&Qg(r,s)&&(e.flags|=32),iP(t,e),Dn(t,e,o,n),e.child;case 6:return t===null&&ep(e),null;case 13:return aP(t,e,n);case 4:return Ev(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cl(e,null,r,n):Dn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dr(r,i),pw(t,e,r,i,n);case 7:return Dn(t,e,e.pendingProps,n),e.child;case 8:return Dn(t,e,e.pendingProps.children,n),e.child;case 12:return Dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rt(rf,r._currentValue),r._currentValue=o,s!==null)if(jr(s.value,o)){if(s.children===i.children&&!kn.current){e=Ui(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Li(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),tp(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),tp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Dn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,tl(e,n),i=dr(i),r=r(i),e.flags|=1,Dn(t,e,r,n),e.child;case 14:return r=e.type,i=Dr(r,e.pendingProps),i=Dr(r.type,i),vw(t,e,r,i,n);case 15:return nP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dr(r,i),Md(t,e),e.tag=1,zn(r)?(t=!0,ef(e)):t=!1,tl(e,n),ZS(e,r,i),rp(e,r,i,n),ap(null,e,r,!0,t,n);case 19:return oP(t,e,n);case 22:return rP(t,e,n)}throw Error(K(156,e.tag))};function TP(t,e){return KT(t,e)}function M2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(t,e,n,r){return new M2(t,e,n,r)}function Fv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function C2(t){if(typeof t=="function")return Fv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tv)return 11;if(t===nv)return 14}return 2}function Us(t,e){var n=t.alternate;return n===null?(n=ur(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Fv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zo:return ka(n.children,i,s,e);case ev:o=8,i|=8;break;case Ig:return t=ur(12,n,e,i|2),t.elementType=Ig,t.lanes=s,t;case Dg:return t=ur(13,n,e,i),t.elementType=Dg,t.lanes=s,t;case Og:return t=ur(19,n,e,i),t.elementType=Og,t.lanes=s,t;case RT:return qf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CT:o=10;break e;case NT:o=9;break e;case tv:o=11;break e;case nv:o=14;break e;case Ps:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=ur(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ka(t,e,n,r){return t=ur(7,t,r,e),t.lanes=n,t}function qf(t,e,n,r){return t=ur(22,t,r,e),t.elementType=RT,t.lanes=n,t.stateNode={isHidden:!1},t}function Ym(t,e,n){return t=ur(6,t,null,e),t.lanes=n,t}function qm(t,e,n){return e=ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function N2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Im(0),this.expirationTimes=Im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Im(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lv(t,e,n,r,i,s,o,u,c){return t=new N2(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ur(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wv(s),t}function R2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function SP(t){if(!t)return Qs;t=t._reactInternals;e:{if(Za(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(zn(n))return SS(t,n,e)}return e}function PP(t,e,n,r,i,s,o,u,c){return t=Lv(n,r,!0,t,i,s,o,u,c),t.context=SP(null),n=t.current,r=Cn(),i=Ws(n),s=Li(r,i),s.callback=e??null,ks(n,s,i),t.current.lanes=i,cc(t,i,r),Wn(t,r),t}function Gf(t,e,n,r){var i=e.current,s=Cn(),o=Ws(i);return n=SP(n),e.context===null?e.context=n:e.pendingContext=n,e=Li(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ks(i,e,o),t!==null&&(Rr(t,i,o,s),Id(t,i,o)),o}function mf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ow(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vv(t,e){Ow(t,e),(t=t.alternate)&&Ow(t,e)}function A2(){return null}var xP=typeof reportError=="function"?reportError:function(t){console.error(t)};function kv(t){this._internalRoot=t}Qf.prototype.render=kv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Gf(t,e,null,null)};Qf.prototype.unmount=kv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ya(function(){Gf(null,t,null,null)}),e[zi]=null}};function Qf(t){this._internalRoot=t}Qf.prototype.unstable_scheduleHydration=function(t){if(t){var e=rS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Is.length&&e!==0&&e<Is[n].priority;n++);Is.splice(n,0,t),n===0&&sS(t)}};function zv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mw(){}function j2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=mf(o);s.call(d)}}var o=PP(e,r,t,0,null,!1,!1,"",Mw);return t._reactRootContainer=o,t[zi]=o.current,Bu(t.nodeType===8?t.parentNode:t),Ya(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var d=mf(c);u.call(d)}}var c=Lv(t,0,!1,null,null,!1,!1,"",Mw);return t._reactRootContainer=c,t[zi]=c.current,Bu(t.nodeType===8?t.parentNode:t),Ya(function(){Gf(e,c,n,r)}),c}function Xf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var c=mf(o);u.call(c)}}Gf(e,o,t,i)}else o=j2(n,e,t,i,r);return mf(o)}tS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hu(e.pendingLanes);n!==0&&(sv(e,n|1),Wn(e,Mt()),!(Le&6)&&(hl=Mt()+500,ra()))}break;case 13:Ya(function(){var r=Wi(t,1);if(r!==null){var i=Cn();Rr(r,t,1,i)}}),Vv(t,1)}};av=function(t){if(t.tag===13){var e=Wi(t,134217728);if(e!==null){var n=Cn();Rr(e,t,134217728,n)}Vv(t,134217728)}};nS=function(t){if(t.tag===13){var e=Ws(t),n=Wi(t,e);if(n!==null){var r=Cn();Rr(n,t,e,r)}Vv(t,e)}};rS=function(){return Qe};iS=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};kg=function(t,e,n){switch(e){case"input":if(Ng(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Wf(r);if(!i)throw Error(K(90));jT(r),Ng(r,i)}}}break;case"textarea":LT(t,n);break;case"select":e=n.value,e!=null&&Xo(t,!!n.multiple,e,!1)}};$T=Rv;HT=Ya;var F2={usingClientEntryPoint:!1,Events:[fc,$o,Wf,UT,BT,Rv]},Kl={findFiberByHostInstance:Ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L2={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=GT(t),t===null?null:t.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||A2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{Lf=id.inject(L2),Jr=id}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F2;Xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zv(e))throw Error(K(200));return R2(t,e,null,n)};Xn.createRoot=function(t,e){if(!zv(t))throw Error(K(299));var n=!1,r="",i=xP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lv(t,1,!1,null,null,n,!1,r,i),t[zi]=e.current,Bu(t.nodeType===8?t.parentNode:t),new kv(e)};Xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=GT(e),t=t===null?null:t.stateNode,t};Xn.flushSync=function(t){return Ya(t)};Xn.hydrate=function(t,e,n){if(!Kf(e))throw Error(K(200));return Xf(null,t,e,!0,n)};Xn.hydrateRoot=function(t,e,n){if(!zv(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=xP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=PP(e,null,t,1,n??null,i,!1,s,o),t[zi]=e.current,Bu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qf(e)};Xn.render=function(t,e,n){if(!Kf(e))throw Error(K(200));return Xf(null,t,e,!1,n)};Xn.unmountComponentAtNode=function(t){if(!Kf(t))throw Error(K(40));return t._reactRootContainer?(Ya(function(){Xf(null,null,t,!1,function(){t._reactRootContainer=null,t[zi]=null})}),!0):!1};Xn.unstable_batchedUpdates=Rv;Xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kf(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Xf(t,e,n,!1,r)};Xn.version="18.3.1-next-f1338f8080-20240426";function IP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IP)}catch(t){console.error(t)}}IP(),IT.exports=Xn;var V2=IT.exports,Cw=V2;Pg.createRoot=Cw.createRoot,Pg.hydrateRoot=Cw.hydrateRoot;var Wv={},mc={},DP={exports:{}},k2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",z2=k2,W2=z2;function OP(){}function MP(){}MP.resetWarningCache=OP;var U2=function(){function t(r,i,s,o,u,c){if(c!==W2){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:MP,resetWarningCache:OP};return n.PropTypes=n,n};DP.exports=U2();var Qi=DP.exports,gc={},Bi={},CP={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var u=arguments[o];u&&(s=i(s,r(u)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var u in s)e.call(s,u)&&s[u]&&(o=i(o,u));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(CP);var eo=CP.exports,ia={},Uv={},oi={},fe={},X={};X.secondsInYear=X.secondsInWeek=X.secondsInQuarter=X.secondsInMonth=X.secondsInMinute=X.secondsInHour=X.secondsInDay=X.quartersInYear=X.monthsInYear=X.monthsInQuarter=X.minutesInYear=X.minutesInMonth=X.minutesInHour=X.minutesInDay=X.minTime=X.millisecondsInWeek=X.millisecondsInSecond=X.millisecondsInMinute=X.millisecondsInHour=X.millisecondsInDay=X.maxTime=X.daysInYear=X.daysInWeek=X.constructFromSymbol=void 0;X.daysInWeek=7;const B2=X.daysInYear=365.2425,$2=X.maxTime=Math.pow(10,8)*24*60*60*1e3;X.minTime=-$2;X.millisecondsInWeek=6048e5;X.millisecondsInDay=864e5;X.millisecondsInMinute=6e4;X.millisecondsInHour=36e5;X.millisecondsInSecond=1e3;X.minutesInYear=525600;X.minutesInMonth=43200;X.minutesInDay=1440;X.minutesInHour=60;X.monthsInQuarter=3;X.monthsInYear=12;X.quartersInYear=4;const H2=X.secondsInHour=3600;X.secondsInMinute=60;const NP=X.secondsInDay=H2*24;X.secondsInWeek=NP*7;const Y2=X.secondsInYear=NP*B2,q2=X.secondsInMonth=Y2/12;X.secondsInQuarter=q2*3;X.constructFromSymbol=Symbol.for("constructDateFrom");fe.constructFrom=G2;var Nw=X;function G2(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Nw.constructFromSymbol in t?t[Nw.constructFromSymbol](e):t instanceof Date?new t.constructor(e):new Date(e)}var B={};B.toDate=K2;var Q2=fe;function K2(t,e){return(0,Q2.constructFrom)(e||t,t)}oi.addDays=Z2;var X2=fe,J2=B;function Z2(t,e,n){const r=(0,J2.toDate)(t,n==null?void 0:n.in);return isNaN(e)?(0,X2.constructFrom)((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}var xl={};xl.addMonths=tN;var Rw=fe,eN=B;function tN(t,e,n){const r=(0,eN.toDate)(t,n==null?void 0:n.in);if(isNaN(e))return(0,Rw.constructFrom)((n==null?void 0:n.in)||t,NaN);if(!e)return r;const i=r.getDate(),s=(0,Rw.constructFrom)((n==null?void 0:n.in)||t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}Uv.add=aN;var nN=oi,rN=xl,iN=fe,sN=B;function aN(t,e,n){const{years:r=0,months:i=0,weeks:s=0,days:o=0,hours:u=0,minutes:c=0,seconds:d=0}=e,h=(0,sN.toDate)(t,n==null?void 0:n.in),p=i||r?(0,rN.addMonths)(h,i+r*12):h,v=o||s?(0,nN.addDays)(p,o+s*7):p,E=c+u*60,I=(d+E*60)*1e3;return(0,iN.constructFrom)((n==null?void 0:n.in)||t,+v+I)}var Bv={},$v={};$v.isSaturday=lN;var oN=B;function lN(t,e){return(0,oN.toDate)(t,e==null?void 0:e.in).getDay()===6}var Hv={};Hv.isSunday=cN;var uN=B;function cN(t,e){return(0,uN.toDate)(t,e==null?void 0:e.in).getDay()===0}var pc={};pc.isWeekend=fN;var dN=B;function fN(t,e){const n=(0,dN.toDate)(t,e==null?void 0:e.in).getDay();return n===0||n===6}Bv.addBusinessDays=vN;var hN=fe,mN=$v,gN=Hv,Gm=pc,pN=B;function vN(t,e,n){const r=(0,pN.toDate)(t,n==null?void 0:n.in),i=(0,Gm.isWeekend)(r,n);if(isNaN(e))return(0,hN.constructFrom)(n==null?void 0:n.in,NaN);const s=r.getHours(),o=e<0?-1:1,u=Math.trunc(e/5);r.setDate(r.getDate()+u*7);let c=Math.abs(e%5);for(;c>0;)r.setDate(r.getDate()+o),(0,Gm.isWeekend)(r,n)||(c-=1);return i&&(0,Gm.isWeekend)(r,n)&&e!==0&&((0,mN.isSaturday)(r,n)&&r.setDate(r.getDate()+(o<0?2:-1)),(0,gN.isSunday)(r,n)&&r.setDate(r.getDate()+(o<0?1:-2))),r.setHours(s),r}var Yv={},vc={};vc.addMilliseconds=wN;var _N=fe,yN=B;function wN(t,e,n){return(0,_N.constructFrom)((n==null?void 0:n.in)||t,+(0,yN.toDate)(t)+e)}Yv.addHours=TN;var EN=vc,bN=X;function TN(t,e,n){return(0,EN.addMilliseconds)(t,e*bN.millisecondsInHour,n)}var qv={},sa={},li={},Fr={},un={};un.getDefaultOptions=SN;un.setDefaultOptions=PN;let RP={};function SN(){return RP}function PN(t){RP=t}Fr.startOfWeek=DN;var xN=un,IN=B;function DN(t,e){var u,c,d,h;const n=(0,xN.getDefaultOptions)(),r=(e==null?void 0:e.weekStartsOn)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=(0,IN.toDate)(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}li.startOfISOWeek=MN;var ON=Fr;function MN(t,e){return(0,ON.startOfWeek)(t,{...e,weekStartsOn:1})}sa.getISOWeekYear=NN;var Aw=fe,jw=li,CN=B;function NN(t,e){const n=(0,CN.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),i=(0,Aw.constructFrom)(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=(0,jw.startOfISOWeek)(i),o=(0,Aw.constructFrom)(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const u=(0,jw.startOfISOWeek)(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}var Gv={},Ki={},Xi={};Xi.getTimezoneOffsetInMilliseconds=AN;var RN=B;function AN(t){const e=(0,RN.toDate)(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}var Xe={};Xe.normalizeDates=FN;var jN=fe;function FN(t,...e){const n=jN.constructFrom.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}var _c={};_c.startOfDay=VN;var LN=B;function VN(t,e){const n=(0,LN.toDate)(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}Ki.differenceInCalendarDays=WN;var Fw=Xi,kN=Xe,zN=X,Lw=_c;function WN(t,e,n){const[r,i]=(0,kN.normalizeDates)(n==null?void 0:n.in,t,e),s=(0,Lw.startOfDay)(r),o=(0,Lw.startOfDay)(i),u=+s-(0,Fw.getTimezoneOffsetInMilliseconds)(s),c=+o-(0,Fw.getTimezoneOffsetInMilliseconds)(o);return Math.round((u-c)/zN.millisecondsInDay)}var Il={};Il.startOfISOWeekYear=HN;var UN=fe,BN=sa,$N=li;function HN(t,e){const n=(0,BN.getISOWeekYear)(t,e),r=(0,UN.constructFrom)((e==null?void 0:e.in)||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),(0,$N.startOfISOWeek)(r)}Gv.setISOWeekYear=QN;var YN=fe,qN=Ki,Vw=Il,GN=B;function QN(t,e,n){let r=(0,GN.toDate)(t,n==null?void 0:n.in);const i=(0,qN.differenceInCalendarDays)(r,(0,Vw.startOfISOWeekYear)(r,n)),s=(0,YN.constructFrom)((n==null?void 0:n.in)||t,0);return s.setFullYear(e,0,4),s.setHours(0,0,0,0),r=(0,Vw.startOfISOWeekYear)(s),r.setDate(r.getDate()+i),r}qv.addISOWeekYears=JN;var KN=sa,XN=Gv;function JN(t,e,n){return(0,XN.setISOWeekYear)(t,(0,KN.getISOWeekYear)(t,n)+e,n)}var Jf={};Jf.addMinutes=tR;var ZN=X,eR=B;function tR(t,e,n){const r=(0,eR.toDate)(t,n==null?void 0:n.in);return r.setTime(r.getTime()+e*ZN.millisecondsInMinute),r}var Zf={};Zf.addQuarters=rR;var nR=xl;function rR(t,e,n){return(0,nR.addMonths)(t,e*3,n)}var Qv={};Qv.addSeconds=sR;var iR=vc;function sR(t,e,n){return(0,iR.addMilliseconds)(t,e*1e3,n)}var yc={};yc.addWeeks=oR;var aR=oi;function oR(t,e,n){return(0,aR.addDays)(t,e*7,n)}var Kv={};Kv.addYears=uR;var lR=xl;function uR(t,e,n){return(0,lR.addMonths)(t,e*12,n)}var AP={};AP.areIntervalsOverlapping=cR;var sd=B;function cR(t,e,n){const[r,i]=[+(0,sd.toDate)(t.start,n==null?void 0:n.in),+(0,sd.toDate)(t.end,n==null?void 0:n.in)].sort((u,c)=>u-c),[s,o]=[+(0,sd.toDate)(e.start,n==null?void 0:n.in),+(0,sd.toDate)(e.end,n==null?void 0:n.in)].sort((u,c)=>u-c);return n!=null&&n.inclusive?r<=o&&s<=i:r<o&&s<i}var jP={},Xv={};Xv.max=fR;var kw=fe,dR=B;function fR(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=kw.constructFrom.bind(null,i));const s=(0,dR.toDate)(i,r);(!n||n<s||isNaN(+s))&&(n=s)}),(0,kw.constructFrom)(r,n||NaN)}var Jv={};Jv.min=mR;var zw=fe,hR=B;function mR(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=zw.constructFrom.bind(null,i));const s=(0,hR.toDate)(i,r);(!n||n>s||isNaN(+s))&&(n=s)}),(0,zw.constructFrom)(r,n||NaN)}jP.clamp=_R;var gR=Xe,pR=Xv,vR=Jv;function _R(t,e,n){const[r,i,s]=(0,gR.normalizeDates)(n==null?void 0:n.in,t,e.start,e.end);return(0,vR.min)([(0,pR.max)([r,i],n),s],n)}var Zv={};Zv.closestIndexTo=yR;var Ww=B;function yR(t,e){const n=+(0,Ww.toDate)(t);if(isNaN(n))return NaN;let r,i;return e.forEach((s,o)=>{const u=(0,Ww.toDate)(s);if(isNaN(+u)){r=NaN,i=NaN;return}const c=Math.abs(n-+u);(r==null||c<i)&&(r=o,i=c)}),r}var FP={};FP.closestTo=TR;var wR=Xe,ER=Zv,bR=fe;function TR(t,e,n){const[r,...i]=(0,wR.normalizeDates)(n==null?void 0:n.in,t,...e),s=(0,ER.closestIndexTo)(r,i);if(typeof s=="number"&&isNaN(s))return(0,bR.constructFrom)(r,NaN);if(s!==void 0)return i[s]}var to={};to.compareAsc=SR;var Uw=B;function SR(t,e){const n=+(0,Uw.toDate)(t)-+(0,Uw.toDate)(e);return n<0?-1:n>0?1:n}var LP={};LP.compareDesc=PR;var Bw=B;function PR(t,e){const n=+(0,Bw.toDate)(t)-+(0,Bw.toDate)(e);return n>0?-1:n<0?1:n}var Bt={};Bt.constructNow=IR;var xR=fe;function IR(t){return(0,xR.constructFrom)(t,Date.now())}var VP={};VP.daysToWeeks=OR;var DR=X;function OR(t){const e=Math.trunc(t/DR.daysInWeek);return e===0?0:e}var kP={},Dl={};Dl.isSameDay=CR;var MR=Xe,$w=_c;function CR(t,e,n){const[r,i]=(0,MR.normalizeDates)(n==null?void 0:n.in,t,e);return+(0,$w.startOfDay)(r)==+(0,$w.startOfDay)(i)}var Ji={},e_={};e_.isDate=NR;function NR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}Ji.isValid=jR;var RR=e_,AR=B;function jR(t){return!(!(0,RR.isDate)(t)&&typeof t!="number"||isNaN(+(0,AR.toDate)(t)))}kP.differenceInBusinessDays=zR;var FR=Xe,Hw=oi,LR=Ki,VR=Dl,Yw=Ji,kR=pc;function zR(t,e,n){const[r,i]=(0,FR.normalizeDates)(n==null?void 0:n.in,t,e);if(!(0,Yw.isValid)(r)||!(0,Yw.isValid)(i))return NaN;const s=(0,LR.differenceInCalendarDays)(r,i),o=s<0?-1:1,u=Math.trunc(s/7);let c=u*5,d=(0,Hw.addDays)(i,u*7);for(;!(0,VR.isSameDay)(r,d);)c+=(0,kR.isWeekend)(d,n)?0:o,d=(0,Hw.addDays)(d,o);return c===0?0:c}var t_={};t_.differenceInCalendarISOWeekYears=UR;var WR=Xe,qw=sa;function UR(t,e,n){const[r,i]=(0,WR.normalizeDates)(n==null?void 0:n.in,t,e);return(0,qw.getISOWeekYear)(r,n)-(0,qw.getISOWeekYear)(i,n)}var zP={};zP.differenceInCalendarISOWeeks=HR;var Gw=Xi,BR=Xe,$R=X,Qw=li;function HR(t,e,n){const[r,i]=(0,BR.normalizeDates)(n==null?void 0:n.in,t,e),s=(0,Qw.startOfISOWeek)(r),o=(0,Qw.startOfISOWeek)(i),u=+s-(0,Gw.getTimezoneOffsetInMilliseconds)(s),c=+o-(0,Gw.getTimezoneOffsetInMilliseconds)(o);return Math.round((u-c)/$R.millisecondsInWeek)}var eh={};eh.differenceInCalendarMonths=qR;var YR=Xe;function qR(t,e,n){const[r,i]=(0,YR.normalizeDates)(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}var n_={},r_={};r_.getQuarter=QR;var GR=B;function QR(t,e){const n=(0,GR.toDate)(t,e==null?void 0:e.in);return Math.trunc(n.getMonth()/3)+1}n_.differenceInCalendarQuarters=XR;var KR=Xe,Kw=r_;function XR(t,e,n){const[r,i]=(0,KR.normalizeDates)(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=(0,Kw.getQuarter)(r)-(0,Kw.getQuarter)(i);return s*4+o}var th={};th.differenceInCalendarWeeks=eA;var Xw=Xi,JR=Xe,ZR=X,Jw=Fr;function eA(t,e,n){const[r,i]=(0,JR.normalizeDates)(n==null?void 0:n.in,t,e),s=(0,Jw.startOfWeek)(r,n),o=(0,Jw.startOfWeek)(i,n),u=+s-(0,Xw.getTimezoneOffsetInMilliseconds)(s),c=+o-(0,Xw.getTimezoneOffsetInMilliseconds)(o);return Math.round((u-c)/ZR.millisecondsInWeek)}var nh={};nh.differenceInCalendarYears=nA;var tA=Xe;function nA(t,e,n){const[r,i]=(0,tA.normalizeDates)(n==null?void 0:n.in,t,e);return r.getFullYear()-i.getFullYear()}var rh={};rh.differenceInDays=sA;var rA=Xe,iA=Ki;function sA(t,e,n){const[r,i]=(0,rA.normalizeDates)(n==null?void 0:n.in,t,e),s=Zw(r,i),o=Math.abs((0,iA.differenceInCalendarDays)(r,i));r.setDate(r.getDate()-s*o);const u=+(Zw(r,i)===-s),c=s*(o-u);return c===0?0:c}function Zw(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}var ih={},Zi={};Zi.getRoundingMethod=aA;function aA(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}ih.differenceInHours=cA;var oA=Zi,lA=Xe,uA=X;function cA(t,e,n){const[r,i]=(0,lA.normalizeDates)(n==null?void 0:n.in,t,e),s=(+r-+i)/uA.millisecondsInHour;return(0,oA.getRoundingMethod)(n==null?void 0:n.roundingMethod)(s)}var WP={},i_={};i_.subISOWeekYears=fA;var dA=qv;function fA(t,e,n){return(0,dA.addISOWeekYears)(t,-e,n)}WP.differenceInISOWeekYears=pA;var hA=Xe,eE=to,mA=t_,gA=i_;function pA(t,e,n){const[r,i]=(0,hA.normalizeDates)(n==null?void 0:n.in,t,e),s=(0,eE.compareAsc)(r,i),o=Math.abs((0,mA.differenceInCalendarISOWeekYears)(r,i,n)),u=(0,gA.subISOWeekYears)(r,s*o,n),c=+((0,eE.compareAsc)(u,i)===-s),d=s*(o-c);return d===0?0:d}var sh={};sh.differenceInMilliseconds=vA;var tE=B;function vA(t,e){return+(0,tE.toDate)(t)-+(0,tE.toDate)(e)}var ah={};ah.differenceInMinutes=EA;var _A=Zi,yA=X,wA=sh;function EA(t,e,n){const r=(0,wA.differenceInMilliseconds)(t,e)/yA.millisecondsInMinute;return(0,_A.getRoundingMethod)(n==null?void 0:n.roundingMethod)(r)}var wc={},s_={},oh={};oh.endOfDay=TA;var bA=B;function TA(t,e){const n=(0,bA.toDate)(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}var lh={};lh.endOfMonth=PA;var SA=B;function PA(t,e){const n=(0,SA.toDate)(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}s_.isLastDayOfMonth=OA;var xA=oh,IA=lh,DA=B;function OA(t,e){const n=(0,DA.toDate)(t,e==null?void 0:e.in);return+(0,xA.endOfDay)(n,e)==+(0,IA.endOfMonth)(n,e)}wc.differenceInMonths=RA;var MA=Xe,Qm=to,CA=eh,NA=s_;function RA(t,e,n){const[r,i,s]=(0,MA.normalizeDates)(n==null?void 0:n.in,t,t,e),o=(0,Qm.compareAsc)(i,s),u=Math.abs((0,CA.differenceInCalendarMonths)(i,s));if(u<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*u);let c=(0,Qm.compareAsc)(i,s)===-o;(0,NA.isLastDayOfMonth)(r)&&u===1&&(0,Qm.compareAsc)(r,s)===1&&(c=!1);const d=o*(u-+c);return d===0?0:d}var UP={};UP.differenceInQuarters=FA;var AA=Zi,jA=wc;function FA(t,e,n){const r=(0,jA.differenceInMonths)(t,e,n)/3;return(0,AA.getRoundingMethod)(n==null?void 0:n.roundingMethod)(r)}var Ec={};Ec.differenceInSeconds=kA;var LA=Zi,VA=sh;function kA(t,e,n){const r=(0,VA.differenceInMilliseconds)(t,e)/1e3;return(0,LA.getRoundingMethod)(n==null?void 0:n.roundingMethod)(r)}var BP={};BP.differenceInWeeks=UA;var zA=Zi,WA=rh;function UA(t,e,n){const r=(0,WA.differenceInDays)(t,e,n)/7;return(0,zA.getRoundingMethod)(n==null?void 0:n.roundingMethod)(r)}var a_={};a_.differenceInYears=HA;var BA=Xe,nE=to,$A=nh;function HA(t,e,n){const[r,i]=(0,BA.normalizeDates)(n==null?void 0:n.in,t,e),s=(0,nE.compareAsc)(r,i),o=Math.abs((0,$A.differenceInCalendarYears)(r,i));r.setFullYear(1584),i.setFullYear(1584);const u=(0,nE.compareAsc)(r,i)===-s,c=s*(o-+u);return c===0?0:c}var o_={},ui={};ui.normalizeInterval=qA;var YA=Xe;function qA(t,e){const[n,r]=(0,YA.normalizeDates)(t,e.start,e.end);return{start:n,end:r}}o_.eachDayOfInterval=KA;var GA=ui,QA=fe;function KA(t,e){const{start:n,end:r}=(0,GA.normalizeInterval)(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0);let u=(e==null?void 0:e.step)??1;if(!u)return[];u<0&&(u=-u,i=!i);const c=[];for(;+o<=s;)c.push((0,QA.constructFrom)(n,o)),o.setDate(o.getDate()+u),o.setHours(0,0,0,0);return i?c.reverse():c}var $P={};$P.eachHourOfInterval=ZA;var XA=ui,JA=fe;function ZA(t,e){const{start:n,end:r}=(0,XA.normalizeInterval)(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setMinutes(0,0,0);let u=(e==null?void 0:e.step)??1;if(!u)return[];u<0&&(u=-u,i=!i);const c=[];for(;+o<=s;)c.push((0,JA.constructFrom)(n,o)),o.setHours(o.getHours()+u);return i?c.reverse():c}var HP={};HP.eachMinuteOfInterval=rj;var ej=ui,tj=Jf,nj=fe;function rj(t,e){const{start:n,end:r}=(0,ej.normalizeInterval)(e==null?void 0:e.in,t);n.setSeconds(0,0);let i=+n>+r;const s=i?+n:+r;let o=i?r:n,u=(e==null?void 0:e.step)??1;if(!u)return[];u<0&&(u=-u,i=!i);const c=[];for(;+o<=s;)c.push((0,nj.constructFrom)(n,o)),o=(0,tj.addMinutes)(o,u);return i?c.reverse():c}var YP={};YP.eachMonthOfInterval=aj;var ij=ui,sj=fe;function aj(t,e){const{start:n,end:r}=(0,ij.normalizeInterval)(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0),o.setDate(1);let u=(e==null?void 0:e.step)??1;if(!u)return[];u<0&&(u=-u,i=!i);const c=[];for(;+o<=s;)c.push((0,sj.constructFrom)(n,o)),o.setMonth(o.getMonth()+u);return i?c.reverse():c}var qP={},uh={};uh.startOfQuarter=lj;var oj=B;function lj(t,e){const n=(0,oj.toDate)(t,e==null?void 0:e.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}qP.eachQuarterOfInterval=fj;var uj=ui,cj=Zf,dj=fe,ad=uh;function fj(t,e){const{start:n,end:r}=(0,uj.normalizeInterval)(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+(0,ad.startOfQuarter)(n):+(0,ad.startOfQuarter)(r);let o=i?(0,ad.startOfQuarter)(r):(0,ad.startOfQuarter)(n),u=(e==null?void 0:e.step)??1;if(!u)return[];u<0&&(u=-u,i=!i);const c=[];for(;+o<=s;)c.push((0,dj.constructFrom)(n,o)),o=(0,cj.addQuarters)(o,u);return i?c.reverse():c}var GP={};GP.eachWeekOfInterval=pj;var hj=ui,mj=yc,gj=fe,od=Fr;function pj(t,e){const{start:n,end:r}=(0,hj.normalizeInterval)(e==null?void 0:e.in,t);let i=+n>+r;const s=i?(0,od.startOfWeek)(r,e):(0,od.startOfWeek)(n,e),o=i?(0,od.startOfWeek)(n,e):(0,od.startOfWeek)(r,e);s.setHours(15),o.setHours(15);const u=+o.getTime();let c=s,d=(e==null?void 0:e.step)??1;if(!d)return[];d<0&&(d=-d,i=!i);const h=[];for(;+c<=u;)c.setHours(0),h.push((0,gj.constructFrom)(n,c)),c=(0,mj.addWeeks)(c,d),c.setHours(15);return i?h.reverse():h}var ch={};ch.eachWeekendOfInterval=Ej;var vj=ui,_j=fe,yj=o_,wj=pc;function Ej(t,e){const{start:n,end:r}=(0,vj.normalizeInterval)(e==null?void 0:e.in,t),i=(0,yj.eachDayOfInterval)({start:n,end:r},e),s=[];let o=0;for(;o<i.length;){const u=i[o++];(0,wj.isWeekend)(u)&&s.push((0,_j.constructFrom)(n,u))}return s}var QP={},bc={};bc.startOfMonth=Tj;var bj=B;function Tj(t,e){const n=(0,bj.toDate)(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}QP.eachWeekendOfMonth=Ij;var Sj=ch,Pj=lh,xj=bc;function Ij(t,e){const n=(0,xj.startOfMonth)(t,e),r=(0,Pj.endOfMonth)(t,e);return(0,Sj.eachWeekendOfInterval)({start:n,end:r},e)}var KP={},l_={};l_.endOfYear=Oj;var Dj=B;function Oj(t,e){const n=(0,Dj.toDate)(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}var dh={};dh.startOfYear=Cj;var Mj=B;function Cj(t,e){const n=(0,Mj.toDate)(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}KP.eachWeekendOfYear=jj;var Nj=ch,Rj=l_,Aj=dh;function jj(t,e){const n=(0,Aj.startOfYear)(t,e),r=(0,Rj.endOfYear)(t,e);return(0,Nj.eachWeekendOfInterval)({start:n,end:r},e)}var XP={};XP.eachYearOfInterval=Vj;var Fj=ui,Lj=fe;function Vj(t,e){const{start:n,end:r}=(0,Fj.normalizeInterval)(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0),o.setMonth(0,1);let u=(e==null?void 0:e.step)??1;if(!u)return[];u<0&&(u=-u,i=!i);const c=[];for(;+o<=s;)c.push((0,Lj.constructFrom)(n,o)),o.setFullYear(o.getFullYear()+u);return i?c.reverse():c}var JP={};JP.endOfDecade=zj;var kj=B;function zj(t,e){const n=(0,kj.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),i=9+Math.floor(r/10)*10;return n.setFullYear(i,11,31),n.setHours(23,59,59,999),n}var ZP={};ZP.endOfHour=Uj;var Wj=B;function Uj(t,e){const n=(0,Wj.toDate)(t,e==null?void 0:e.in);return n.setMinutes(59,59,999),n}var ex={},u_={};u_.endOfWeek=Hj;var Bj=un,$j=B;function Hj(t,e){var u,c,d,h;const n=(0,Bj.getDefaultOptions)(),r=(e==null?void 0:e.weekStartsOn)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=(0,$j.toDate)(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}ex.endOfISOWeek=qj;var Yj=u_;function qj(t,e){return(0,Yj.endOfWeek)(t,{...e,weekStartsOn:1})}var tx={};tx.endOfISOWeekYear=Xj;var Gj=fe,Qj=sa,Kj=li;function Xj(t,e){const n=(0,Qj.getISOWeekYear)(t,e),r=(0,Gj.constructFrom)((e==null?void 0:e.in)||t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=(0,Kj.startOfISOWeek)(r,e);return i.setMilliseconds(i.getMilliseconds()-1),i}var nx={};nx.endOfMinute=Zj;var Jj=B;function Zj(t,e){const n=(0,Jj.toDate)(t,e==null?void 0:e.in);return n.setSeconds(59,999),n}var rx={};rx.endOfQuarter=tF;var eF=B;function tF(t,e){const n=(0,eF.toDate)(t,e==null?void 0:e.in),r=n.getMonth(),i=r-r%3+3;return n.setMonth(i,0),n.setHours(23,59,59,999),n}var ix={};ix.endOfSecond=rF;var nF=B;function rF(t,e){const n=(0,nF.toDate)(t,e==null?void 0:e.in);return n.setMilliseconds(999),n}var sx={};sx.endOfToday=sF;var iF=oh;function sF(t){return(0,iF.endOfDay)(Date.now(),t)}var ax={};ax.endOfTomorrow=aF;var rE=Bt;function aF(t){const e=(0,rE.constructNow)(t==null?void 0:t.in),n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=(0,rE.constructNow)(t==null?void 0:t.in);return s.setFullYear(n,r,i+1),s.setHours(23,59,59,999),t!=null&&t.in?t.in(s):s}var ox={};ox.endOfYesterday=uF;var oF=fe,lF=Bt;function uF(t){const e=(0,lF.constructNow)(t==null?void 0:t.in),n=(0,oF.constructFrom)(t==null?void 0:t.in,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()-1),n.setHours(23,59,59,999),n}var c_={},no={},fh={},d_={};d_.formatDistance=void 0;const cF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dF=(t,e,n)=>{let r;const i=cF[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};d_.formatDistance=dF;var f_={},lx={};lx.buildFormatLongFn=fF;function fF(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}f_.formatLong=void 0;var Km=lx;const hF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"};f_.formatLong={date:(0,Km.buildFormatLongFn)({formats:hF,defaultWidth:"full"}),time:(0,Km.buildFormatLongFn)({formats:mF,defaultWidth:"full"}),dateTime:(0,Km.buildFormatLongFn)({formats:gF,defaultWidth:"full"})};var h_={};h_.formatRelative=void 0;const pF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vF=(t,e,n,r)=>pF[t];h_.formatRelative=vF;var m_={},ux={};ux.buildLocalizeFn=_F;function _F(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):o;i=t.formattingValues[u]||t.formattingValues[o]}else{const o=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}m_.localize=void 0;var Xl=ux;const yF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},EF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},TF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},SF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},PF=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"};m_.localize={ordinalNumber:PF,era:(0,Xl.buildLocalizeFn)({values:yF,defaultWidth:"wide"}),quarter:(0,Xl.buildLocalizeFn)({values:wF,defaultWidth:"wide",argumentCallback:t=>t-1}),month:(0,Xl.buildLocalizeFn)({values:EF,defaultWidth:"wide"}),day:(0,Xl.buildLocalizeFn)({values:bF,defaultWidth:"wide"}),dayPeriod:(0,Xl.buildLocalizeFn)({values:TF,defaultWidth:"wide",formattingValues:SF,defaultFormattingWidth:"wide"})};var g_={},cx={};cx.buildMatchFn=xF;function xF(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?DF(u,p=>p.test(o)):IF(u,p=>p.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function IF(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function DF(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}var dx={};dx.buildMatchPatternFn=OF;function OF(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const u=e.slice(i.length);return{value:o,rest:u}}}g_.match=void 0;var Jl=cx,MF=dx;const CF=/^(\d+)(th|st|nd|rd)?/i,NF=/\d+/i,RF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AF={any:[/^b/i,/^(a|c)/i]},jF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},FF={any:[/1/i,/2/i,/3/i,/4/i]},LF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},VF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},WF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},UF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}};g_.match={ordinalNumber:(0,MF.buildMatchPatternFn)({matchPattern:CF,parsePattern:NF,valueCallback:t=>parseInt(t,10)}),era:(0,Jl.buildMatchFn)({matchPatterns:RF,defaultMatchWidth:"wide",parsePatterns:AF,defaultParseWidth:"any"}),quarter:(0,Jl.buildMatchFn)({matchPatterns:jF,defaultMatchWidth:"wide",parsePatterns:FF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:(0,Jl.buildMatchFn)({matchPatterns:LF,defaultMatchWidth:"wide",parsePatterns:VF,defaultParseWidth:"any"}),day:(0,Jl.buildMatchFn)({matchPatterns:kF,defaultMatchWidth:"wide",parsePatterns:zF,defaultParseWidth:"any"}),dayPeriod:(0,Jl.buildMatchFn)({matchPatterns:WF,defaultMatchWidth:"any",parsePatterns:UF,defaultParseWidth:"any"})};fh.enUS=void 0;var BF=d_,$F=f_,HF=h_,YF=m_,qF=g_;fh.enUS={code:"en-US",formatDistance:BF.formatDistance,formatLong:$F.formatLong,formatRelative:HF.formatRelative,localize:YF.localize,match:qF.match,options:{weekStartsOn:0,firstWeekContainsDate:1}};(function(t){Object.defineProperty(t,"defaultLocale",{enumerable:!0,get:function(){return e.enUS}});var e=fh})(no);var p_={},v_={};v_.getDayOfYear=XF;var GF=Ki,QF=dh,KF=B;function XF(t,e){const n=(0,KF.toDate)(t,e==null?void 0:e.in);return(0,GF.differenceInCalendarDays)(n,(0,QF.startOfYear)(n))+1}var hh={};hh.getISOWeek=nL;var JF=X,ZF=li,eL=Il,tL=B;function nL(t,e){const n=(0,tL.toDate)(t,e==null?void 0:e.in),r=+(0,ZF.startOfISOWeek)(n)-+(0,eL.startOfISOWeekYear)(n);return Math.round(r/JF.millisecondsInWeek)+1}var mh={},gh={},Tc={};Tc.getWeekYear=sL;var rL=un,iE=fe,sE=Fr,iL=B;function sL(t,e){var h,p,v,E;const n=(0,iL.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),i=(0,rL.getDefaultOptions)(),s=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(v=i.locale)==null?void 0:v.options)==null?void 0:E.firstWeekContainsDate)??1,o=(0,iE.constructFrom)((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const u=(0,sE.startOfWeek)(o,e),c=(0,iE.constructFrom)((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const d=(0,sE.startOfWeek)(c,e);return+n>=+u?r+1:+n>=+d?r:r-1}gh.startOfWeekYear=cL;var aL=un,oL=fe,lL=Tc,uL=Fr;function cL(t,e){var u,c,d,h;const n=(0,aL.getDefaultOptions)(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=(0,lL.getWeekYear)(t,e),s=(0,oL.constructFrom)((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),(0,uL.startOfWeek)(s,e)}mh.getWeek=gL;var dL=X,fL=Fr,hL=gh,mL=B;function gL(t,e){const n=(0,mL.toDate)(t,e==null?void 0:e.in),r=+(0,fL.startOfWeek)(n,e)-+(0,hL.startOfWeekYear)(n,e);return Math.round(r/dL.millisecondsInWeek)+1}var ro={};ro.addLeadingZeros=pL;function pL(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}var ph={};ph.lightFormatters=void 0;var ys=ro;ph.lightFormatters={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return(0,ys.addLeadingZeros)(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):(0,ys.addLeadingZeros)(n+1,2)},d(t,e){return(0,ys.addLeadingZeros)(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return(0,ys.addLeadingZeros)(t.getHours()%12||12,e.length)},H(t,e){return(0,ys.addLeadingZeros)(t.getHours(),e.length)},m(t,e){return(0,ys.addLeadingZeros)(t.getMinutes(),e.length)},s(t,e){return(0,ys.addLeadingZeros)(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return(0,ys.addLeadingZeros)(i,e.length)}};p_.formatters=void 0;var vL=v_,_L=hh,yL=sa,wL=mh,EL=Tc,Dt=ro,ws=ph;const Mo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};p_.formatters={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ws.lightFormatters.y(t,e)},Y:function(t,e,n,r){const i=(0,EL.getWeekYear)(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return(0,Dt.addLeadingZeros)(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):(0,Dt.addLeadingZeros)(s,e.length)},R:function(t,e){const n=(0,yL.getISOWeekYear)(t);return(0,Dt.addLeadingZeros)(n,e.length)},u:function(t,e){const n=t.getFullYear();return(0,Dt.addLeadingZeros)(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return(0,Dt.addLeadingZeros)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return(0,Dt.addLeadingZeros)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ws.lightFormatters.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return(0,Dt.addLeadingZeros)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=(0,wL.getWeek)(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):(0,Dt.addLeadingZeros)(i,e.length)},I:function(t,e,n){const r=(0,_L.getISOWeek)(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):(0,Dt.addLeadingZeros)(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ws.lightFormatters.d(t,e)},D:function(t,e,n){const r=(0,vL.getDayOfYear)(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):(0,Dt.addLeadingZeros)(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return(0,Dt.addLeadingZeros)(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return(0,Dt.addLeadingZeros)(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return(0,Dt.addLeadingZeros)(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Mo.noon:r===0?i=Mo.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Mo.evening:r>=12?i=Mo.afternoon:r>=4?i=Mo.morning:i=Mo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ws.lightFormatters.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ws.lightFormatters.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):(0,Dt.addLeadingZeros)(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):(0,Dt.addLeadingZeros)(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ws.lightFormatters.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ws.lightFormatters.s(t,e)},S:function(t,e){return ws.lightFormatters.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return oE(r);case"XXXX":case"XX":return Ma(r);case"XXXXX":case"XXX":default:return Ma(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return oE(r);case"xxxx":case"xx":return Ma(r);case"xxxxx":case"xxx":default:return Ma(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+aE(r,":");case"OOOO":default:return"GMT"+Ma(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+aE(r,":");case"zzzz":default:return"GMT"+Ma(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return(0,Dt.addLeadingZeros)(r,e.length)},T:function(t,e,n){return(0,Dt.addLeadingZeros)(+t,e.length)}};function aE(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+(0,Dt.addLeadingZeros)(s,2)}function oE(t,e){return t%60===0?(t>0?"-":"+")+(0,Dt.addLeadingZeros)(Math.abs(t)/60,2):Ma(t,e)}function Ma(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=(0,Dt.addLeadingZeros)(Math.trunc(r/60),2),s=(0,Dt.addLeadingZeros)(r%60,2);return n+i+e+s}var vh={};vh.longFormatters=void 0;const lE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},fx=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},bL=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return lE(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",lE(r,e)).replace("{{time}}",fx(i,e))};vh.longFormatters={p:fx,P:bL};var Sc={};Sc.isProtectedDayOfYearToken=xL;Sc.isProtectedWeekYearToken=IL;Sc.warnOrThrowProtectedError=DL;const TL=/^D+$/,SL=/^Y+$/,PL=["D","DD","YY","YYYY"];function xL(t){return TL.test(t)}function IL(t){return SL.test(t)}function DL(t,e,n){const r=OL(t,e,n);if(console.warn(r),PL.includes(t))throw new RangeError(r)}function OL(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(function(t){t.format=t.formatDate=E,Object.defineProperty(t,"formatters",{enumerable:!0,get:function(){return r.formatters}}),Object.defineProperty(t,"longFormatters",{enumerable:!0,get:function(){return i.longFormatters}});var e=no,n=un,r=p_,i=vh,s=Sc,o=Ji,u=B;const c=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,d=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,h=/^'([^]*?)'?$/,p=/''/g,v=/[a-zA-Z]/;function E(I,A,b){var P,D,N,R,x,$e,Ye,_t;const S=(0,n.getDefaultOptions)(),M=(b==null?void 0:b.locale)??S.locale??e.defaultLocale,j=(b==null?void 0:b.firstWeekContainsDate)??((D=(P=b==null?void 0:b.locale)==null?void 0:P.options)==null?void 0:D.firstWeekContainsDate)??S.firstWeekContainsDate??((R=(N=S.locale)==null?void 0:N.options)==null?void 0:R.firstWeekContainsDate)??1,U=(b==null?void 0:b.weekStartsOn)??(($e=(x=b==null?void 0:b.locale)==null?void 0:x.options)==null?void 0:$e.weekStartsOn)??S.weekStartsOn??((_t=(Ye=S.locale)==null?void 0:Ye.options)==null?void 0:_t.weekStartsOn)??0,$=(0,u.toDate)(I,b==null?void 0:b.in);if(!(0,o.isValid)($))throw new RangeError("Invalid time value");let T=A.match(d).map(xe=>{const q=xe[0];if(q==="p"||q==="P"){const ie=i.longFormatters[q];return ie(xe,M.formatLong)}return xe}).join("").match(c).map(xe=>{if(xe==="''")return{isToken:!1,value:"'"};const q=xe[0];if(q==="'")return{isToken:!1,value:O(xe)};if(r.formatters[q])return{isToken:!0,value:xe};if(q.match(v))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");return{isToken:!1,value:xe}});M.localize.preprocessor&&(T=M.localize.preprocessor($,T));const w={firstWeekContainsDate:j,weekStartsOn:U,locale:M};return T.map(xe=>{if(!xe.isToken)return xe.value;const q=xe.value;(!(b!=null&&b.useAdditionalWeekYearTokens)&&(0,s.isProtectedWeekYearToken)(q)||!(b!=null&&b.useAdditionalDayOfYearTokens)&&(0,s.isProtectedDayOfYearToken)(q))&&(0,s.warnOrThrowProtectedError)(q,A,String(I));const ie=r.formatters[q[0]];return ie($,q,M.localize,w)}).join("")}function O(I){const A=I.match(h);return A?A[1].replace(p,"'"):I}})(c_);var __={};__.formatDistance=FL;var ML=no,CL=un,uE=Xi,NL=Xe,RL=to,Co=X,AL=wc,jL=Ec;function FL(t,e,n){const r=(0,CL.getDefaultOptions)(),i=(n==null?void 0:n.locale)??r.locale??ML.defaultLocale,s=2520,o=(0,RL.compareAsc)(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o}),[c,d]=(0,NL.normalizeDates)(n==null?void 0:n.in,...o>0?[e,t]:[t,e]),h=(0,jL.differenceInSeconds)(d,c),p=((0,uE.getTimezoneOffsetInMilliseconds)(d)-(0,uE.getTimezoneOffsetInMilliseconds)(c))/1e3,v=Math.round((h-p)/60);let E;if(v<2)return n!=null&&n.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,u):h<10?i.formatDistance("lessThanXSeconds",10,u):h<20?i.formatDistance("lessThanXSeconds",20,u):h<40?i.formatDistance("halfAMinute",0,u):h<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):v===0?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",v,u);if(v<45)return i.formatDistance("xMinutes",v,u);if(v<90)return i.formatDistance("aboutXHours",1,u);if(v<Co.minutesInDay){const O=Math.round(v/60);return i.formatDistance("aboutXHours",O,u)}else{if(v<s)return i.formatDistance("xDays",1,u);if(v<Co.minutesInMonth){const O=Math.round(v/Co.minutesInDay);return i.formatDistance("xDays",O,u)}else if(v<Co.minutesInMonth*2)return E=Math.round(v/Co.minutesInMonth),i.formatDistance("aboutXMonths",E,u)}if(E=(0,AL.differenceInMonths)(d,c),E<12){const O=Math.round(v/Co.minutesInMonth);return i.formatDistance("xMonths",O,u)}else{const O=E%12,I=Math.trunc(E/12);return O<3?i.formatDistance("aboutXYears",I,u):O<9?i.formatDistance("overXYears",I,u):i.formatDistance("almostXYears",I+1,u)}}var y_={};y_.formatDistanceStrict=UL;var LL=no,VL=un,kL=Zi,cE=Xi,zL=Xe,WL=to,Es=X;function UL(t,e,n){const r=(0,VL.getDefaultOptions)(),i=(n==null?void 0:n.locale)??r.locale??LL.defaultLocale,s=(0,WL.compareAsc)(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s}),[u,c]=(0,zL.normalizeDates)(n==null?void 0:n.in,...s>0?[e,t]:[t,e]),d=(0,kL.getRoundingMethod)((n==null?void 0:n.roundingMethod)??"round"),h=c.getTime()-u.getTime(),p=h/Es.millisecondsInMinute,v=(0,cE.getTimezoneOffsetInMilliseconds)(c)-(0,cE.getTimezoneOffsetInMilliseconds)(u),E=(h-v)/Es.millisecondsInMinute,O=n==null?void 0:n.unit;let I;if(O?I=O:p<1?I="second":p<60?I="minute":p<Es.minutesInDay?I="hour":E<Es.minutesInMonth?I="day":E<Es.minutesInYear?I="month":I="year",I==="second"){const A=d(h/1e3);return i.formatDistance("xSeconds",A,o)}else if(I==="minute"){const A=d(p);return i.formatDistance("xMinutes",A,o)}else if(I==="hour"){const A=d(p/60);return i.formatDistance("xHours",A,o)}else if(I==="day"){const A=d(E/Es.minutesInDay);return i.formatDistance("xDays",A,o)}else if(I==="month"){const A=d(E/Es.minutesInMonth);return A===12&&O!=="month"?i.formatDistance("xYears",1,o):i.formatDistance("xMonths",A,o)}else{const A=d(E/Es.minutesInYear);return i.formatDistance("xYears",A,o)}}var hx={};hx.formatDistanceToNow=HL;var BL=Bt,$L=__;function HL(t,e){return(0,$L.formatDistance)(t,(0,BL.constructNow)(t),e)}var mx={};mx.formatDistanceToNowStrict=GL;var YL=Bt,qL=y_;function GL(t,e){return(0,qL.formatDistanceStrict)(t,(0,YL.constructNow)(t),e)}var gx={};gx.formatDuration=JL;var QL=no,KL=un;const XL=["years","months","weeks","days","hours","minutes","seconds"];function JL(t,e){const n=(0,KL.getDefaultOptions)(),r=(e==null?void 0:e.locale)??n.locale??QL.defaultLocale,i=(e==null?void 0:e.format)??XL,s=(e==null?void 0:e.zero)??!1,o=(e==null?void 0:e.delimiter)??" ";return r.formatDistance?i.reduce((c,d)=>{const h=`x${d.replace(/(^.)/,v=>v.toUpperCase())}`,p=t[d];return p!==void 0&&(s||t[d])?c.concat(r.formatDistance(h,p)):c},[]).join(o):""}var px={};px.formatISO=e4;var bs=ro,ZL=B;function e4(t,e){const n=(0,ZL.toDate)(t,e==null?void 0:e.in);if(isNaN(+n))throw new RangeError("Invalid time value");const r=(e==null?void 0:e.format)??"extended",i=(e==null?void 0:e.representation)??"complete";let s="",o="";const u=r==="extended"?"-":"",c=r==="extended"?":":"";if(i!=="time"){const d=(0,bs.addLeadingZeros)(n.getDate(),2),h=(0,bs.addLeadingZeros)(n.getMonth()+1,2);s=`${(0,bs.addLeadingZeros)(n.getFullYear(),4)}${u}${h}${u}${d}`}if(i!=="date"){const d=n.getTimezoneOffset();if(d!==0){const I=Math.abs(d),A=(0,bs.addLeadingZeros)(Math.trunc(I/60),2),b=(0,bs.addLeadingZeros)(I%60,2);o=`${d<0?"+":"-"}${A}:${b}`}else o="Z";const h=(0,bs.addLeadingZeros)(n.getHours(),2),p=(0,bs.addLeadingZeros)(n.getMinutes(),2),v=(0,bs.addLeadingZeros)(n.getSeconds(),2),E=s===""?"":"T",O=[h,p,v].join(c);s=`${s}${E}${O}${o}`}return s}var vx={};vx.formatISO9075=r4;var No=ro,t4=Ji,n4=B;function r4(t,e){const n=(0,n4.toDate)(t,e==null?void 0:e.in);if(!(0,t4.isValid)(n))throw new RangeError("Invalid time value");const r=(e==null?void 0:e.format)??"extended",i=(e==null?void 0:e.representation)??"complete";let s="";const o=r==="extended"?"-":"",u=r==="extended"?":":"";if(i!=="time"){const c=(0,No.addLeadingZeros)(n.getDate(),2),d=(0,No.addLeadingZeros)(n.getMonth()+1,2);s=`${(0,No.addLeadingZeros)(n.getFullYear(),4)}${o}${d}${o}${c}`}if(i!=="date"){const c=(0,No.addLeadingZeros)(n.getHours(),2),d=(0,No.addLeadingZeros)(n.getMinutes(),2),h=(0,No.addLeadingZeros)(n.getSeconds(),2);s=`${s}${s===""?"":" "}${c}${u}${d}${u}${h}`}return s}var _x={};_x.formatISODuration=i4;function i4(t){const{years:e=0,months:n=0,days:r=0,hours:i=0,minutes:s=0,seconds:o=0}=t;return`P${e}Y${n}M${r}DT${i}H${s}M${o}S`}var yx={};yx.formatRFC3339=o4;var Ts=ro,s4=Ji,a4=B;function o4(t,e){const n=(0,a4.toDate)(t,e==null?void 0:e.in);if(!(0,s4.isValid)(n))throw new RangeError("Invalid time value");const r=(e==null?void 0:e.fractionDigits)??0,i=(0,Ts.addLeadingZeros)(n.getDate(),2),s=(0,Ts.addLeadingZeros)(n.getMonth()+1,2),o=n.getFullYear(),u=(0,Ts.addLeadingZeros)(n.getHours(),2),c=(0,Ts.addLeadingZeros)(n.getMinutes(),2),d=(0,Ts.addLeadingZeros)(n.getSeconds(),2);let h="";if(r>0){const E=n.getMilliseconds(),O=Math.trunc(E*Math.pow(10,r-3));h="."+(0,Ts.addLeadingZeros)(O,r)}let p="";const v=n.getTimezoneOffset();if(v!==0){const E=Math.abs(v),O=(0,Ts.addLeadingZeros)(Math.trunc(E/60),2),I=(0,Ts.addLeadingZeros)(E%60,2);p=`${v<0?"+":"-"}${O}:${I}`}else p="Z";return`${o}-${s}-${i}T${u}:${c}:${d}${h}${p}`}var wx={};wx.formatRFC7231=f4;var ld=ro,l4=Ji,u4=B;const c4=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d4=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function f4(t){const e=(0,u4.toDate)(t);if(!(0,l4.isValid)(e))throw new RangeError("Invalid time value");const n=c4[e.getUTCDay()],r=(0,ld.addLeadingZeros)(e.getUTCDate(),2),i=d4[e.getUTCMonth()],s=e.getUTCFullYear(),o=(0,ld.addLeadingZeros)(e.getUTCHours(),2),u=(0,ld.addLeadingZeros)(e.getUTCMinutes(),2),c=(0,ld.addLeadingZeros)(e.getUTCSeconds(),2);return`${n}, ${r} ${i} ${s} ${o}:${u}:${c} GMT`}var Ex={};Ex.formatRelative=_4;var h4=no,m4=un,g4=Xe,p4=Ki,v4=c_;function _4(t,e,n){var p,v,E,O;const[r,i]=(0,g4.normalizeDates)(n==null?void 0:n.in,t,e),s=(0,m4.getDefaultOptions)(),o=(n==null?void 0:n.locale)??s.locale??h4.defaultLocale,u=(n==null?void 0:n.weekStartsOn)??((v=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??s.weekStartsOn??((O=(E=s.locale)==null?void 0:E.options)==null?void 0:O.weekStartsOn)??0,c=(0,p4.differenceInCalendarDays)(r,i);if(isNaN(c))throw new RangeError("Invalid time value");let d;c<-6?d="other":c<-1?d="lastWeek":c<0?d="yesterday":c<1?d="today":c<2?d="tomorrow":c<7?d="nextWeek":d="other";const h=o.formatRelative(d,r,i,{locale:o,weekStartsOn:u});return(0,v4.format)(r,h,{locale:o,weekStartsOn:u})}var bx={};bx.fromUnixTime=w4;var y4=B;function w4(t,e){return(0,y4.toDate)(t*1e3,e==null?void 0:e.in)}var w_={};w_.getDate=b4;var E4=B;function b4(t,e){return(0,E4.toDate)(t,e==null?void 0:e.in).getDate()}var Pc={};Pc.getDay=S4;var T4=B;function S4(t,e){return(0,T4.toDate)(t,e==null?void 0:e.in).getDay()}var E_={};E_.getDaysInMonth=I4;var P4=fe,x4=B;function I4(t,e){const n=(0,x4.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),s=(0,P4.constructFrom)(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}var Tx={},b_={};b_.isLeapYear=O4;var D4=B;function O4(t,e){const r=(0,D4.toDate)(t,e==null?void 0:e.in).getFullYear();return r%400===0||r%4===0&&r%100!==0}Tx.getDaysInYear=N4;var M4=b_,C4=B;function N4(t,e){const n=(0,C4.toDate)(t,e==null?void 0:e.in);return Number.isNaN(+n)?NaN:(0,M4.isLeapYear)(n)?366:365}var Sx={};Sx.getDecade=A4;var R4=B;function A4(t,e){const r=(0,R4.toDate)(t,e==null?void 0:e.in).getFullYear();return Math.floor(r/10)*10}var T_={};T_.getDefaultOptions=F4;var j4=un;function F4(){return Object.assign({},(0,j4.getDefaultOptions)())}var Px={};Px.getHours=V4;var L4=B;function V4(t,e){return(0,L4.toDate)(t,e==null?void 0:e.in).getHours()}var S_={};S_.getISODay=z4;var k4=B;function z4(t,e){const n=(0,k4.toDate)(t,e==null?void 0:e.in).getDay();return n===0?7:n}var xx={};xx.getISOWeeksInYear=B4;var W4=yc,U4=X,dE=Il;function B4(t,e){const n=(0,dE.startOfISOWeekYear)(t,e),i=+(0,dE.startOfISOWeekYear)((0,W4.addWeeks)(n,60))-+n;return Math.round(i/U4.millisecondsInWeek)}var Ix={};Ix.getMilliseconds=H4;var $4=B;function H4(t){return(0,$4.toDate)(t).getMilliseconds()}var Dx={};Dx.getMinutes=q4;var Y4=B;function q4(t,e){return(0,Y4.toDate)(t,e==null?void 0:e.in).getMinutes()}var Ox={};Ox.getMonth=Q4;var G4=B;function Q4(t,e){return(0,G4.toDate)(t,e==null?void 0:e.in).getMonth()}var Mx={};Mx.getOverlappingDaysInIntervals=X4;var fE=Xi,K4=X,ud=B;function X4(t,e){const[n,r]=[+(0,ud.toDate)(t.start),+(0,ud.toDate)(t.end)].sort((p,v)=>p-v),[i,s]=[+(0,ud.toDate)(e.start),+(0,ud.toDate)(e.end)].sort((p,v)=>p-v);if(!(n<s&&i<r))return 0;const u=i<n?n:i,c=u-(0,fE.getTimezoneOffsetInMilliseconds)(u),d=s>r?r:s,h=d-(0,fE.getTimezoneOffsetInMilliseconds)(d);return Math.ceil((h-c)/K4.millisecondsInDay)}var Cx={};Cx.getSeconds=Z4;var J4=B;function Z4(t){return(0,J4.toDate)(t).getSeconds()}var Nx={};Nx.getTime=t3;var e3=B;function t3(t){return+(0,e3.toDate)(t)}var Rx={};Rx.getUnixTime=r3;var n3=B;function r3(t){return Math.trunc(+(0,n3.toDate)(t)/1e3)}var Ax={};Ax.getWeekOfMonth=u3;var i3=un,s3=w_,a3=Pc,o3=bc,l3=B;function u3(t,e){var c,d,h,p;const n=(0,i3.getDefaultOptions)(),r=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=(0,s3.getDate)((0,l3.toDate)(t,e==null?void 0:e.in));if(isNaN(i))return NaN;const s=(0,a3.getDay)((0,o3.startOfMonth)(t,e));let o=r-s;o<=0&&(o+=7);const u=i-o;return Math.ceil(u/7)+1}var jx={},P_={};P_.lastDayOfMonth=c3;var hE=B;function c3(t,e){const n=(0,hE.toDate)(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(0,0,0,0),(0,hE.toDate)(n,e==null?void 0:e.in)}jx.getWeeksInMonth=g3;var d3=th,f3=P_,h3=bc,m3=B;function g3(t,e){const n=(0,m3.toDate)(t,e==null?void 0:e.in);return(0,d3.differenceInCalendarWeeks)((0,f3.lastDayOfMonth)(n,e),(0,h3.startOfMonth)(n,e),e)+1}var Fx={};Fx.getYear=v3;var p3=B;function v3(t,e){return(0,p3.toDate)(t,e==null?void 0:e.in).getFullYear()}var Lx={};Lx.hoursToMilliseconds=y3;var _3=X;function y3(t){return Math.trunc(t*_3.millisecondsInHour)}var Vx={};Vx.hoursToMinutes=E3;var w3=X;function E3(t){return Math.trunc(t*w3.minutesInHour)}var kx={};kx.hoursToSeconds=T3;var b3=X;function T3(t){return Math.trunc(t*b3.secondsInHour)}var zx={};zx.interval=P3;var S3=Xe;function P3(t,e,n){const[r,i]=(0,S3.normalizeDates)(n==null?void 0:n.in,t,e);if(isNaN(+r))throw new TypeError("Start date is invalid");if(isNaN(+i))throw new TypeError("End date is invalid");if(n!=null&&n.assertPositive&&+r>+i)throw new TypeError("End date must be after start date");return{start:r,end:i}}var Wx={};Wx.intervalToDuration=R3;var x3=ui,Zl=Uv,I3=rh,D3=ih,O3=ah,M3=wc,C3=Ec,N3=a_;function R3(t,e){const{start:n,end:r}=(0,x3.normalizeInterval)(e==null?void 0:e.in,t),i={},s=(0,N3.differenceInYears)(r,n);s&&(i.years=s);const o=(0,Zl.add)(n,{years:i.years}),u=(0,M3.differenceInMonths)(r,o);u&&(i.months=u);const c=(0,Zl.add)(o,{months:i.months}),d=(0,I3.differenceInDays)(r,c);d&&(i.days=d);const h=(0,Zl.add)(c,{days:i.days}),p=(0,D3.differenceInHours)(r,h);p&&(i.hours=p);const v=(0,Zl.add)(h,{hours:i.hours}),E=(0,O3.differenceInMinutes)(r,v);E&&(i.minutes=E);const O=(0,Zl.add)(v,{minutes:i.minutes}),I=(0,C3.differenceInSeconds)(r,O);return I&&(i.seconds=I),i}var Ux={};Ux.intlFormat=j3;var A3=B;function j3(t,e,n){let r;return F3(e)?r=e:n=e,new Intl.DateTimeFormat(n==null?void 0:n.locale,r).format((0,A3.toDate)(t))}function F3(t){return t!==void 0&&!("locale"in t)}var Bx={};Bx.intlFormatDistance=V3;var L3=Xe,Ta=X,Xm=Ki,mE=eh,Jm=n_,gE=th,Zm=nh,pE=ih,vE=ah,eg=Ec;function V3(t,e,n){let r=0,i;const[s,o]=(0,L3.normalizeDates)(n==null?void 0:n.in,t,e);if(n!=null&&n.unit)i=n==null?void 0:n.unit,i==="second"?r=(0,eg.differenceInSeconds)(s,o):i==="minute"?r=(0,vE.differenceInMinutes)(s,o):i==="hour"?r=(0,pE.differenceInHours)(s,o):i==="day"?r=(0,Xm.differenceInCalendarDays)(s,o):i==="week"?r=(0,gE.differenceInCalendarWeeks)(s,o):i==="month"?r=(0,mE.differenceInCalendarMonths)(s,o):i==="quarter"?r=(0,Jm.differenceInCalendarQuarters)(s,o):i==="year"&&(r=(0,Zm.differenceInCalendarYears)(s,o));else{const c=(0,eg.differenceInSeconds)(s,o);Math.abs(c)<Ta.secondsInMinute?(r=(0,eg.differenceInSeconds)(s,o),i="second"):Math.abs(c)<Ta.secondsInHour?(r=(0,vE.differenceInMinutes)(s,o),i="minute"):Math.abs(c)<Ta.secondsInDay&&Math.abs((0,Xm.differenceInCalendarDays)(s,o))<1?(r=(0,pE.differenceInHours)(s,o),i="hour"):Math.abs(c)<Ta.secondsInWeek&&(r=(0,Xm.differenceInCalendarDays)(s,o))&&Math.abs(r)<7?i="day":Math.abs(c)<Ta.secondsInMonth?(r=(0,gE.differenceInCalendarWeeks)(s,o),i="week"):Math.abs(c)<Ta.secondsInQuarter?(r=(0,mE.differenceInCalendarMonths)(s,o),i="month"):Math.abs(c)<Ta.secondsInYear&&(0,Jm.differenceInCalendarQuarters)(s,o)<4?(r=(0,Jm.differenceInCalendarQuarters)(s,o),i="quarter"):(r=(0,Zm.differenceInCalendarYears)(s,o),i="year")}return new Intl.RelativeTimeFormat(n==null?void 0:n.locale,{numeric:"auto",...n}).format(r,i)}var $x={};$x.isAfter=k3;var _E=B;function k3(t,e){return+(0,_E.toDate)(t)>+(0,_E.toDate)(e)}var Hx={};Hx.isBefore=z3;var yE=B;function z3(t,e){return+(0,yE.toDate)(t)<+(0,yE.toDate)(e)}var Yx={};Yx.isEqual=W3;var wE=B;function W3(t,e){return+(0,wE.toDate)(t)==+(0,wE.toDate)(e)}var qx={};qx.isExists=U3;function U3(t,e,n){const r=new Date(t,e,n);return r.getFullYear()===t&&r.getMonth()===e&&r.getDate()===n}var Gx={};Gx.isFirstDayOfMonth=$3;var B3=B;function $3(t,e){return(0,B3.toDate)(t,e==null?void 0:e.in).getDate()===1}var Qx={};Qx.isFriday=Y3;var H3=B;function Y3(t,e){return(0,H3.toDate)(t,e==null?void 0:e.in).getDay()===5}var Kx={};Kx.isFuture=G3;var q3=B;function G3(t){return+(0,q3.toDate)(t)>Date.now()}var Xx={},x_={},Bs={},I_={};I_.transpose=K3;var Q3=fe;function K3(t,e){const n=X3(e)?new e(0):(0,Q3.constructFrom)(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function X3(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}Bs.ValueSetter=Bs.Setter=Bs.DateTimezoneSetter=void 0;var EE=fe,J3=I_;const Z3=10;class D_{constructor(){te(this,"subPriority",0)}validate(e,n){return!0}}Bs.Setter=D_;class eV extends D_{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}Bs.ValueSetter=eV;class tV extends D_{constructor(n,r){super();te(this,"priority",Z3);te(this,"subPriority",-1);this.context=n||(i=>(0,EE.constructFrom)(r,i))}set(n,r){return r.timestampIsSet?n:(0,EE.constructFrom)(n,(0,J3.transpose)(n,this.context))}}Bs.DateTimezoneSetter=tV;var O_={},M_={},Ve={};Ve.Parser=void 0;var nV=Bs;class rV{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new nV.ValueSetter(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}Ve.Parser=rV;M_.EraParser=void 0;var iV=Ve;class sV extends iV.Parser{constructor(){super(...arguments);te(this,"priority",140);te(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}M_.EraParser=sV;var C_={},Pe={},Ut={};Ut.timezonePatterns=Ut.numericPatterns=void 0;Ut.numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/};Ut.timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};Pe.dayPeriodEnumToHours=dV;Pe.isLeapYearIndex=hV;Pe.mapValue=aV;Pe.normalizeTwoDigitYear=fV;Pe.parseAnyDigitsSigned=lV;Pe.parseNDigits=uV;Pe.parseNDigitsSigned=cV;Pe.parseNumericPattern=or;Pe.parseTimezonePattern=oV;var tg=X,Ni=Ut;function aV(t,e){return t&&{value:e(t.value),rest:t.rest}}function or(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function oV(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*tg.millisecondsInHour+s*tg.millisecondsInMinute+o*tg.millisecondsInSecond),rest:e.slice(n[0].length)}}function lV(t){return or(Ni.numericPatterns.anyDigitsSigned,t)}function uV(t,e){switch(t){case 1:return or(Ni.numericPatterns.singleDigit,e);case 2:return or(Ni.numericPatterns.twoDigits,e);case 3:return or(Ni.numericPatterns.threeDigits,e);case 4:return or(Ni.numericPatterns.fourDigits,e);default:return or(new RegExp("^\\d{1,"+t+"}"),e)}}function cV(t,e){switch(t){case 1:return or(Ni.numericPatterns.singleDigitSigned,e);case 2:return or(Ni.numericPatterns.twoDigitsSigned,e);case 3:return or(Ni.numericPatterns.threeDigitsSigned,e);case 4:return or(Ni.numericPatterns.fourDigitsSigned,e);default:return or(new RegExp("^-?\\d{1,"+t+"}"),e)}}function dV(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function fV(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,u=t>=s%100;i=t+o-(u?100:0)}return n?i:1-i}function hV(t){return t%400===0||t%4===0&&t%100!==0}C_.YearParser=void 0;var mV=Ve,Ro=Pe;class gV extends mV.Parser{constructor(){super(...arguments);te(this,"priority",130);te(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return(0,Ro.mapValue)((0,Ro.parseNDigits)(4,n),s);case"yo":return(0,Ro.mapValue)(i.ordinalNumber(n,{unit:"year"}),s);default:return(0,Ro.mapValue)((0,Ro.parseNDigits)(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const u=(0,Ro.normalizeTwoDigitYear)(i.year,s);return n.setFullYear(u,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}C_.YearParser=gV;var N_={};N_.LocalWeekYearParser=void 0;var pV=Tc,bE=Fr,vV=Ve,Ao=Pe;class _V extends vV.Parser{constructor(){super(...arguments);te(this,"priority",130);te(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return(0,Ao.mapValue)((0,Ao.parseNDigits)(4,n),s);case"Yo":return(0,Ao.mapValue)(i.ordinalNumber(n,{unit:"year"}),s);default:return(0,Ao.mapValue)((0,Ao.parseNDigits)(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=(0,pV.getWeekYear)(n,s);if(i.isTwoDigitYear){const c=(0,Ao.normalizeTwoDigitYear)(i.year,o);return n.setFullYear(c,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),(0,bE.startOfWeek)(n,s)}const u=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(u,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),(0,bE.startOfWeek)(n,s)}}N_.LocalWeekYearParser=_V;var R_={};R_.ISOWeekYearParser=void 0;var yV=li,wV=fe,EV=Ve,TE=Pe;class bV extends EV.Parser{constructor(){super(...arguments);te(this,"priority",130);te(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return r==="R"?(0,TE.parseNDigitsSigned)(4,n):(0,TE.parseNDigitsSigned)(r.length,n)}set(n,r,i){const s=(0,wV.constructFrom)(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),(0,yV.startOfISOWeek)(s)}}R_.ISOWeekYearParser=bV;var A_={};A_.ExtendedYearParser=void 0;var TV=Ve,SE=Pe;class SV extends TV.Parser{constructor(){super(...arguments);te(this,"priority",130);te(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return r==="u"?(0,SE.parseNDigitsSigned)(4,n):(0,SE.parseNDigitsSigned)(r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}A_.ExtendedYearParser=SV;var j_={};j_.QuarterParser=void 0;var PV=Ve,xV=Pe;class IV extends PV.Parser{constructor(){super(...arguments);te(this,"priority",120);te(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return(0,xV.parseNDigits)(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}j_.QuarterParser=IV;var F_={};F_.StandAloneQuarterParser=void 0;var DV=Ve,OV=Pe;class MV extends DV.Parser{constructor(){super(...arguments);te(this,"priority",120);te(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return(0,OV.parseNDigits)(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}F_.StandAloneQuarterParser=MV;var L_={};L_.MonthParser=void 0;var CV=Ut,NV=Ve,eu=Pe;class RV extends NV.Parser{constructor(){super(...arguments);te(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);te(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return(0,eu.mapValue)((0,eu.parseNumericPattern)(CV.numericPatterns.month,n),s);case"MM":return(0,eu.mapValue)((0,eu.parseNDigits)(2,n),s);case"Mo":return(0,eu.mapValue)(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}L_.MonthParser=RV;var V_={};V_.StandAloneMonthParser=void 0;var AV=Ut,jV=Ve,tu=Pe;class FV extends jV.Parser{constructor(){super(...arguments);te(this,"priority",110);te(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return(0,tu.mapValue)((0,tu.parseNumericPattern)(AV.numericPatterns.month,n),s);case"LL":return(0,tu.mapValue)((0,tu.parseNDigits)(2,n),s);case"Lo":return(0,tu.mapValue)(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}V_.StandAloneMonthParser=FV;var k_={},z_={};z_.setWeek=VV;var LV=mh,PE=B;function VV(t,e,n){const r=(0,PE.toDate)(t,n==null?void 0:n.in),i=(0,LV.getWeek)(r,n)-e;return r.setDate(r.getDate()-i*7),(0,PE.toDate)(r,n==null?void 0:n.in)}k_.LocalWeekParser=void 0;var kV=z_,zV=Fr,WV=Ut,UV=Ve,xE=Pe;class BV extends UV.Parser{constructor(){super(...arguments);te(this,"priority",100);te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return(0,xE.parseNumericPattern)(WV.numericPatterns.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return(0,xE.parseNDigits)(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return(0,zV.startOfWeek)((0,kV.setWeek)(n,i,s),s)}}k_.LocalWeekParser=BV;var W_={},U_={};U_.setISOWeek=YV;var $V=hh,HV=B;function YV(t,e,n){const r=(0,HV.toDate)(t,n==null?void 0:n.in),i=(0,$V.getISOWeek)(r,n)-e;return r.setDate(r.getDate()-i*7),r}W_.ISOWeekParser=void 0;var qV=U_,GV=li,QV=Ut,KV=Ve,IE=Pe;class XV extends KV.Parser{constructor(){super(...arguments);te(this,"priority",100);te(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return(0,IE.parseNumericPattern)(QV.numericPatterns.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return(0,IE.parseNDigits)(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return(0,GV.startOfISOWeek)((0,qV.setISOWeek)(n,i))}}W_.ISOWeekParser=XV;var B_={};B_.DateParser=void 0;var JV=Ut,ZV=Ve,ng=Pe;const ek=[31,28,31,30,31,30,31,31,30,31,30,31],tk=[31,29,31,30,31,30,31,31,30,31,30,31];class nk extends ZV.Parser{constructor(){super(...arguments);te(this,"priority",90);te(this,"subPriority",1);te(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return(0,ng.parseNumericPattern)(JV.numericPatterns.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return(0,ng.parseNDigits)(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=(0,ng.isLeapYearIndex)(i),o=n.getMonth();return s?r>=1&&r<=tk[o]:r>=1&&r<=ek[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}B_.DateParser=nk;var $_={};$_.DayOfYearParser=void 0;var rk=Ut,ik=Ve,rg=Pe;class sk extends ik.Parser{constructor(){super(...arguments);te(this,"priority",90);te(this,"subpriority",1);te(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return(0,rg.parseNumericPattern)(rk.numericPatterns.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return(0,rg.parseNDigits)(r.length,n)}}validate(n,r){const i=n.getFullYear();return(0,rg.isLeapYearIndex)(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}$_.DayOfYearParser=sk;var H_={},xc={};xc.setDay=uk;var ak=un,ok=oi,lk=B;function uk(t,e,n){var p,v,E,O;const r=(0,ak.getDefaultOptions)(),i=(n==null?void 0:n.weekStartsOn)??((v=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((O=(E=r.locale)==null?void 0:E.options)==null?void 0:O.weekStartsOn)??0,s=(0,lk.toDate)(t,n==null?void 0:n.in),o=s.getDay(),c=(e%7+7)%7,d=7-i,h=e<0||e>6?e-(o+d)%7:(c+d)%7-(o+d)%7;return(0,ok.addDays)(s,h,n)}H_.DayParser=void 0;var ck=xc,dk=Ve;class fk extends dk.Parser{constructor(){super(...arguments);te(this,"priority",90);te(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=(0,ck.setDay)(n,i,s),n.setHours(0,0,0,0),n}}H_.DayParser=fk;var Y_={};Y_.LocalDayParser=void 0;var hk=xc,mk=Ve,ig=Pe;class gk extends mk.Parser{constructor(){super(...arguments);te(this,"priority",90);te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=u=>{const c=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return(0,ig.mapValue)((0,ig.parseNDigits)(r.length,n),o);case"eo":return(0,ig.mapValue)(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=(0,hk.setDay)(n,i,s),n.setHours(0,0,0,0),n}}Y_.LocalDayParser=gk;var q_={};q_.StandAloneLocalDayParser=void 0;var pk=xc,vk=Ve,sg=Pe;class _k extends vk.Parser{constructor(){super(...arguments);te(this,"priority",90);te(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=u=>{const c=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return(0,sg.mapValue)((0,sg.parseNDigits)(r.length,n),o);case"co":return(0,sg.mapValue)(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=(0,pk.setDay)(n,i,s),n.setHours(0,0,0,0),n}}q_.StandAloneLocalDayParser=_k;var G_={},Q_={};Q_.setISODay=bk;var yk=oi,wk=S_,Ek=B;function bk(t,e,n){const r=(0,Ek.toDate)(t,n==null?void 0:n.in),i=(0,wk.getISODay)(r,n),s=e-i;return(0,yk.addDays)(r,s,n)}G_.ISODayParser=void 0;var Tk=Q_,Sk=Ve,nu=Pe;class Pk extends Sk.Parser{constructor(){super(...arguments);te(this,"priority",90);te(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return(0,nu.parseNDigits)(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return(0,nu.mapValue)(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return(0,nu.mapValue)(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return(0,nu.mapValue)(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return(0,nu.mapValue)(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=(0,Tk.setISODay)(n,i),n.setHours(0,0,0,0),n}}G_.ISODayParser=Pk;var K_={};K_.AMPMParser=void 0;var xk=Ve,Ik=Pe;class Dk extends xk.Parser{constructor(){super(...arguments);te(this,"priority",80);te(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours((0,Ik.dayPeriodEnumToHours)(i),0,0,0),n}}K_.AMPMParser=Dk;var X_={};X_.AMPMMidnightParser=void 0;var Ok=Ve,Mk=Pe;class Ck extends Ok.Parser{constructor(){super(...arguments);te(this,"priority",80);te(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours((0,Mk.dayPeriodEnumToHours)(i),0,0,0),n}}X_.AMPMMidnightParser=Ck;var J_={};J_.DayPeriodParser=void 0;var Nk=Ve,Rk=Pe;class Ak extends Nk.Parser{constructor(){super(...arguments);te(this,"priority",80);te(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours((0,Rk.dayPeriodEnumToHours)(i),0,0,0),n}}J_.DayPeriodParser=Ak;var Z_={};Z_.Hour1to12Parser=void 0;var jk=Ut,Fk=Ve,DE=Pe;class Lk extends Fk.Parser{constructor(){super(...arguments);te(this,"priority",70);te(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return(0,DE.parseNumericPattern)(jk.numericPatterns.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return(0,DE.parseNDigits)(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}Z_.Hour1to12Parser=Lk;var ey={};ey.Hour0to23Parser=void 0;var Vk=Ut,kk=Ve,OE=Pe;class zk extends kk.Parser{constructor(){super(...arguments);te(this,"priority",70);te(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return(0,OE.parseNumericPattern)(Vk.numericPatterns.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return(0,OE.parseNDigits)(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}ey.Hour0to23Parser=zk;var ty={};ty.Hour0To11Parser=void 0;var Wk=Ut,Uk=Ve,ME=Pe;class Bk extends Uk.Parser{constructor(){super(...arguments);te(this,"priority",70);te(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return(0,ME.parseNumericPattern)(Wk.numericPatterns.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return(0,ME.parseNDigits)(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}ty.Hour0To11Parser=Bk;var ny={};ny.Hour1To24Parser=void 0;var $k=Ut,Hk=Ve,CE=Pe;class Yk extends Hk.Parser{constructor(){super(...arguments);te(this,"priority",70);te(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return(0,CE.parseNumericPattern)($k.numericPatterns.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return(0,CE.parseNDigits)(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}ny.Hour1To24Parser=Yk;var ry={};ry.MinuteParser=void 0;var qk=Ut,Gk=Ve,NE=Pe;class Qk extends Gk.Parser{constructor(){super(...arguments);te(this,"priority",60);te(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return(0,NE.parseNumericPattern)(qk.numericPatterns.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return(0,NE.parseNDigits)(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}ry.MinuteParser=Qk;var iy={};iy.SecondParser=void 0;var Kk=Ut,Xk=Ve,RE=Pe;class Jk extends Xk.Parser{constructor(){super(...arguments);te(this,"priority",50);te(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return(0,RE.parseNumericPattern)(Kk.numericPatterns.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return(0,RE.parseNDigits)(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}iy.SecondParser=Jk;var sy={};sy.FractionOfSecondParser=void 0;var Zk=Ve,AE=Pe;class e6 extends Zk.Parser{constructor(){super(...arguments);te(this,"priority",30);te(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return(0,AE.mapValue)((0,AE.parseNDigits)(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}sy.FractionOfSecondParser=e6;var ay={};ay.ISOTimezoneWithZParser=void 0;var t6=fe,n6=Xi,ru=Ut,r6=Ve,iu=Pe;class i6 extends r6.Parser{constructor(){super(...arguments);te(this,"priority",10);te(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return(0,iu.parseTimezonePattern)(ru.timezonePatterns.basicOptionalMinutes,n);case"XX":return(0,iu.parseTimezonePattern)(ru.timezonePatterns.basic,n);case"XXXX":return(0,iu.parseTimezonePattern)(ru.timezonePatterns.basicOptionalSeconds,n);case"XXXXX":return(0,iu.parseTimezonePattern)(ru.timezonePatterns.extendedOptionalSeconds,n);case"XXX":default:return(0,iu.parseTimezonePattern)(ru.timezonePatterns.extended,n)}}set(n,r,i){return r.timestampIsSet?n:(0,t6.constructFrom)(n,n.getTime()-(0,n6.getTimezoneOffsetInMilliseconds)(n)-i)}}ay.ISOTimezoneWithZParser=i6;var oy={};oy.ISOTimezoneParser=void 0;var s6=fe,a6=Xi,su=Ut,o6=Ve,au=Pe;class l6 extends o6.Parser{constructor(){super(...arguments);te(this,"priority",10);te(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return(0,au.parseTimezonePattern)(su.timezonePatterns.basicOptionalMinutes,n);case"xx":return(0,au.parseTimezonePattern)(su.timezonePatterns.basic,n);case"xxxx":return(0,au.parseTimezonePattern)(su.timezonePatterns.basicOptionalSeconds,n);case"xxxxx":return(0,au.parseTimezonePattern)(su.timezonePatterns.extendedOptionalSeconds,n);case"xxx":default:return(0,au.parseTimezonePattern)(su.timezonePatterns.extended,n)}}set(n,r,i){return r.timestampIsSet?n:(0,s6.constructFrom)(n,n.getTime()-(0,a6.getTimezoneOffsetInMilliseconds)(n)-i)}}oy.ISOTimezoneParser=l6;var ly={};ly.TimestampSecondsParser=void 0;var u6=fe,c6=Ve,d6=Pe;class f6 extends c6.Parser{constructor(){super(...arguments);te(this,"priority",40);te(this,"incompatibleTokens","*")}parse(n){return(0,d6.parseAnyDigitsSigned)(n)}set(n,r,i){return[(0,u6.constructFrom)(n,i*1e3),{timestampIsSet:!0}]}}ly.TimestampSecondsParser=f6;var uy={};uy.TimestampMillisecondsParser=void 0;var h6=fe,m6=Ve,g6=Pe;class p6 extends m6.Parser{constructor(){super(...arguments);te(this,"priority",20);te(this,"incompatibleTokens","*")}parse(n){return(0,g6.parseAnyDigitsSigned)(n)}set(n,r,i){return[(0,h6.constructFrom)(n,i),{timestampIsSet:!0}]}}uy.TimestampMillisecondsParser=p6;O_.parsers=void 0;var v6=M_,_6=C_,y6=N_,w6=R_,E6=A_,b6=j_,T6=F_,S6=L_,P6=V_,x6=k_,I6=W_,D6=B_,O6=$_,M6=H_,C6=Y_,N6=q_,R6=G_,A6=K_,j6=X_,F6=J_,L6=Z_,V6=ey,k6=ty,z6=ny,W6=ry,U6=iy,B6=sy,$6=ay,H6=oy,Y6=ly,q6=uy;O_.parsers={G:new v6.EraParser,y:new _6.YearParser,Y:new y6.LocalWeekYearParser,R:new w6.ISOWeekYearParser,u:new E6.ExtendedYearParser,Q:new b6.QuarterParser,q:new T6.StandAloneQuarterParser,M:new S6.MonthParser,L:new P6.StandAloneMonthParser,w:new x6.LocalWeekParser,I:new I6.ISOWeekParser,d:new D6.DateParser,D:new O6.DayOfYearParser,E:new M6.DayParser,e:new C6.LocalDayParser,c:new N6.StandAloneLocalDayParser,i:new R6.ISODayParser,a:new A6.AMPMParser,b:new j6.AMPMMidnightParser,B:new F6.DayPeriodParser,h:new L6.Hour1to12Parser,H:new V6.Hour0to23Parser,K:new k6.Hour0To11Parser,k:new z6.Hour1To24Parser,m:new W6.MinuteParser,s:new U6.SecondParser,S:new B6.FractionOfSecondParser,X:new $6.ISOTimezoneWithZParser,x:new H6.ISOTimezoneParser,t:new Y6.TimestampSecondsParser,T:new q6.TimestampMillisecondsParser};(function(t){Object.defineProperty(t,"longFormatters",{enumerable:!0,get:function(){return n.longFormatters}}),t.parse=I,Object.defineProperty(t,"parsers",{enumerable:!0,get:function(){return c.parsers}});var e=no,n=vh,r=Sc,i=fe,s=T_,o=B,u=Bs,c=O_;const d=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,p=/^'([^]*?)'?$/,v=/''/g,E=/\S/,O=/[a-zA-Z]/;function I(b,S,M,j){var xe,q,ie,ue,Se,Y,W,L;const U=()=>(0,i.constructFrom)((j==null?void 0:j.in)||M,NaN),$=(0,s.getDefaultOptions)(),T=(j==null?void 0:j.locale)??$.locale??e.defaultLocale,w=(j==null?void 0:j.firstWeekContainsDate)??((q=(xe=j==null?void 0:j.locale)==null?void 0:xe.options)==null?void 0:q.firstWeekContainsDate)??$.firstWeekContainsDate??((ue=(ie=$.locale)==null?void 0:ie.options)==null?void 0:ue.firstWeekContainsDate)??1,P=(j==null?void 0:j.weekStartsOn)??((Y=(Se=j==null?void 0:j.locale)==null?void 0:Se.options)==null?void 0:Y.weekStartsOn)??$.weekStartsOn??((L=(W=$.locale)==null?void 0:W.options)==null?void 0:L.weekStartsOn)??0;if(!S)return b?U():(0,o.toDate)(M,j==null?void 0:j.in);const D={firstWeekContainsDate:w,weekStartsOn:P,locale:T},N=[new u.DateTimezoneSetter(j==null?void 0:j.in,M)],R=S.match(h).map(C=>{const z=C[0];if(z in n.longFormatters){const J=n.longFormatters[z];return J(C,T.formatLong)}return C}).join("").match(d),x=[];for(let C of R){!(j!=null&&j.useAdditionalWeekYearTokens)&&(0,r.isProtectedWeekYearToken)(C)&&(0,r.warnOrThrowProtectedError)(C,S,b),!(j!=null&&j.useAdditionalDayOfYearTokens)&&(0,r.isProtectedDayOfYearToken)(C)&&(0,r.warnOrThrowProtectedError)(C,S,b);const z=C[0],J=c.parsers[z];if(J){const{incompatibleTokens:se}=J;if(Array.isArray(se)){const de=x.find(ge=>se.includes(ge.token)||ge.token===z);if(de)throw new RangeError(`The format string mustn't contain \`${de.fullToken}\` and \`${C}\` at the same time`)}else if(J.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);x.push({token:z,fullToken:C});const ne=J.run(b,C,T.match,D);if(!ne)return U();N.push(ne.setter),b=ne.rest}else{if(z.match(O))throw new RangeError("Format string contains an unescaped latin alphabet character `"+z+"`");if(C==="''"?C="'":z==="'"&&(C=A(C)),b.indexOf(C)===0)b=b.slice(C.length);else return U()}}if(b.length>0&&E.test(b))return U();const $e=N.map(C=>C.priority).sort((C,z)=>z-C).filter((C,z,J)=>J.indexOf(C)===z).map(C=>N.filter(z=>z.priority===C).sort((z,J)=>J.subPriority-z.subPriority)).map(C=>C[0]);let Ye=(0,o.toDate)(M,j==null?void 0:j.in);if(isNaN(+Ye))return U();const _t={};for(const C of $e){if(!C.validate(Ye,D))return U();const z=C.set(Ye,_t,D);Array.isArray(z)?(Ye=z[0],Object.assign(_t,z[1])):Ye=z}return Ye}function A(b){return b.match(p)[1].replace(v,"'")}})(x_);Xx.isMatch=K6;var G6=Ji,Q6=x_;function K6(t,e,n){return(0,G6.isValid)((0,Q6.parse)(t,e,new Date,n))}var Jx={};Jx.isMonday=J6;var X6=B;function J6(t,e){return(0,X6.toDate)(t,e==null?void 0:e.in).getDay()===1}var Zx={};Zx.isPast=e9;var Z6=B;function e9(t){return+(0,Z6.toDate)(t)<Date.now()}var cy={},dy={};dy.startOfHour=n9;var t9=B;function n9(t,e){const n=(0,t9.toDate)(t,e==null?void 0:e.in);return n.setMinutes(0,0,0),n}cy.isSameHour=i9;var r9=Xe,jE=dy;function i9(t,e,n){const[r,i]=(0,r9.normalizeDates)(n==null?void 0:n.in,t,e);return+(0,jE.startOfHour)(r)==+(0,jE.startOfHour)(i)}var fy={},_h={};_h.isSameWeek=a9;var s9=Xe,FE=Fr;function a9(t,e,n){const[r,i]=(0,s9.normalizeDates)(n==null?void 0:n.in,t,e);return+(0,FE.startOfWeek)(r,n)==+(0,FE.startOfWeek)(i,n)}fy.isSameISOWeek=l9;var o9=_h;function l9(t,e,n){return(0,o9.isSameWeek)(t,e,{...n,weekStartsOn:1})}var eI={};eI.isSameISOWeekYear=c9;var LE=Il,u9=Xe;function c9(t,e,n){const[r,i]=(0,u9.normalizeDates)(n==null?void 0:n.in,t,e);return+(0,LE.startOfISOWeekYear)(r)==+(0,LE.startOfISOWeekYear)(i)}var hy={},my={};my.startOfMinute=f9;var d9=B;function f9(t,e){const n=(0,d9.toDate)(t,e==null?void 0:e.in);return n.setSeconds(0,0),n}hy.isSameMinute=h9;var VE=my;function h9(t,e){return+(0,VE.startOfMinute)(t)==+(0,VE.startOfMinute)(e)}var gy={};gy.isSameMonth=g9;var m9=Xe;function g9(t,e,n){const[r,i]=(0,m9.normalizeDates)(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}var py={};py.isSameQuarter=v9;var p9=Xe,kE=uh;function v9(t,e,n){const[r,i]=(0,p9.normalizeDates)(n==null?void 0:n.in,t,e);return+(0,kE.startOfQuarter)(r)==+(0,kE.startOfQuarter)(i)}var vy={},_y={};_y.startOfSecond=y9;var _9=B;function y9(t,e){const n=(0,_9.toDate)(t,e==null?void 0:e.in);return n.setMilliseconds(0),n}vy.isSameSecond=w9;var zE=_y;function w9(t,e){return+(0,zE.startOfSecond)(t)==+(0,zE.startOfSecond)(e)}var yy={};yy.isSameYear=b9;var E9=Xe;function b9(t,e,n){const[r,i]=(0,E9.normalizeDates)(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}var tI={};tI.isThisHour=x9;var T9=Bt,S9=cy,P9=B;function x9(t,e){return(0,S9.isSameHour)((0,P9.toDate)(t,e==null?void 0:e.in),(0,T9.constructNow)((e==null?void 0:e.in)||t))}var nI={};nI.isThisISOWeek=M9;var I9=fe,D9=Bt,O9=fy;function M9(t,e){return(0,O9.isSameISOWeek)((0,I9.constructFrom)((e==null?void 0:e.in)||t,t),(0,D9.constructNow)((e==null?void 0:e.in)||t))}var rI={};rI.isThisMinute=R9;var C9=Bt,N9=hy;function R9(t){return(0,N9.isSameMinute)(t,(0,C9.constructNow)(t))}var iI={};iI.isThisMonth=L9;var A9=fe,j9=Bt,F9=gy;function L9(t,e){return(0,F9.isSameMonth)((0,A9.constructFrom)((e==null?void 0:e.in)||t,t),(0,j9.constructNow)((e==null?void 0:e.in)||t))}var sI={};sI.isThisQuarter=W9;var V9=fe,k9=Bt,z9=py;function W9(t,e){return(0,z9.isSameQuarter)((0,V9.constructFrom)((e==null?void 0:e.in)||t,t),(0,k9.constructNow)((e==null?void 0:e.in)||t))}var aI={};aI.isThisSecond=$9;var U9=Bt,B9=vy;function $9(t){return(0,B9.isSameSecond)(t,(0,U9.constructNow)(t))}var oI={};oI.isThisWeek=G9;var H9=fe,Y9=Bt,q9=_h;function G9(t,e){return(0,q9.isSameWeek)((0,H9.constructFrom)((e==null?void 0:e.in)||t,t),(0,Y9.constructNow)((e==null?void 0:e.in)||t),e)}var lI={};lI.isThisYear=J9;var Q9=fe,K9=Bt,X9=yy;function J9(t,e){return(0,X9.isSameYear)((0,Q9.constructFrom)((e==null?void 0:e.in)||t,t),(0,K9.constructNow)((e==null?void 0:e.in)||t))}var uI={};uI.isThursday=e5;var Z9=B;function e5(t,e){return(0,Z9.toDate)(t,e==null?void 0:e.in).getDay()===4}var cI={};cI.isToday=i5;var t5=fe,n5=Bt,r5=Dl;function i5(t,e){return(0,r5.isSameDay)((0,t5.constructFrom)((e==null?void 0:e.in)||t,t),(0,n5.constructNow)((e==null?void 0:e.in)||t))}var dI={};dI.isTomorrow=l5;var s5=oi,a5=Bt,o5=Dl;function l5(t,e){return(0,o5.isSameDay)(t,(0,s5.addDays)((0,a5.constructNow)((e==null?void 0:e.in)||t),1),e)}var fI={};fI.isTuesday=c5;var u5=B;function c5(t,e){return(0,u5.toDate)(t,e==null?void 0:e.in).getDay()===2}var hI={};hI.isWednesday=f5;var d5=B;function f5(t,e){return(0,d5.toDate)(t,e==null?void 0:e.in).getDay()===3}var mI={};mI.isWithinInterval=h5;var ag=B;function h5(t,e,n){const r=+(0,ag.toDate)(t,n==null?void 0:n.in),[i,s]=[+(0,ag.toDate)(e.start,n==null?void 0:n.in),+(0,ag.toDate)(e.end,n==null?void 0:n.in)].sort((o,u)=>o-u);return r>=i&&r<=s}var gI={},Ic={};Ic.subDays=g5;var m5=oi;function g5(t,e,n){return(0,m5.addDays)(t,-e,n)}gI.isYesterday=w5;var p5=fe,v5=Bt,_5=Dl,y5=Ic;function w5(t,e){return(0,_5.isSameDay)((0,p5.constructFrom)((e==null?void 0:e.in)||t,t),(0,y5.subDays)((0,v5.constructNow)((e==null?void 0:e.in)||t),1))}var pI={};pI.lastDayOfDecade=E5;var WE=B;function E5(t,e){const n=(0,WE.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),i=9+Math.floor(r/10)*10;return n.setFullYear(i+1,0,0),n.setHours(0,0,0,0),(0,WE.toDate)(n,e==null?void 0:e.in)}var vI={},wy={};wy.lastDayOfWeek=S5;var b5=un,T5=B;function S5(t,e){var u,c,d,h;const n=(0,b5.getDefaultOptions)(),r=(e==null?void 0:e.weekStartsOn)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=(0,T5.toDate)(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setHours(0,0,0,0),i.setDate(i.getDate()+o),i}vI.lastDayOfISOWeek=x5;var P5=wy;function x5(t,e){return(0,P5.lastDayOfWeek)(t,{...e,weekStartsOn:1})}var _I={};_I.lastDayOfISOWeekYear=M5;var I5=fe,D5=sa,O5=li;function M5(t,e){const n=(0,D5.getISOWeekYear)(t,e),r=(0,I5.constructFrom)((e==null?void 0:e.in)||t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=(0,O5.startOfISOWeek)(r,e);return i.setDate(i.getDate()-1),i}var yI={};yI.lastDayOfQuarter=N5;var C5=B;function N5(t,e){const n=(0,C5.toDate)(t,e==null?void 0:e.in),r=n.getMonth(),i=r-r%3+3;return n.setMonth(i,0),n.setHours(0,0,0,0),n}var wI={};wI.lastDayOfYear=A5;var R5=B;function A5(t,e){const n=(0,R5.toDate)(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(0,0,0,0),n}var EI={};(function(t){t.lightFormat=c,Object.defineProperty(t,"lightFormatters",{enumerable:!0,get:function(){return e.lightFormatters}});var e=ph,n=Ji,r=B;const i=/(\w)\1*|''|'(''|[^'])+('|$)|./g,s=/^'([^]*?)'?$/,o=/''/g,u=/[a-zA-Z]/;function c(h,p){const v=(0,r.toDate)(h);if(!(0,n.isValid)(v))throw new RangeError("Invalid time value");const E=p.match(i);return E?E.map(I=>{if(I==="''")return"'";const A=I[0];if(A==="'")return d(I);const b=e.lightFormatters[A];if(b)return b(v,I);if(A.match(u))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return I}).join(""):""}function d(h){const p=h.match(s);return p?p[1].replace(o,"'"):h}})(EI);var bI={};bI.milliseconds=j5;var UE=X;function j5({years:t,months:e,weeks:n,days:r,hours:i,minutes:s,seconds:o}){let u=0;t&&(u+=t*UE.daysInYear),e&&(u+=e*(UE.daysInYear/12)),n&&(u+=n*7),r&&(u+=r);let c=u*24*60*60;return i&&(c+=i*60*60),s&&(c+=s*60),o&&(c+=o),Math.trunc(c*1e3)}var TI={};TI.millisecondsToHours=L5;var F5=X;function L5(t){const e=t/F5.millisecondsInHour;return Math.trunc(e)}var SI={};SI.millisecondsToMinutes=k5;var V5=X;function k5(t){const e=t/V5.millisecondsInMinute;return Math.trunc(e)}var PI={};PI.millisecondsToSeconds=W5;var z5=X;function W5(t){const e=t/z5.millisecondsInSecond;return Math.trunc(e)}var xI={};xI.minutesToHours=B5;var U5=X;function B5(t){const e=t/U5.minutesInHour;return Math.trunc(e)}var II={};II.minutesToMilliseconds=H5;var $5=X;function H5(t){return Math.trunc(t*$5.millisecondsInMinute)}var DI={};DI.minutesToSeconds=q5;var Y5=X;function q5(t){return Math.trunc(t*Y5.secondsInMinute)}var OI={};OI.monthsToQuarters=Q5;var G5=X;function Q5(t){const e=t/G5.monthsInQuarter;return Math.trunc(e)}var MI={};MI.monthsToYears=X5;var K5=X;function X5(t){const e=t/K5.monthsInYear;return Math.trunc(e)}var es={};es.nextDay=ez;var J5=oi,Z5=Pc;function ez(t,e,n){let r=e-(0,Z5.getDay)(t,n);return r<=0&&(r+=7),(0,J5.addDays)(t,r,n)}var CI={};CI.nextFriday=nz;var tz=es;function nz(t,e){return(0,tz.nextDay)(t,5,e)}var NI={};NI.nextMonday=iz;var rz=es;function iz(t,e){return(0,rz.nextDay)(t,1,e)}var RI={};RI.nextSaturday=az;var sz=es;function az(t,e){return(0,sz.nextDay)(t,6,e)}var AI={};AI.nextSunday=lz;var oz=es;function lz(t,e){return(0,oz.nextDay)(t,0,e)}var jI={};jI.nextThursday=cz;var uz=es;function cz(t,e){return(0,uz.nextDay)(t,4,e)}var FI={};FI.nextTuesday=fz;var dz=es;function fz(t,e){return(0,dz.nextDay)(t,2,e)}var LI={};LI.nextWednesday=mz;var hz=es;function mz(t,e){return(0,hz.nextDay)(t,3,e)}var VI={};VI.parseISO=pz;var gf=X,gz=fe,BE=B;function pz(t,e){const n=()=>(0,gz.constructFrom)(e==null?void 0:e.in,NaN),r=(e==null?void 0:e.additionalDigits)??2,i=wz(t);let s;if(i.date){const d=Ez(i.date,r);s=bz(d.restDateString,d.year)}if(!s||isNaN(+s))return n();const o=+s;let u=0,c;if(i.time&&(u=Tz(i.time),isNaN(u)))return n();if(i.timezone){if(c=Sz(i.timezone),isNaN(c))return n()}else{const d=new Date(o+u),h=(0,BE.toDate)(0,e==null?void 0:e.in);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return(0,BE.toDate)(o+u+c,e==null?void 0:e.in)}const cd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vz=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,_z=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,yz=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wz(t){const e={},n=t.split(cd.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],cd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(cd.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=cd.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function Ez(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function bz(t,e){if(e===null)return new Date(NaN);const n=t.match(vz);if(!n)return new Date(NaN);const r=!!n[4],i=ou(n[1]),s=ou(n[2])-1,o=ou(n[3]),u=ou(n[4]),c=ou(n[5])-1;if(r)return Oz(e,u,c)?Pz(e,u,c):new Date(NaN);{const d=new Date(0);return!Iz(e,s,o)||!Dz(e,i)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(i,o)),d)}}function ou(t){return t?parseInt(t):1}function Tz(t){const e=t.match(_z);if(!e)return NaN;const n=og(e[1]),r=og(e[2]),i=og(e[3]);return Mz(n,r,i)?n*gf.millisecondsInHour+r*gf.millisecondsInMinute+i*1e3:NaN}function og(t){return t&&parseFloat(t.replace(",","."))||0}function Sz(t){if(t==="Z")return 0;const e=t.match(yz);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Cz(r,i)?n*(r*gf.millisecondsInHour+i*gf.millisecondsInMinute):NaN}function Pz(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const xz=[31,null,31,30,31,30,31,31,30,31,30,31];function kI(t){return t%400===0||t%4===0&&t%100!==0}function Iz(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(xz[e]||(kI(t)?29:28))}function Dz(t,e){return e>=1&&e<=(kI(t)?366:365)}function Oz(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Mz(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Cz(t,e){return e>=0&&e<=59}var zI={};zI.parseJSON=Nz;var $E=B;function Nz(t,e){const n=t.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return n?(0,$E.toDate)(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4]-(+n[9]||0)*(n[8]=="-"?-1:1),+n[5]-(+n[10]||0)*(n[8]=="-"?-1:1),+n[6],+((n[7]||"0")+"00").substring(0,3)),e==null?void 0:e.in):(0,$E.toDate)(NaN,e==null?void 0:e.in)}var ts={};ts.previousDay=jz;var Rz=Pc,Az=Ic;function jz(t,e,n){let r=(0,Rz.getDay)(t,n)-e;return r<=0&&(r+=7),(0,Az.subDays)(t,r,n)}var WI={};WI.previousFriday=Lz;var Fz=ts;function Lz(t,e){return(0,Fz.previousDay)(t,5,e)}var UI={};UI.previousMonday=kz;var Vz=ts;function kz(t,e){return(0,Vz.previousDay)(t,1,e)}var BI={};BI.previousSaturday=Wz;var zz=ts;function Wz(t,e){return(0,zz.previousDay)(t,6,e)}var $I={};$I.previousSunday=Bz;var Uz=ts;function Bz(t,e){return(0,Uz.previousDay)(t,0,e)}var HI={};HI.previousThursday=Hz;var $z=ts;function Hz(t,e){return(0,$z.previousDay)(t,4,e)}var YI={};YI.previousTuesday=qz;var Yz=ts;function qz(t,e){return(0,Yz.previousDay)(t,2,e)}var qI={};qI.previousWednesday=Qz;var Gz=ts;function Qz(t,e){return(0,Gz.previousDay)(t,3,e)}var GI={};GI.quartersToMonths=Xz;var Kz=X;function Xz(t){return Math.trunc(t*Kz.monthsInQuarter)}var QI={};QI.quartersToYears=Zz;var Jz=X;function Zz(t){const e=t/Jz.quartersInYear;return Math.trunc(e)}var KI={};KI.roundToNearestHours=rW;var eW=Zi,tW=fe,nW=B;function rW(t,e){const n=(e==null?void 0:e.nearestTo)??1;if(n<1||n>12)return(0,tW.constructFrom)((e==null?void 0:e.in)||t,NaN);const r=(0,nW.toDate)(t,e==null?void 0:e.in),i=r.getMinutes()/60,s=r.getSeconds()/60/60,o=r.getMilliseconds()/1e3/60/60,u=r.getHours()+i+s+o,c=(e==null?void 0:e.roundingMethod)??"round",h=(0,eW.getRoundingMethod)(c)(u/n)*n;return r.setHours(h,0,0,0),r}var XI={};XI.roundToNearestMinutes=oW;var iW=Zi,sW=fe,aW=B;function oW(t,e){const n=(e==null?void 0:e.nearestTo)??1;if(n<1||n>30)return(0,sW.constructFrom)(t,NaN);const r=(0,aW.toDate)(t,e==null?void 0:e.in),i=r.getSeconds()/60,s=r.getMilliseconds()/1e3/60,o=r.getMinutes()+i+s,u=(e==null?void 0:e.roundingMethod)??"round",d=(0,iW.getRoundingMethod)(u)(o/n)*n;return r.setMinutes(d,0,0),r}var JI={};JI.secondsToHours=uW;var lW=X;function uW(t){const e=t/lW.secondsInHour;return Math.trunc(e)}var ZI={};ZI.secondsToMilliseconds=dW;var cW=X;function dW(t){return t*cW.millisecondsInSecond}var eD={};eD.secondsToMinutes=hW;var fW=X;function hW(t){const e=t/fW.secondsInMinute;return Math.trunc(e)}var tD={},yh={};yh.setMonth=vW;var mW=fe,gW=E_,pW=B;function vW(t,e,n){const r=(0,pW.toDate)(t,n==null?void 0:n.in),i=r.getFullYear(),s=r.getDate(),o=(0,mW.constructFrom)((n==null?void 0:n.in)||t,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const u=(0,gW.getDaysInMonth)(o);return r.setMonth(e,Math.min(s,u)),r}tD.set=EW;var _W=fe,yW=yh,wW=B;function EW(t,e,n){let r=(0,wW.toDate)(t,n==null?void 0:n.in);return isNaN(+r)?(0,_W.constructFrom)((n==null?void 0:n.in)||t,NaN):(e.year!=null&&r.setFullYear(e.year),e.month!=null&&(r=(0,yW.setMonth)(r,e.month)),e.date!=null&&r.setDate(e.date),e.hours!=null&&r.setHours(e.hours),e.minutes!=null&&r.setMinutes(e.minutes),e.seconds!=null&&r.setSeconds(e.seconds),e.milliseconds!=null&&r.setMilliseconds(e.milliseconds),r)}var nD={};nD.setDate=TW;var bW=B;function TW(t,e,n){const r=(0,bW.toDate)(t,n==null?void 0:n.in);return r.setDate(e),r}var rD={};rD.setDayOfYear=PW;var SW=B;function PW(t,e,n){const r=(0,SW.toDate)(t,n==null?void 0:n.in);return r.setMonth(0),r.setDate(e),r}var iD={};iD.setDefaultOptions=xW;var HE=un;function xW(t){const e={},n=(0,HE.getDefaultOptions)();for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]===void 0?delete e[r]:e[r]=t[r]);(0,HE.setDefaultOptions)(e)}var sD={};sD.setHours=DW;var IW=B;function DW(t,e,n){const r=(0,IW.toDate)(t,n==null?void 0:n.in);return r.setHours(e),r}var aD={};aD.setMilliseconds=MW;var OW=B;function MW(t,e,n){const r=(0,OW.toDate)(t,n==null?void 0:n.in);return r.setMilliseconds(e),r}var oD={};oD.setMinutes=NW;var CW=B;function NW(t,e,n){const r=(0,CW.toDate)(t,n==null?void 0:n.in);return r.setMinutes(e),r}var lD={};lD.setQuarter=jW;var RW=yh,AW=B;function jW(t,e,n){const r=(0,AW.toDate)(t,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return(0,RW.setMonth)(r,r.getMonth()+s*3)}var uD={};uD.setSeconds=LW;var FW=B;function LW(t,e,n){const r=(0,FW.toDate)(t,n==null?void 0:n.in);return r.setSeconds(e),r}var cD={};cD.setWeekYear=UW;var VW=un,kW=fe,zW=Ki,YE=gh,WW=B;function UW(t,e,n){var c,d,h,p;const r=(0,VW.getDefaultOptions)(),i=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(0,zW.differenceInCalendarDays)((0,WW.toDate)(t,n==null?void 0:n.in),(0,YE.startOfWeekYear)(t,n),n),o=(0,kW.constructFrom)((n==null?void 0:n.in)||t,0);o.setFullYear(e,0,i),o.setHours(0,0,0,0);const u=(0,YE.startOfWeekYear)(o,n);return u.setDate(u.getDate()+s),u}var dD={};dD.setYear=HW;var BW=fe,$W=B;function HW(t,e,n){const r=(0,$W.toDate)(t,n==null?void 0:n.in);return isNaN(+r)?(0,BW.constructFrom)((n==null?void 0:n.in)||t,NaN):(r.setFullYear(e),r)}var fD={};fD.startOfDecade=qW;var YW=B;function qW(t,e){const n=(0,YW.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),i=Math.floor(r/10)*10;return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}var hD={};hD.startOfToday=QW;var GW=_c;function QW(t){return(0,GW.startOfDay)(Date.now(),t)}var mD={};mD.startOfTomorrow=JW;var KW=fe,XW=Bt;function JW(t){const e=(0,XW.constructNow)(t==null?void 0:t.in),n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=(0,KW.constructFrom)(t==null?void 0:t.in,0);return s.setFullYear(n,r,i+1),s.setHours(0,0,0,0),s}var gD={};gD.startOfYesterday=ZW;var qE=Bt;function ZW(t){const e=(0,qE.constructNow)(t==null?void 0:t.in),n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=(0,qE.constructNow)(t==null?void 0:t.in);return s.setFullYear(n,r,i-1),s.setHours(0,0,0,0),s}var pD={},Ey={};Ey.subMonths=tU;var eU=xl;function tU(t,e,n){return(0,eU.addMonths)(t,-e,n)}pD.sub=sU;var nU=fe,rU=Ic,iU=Ey;function sU(t,e,n){const{years:r=0,months:i=0,weeks:s=0,days:o=0,hours:u=0,minutes:c=0,seconds:d=0}=e,h=(0,iU.subMonths)(t,i+r*12,n),p=(0,rU.subDays)(h,o+s*7,n),v=c+u*60,O=(d+v*60)*1e3;return(0,nU.constructFrom)((n==null?void 0:n.in)||t,+p-O)}var vD={};vD.subBusinessDays=oU;var aU=Bv;function oU(t,e,n){return(0,aU.addBusinessDays)(t,-e,n)}var _D={};_D.subHours=uU;var lU=Yv;function uU(t,e,n){return(0,lU.addHours)(t,-e,n)}var yD={};yD.subMilliseconds=dU;var cU=vc;function dU(t,e,n){return(0,cU.addMilliseconds)(t,-e,n)}var wD={};wD.subMinutes=hU;var fU=Jf;function hU(t,e,n){return(0,fU.addMinutes)(t,-e,n)}var ED={};ED.subQuarters=gU;var mU=Zf;function gU(t,e,n){return(0,mU.addQuarters)(t,-e,n)}var bD={};bD.subSeconds=vU;var pU=Qv;function vU(t,e,n){return(0,pU.addSeconds)(t,-e,n)}var TD={};TD.subWeeks=yU;var _U=yc;function yU(t,e,n){return(0,_U.addWeeks)(t,-e,n)}var SD={};SD.subYears=EU;var wU=Kv;function EU(t,e,n){return(0,wU.addYears)(t,-e,n)}var PD={};PD.weeksToDays=TU;var bU=X;function TU(t){return Math.trunc(t*bU.daysInWeek)}var xD={};xD.yearsToDays=PU;var SU=X;function PU(t){return Math.trunc(t*SU.daysInYear)}var ID={};ID.yearsToMonths=IU;var xU=X;function IU(t){return Math.trunc(t*xU.monthsInYear)}var DD={};DD.yearsToQuarters=OU;var DU=X;function OU(t){return Math.trunc(t*DU.quartersInYear)}(function(t){var e=Uv;Object.keys(e).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===e[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return e[a]}})});var n=Bv;Object.keys(n).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===n[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return n[a]}})});var r=oi;Object.keys(r).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===r[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return r[a]}})});var i=Yv;Object.keys(i).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===i[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return i[a]}})});var s=qv;Object.keys(s).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===s[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return s[a]}})});var o=vc;Object.keys(o).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===o[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return o[a]}})});var u=Jf;Object.keys(u).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===u[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return u[a]}})});var c=xl;Object.keys(c).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===c[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return c[a]}})});var d=Zf;Object.keys(d).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===d[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return d[a]}})});var h=Qv;Object.keys(h).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===h[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return h[a]}})});var p=yc;Object.keys(p).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===p[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return p[a]}})});var v=Kv;Object.keys(v).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===v[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return v[a]}})});var E=AP;Object.keys(E).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===E[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return E[a]}})});var O=jP;Object.keys(O).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===O[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return O[a]}})});var I=Zv;Object.keys(I).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===I[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return I[a]}})});var A=FP;Object.keys(A).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===A[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return A[a]}})});var b=to;Object.keys(b).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===b[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return b[a]}})});var S=LP;Object.keys(S).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===S[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return S[a]}})});var M=fe;Object.keys(M).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===M[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return M[a]}})});var j=Bt;Object.keys(j).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===j[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return j[a]}})});var U=VP;Object.keys(U).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===U[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return U[a]}})});var $=kP;Object.keys($).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===$[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return $[a]}})});var T=Ki;Object.keys(T).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===T[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return T[a]}})});var w=t_;Object.keys(w).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===w[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return w[a]}})});var P=zP;Object.keys(P).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===P[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return P[a]}})});var D=eh;Object.keys(D).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===D[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return D[a]}})});var N=n_;Object.keys(N).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===N[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return N[a]}})});var R=th;Object.keys(R).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===R[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return R[a]}})});var x=nh;Object.keys(x).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===x[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return x[a]}})});var $e=rh;Object.keys($e).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===$e[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return $e[a]}})});var Ye=ih;Object.keys(Ye).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ye[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ye[a]}})});var _t=WP;Object.keys(_t).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_t[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _t[a]}})});var xe=sh;Object.keys(xe).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xe[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xe[a]}})});var q=ah;Object.keys(q).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===q[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return q[a]}})});var ie=wc;Object.keys(ie).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ie[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ie[a]}})});var ue=UP;Object.keys(ue).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ue[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ue[a]}})});var Se=Ec;Object.keys(Se).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Se[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Se[a]}})});var Y=BP;Object.keys(Y).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Y[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Y[a]}})});var W=a_;Object.keys(W).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===W[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return W[a]}})});var L=o_;Object.keys(L).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===L[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return L[a]}})});var C=$P;Object.keys(C).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===C[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return C[a]}})});var z=HP;Object.keys(z).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===z[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return z[a]}})});var J=YP;Object.keys(J).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===J[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return J[a]}})});var se=qP;Object.keys(se).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===se[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return se[a]}})});var ne=GP;Object.keys(ne).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ne[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ne[a]}})});var de=ch;Object.keys(de).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===de[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return de[a]}})});var ge=QP;Object.keys(ge).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ge[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ge[a]}})});var Ee=KP;Object.keys(Ee).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ee[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ee[a]}})});var be=XP;Object.keys(be).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===be[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return be[a]}})});var Te=oh;Object.keys(Te).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Te[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Te[a]}})});var qe=JP;Object.keys(qe).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===qe[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return qe[a]}})});var it=ZP;Object.keys(it).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===it[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return it[a]}})});var yt=ex;Object.keys(yt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===yt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return yt[a]}})});var Tn=tx;Object.keys(Tn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Tn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Tn[a]}})});var hr=nx;Object.keys(hr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===hr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return hr[a]}})});var Sn=lh;Object.keys(Sn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Sn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Sn[a]}})});var mr=rx;Object.keys(mr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===mr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return mr[a]}})});var An=ix;Object.keys(An).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===An[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return An[a]}})});var gr=sx;Object.keys(gr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===gr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return gr[a]}})});var pr=ax;Object.keys(pr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===pr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return pr[a]}})});var Lr=u_;Object.keys(Lr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Lr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Lr[a]}})});var ct=l_;Object.keys(ct).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ct[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ct[a]}})});var Tt=ox;Object.keys(Tt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Tt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Tt[a]}})});var Zn=c_;Object.keys(Zn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Zn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Zn[a]}})});var vr=__;Object.keys(vr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===vr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return vr[a]}})});var ci=y_;Object.keys(ci).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ci[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ci[a]}})});var oa=hx;Object.keys(oa).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===oa[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return oa[a]}})});var dn=mx;Object.keys(dn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===dn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return dn[a]}})});var is=gx;Object.keys(is).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===is[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return is[a]}})});var di=px;Object.keys(di).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===di[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return di[a]}})});var _r=vx;Object.keys(_r).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_r[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _r[a]}})});var la=_x;Object.keys(la).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===la[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return la[a]}})});var fi=yx;Object.keys(fi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===fi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return fi[a]}})});var Vr=wx;Object.keys(Vr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Vr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Vr[a]}})});var hi=Ex;Object.keys(hi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===hi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return hi[a]}})});var Ne=bx;Object.keys(Ne).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ne[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ne[a]}})});var Qt=w_;Object.keys(Qt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Qt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Qt[a]}})});var wt=Pc;Object.keys(wt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===wt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return wt[a]}})});var Ue=v_;Object.keys(Ue).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ue[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ue[a]}})});var je=E_;Object.keys(je).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===je[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return je[a]}})});var fn=Tx;Object.keys(fn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===fn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return fn[a]}})});var Re=Sx;Object.keys(Re).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Re[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Re[a]}})});var Kt=T_;Object.keys(Kt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Kt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Kt[a]}})});var Ge=Px;Object.keys(Ge).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ge[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ge[a]}})});var Xt=S_;Object.keys(Xt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Xt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Xt[a]}})});var St=hh;Object.keys(St).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===St[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return St[a]}})});var ss=sa;Object.keys(ss).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ss[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ss[a]}})});var yr=xx;Object.keys(yr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===yr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return yr[a]}})});var wr=Ix;Object.keys(wr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===wr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return wr[a]}})});var ua=Dx;Object.keys(ua).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ua[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ua[a]}})});var ca=Ox;Object.keys(ca).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ca[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ca[a]}})});var er=Mx;Object.keys(er).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===er[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return er[a]}})});var as=r_;Object.keys(as).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===as[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return as[a]}})});var da=Cx;Object.keys(da).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===da[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return da[a]}})});var hn=Nx;Object.keys(hn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===hn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return hn[a]}})});var kr=Rx;Object.keys(kr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===kr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return kr[a]}})});var Er=mh;Object.keys(Er).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Er[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Er[a]}})});var Jt=Ax;Object.keys(Jt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Jt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Jt[a]}})});var $t=Tc;Object.keys($t).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===$t[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return $t[a]}})});var tr=jx;Object.keys(tr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===tr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return tr[a]}})});var Pn=Fx;Object.keys(Pn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Pn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Pn[a]}})});var zr=Lx;Object.keys(zr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===zr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return zr[a]}})});var Wr=Vx;Object.keys(Wr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Wr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Wr[a]}})});var Ur=kx;Object.keys(Ur).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ur[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ur[a]}})});var Br=zx;Object.keys(Br).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Br[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Br[a]}})});var fa=Wx;Object.keys(fa).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===fa[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return fa[a]}})});var $r=Ux;Object.keys($r).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===$r[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return $r[a]}})});var br=Bx;Object.keys(br).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===br[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return br[a]}})});var nr=$x;Object.keys(nr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===nr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return nr[a]}})});var Tr=Hx;Object.keys(Tr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Tr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Tr[a]}})});var Un=e_;Object.keys(Un).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Un[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Un[a]}})});var mi=Yx;Object.keys(mi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===mi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return mi[a]}})});var ha=qx;Object.keys(ha).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ha[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ha[a]}})});var Zt=Gx;Object.keys(Zt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Zt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Zt[a]}})});var ht=Qx;Object.keys(ht).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ht[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ht[a]}})});var gi=Kx;Object.keys(gi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===gi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return gi[a]}})});var pi=s_;Object.keys(pi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===pi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return pi[a]}})});var vi=b_;Object.keys(vi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===vi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return vi[a]}})});var _i=Xx;Object.keys(_i).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_i[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _i[a]}})});var os=Jx;Object.keys(os).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===os[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return os[a]}})});var ma=Zx;Object.keys(ma).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ma[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ma[a]}})});var ga=Dl;Object.keys(ga).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ga[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ga[a]}})});var ls=cy;Object.keys(ls).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ls[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ls[a]}})});var yi=fy;Object.keys(yi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===yi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return yi[a]}})});var us=eI;Object.keys(us).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===us[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return us[a]}})});var jn=hy;Object.keys(jn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===jn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return jn[a]}})});var mn=gy;Object.keys(mn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===mn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return mn[a]}})});var Sr=py;Object.keys(Sr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Sr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Sr[a]}})});var Pr=vy;Object.keys(Pr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Pr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Pr[a]}})});var wi=_h;Object.keys(wi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===wi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return wi[a]}})});var ke=yy;Object.keys(ke).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ke[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ke[a]}})});var _=$v;Object.keys(_).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _[a]}})});var V=Hv;Object.keys(V).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===V[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return V[a]}})});var Z=tI;Object.keys(Z).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Z[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Z[a]}})});var ae=nI;Object.keys(ae).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ae[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ae[a]}})});var oe=rI;Object.keys(oe).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===oe[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return oe[a]}})});var _e=iI;Object.keys(_e).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_e[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _e[a]}})});var He=sI;Object.keys(He).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===He[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return He[a]}})});var Pt=aI;Object.keys(Pt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Pt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Pt[a]}})});var ze=oI;Object.keys(ze).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ze[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ze[a]}})});var Et=lI;Object.keys(Et).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Et[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Et[a]}})});var st=uI;Object.keys(st).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===st[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return st[a]}})});var Ie=cI;Object.keys(Ie).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ie[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ie[a]}})});var xt=dI;Object.keys(xt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xt[a]}})});var Ct=fI;Object.keys(Ct).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ct[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ct[a]}})});var et=Ji;Object.keys(et).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===et[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return et[a]}})});var pa=hI;Object.keys(pa).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===pa[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return pa[a]}})});var va=pc;Object.keys(va).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===va[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return va[a]}})});var Fl=mI;Object.keys(Fl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Fl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Fl[a]}})});var rr=gI;Object.keys(rr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===rr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return rr[a]}})});var Ll=pI;Object.keys(Ll).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ll[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ll[a]}})});var Vl=vI;Object.keys(Vl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Vl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Vl[a]}})});var cs=_I;Object.keys(cs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===cs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return cs[a]}})});var ds=P_;Object.keys(ds).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ds[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ds[a]}})});var oo=yI;Object.keys(oo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===oo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return oo[a]}})});var Ei=wy;Object.keys(Ei).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ei[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ei[a]}})});var bi=wI;Object.keys(bi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===bi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return bi[a]}})});var lo=EI;Object.keys(lo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===lo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return lo[a]}})});var _a=Xv;Object.keys(_a).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_a[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _a[a]}})});var tt=bI;Object.keys(tt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===tt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return tt[a]}})});var kl=TI;Object.keys(kl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===kl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return kl[a]}})});var zl=SI;Object.keys(zl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===zl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return zl[a]}})});var uo=PI;Object.keys(uo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===uo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return uo[a]}})});var co=Jv;Object.keys(co).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===co[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return co[a]}})});var fo=xI;Object.keys(fo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===fo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return fo[a]}})});var fs=II;Object.keys(fs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===fs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return fs[a]}})});var ho=DI;Object.keys(ho).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ho[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ho[a]}})});var Bn=OI;Object.keys(Bn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Bn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Bn[a]}})});var mo=MI;Object.keys(mo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===mo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return mo[a]}})});var Wl=es;Object.keys(Wl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Wl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Wl[a]}})});var Ti=CI;Object.keys(Ti).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ti[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ti[a]}})});var go=NI;Object.keys(go).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===go[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return go[a]}})});var ya=RI;Object.keys(ya).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ya[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ya[a]}})});var hs=AI;Object.keys(hs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===hs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return hs[a]}})});var po=jI;Object.keys(po).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===po[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return po[a]}})});var ms=FI;Object.keys(ms).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ms[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ms[a]}})});var Ul=LI;Object.keys(Ul).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ul[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ul[a]}})});var vo=x_;Object.keys(vo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===vo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return vo[a]}})});var Si=VI;Object.keys(Si).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Si[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Si[a]}})});var _o=zI;Object.keys(_o).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_o[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _o[a]}})});var yo=ts;Object.keys(yo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===yo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return yo[a]}})});var wa=WI;Object.keys(wa).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===wa[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return wa[a]}})});var Ea=UI;Object.keys(Ea).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ea[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ea[a]}})});var wo=BI;Object.keys(wo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===wo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return wo[a]}})});var gs=$I;Object.keys(gs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===gs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return gs[a]}})});var Eo=HI;Object.keys(Eo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Eo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Eo[a]}})});var bo=YI;Object.keys(bo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===bo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return bo[a]}})});var xr=qI;Object.keys(xr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xr[a]}})});var To=GI;Object.keys(To).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===To[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return To[a]}})});var So=QI;Object.keys(So).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===So[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return So[a]}})});var Po=KI;Object.keys(Po).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Po[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Po[a]}})});var xo=XI;Object.keys(xo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xo[a]}})});var ps=JI;Object.keys(ps).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ps[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ps[a]}})});var en=ZI;Object.keys(en).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===en[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return en[a]}})});var Io=eD;Object.keys(Io).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Io[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Io[a]}})});var Do=tD;Object.keys(Do).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Do[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Do[a]}})});var Hr=nD;Object.keys(Hr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Hr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Hr[a]}})});var l=xc;Object.keys(l).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===l[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return l[a]}})});var f=rD;Object.keys(f).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===f[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return f[a]}})});var g=iD;Object.keys(g).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===g[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return g[a]}})});var y=sD;Object.keys(y).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===y[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return y[a]}})});var F=Q_;Object.keys(F).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===F[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return F[a]}})});var k=U_;Object.keys(k).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===k[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return k[a]}})});var ee=Gv;Object.keys(ee).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ee[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ee[a]}})});var Be=aD;Object.keys(Be).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Be[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Be[a]}})});var It=oD;Object.keys(It).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===It[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return It[a]}})});var Oe=yh;Object.keys(Oe).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Oe[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Oe[a]}})});var Nt=lD;Object.keys(Nt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Nt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Nt[a]}})});var Rt=uD;Object.keys(Rt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Rt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Rt[a]}})});var Yr=z_;Object.keys(Yr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Yr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Yr[a]}})});var xn=cD;Object.keys(xn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xn[a]}})});var vs=dD;Object.keys(vs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===vs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return vs[a]}})});var ba=_c;Object.keys(ba).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ba[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ba[a]}})});var $h=fD;Object.keys($h).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===$h[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return $h[a]}})});var Hh=dy;Object.keys(Hh).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Hh[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Hh[a]}})});var Yh=li;Object.keys(Yh).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Yh[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Yh[a]}})});var qh=Il;Object.keys(qh).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===qh[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return qh[a]}})});var Gh=my;Object.keys(Gh).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Gh[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Gh[a]}})});var Qh=bc;Object.keys(Qh).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Qh[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Qh[a]}})});var Kh=uh;Object.keys(Kh).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Kh[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Kh[a]}})});var Xh=_y;Object.keys(Xh).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Xh[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Xh[a]}})});var Jh=hD;Object.keys(Jh).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Jh[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Jh[a]}})});var Zh=mD;Object.keys(Zh).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Zh[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Zh[a]}})});var em=Fr;Object.keys(em).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===em[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return em[a]}})});var tm=gh;Object.keys(tm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===tm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return tm[a]}})});var nm=dh;Object.keys(nm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===nm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return nm[a]}})});var rm=gD;Object.keys(rm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===rm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return rm[a]}})});var im=pD;Object.keys(im).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===im[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return im[a]}})});var sm=vD;Object.keys(sm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===sm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return sm[a]}})});var am=Ic;Object.keys(am).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===am[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return am[a]}})});var om=_D;Object.keys(om).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===om[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return om[a]}})});var lm=i_;Object.keys(lm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===lm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return lm[a]}})});var um=yD;Object.keys(um).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===um[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return um[a]}})});var cm=wD;Object.keys(cm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===cm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return cm[a]}})});var dm=Ey;Object.keys(dm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===dm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return dm[a]}})});var fm=ED;Object.keys(fm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===fm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return fm[a]}})});var hm=bD;Object.keys(hm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===hm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return hm[a]}})});var mm=TD;Object.keys(mm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===mm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return mm[a]}})});var gm=SD;Object.keys(gm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===gm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return gm[a]}})});var pm=B;Object.keys(pm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===pm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return pm[a]}})});var vm=I_;Object.keys(vm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===vm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return vm[a]}})});var _m=PD;Object.keys(_m).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_m[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _m[a]}})});var ym=xD;Object.keys(ym).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ym[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ym[a]}})});var wm=ID;Object.keys(wm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===wm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return wm[a]}})});var Em=DD;Object.keys(Em).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Em[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Em[a]}})})})(ia);Object.defineProperty(Bi,"__esModule",{value:!0});Bi.rangeShape=Bi.default=void 0;var Sa=MU(H),Fe=OD(Qi),lg=OD(eo),In=ia;function OD(t){return t&&t.__esModule?t:{default:t}}function MD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(MD=function(r){return r?n:e})(t)}function MU(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=MD(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}function lu(t,e,n){return e=CU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CU(t){var e=NU(t,"string");return typeof e=="symbol"?e:String(e)}function NU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class by extends Sa.Component{constructor(e,n){super(e,n),lu(this,"handleKeyEvent",r=>{const{day:i,onMouseDown:s,onMouseUp:o}=this.props;[13,32].includes(r.keyCode)&&(r.type==="keydown"?s(i):o(i))}),lu(this,"handleMouseEvent",r=>{const{day:i,disabled:s,onPreviewChange:o,onMouseEnter:u,onMouseDown:c,onMouseUp:d}=this.props,h={};if(s){o();return}switch(r.type){case"mouseenter":u(i),o(i),h.hover=!0;break;case"blur":case"mouseleave":h.hover=!1;break;case"mousedown":h.active=!0,c(i);break;case"mouseup":r.stopPropagation(),h.active=!1,d(i);break;case"focus":o(i);break}Object.keys(h).length&&this.setState(h)}),lu(this,"getClassNames",()=>{const{isPassive:r,isToday:i,isWeekend:s,isStartOfWeek:o,isEndOfWeek:u,isStartOfMonth:c,isEndOfMonth:d,disabled:h,styles:p}=this.props;return(0,lg.default)(p.day,{[p.dayPassive]:r,[p.dayDisabled]:h,[p.dayToday]:i,[p.dayWeekend]:s,[p.dayStartOfWeek]:o,[p.dayEndOfWeek]:u,[p.dayStartOfMonth]:c,[p.dayEndOfMonth]:d,[p.dayHovered]:this.state.hover,[p.dayActive]:this.state.active})}),lu(this,"renderPreviewPlaceholder",()=>{const{preview:r,day:i,styles:s}=this.props;if(!r)return null;const o=r.startDate?(0,In.endOfDay)(r.startDate):null,u=r.endDate?(0,In.startOfDay)(r.endDate):null,c=(!o||(0,In.isAfter)(i,o))&&(!u||(0,In.isBefore)(i,u)),d=!c&&(0,In.isSameDay)(i,o),h=!c&&(0,In.isSameDay)(i,u);return Sa.default.createElement("span",{className:(0,lg.default)({[s.dayStartPreview]:d,[s.dayInPreview]:c,[s.dayEndPreview]:h}),style:{color:r.color}})}),lu(this,"renderSelectionPlaceholders",()=>{const{styles:r,ranges:i,day:s}=this.props;return this.props.displayMode==="date"?(0,In.isSameDay)(this.props.day,this.props.date)?Sa.default.createElement("span",{className:r.selected,style:{color:this.props.color}}):null:i.reduce((u,c)=>{let d=c.startDate,h=c.endDate;d&&h&&(0,In.isBefore)(h,d)&&([d,h]=[h,d]),d=d?(0,In.endOfDay)(d):null,h=h?(0,In.startOfDay)(h):null;const p=(!d||(0,In.isAfter)(s,d))&&(!h||(0,In.isBefore)(s,h)),v=!p&&(0,In.isSameDay)(s,d),E=!p&&(0,In.isSameDay)(s,h);return p||v||E?[...u,{isStartEdge:v,isEndEdge:E,isInRange:p,...c}]:u},[]).map((u,c)=>Sa.default.createElement("span",{key:c,className:(0,lg.default)({[r.startEdge]:u.isStartEdge,[r.endEdge]:u.isEndEdge,[r.inRange]:u.isInRange}),style:{color:u.color||this.props.color}}))}),this.state={hover:!1,active:!1}}render(){const{dayContentRenderer:e}=this.props;return Sa.default.createElement("button",_p({type:"button",onMouseEnter:this.handleMouseEvent,onMouseLeave:this.handleMouseEvent,onFocus:this.handleMouseEvent,onMouseDown:this.handleMouseEvent,onMouseUp:this.handleMouseEvent,onBlur:this.handleMouseEvent,onPauseCapture:this.handleMouseEvent,onKeyDown:this.handleKeyEvent,onKeyUp:this.handleKeyEvent,className:this.getClassNames(this.props.styles)},this.props.disabled||this.props.isPassive?{tabIndex:-1}:{},{style:{color:this.props.color}}),this.renderSelectionPlaceholders(),this.renderPreviewPlaceholder(),Sa.default.createElement("span",{className:this.props.styles.dayNumber},(e==null?void 0:e(this.props.day))||Sa.default.createElement("span",null,(0,In.format)(this.props.day,this.props.dayDisplayFormat))))}}by.defaultProps={};const RU=Bi.rangeShape=Fe.default.shape({startDate:Fe.default.object,endDate:Fe.default.object,color:Fe.default.string,key:Fe.default.string,autoFocus:Fe.default.bool,disabled:Fe.default.bool,showDateDisplay:Fe.default.bool});by.propTypes={day:Fe.default.object.isRequired,dayDisplayFormat:Fe.default.string,date:Fe.default.object,ranges:Fe.default.arrayOf(RU),preview:Fe.default.shape({startDate:Fe.default.object,endDate:Fe.default.object,color:Fe.default.string}),onPreviewChange:Fe.default.func,previewColor:Fe.default.string,disabled:Fe.default.bool,isPassive:Fe.default.bool,isToday:Fe.default.bool,isWeekend:Fe.default.bool,isStartOfWeek:Fe.default.bool,isEndOfWeek:Fe.default.bool,isStartOfMonth:Fe.default.bool,isEndOfMonth:Fe.default.bool,color:Fe.default.string,displayMode:Fe.default.oneOf(["dateRange","date"]),styles:Fe.default.object,onMouseDown:Fe.default.func,onMouseUp:Fe.default.func,onMouseEnter:Fe.default.func,dayContentRenderer:Fe.default.func};Bi.default=by;var wh={},ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.calcFocusDate=FU;ns.findNextRangeIndex=LU;ns.generateStyles=kU;ns.getMonthDisplayRange=VU;var AU=jU(eo),Di=ia;function jU(t){return t&&t.__esModule?t:{default:t}}function FU(t,e){const{shownDate:n,date:r,months:i,ranges:s,focusedRange:o,displayMode:u}=e;let c;if(u==="dateRange"){const h=s[o[0]]||{};c={start:h.startDate,end:h.endDate}}else c={start:r,end:r};c.start=(0,Di.startOfMonth)(c.start||new Date),c.end=(0,Di.endOfMonth)(c.end||c.start);const d=c.start||c.end||n||new Date;return t?(0,Di.differenceInCalendarMonths)(c.start,c.end)>i?t:d:n||d}function LU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;const n=t.findIndex((r,i)=>i>e&&r.autoFocus!==!1&&!r.disabled);return n!==-1?n:t.findIndex(r=>r.autoFocus!==!1&&!r.disabled)}function VU(t,e,n){const r=(0,Di.startOfMonth)(t,e),i=(0,Di.endOfMonth)(t,e),s=(0,Di.startOfWeek)(r,e);let o=(0,Di.endOfWeek)(i,e);return n&&(0,Di.differenceInCalendarDays)(o,s)<=34&&(o=(0,Di.addDays)(o,7)),{start:s,end:o,startDateOfMonth:r,endDateOfMonth:i}}function kU(t){return t.length?t.filter(n=>!!n).reduce((n,r)=>(Object.keys(r).forEach(i=>{n[i]=(0,AU.default)(n[i],r[i])}),n),{}):{}}Object.defineProperty(wh,"__esModule",{value:!0});wh.default=void 0;var Na=RD(H),Ze=WU(Qi),CD=RD(Bi),jt=ia,zU=ns;function WU(t){return t&&t.__esModule?t:{default:t}}function ND(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(ND=function(r){return r?n:e})(t)}function RD(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=ND(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yp.apply(this,arguments)}function UU(t,e,n){const r=new Date;return Na.default.createElement("div",{className:t.weekDays},(0,jt.eachDayOfInterval)({start:(0,jt.startOfWeek)(r,e),end:(0,jt.endOfWeek)(r,e)}).map((i,s)=>Na.default.createElement("span",{className:t.weekDay,key:s},(0,jt.format)(i,n,e))))}class Ty extends Na.PureComponent{render(){const e=new Date,{displayMode:n,focusedRange:r,drag:i,styles:s,disabledDates:o,disabledDay:u}=this.props,c=this.props.minDate&&(0,jt.startOfDay)(this.props.minDate),d=this.props.maxDate&&(0,jt.endOfDay)(this.props.maxDate),h=(0,zU.getMonthDisplayRange)(this.props.month,this.props.dateOptions,this.props.fixedHeight);let p=this.props.ranges;if(n==="dateRange"&&i.status){let{startDate:E,endDate:O}=i.range;p=p.map((I,A)=>A!==r[0]?I:{...I,startDate:E,endDate:O})}const v=this.props.showPreview&&!i.disablePreview;return Na.default.createElement("div",{className:s.month,style:this.props.style},this.props.showMonthName?Na.default.createElement("div",{className:s.monthName},(0,jt.format)(this.props.month,this.props.monthDisplayFormat,this.props.dateOptions)):null,this.props.showWeekDays&&UU(s,this.props.dateOptions,this.props.weekdayDisplayFormat),Na.default.createElement("div",{className:s.days,onMouseLeave:this.props.onMouseLeave},(0,jt.eachDayOfInterval)({start:h.start,end:h.end}).map((E,O)=>{const I=(0,jt.isSameDay)(E,h.startDateOfMonth),A=(0,jt.isSameDay)(E,h.endDateOfMonth),b=c&&(0,jt.isBefore)(E,c)||d&&(0,jt.isAfter)(E,d),S=o.some(j=>(0,jt.isSameDay)(j,E)),M=u(E);return Na.default.createElement(CD.default,yp({},this.props,{ranges:p,day:E,preview:v?this.props.preview:null,isWeekend:(0,jt.isWeekend)(E,this.props.dateOptions),isToday:(0,jt.isSameDay)(E,e),isStartOfWeek:(0,jt.isSameDay)(E,(0,jt.startOfWeek)(E,this.props.dateOptions)),isEndOfWeek:(0,jt.isSameDay)(E,(0,jt.endOfWeek)(E,this.props.dateOptions)),isStartOfMonth:I,isEndOfMonth:A,key:O,disabled:b||S||M,isPassive:!(0,jt.isWithinInterval)(E,{start:h.startDateOfMonth,end:h.endDateOfMonth}),styles:s,onMouseDown:this.props.onDragSelectionStart,onMouseUp:this.props.onDragSelectionEnd,onMouseEnter:this.props.onDragSelectionMove,dragRange:i.range,drag:i.status}))})))}}Ty.defaultProps={};Ty.propTypes={style:Ze.default.object,styles:Ze.default.object,month:Ze.default.object,drag:Ze.default.object,dateOptions:Ze.default.object,disabledDates:Ze.default.array,disabledDay:Ze.default.func,preview:Ze.default.shape({startDate:Ze.default.object,endDate:Ze.default.object}),showPreview:Ze.default.bool,displayMode:Ze.default.oneOf(["dateRange","date"]),minDate:Ze.default.object,maxDate:Ze.default.object,ranges:Ze.default.arrayOf(CD.rangeShape),focusedRange:Ze.default.arrayOf(Ze.default.number),onDragSelectionStart:Ze.default.func,onDragSelectionEnd:Ze.default.func,onDragSelectionMove:Ze.default.func,onMouseLeave:Ze.default.func,monthDisplayFormat:Ze.default.string,weekdayDisplayFormat:Ze.default.string,dayDisplayFormat:Ze.default.string,showWeekDays:Ze.default.bool,showMonthName:Ze.default.bool,fixedHeight:Ze.default.bool};wh.default=Ty;var Eh={};Object.defineProperty(Eh,"__esModule",{value:!0});Eh.default=void 0;var dd=$U(H),Gr=AD(Qi),BU=AD(eo),uu=ia;function AD(t){return t&&t.__esModule?t:{default:t}}function jD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(jD=function(r){return r?n:e})(t)}function $U(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=jD(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function ug(t,e,n){return e=HU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HU(t){var e=YU(t,"string");return typeof e=="symbol"?e:String(e)}function YU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Sy extends dd.PureComponent{constructor(e,n){super(e,n),ug(this,"onKeyDown",r=>{const{value:i}=this.state;r.key==="Enter"&&this.update(i)}),ug(this,"onChange",r=>{this.setState({value:r.target.value,changed:!0,invalid:!1})}),ug(this,"onBlur",()=>{const{value:r}=this.state;this.update(r)}),this.state={invalid:!1,changed:!1,value:this.formatDate(e)}}componentDidUpdate(e){const{value:n}=e;(0,uu.isEqual)(n,this.props.value)||this.setState({value:this.formatDate(this.props)})}formatDate(e){let{value:n,dateDisplayFormat:r,dateOptions:i}=e;return n&&(0,uu.isValid)(n)?(0,uu.format)(n,r,i):""}update(e){const{invalid:n,changed:r}=this.state;if(n||!r||!e)return;const{onChange:i,dateDisplayFormat:s,dateOptions:o}=this.props,u=(0,uu.parse)(e,s,new Date,o);(0,uu.isValid)(u)?this.setState({changed:!1},()=>i(u)):this.setState({invalid:!0})}render(){const{className:e,readOnly:n,placeholder:r,ariaLabel:i,disabled:s,onFocus:o}=this.props,{value:u,invalid:c}=this.state;return dd.default.createElement("span",{className:(0,BU.default)("rdrDateInput",e)},dd.default.createElement("input",{readOnly:n,disabled:s,value:u,placeholder:r,"aria-label":i,onKeyDown:this.onKeyDown,onChange:this.onChange,onBlur:this.onBlur,onFocus:o}),c&&dd.default.createElement("span",{className:"rdrWarning"},""))}}Sy.propTypes={value:Gr.default.object,placeholder:Gr.default.string,disabled:Gr.default.bool,readOnly:Gr.default.bool,dateOptions:Gr.default.object,dateDisplayFormat:Gr.default.string,ariaLabel:Gr.default.string,className:Gr.default.string,onFocus:Gr.default.func.isRequired,onChange:Gr.default.func.isRequired};Sy.defaultProps={readOnly:!0,disabled:!1,dateDisplayFormat:"MMM D, YYYY"};Eh.default=Sy;var FD={};(function(t){(function(e,n){n(t,H,m)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:cM,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function i(Y){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},i(Y)}function s(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}function o(Y,W){for(var L=0;L<W.length;L++){var C=W[L];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(Y,S(C.key),C)}}function u(Y,W,L){return W&&o(Y.prototype,W),L&&o(Y,L),Object.defineProperty(Y,"prototype",{writable:!1}),Y}function c(Y,W,L){return W=v(W),d(Y,p()?Reflect.construct(W,L||[],v(Y).constructor):W.apply(Y,L))}function d(Y,W){if(W&&(i(W)=="object"||typeof W=="function"))return W;if(W!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(Y)}function h(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}function p(){try{var Y=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p=function(){return!!Y})()}function v(Y){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},v(Y)}function E(Y,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(W&&W.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Object.defineProperty(Y,"prototype",{writable:!1}),W&&O(Y,W)}function O(Y,W){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,C){return L.__proto__=C,L},O(Y,W)}function I(Y,W){var L=Object.keys(Y);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(Y);W&&(C=C.filter(function(z){return Object.getOwnPropertyDescriptor(Y,z).enumerable})),L.push.apply(L,C)}return L}function A(Y){for(var W=1;W<arguments.length;W++){var L=arguments[W]!=null?arguments[W]:{};W%2?I(Object(L),!0).forEach(function(C){b(Y,C,L[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(L)):I(Object(L)).forEach(function(C){Object.defineProperty(Y,C,Object.getOwnPropertyDescriptor(L,C))})}return Y}function b(Y,W,L){return(W=S(W))in Y?Object.defineProperty(Y,W,{value:L,enumerable:!0,configurable:!0,writable:!0}):Y[W]=L,Y}function S(Y){var W=M(Y,"string");return i(W)=="symbol"?W:W+""}function M(Y,W){if(i(Y)!="object"||!Y)return Y;var L=Y[Symbol.toPrimitive];if(L!==void 0){var C=L.call(Y,W);if(i(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(W==="string"?String:Number)(Y)}var j={x:"clientWidth",y:"clientHeight"},U={x:"clientTop",y:"clientLeft"},$={x:"innerWidth",y:"innerHeight"},T={x:"offsetWidth",y:"offsetHeight"},w={x:"offsetLeft",y:"offsetTop"},P={x:"overflowX",y:"overflowY"},D={x:"scrollWidth",y:"scrollHeight"},N={x:"scrollLeft",y:"scrollTop"},R={x:"width",y:"height"},x=function(){},$e=function(){if(typeof window>"u")return!1;var Y=!1;try{document.createElement("div").addEventListener("test",x,{get passive(){return Y=!0,!1}})}catch{}return Y}()?{passive:!0}:!1,Ye="ReactList failed to reach a stable state.",_t=40,xe=function(W,L){for(var C in L)if(W[C]!==L[C])return!1;return!0},q=function(W){for(var L=W.props.axis,C=W.getEl(),z=P[L];C=C.parentElement;)switch(window.getComputedStyle(C)[z]){case"auto":case"scroll":case"overlay":return C}return window},ie=function(W){var L=W.props.axis,C=W.scrollParent;return C===window?window[$[L]]:C[j[L]]},ue=function(W,L){var C=W.length,z=W.minSize,J=W.type,se=L.from,ne=L.size,de=L.itemsPerRow;ne=Math.max(ne,z);var ge=ne%de;return ge&&(ne+=de-ge),ne>C&&(ne=C),se=J==="simple"||!se?0:Math.max(Math.min(se,C-ne),0),(ge=se%de)&&(se-=ge,ne+=ge),se===L.from&&ne===L.size?L:A(A({},L),{},{from:se,size:ne})},Se=e.default=function(Y){function W(L){var C;return s(this,W),C=c(this,W,[L]),C.state=ue(L,{itemsPerRow:1,from:L.initialIndex,size:0}),C.cache={},C.cachedScrollPosition=null,C.prevPrevState={},C.unstable=!1,C.updateCounter=0,C}return E(W,Y),u(W,[{key:"componentDidMount",value:function(){this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this),window.addEventListener("resize",this.updateFrameAndClearCache),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(C){var z=this;if(this.props.axis!==C.axis&&this.clearSizeCache(),!this.unstable){if(++this.updateCounter>_t)return this.unstable=!0,console.error(Ye);this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout(function(){z.updateCounter=0,delete z.updateCounterTimeoutId},0)),this.updateFrame()}}},{key:"maybeSetState",value:function(C,z){if(xe(this.state,C))return z();this.setState(C,z)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrameAndClearCache),this.scrollParent.removeEventListener("scroll",this.updateFrameAndClearCache,$e),this.scrollParent.removeEventListener("mousewheel",x,$e)}},{key:"getOffset",value:function(C){var z=this.props.axis,J=C[U[z]]||0,se=w[z];do J+=C[se]||0;while(C=C.offsetParent);return J}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollPosition",value:function(){if(typeof this.cachedScrollPosition=="number")return this.cachedScrollPosition;var C=this.scrollParent,z=this.props.axis,J=N[z],se=C===window?document.body[J]||document.documentElement[J]:C[J],ne=this.getScrollSize()-this.props.scrollParentViewportSizeGetter(this),de=Math.max(0,Math.min(se,ne)),ge=this.getEl();return this.cachedScrollPosition=this.getOffset(C)+de-this.getOffset(ge),this.cachedScrollPosition}},{key:"setScroll",value:function(C){var z=this.scrollParent,J=this.props.axis;if(C+=this.getOffset(this.getEl()),z===window)return window.scrollTo(0,C);C-=this.getOffset(this.scrollParent),z[N[J]]=C}},{key:"getScrollSize",value:function(){var C=this.scrollParent,z=document,J=z.body,se=z.documentElement,ne=D[this.props.axis];return C===window?Math.max(J[ne],se[ne]):C[ne]}},{key:"hasDeterminateSize",value:function(){var C=this.props,z=C.itemSizeGetter,J=C.type;return J==="uniform"||z}},{key:"getStartAndEnd",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.threshold,z=this.getScrollPosition(),J=Math.max(0,z-C),se=z+this.props.scrollParentViewportSizeGetter(this)+C;return this.hasDeterminateSize()&&(se=Math.min(se,this.getSpaceBefore(this.props.length))),{start:J,end:se}}},{key:"getItemSizeAndItemsPerRow",value:function(){var C=this.props,z=C.axis,J=C.useStaticSize,se=this.state,ne=se.itemSize,de=se.itemsPerRow;if(J&&ne&&de)return{itemSize:ne,itemsPerRow:de};var ge=this.items.children;if(!ge.length)return{};var Ee=ge[0],be=Ee[T[z]],Te=Math.abs(be-ne);if((isNaN(Te)||Te>=1)&&(ne=be),!ne)return{};var qe=w[z],it=Ee[qe];de=1;for(var yt=ge[de];yt&&yt[qe]===it;yt=ge[de])++de;return{itemSize:ne,itemsPerRow:de}}},{key:"clearSizeCache",value:function(){this.cachedScrollPosition=null}},{key:"updateFrameAndClearCache",value:function(C){return this.clearSizeCache(),this.updateFrame(C)}},{key:"updateFrame",value:function(C){switch(this.updateScrollParent(),typeof C!="function"&&(C=x),this.props.type){case"simple":return this.updateSimpleFrame(C);case"variable":return this.updateVariableFrame(C);case"uniform":return this.updateUniformFrame(C)}}},{key:"updateScrollParent",value:function(){var C=this.scrollParent;this.scrollParent=this.props.scrollParentGetter(this),C!==this.scrollParent&&(C&&(C.removeEventListener("scroll",this.updateFrameAndClearCache),C.removeEventListener("mousewheel",x)),this.clearSizeCache(),this.scrollParent.addEventListener("scroll",this.updateFrameAndClearCache,$e),this.scrollParent.addEventListener("mousewheel",x,$e))}},{key:"updateSimpleFrame",value:function(C){var z=this.getStartAndEnd(),J=z.end,se=this.items.children,ne=0;if(se.length){var de=this.props.axis,ge=se[0],Ee=se[se.length-1];ne=this.getOffset(Ee)+Ee[T[de]]-this.getOffset(ge)}if(ne>J)return C();var be=this.props,Te=be.pageSize,qe=be.length,it=Math.min(this.state.size+Te,qe);this.maybeSetState({size:it},C)}},{key:"updateVariableFrame",value:function(C){this.props.itemSizeGetter||this.cacheSizes();for(var z=this.getStartAndEnd(),J=z.start,se=z.end,ne=this.props,de=ne.length,ge=ne.pageSize,Ee=0,be=0,Te=0,qe=de-1;be<qe;){var it=this.getSizeOfItem(be);if(it==null||Ee+it>J)break;Ee+=it,++be}for(var yt=de-be;Te<yt&&Ee<se;){var Tn=this.getSizeOfItem(be+Te);if(Tn==null){Te=Math.min(Te+ge,yt);break}Ee+=Tn,++Te}this.maybeSetState(ue(this.props,{from:be,itemsPerRow:1,size:Te}),C)}},{key:"updateUniformFrame",value:function(C){var z=this.getItemSizeAndItemsPerRow(),J=z.itemSize,se=z.itemsPerRow;if(!J||!se)return C();var ne=this.getStartAndEnd(),de=ne.start,ge=ne.end,Ee=ue(this.props,{from:Math.floor(de/J)*se,size:(Math.ceil((ge-de)/J)+1)*se,itemsPerRow:se}),be=Ee.from,Te=Ee.size;return this.maybeSetState({itemsPerRow:se,from:be,itemSize:J,size:Te},C)}},{key:"getSpaceBefore",value:function(C){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(z[C]!=null)return z[C];var J=this.state,se=J.itemSize,ne=J.itemsPerRow;if(se)return z[C]=Math.floor(C/ne)*se;for(var de=C;de>0&&z[--de]==null;);for(var ge=z[de]||0,Ee=de;Ee<C;++Ee){z[Ee]=ge;var be=this.getSizeOfItem(Ee);if(be==null)break;ge+=be}return z[C]=ge}},{key:"cacheSizes",value:function(){for(var C=this.cache,z=this.state.from,J=this.items.children,se=T[this.props.axis],ne=0,de=J.length;ne<de;++ne)C[z+ne]=J[ne][se]}},{key:"getSizeOfItem",value:function(C){var z=this.cache,J=this.items,se=this.props,ne=se.axis,de=se.itemSizeGetter,ge=se.itemSizeEstimator,Ee=se.type,be=this.state,Te=be.from,qe=be.itemSize,it=be.size;if(qe)return qe;if(de)return de(C);if(C in z)return z[C];if(Ee==="simple"&&C>=Te&&C<Te+it&&J){var yt=J.children[C-Te];if(yt)return yt[T[ne]]}if(ge)return ge(C,z)}},{key:"scrollTo",value:function(C){C!=null&&this.setScroll(this.getSpaceBefore(C))}},{key:"scrollAround",value:function(C){var z=this.getScrollPosition(),J=this.getSpaceBefore(C),se=J-this.props.scrollParentViewportSizeGetter(this)+this.getSizeOfItem(C),ne=Math.min(se,J),de=Math.max(se,J);if(z<=ne)return this.setScroll(ne);if(z>de)return this.setScroll(de)}},{key:"getVisibleRange",value:function(){for(var C=this.state,z=C.from,J=C.size,se=this.getStartAndEnd(0),ne=se.start,de=se.end,ge={},Ee,be,Te=z;Te<z+J;++Te){var qe=this.getSpaceBefore(Te,ge),it=qe+this.getSizeOfItem(Te);Ee==null&&it>ne&&(Ee=Te),Ee!=null&&qe<de&&(be=Te)}return[Ee,be]}},{key:"renderItems",value:function(){for(var C=this,z=this.props,J=z.itemRenderer,se=z.itemsRenderer,ne=this.state,de=ne.from,ge=ne.size,Ee=[],be=0;be<ge;++be)Ee.push(J(de+be,be));return se(Ee,function(Te){return C.items=Te})}},{key:"render",value:function(){var C=this,z=this.props,J=z.axis,se=z.length,ne=z.type,de=z.useTranslate3d,ge=this.state,Ee=ge.from,be=ge.itemsPerRow,Te=this.renderItems();if(ne==="simple")return Te;var qe={position:"relative"},it={},yt=Math.ceil(se/be)*be,Tn=this.getSpaceBefore(yt,it);Tn&&(qe[R[J]]=Tn,J==="x"&&(qe.overflowX="hidden"));var hr=this.getSpaceBefore(Ee,it),Sn=J==="x"?hr:0,mr=J==="y"?hr:0,An=de?"translate3d(".concat(Sn,"px, ").concat(mr,"px, 0)"):"translate(".concat(Sn,"px, ").concat(mr,"px)"),gr={msTransform:An,WebkitTransform:An,transform:An};return(0,r.jsx)("div",{style:qe,ref:function(Lr){return C.el=Lr},children:(0,r.jsx)("div",{style:gr,children:Te})})}}],[{key:"getDerivedStateFromProps",value:function(C,z){var J=ue(C,z);return J===z?null:J}}])}(n.Component);b(Se,"displayName","ReactList"),b(Se,"defaultProps",{axis:"y",itemRenderer:function(W,L){return(0,r.jsx)("div",{children:W},L)},itemsRenderer:function(W,L){return(0,r.jsx)("div",{ref:L,children:W})},length:0,minSize:1,pageSize:10,scrollParentGetter:q,scrollParentViewportSizeGetter:ie,threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1})})})(FD);function qU(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),r=Object.keys(e),i=n.length;if(r.length!==i)return!1;for(var s=0;s<i;s++){var o=n[s];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}function GU(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const QU=Object.freeze(Object.defineProperty({__proto__:null,shallowEqualArrays:GU,shallowEqualObjects:qU},Symbol.toStringTag,{value:"Module"})),KU=fM(QU);var io={};Object.defineProperty(io,"__esModule",{value:!0});io.default=void 0;io.default={dateRangeWrapper:"rdrDateRangeWrapper",calendarWrapper:"rdrCalendarWrapper",dateDisplay:"rdrDateDisplay",dateDisplayItem:"rdrDateDisplayItem",dateDisplayItemActive:"rdrDateDisplayItemActive",monthAndYearWrapper:"rdrMonthAndYearWrapper",monthAndYearPickers:"rdrMonthAndYearPickers",nextPrevButton:"rdrNextPrevButton",month:"rdrMonth",weekDays:"rdrWeekDays",weekDay:"rdrWeekDay",days:"rdrDays",day:"rdrDay",dayNumber:"rdrDayNumber",dayPassive:"rdrDayPassive",dayToday:"rdrDayToday",dayStartOfWeek:"rdrDayStartOfWeek",dayEndOfWeek:"rdrDayEndOfWeek",daySelected:"rdrDaySelected",dayDisabled:"rdrDayDisabled",dayStartOfMonth:"rdrDayStartOfMonth",dayEndOfMonth:"rdrDayEndOfMonth",dayWeekend:"rdrDayWeekend",dayStartPreview:"rdrDayStartPreview",dayInPreview:"rdrDayInPreview",dayEndPreview:"rdrDayEndPreview",dayHovered:"rdrDayHovered",dayActive:"rdrDayActive",inRange:"rdrInRange",endEdge:"rdrEndEdge",startEdge:"rdrStartEdge",prevButton:"rdrPprevButton",nextButton:"rdrNextButton",selected:"rdrSelected",months:"rdrMonths",monthPicker:"rdrMonthPicker",yearPicker:"rdrYearPicker",dateDisplayWrapper:"rdrDateDisplayWrapper",definedRangesWrapper:"rdrDefinedRangesWrapper",staticRanges:"rdrStaticRanges",staticRange:"rdrStaticRange",inputRanges:"rdrInputRanges",inputRange:"rdrInputRange",inputRangeInput:"rdrInputRangeInput",dateRangePickerWrapper:"rdrDateRangePickerWrapper",staticRangeLabel:"rdrStaticRangeLabel",staticRangeSelected:"rdrStaticRangeSelected",monthName:"rdrMonthName",infiniteMonths:"rdrInfiniteMonths",monthsVertical:"rdrMonthsVertical",monthsHorizontal:"rdrMonthsHorizontal"};var bh={};Object.defineProperty(bh,"__esModule",{value:!0});bh.ariaLabelsShape=void 0;var Pi=XU(Qi);function XU(t){return t&&t.__esModule?t:{default:t}}bh.ariaLabelsShape=Pi.default.shape({dateInput:Pi.default.objectOf(Pi.default.shape({startDate:Pi.default.string,endDate:Pi.default.string})),monthPicker:Pi.default.string,yearPicker:Pi.default.string,prevButton:Pi.default.string,nextButton:Pi.default.string});Object.defineProperty(gc,"__esModule",{value:!0});gc.default=void 0;var Je=iB(H),he=Ol(Qi),JU=Bi,GE=Ol(wh),QE=Ol(Eh),fd=ns,Pa=Ol(eo),ZU=Ol(FD),eB=KU,ot=ia,tB=fh,nB=Ol(io),rB=bh;function Ol(t){return t&&t.__esModule?t:{default:t}}function LD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(LD=function(r){return r?n:e})(t)}function iB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=LD(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pf.apply(this,arguments)}function ir(t,e,n){return e=sB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sB(t){var e=aB(t,"string");return typeof e=="symbol"?e:String(e)}function aB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let Py=class wp extends Je.PureComponent{constructor(e,n){var r;super(e,n),r=this,ir(this,"focusToDate",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.props,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!s.scroll.enabled){if(o&&s.preventSnapRefocus){const d=(0,ot.differenceInCalendarMonths)(i,r.state.focusedDate),h=s.calendarFocus==="forwards"&&d>=0,p=s.calendarFocus==="backwards"&&d<=0;if((h||p)&&Math.abs(d)<s.months)return}r.setState({focusedDate:i});return}const u=(0,ot.differenceInCalendarMonths)(i,s.minDate,r.dateOptions),c=r.list.getVisibleRange();o&&c.includes(u)||(r.isFirstRender=!0,r.list.scrollTo(u),r.setState({focusedDate:i}))}),ir(this,"updateShownDate",function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.props;const s=i.scroll.enabled?{...i,months:r.list.getVisibleRange().length}:i,o=(0,fd.calcFocusDate)(r.state.focusedDate,s);r.focusToDate(o,s)}),ir(this,"updatePreview",i=>{if(!i){this.setState({preview:null});return}const s={startDate:i,endDate:i,color:this.props.color};this.setState({preview:s})}),ir(this,"changeShownDate",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set";const{focusedDate:o}=r.state,{onShownDateChange:u,minDate:c,maxDate:d}=r.props,h={monthOffset:()=>(0,ot.addMonths)(o,i),setMonth:()=>(0,ot.setMonth)(o,i),setYear:()=>(0,ot.setYear)(o,i),set:()=>i},p=(0,ot.min)([(0,ot.max)([h[s](),c]),d]);r.focusToDate(p,r.props,!1),u&&u(p)}),ir(this,"handleRangeFocusChange",(i,s)=>{this.props.onRangeFocusChange&&this.props.onRangeFocusChange([i,s])}),ir(this,"handleScroll",()=>{const{onShownDateChange:i,minDate:s}=this.props,{focusedDate:o}=this.state,{isFirstRender:u}=this,c=this.list.getVisibleRange();if(c[0]===void 0)return;const d=(0,ot.addMonths)(s,c[0]||0);!(0,ot.isSameMonth)(d,o)&&!u&&(this.setState({focusedDate:d}),i&&i(d)),this.isFirstRender=!1}),ir(this,"renderMonthAndYear",(i,s,o)=>{const{showMonthArrow:u,minDate:c,maxDate:d,showMonthAndYearPickers:h,ariaLabels:p}=o,v=(d||wp.defaultProps.maxDate).getFullYear(),E=(c||wp.defaultProps.minDate).getFullYear(),O=this.styles;return Je.default.createElement("div",{onMouseUp:I=>I.stopPropagation(),className:O.monthAndYearWrapper},u?Je.default.createElement("button",{type:"button",className:(0,Pa.default)(O.nextPrevButton,O.prevButton),onClick:()=>s(-1,"monthOffset"),"aria-label":p.prevButton},Je.default.createElement("i",null)):null,h?Je.default.createElement("span",{className:O.monthAndYearPickers},Je.default.createElement("span",{className:O.monthPicker},Je.default.createElement("select",{value:i.getMonth(),onChange:I=>s(I.target.value,"setMonth"),"aria-label":p.monthPicker},this.state.monthNames.map((I,A)=>Je.default.createElement("option",{key:A,value:A},I)))),Je.default.createElement("span",{className:O.monthAndYearDivider}),Je.default.createElement("span",{className:O.yearPicker},Je.default.createElement("select",{value:i.getFullYear(),onChange:I=>s(I.target.value,"setYear"),"aria-label":p.yearPicker},new Array(v-E+1).fill(v).map((I,A)=>{const b=I-A;return Je.default.createElement("option",{key:b,value:b},b)})))):Je.default.createElement("span",{className:O.monthAndYearPickers},this.state.monthNames[i.getMonth()]," ",i.getFullYear()),u?Je.default.createElement("button",{type:"button",className:(0,Pa.default)(O.nextPrevButton,O.nextButton),onClick:()=>s(1,"monthOffset"),"aria-label":p.nextButton},Je.default.createElement("i",null)):null)}),ir(this,"renderDateDisplay",()=>{const{focusedRange:i,color:s,ranges:o,rangeColors:u,dateDisplayFormat:c,editableDateInputs:d,startDatePlaceholder:h,endDatePlaceholder:p,ariaLabels:v}=this.props,E=u[i[0]]||s,O=this.styles;return Je.default.createElement("div",{className:O.dateDisplayWrapper},o.map((I,A)=>I.showDateDisplay===!1||I.disabled&&!I.showDateDisplay?null:Je.default.createElement("div",{className:O.dateDisplay,key:A,style:{color:I.color||E}},Je.default.createElement(QE.default,{className:(0,Pa.default)(O.dateDisplayItem,{[O.dateDisplayItemActive]:i[0]===A&&i[1]===0}),readOnly:!d,disabled:I.disabled,value:I.startDate,placeholder:h,dateOptions:this.dateOptions,dateDisplayFormat:c,ariaLabel:v.dateInput&&v.dateInput[I.key]&&v.dateInput[I.key].startDate,onChange:this.onDragSelectionEnd,onFocus:()=>this.handleRangeFocusChange(A,0)}),Je.default.createElement(QE.default,{className:(0,Pa.default)(O.dateDisplayItem,{[O.dateDisplayItemActive]:i[0]===A&&i[1]===1}),readOnly:!d,disabled:I.disabled,value:I.endDate,placeholder:p,dateOptions:this.dateOptions,dateDisplayFormat:c,ariaLabel:v.dateInput&&v.dateInput[I.key]&&v.dateInput[I.key].endDate,onChange:this.onDragSelectionEnd,onFocus:()=>this.handleRangeFocusChange(A,1)}))))}),ir(this,"onDragSelectionStart",i=>{const{onChange:s,dragSelectionEnabled:o}=this.props;o?this.setState({drag:{status:!0,range:{startDate:i,endDate:i},disablePreview:!0}}):s&&s(i)}),ir(this,"onDragSelectionEnd",i=>{const{updateRange:s,displayMode:o,onChange:u,dragSelectionEnabled:c}=this.props;if(!c)return;if(o==="date"||!this.state.drag.status){u&&u(i);return}const d={startDate:this.state.drag.range.startDate,endDate:i};o!=="dateRange"||(0,ot.isSameDay)(d.startDate,i)?this.setState({drag:{status:!1,range:{}}},()=>u&&u(i)):this.setState({drag:{status:!1,range:{}}},()=>{s&&s(d)})}),ir(this,"onDragSelectionMove",i=>{const{drag:s}=this.state;!s.status||!this.props.dragSelectionEnabled||this.setState({drag:{status:s.status,range:{startDate:s.range.startDate,endDate:i},disablePreview:!0}})}),ir(this,"estimateMonthSize",(i,s)=>{const{direction:o,minDate:u}=this.props,{scrollArea:c}=this.state;if(s&&(this.listSizeCache=s,s[i]))return s[i];if(o==="horizontal")return c.monthWidth;const d=(0,ot.addMonths)(u,i),{start:h,end:p}=(0,fd.getMonthDisplayRange)(d,this.dateOptions);return(0,ot.differenceInDays)(p,h,this.dateOptions)+1>7*5?c.longMonthHeight:c.monthHeight}),this.dateOptions={locale:e.locale},e.weekStartsOn!==void 0&&(this.dateOptions.weekStartsOn=e.weekStartsOn),this.styles=(0,fd.generateStyles)([nB.default,e.classNames]),this.listSizeCache={},this.isFirstRender=!0,this.state={monthNames:this.getMonthNames(),focusedDate:(0,fd.calcFocusDate)(null,e),drag:{status:!1,range:{startDate:null,endDate:null},disablePreview:!1},scrollArea:this.calcScrollArea(e)}}getMonthNames(){return[...Array(12).keys()].map(e=>this.props.locale.localize.month(e))}calcScrollArea(e){const{direction:n,months:r,scroll:i}=e;if(!i.enabled)return{enabled:!1};const s=i.longMonthHeight||i.monthHeight;return n==="vertical"?{enabled:!0,monthHeight:i.monthHeight||220,longMonthHeight:s||260,calendarWidth:"auto",calendarHeight:(i.calendarHeight||s||240)*r}:{enabled:!0,monthWidth:i.monthWidth||332,calendarWidth:(i.calendarWidth||i.monthWidth||332)*r,monthHeight:s||300,calendarHeight:s||300}}componentDidMount(){this.props.scroll.enabled&&setTimeout(()=>this.focusToDate(this.state.focusedDate))}componentDidUpdate(e){const r={dateRange:"ranges",date:"date"}[this.props.displayMode];this.props[r]!==e[r]&&this.updateShownDate(this.props),(e.locale!==this.props.locale||e.weekStartsOn!==this.props.weekStartsOn)&&(this.dateOptions={locale:this.props.locale},this.props.weekStartsOn!==void 0&&(this.dateOptions.weekStartsOn=this.props.weekStartsOn),this.setState({monthNames:this.getMonthNames()})),(0,eB.shallowEqualObjects)(e.scroll,this.props.scroll)||this.setState({scrollArea:this.calcScrollArea(this.props)})}renderWeekdays(){const e=new Date;return Je.default.createElement("div",{className:this.styles.weekDays},(0,ot.eachDayOfInterval)({start:(0,ot.startOfWeek)(e,this.dateOptions),end:(0,ot.endOfWeek)(e,this.dateOptions)}).map((n,r)=>Je.default.createElement("span",{className:this.styles.weekDay,key:r},(0,ot.format)(n,this.props.weekdayDisplayFormat,this.dateOptions))))}render(){const{showDateDisplay:e,onPreviewChange:n,scroll:r,direction:i,disabledDates:s,disabledDay:o,maxDate:u,minDate:c,rangeColors:d,color:h,navigatorRenderer:p,className:v,preview:E}=this.props,{scrollArea:O,focusedDate:I}=this.state,A=i==="vertical",b=p||this.renderMonthAndYear,S=this.props.ranges.map((M,j)=>({...M,color:M.color||d[j]||h}));return Je.default.createElement("div",{className:(0,Pa.default)(this.styles.calendarWrapper,v),onMouseUp:()=>this.setState({drag:{status:!1,range:{}}}),onMouseLeave:()=>{this.setState({drag:{status:!1,range:{}}})}},e&&this.renderDateDisplay(),b(I,this.changeShownDate,this.props),r.enabled?Je.default.createElement("div",null,A&&this.renderWeekdays(this.dateOptions),Je.default.createElement("div",{className:(0,Pa.default)(this.styles.infiniteMonths,A?this.styles.monthsVertical:this.styles.monthsHorizontal),onMouseLeave:()=>n&&n(),style:{width:O.calendarWidth+11,height:O.calendarHeight+11},onScroll:this.handleScroll},Je.default.createElement(ZU.default,{length:(0,ot.differenceInCalendarMonths)((0,ot.endOfMonth)(u),(0,ot.addDays)((0,ot.startOfMonth)(c),-1),this.dateOptions),treshold:500,type:"variable",ref:M=>this.list=M,itemSizeEstimator:this.estimateMonthSize,axis:A?"y":"x",itemRenderer:(M,j)=>{const U=(0,ot.addMonths)(c,M);return Je.default.createElement(GE.default,pf({},this.props,{onPreviewChange:n||this.updatePreview,preview:E||this.state.preview,ranges:S,key:j,drag:this.state.drag,dateOptions:this.dateOptions,disabledDates:s,disabledDay:o,month:U,onDragSelectionStart:this.onDragSelectionStart,onDragSelectionEnd:this.onDragSelectionEnd,onDragSelectionMove:this.onDragSelectionMove,onMouseLeave:()=>n&&n(),styles:this.styles,style:A?{height:this.estimateMonthSize(M)}:{height:O.monthHeight,width:this.estimateMonthSize(M)},showMonthName:!0,showWeekDays:!A}))}}))):Je.default.createElement("div",{className:(0,Pa.default)(this.styles.months,A?this.styles.monthsVertical:this.styles.monthsHorizontal)},new Array(this.props.months).fill(null).map((M,j)=>{let U=(0,ot.addMonths)(this.state.focusedDate,j);return this.props.calendarFocus==="backwards"&&(U=(0,ot.subMonths)(this.state.focusedDate,this.props.months-1-j)),Je.default.createElement(GE.default,pf({},this.props,{onPreviewChange:n||this.updatePreview,preview:E||this.state.preview,ranges:S,key:j,drag:this.state.drag,dateOptions:this.dateOptions,disabledDates:s,disabledDay:o,month:U,onDragSelectionStart:this.onDragSelectionStart,onDragSelectionEnd:this.onDragSelectionEnd,onDragSelectionMove:this.onDragSelectionMove,onMouseLeave:()=>n&&n(),styles:this.styles,showWeekDays:!A||j===0,showMonthName:!A||j>0}))})))}};Py.defaultProps={showMonthArrow:!0,showMonthAndYearPickers:!0,disabledDates:[],disabledDay:()=>{},classNames:{},locale:tB.enUS,ranges:[],focusedRange:[0,0],dateDisplayFormat:"MMM d, yyyy",monthDisplayFormat:"MMM yyyy",weekdayDisplayFormat:"E",dayDisplayFormat:"d",showDateDisplay:!0,showPreview:!0,displayMode:"date",months:1,color:"#3d91ff",scroll:{enabled:!1},direction:"vertical",maxDate:(0,ot.addYears)(new Date,20),minDate:(0,ot.addYears)(new Date,-100),rangeColors:["#3d91ff","#3ecf8e","#fed14c"],startDatePlaceholder:"Early",endDatePlaceholder:"Continuous",editableDateInputs:!1,dragSelectionEnabled:!0,fixedHeight:!1,calendarFocus:"forwards",preventSnapRefocus:!1,ariaLabels:{}};Py.propTypes={showMonthArrow:he.default.bool,showMonthAndYearPickers:he.default.bool,disabledDates:he.default.array,disabledDay:he.default.func,minDate:he.default.object,maxDate:he.default.object,date:he.default.object,onChange:he.default.func,onPreviewChange:he.default.func,onRangeFocusChange:he.default.func,classNames:he.default.object,locale:he.default.object,shownDate:he.default.object,onShownDateChange:he.default.func,ranges:he.default.arrayOf(JU.rangeShape),preview:he.default.shape({startDate:he.default.object,endDate:he.default.object,color:he.default.string}),dateDisplayFormat:he.default.string,monthDisplayFormat:he.default.string,weekdayDisplayFormat:he.default.string,weekStartsOn:he.default.number,dayDisplayFormat:he.default.string,focusedRange:he.default.arrayOf(he.default.number),initialFocusedRange:he.default.arrayOf(he.default.number),months:he.default.number,className:he.default.string,showDateDisplay:he.default.bool,showPreview:he.default.bool,displayMode:he.default.oneOf(["dateRange","date"]),color:he.default.string,updateRange:he.default.func,scroll:he.default.shape({enabled:he.default.bool,monthHeight:he.default.number,longMonthHeight:he.default.number,monthWidth:he.default.number,calendarWidth:he.default.number,calendarHeight:he.default.number}),direction:he.default.oneOf(["vertical","horizontal"]),startDatePlaceholder:he.default.string,endDatePlaceholder:he.default.string,navigatorRenderer:he.default.func,rangeColors:he.default.arrayOf(he.default.string),editableDateInputs:he.default.bool,dragSelectionEnabled:he.default.bool,fixedHeight:he.default.bool,calendarFocus:he.default.string,preventSnapRefocus:he.default.bool,ariaLabels:rB.ariaLabelsShape};gc.default=Py;Object.defineProperty(mc,"__esModule",{value:!0});mc.default=void 0;var KE=cB(H),jo=Th(Qi),VD=Th(gc),oB=Bi,cg=ns,Qr=ia,lB=Th(eo),uB=Th(io);function Th(t){return t&&t.__esModule?t:{default:t}}function kD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(kD=function(r){return r?n:e})(t)}function cB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=kD(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ep.apply(this,arguments)}function hd(t,e,n){return e=dB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dB(t){var e=fB(t,"string");return typeof e=="symbol"?e:String(e)}function fB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xy extends KE.Component{constructor(e,n){var r;super(e,n),r=this,hd(this,"calcNewSelection",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const o=r.props.focusedRange||r.state.focusedRange,{ranges:u,onChange:c,maxDate:d,moveRangeOnFirstSelection:h,retainEndDateOnFirstSelection:p,disabledDates:v}=r.props,E=o[0],O=u[E];if(!O||!c)return{};let{startDate:I,endDate:A}=O;const b=new Date;let S;if(!s)I=i.startDate,A=i.endDate;else if(o[1]===0){const U=(0,Qr.differenceInCalendarDays)(A||b,I),$=()=>h?(0,Qr.addDays)(i,U):p?!A||(0,Qr.isBefore)(i,A)?A:i:i||b;I=i,A=$(),d&&(A=(0,Qr.min)([A,d])),S=[o[0],1]}else A=i;let M=o[1]===0;(0,Qr.isBefore)(A,I)&&(M=!M,[I,A]=[A,I]);const j=v.filter(U=>(0,Qr.isWithinInterval)(U,{start:I,end:A}));return j.length>0&&(M?I=(0,Qr.addDays)((0,Qr.max)(j),1):A=(0,Qr.addDays)((0,Qr.min)(j),-1)),S||(S=[(0,cg.findNextRangeIndex)(r.props.ranges,o[0]),0]),{wasValid:!(j.length>0),range:{startDate:I,endDate:A},nextFocusRange:S}}),hd(this,"setSelection",(i,s)=>{const{onChange:o,ranges:u,onRangeFocusChange:c}=this.props,h=(this.props.focusedRange||this.state.focusedRange)[0],p=u[h];if(!p)return;const v=this.calcNewSelection(i,s);o({[p.key||`range${h+1}`]:{...p,...v.range}}),this.setState({focusedRange:v.nextFocusRange,preview:null}),c&&c(v.nextFocusRange)}),hd(this,"handleRangeFocusChange",i=>{this.setState({focusedRange:i}),this.props.onRangeFocusChange&&this.props.onRangeFocusChange(i)}),hd(this,"updatePreview",i=>{var d;if(!i){this.setState({preview:null});return}const{rangeColors:s,ranges:o}=this.props,u=this.props.focusedRange||this.state.focusedRange,c=((d=o[u[0]])==null?void 0:d.color)||s[u[0]]||c;this.setState({preview:{...i.range,color:c}})}),this.state={focusedRange:e.initialFocusedRange||[(0,cg.findNextRangeIndex)(e.ranges),0],preview:null},this.styles=(0,cg.generateStyles)([uB.default,e.classNames])}render(){return KE.default.createElement(VD.default,Ep({focusedRange:this.state.focusedRange,onRangeFocusChange:this.handleRangeFocusChange,preview:this.state.preview,onPreviewChange:e=>{this.updatePreview(e?this.calcNewSelection(e):null)}},this.props,{displayMode:"dateRange",className:(0,lB.default)(this.styles.dateRangeWrapper,this.props.className),onChange:this.setSelection,updateRange:e=>this.setSelection(e,!1),ref:e=>{this.calendar=e}}))}}xy.defaultProps={classNames:{},ranges:[],moveRangeOnFirstSelection:!1,retainEndDateOnFirstSelection:!1,rangeColors:["#3d91ff","#3ecf8e","#fed14c"],disabledDates:[]};xy.propTypes={...VD.default.propTypes,onChange:jo.default.func,onRangeFocusChange:jo.default.func,className:jo.default.string,ranges:jo.default.arrayOf(oB.rangeShape),moveRangeOnFirstSelection:jo.default.bool,retainEndDateOnFirstSelection:jo.default.bool};mc.default=xy;var Sh={},Dc={},Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.createStaticRanges=zD;Ks.defaultStaticRanges=Ks.defaultInputRanges=void 0;var nt=ia;const Ht={startOfWeek:(0,nt.startOfWeek)(new Date),endOfWeek:(0,nt.endOfWeek)(new Date),startOfLastWeek:(0,nt.startOfWeek)((0,nt.addDays)(new Date,-7)),endOfLastWeek:(0,nt.endOfWeek)((0,nt.addDays)(new Date,-7)),startOfToday:(0,nt.startOfDay)(new Date),endOfToday:(0,nt.endOfDay)(new Date),startOfYesterday:(0,nt.startOfDay)((0,nt.addDays)(new Date,-1)),endOfYesterday:(0,nt.endOfDay)((0,nt.addDays)(new Date,-1)),startOfMonth:(0,nt.startOfMonth)(new Date),endOfMonth:(0,nt.endOfMonth)(new Date),startOfLastMonth:(0,nt.startOfMonth)((0,nt.addMonths)(new Date,-1)),endOfLastMonth:(0,nt.endOfMonth)((0,nt.addMonths)(new Date,-1))},hB={range:{},isSelected(t){const e=this.range();return(0,nt.isSameDay)(t.startDate,e.startDate)&&(0,nt.isSameDay)(t.endDate,e.endDate)}};function zD(t){return t.map(e=>({...hB,...e}))}Ks.defaultStaticRanges=zD([{label:"Today",range:()=>({startDate:Ht.startOfToday,endDate:Ht.endOfToday})},{label:"Yesterday",range:()=>({startDate:Ht.startOfYesterday,endDate:Ht.endOfYesterday})},{label:"This Week",range:()=>({startDate:Ht.startOfWeek,endDate:Ht.endOfWeek})},{label:"Last Week",range:()=>({startDate:Ht.startOfLastWeek,endDate:Ht.endOfLastWeek})},{label:"This Month",range:()=>({startDate:Ht.startOfMonth,endDate:Ht.endOfMonth})},{label:"Last Month",range:()=>({startDate:Ht.startOfLastMonth,endDate:Ht.endOfLastMonth})}]);Ks.defaultInputRanges=[{label:"days up to today",range(t){return{startDate:(0,nt.addDays)(Ht.startOfToday,(Math.max(Number(t),1)-1)*-1),endDate:Ht.endOfToday}},getCurrentValue(t){return(0,nt.isSameDay)(t.endDate,Ht.endOfToday)?t.startDate?(0,nt.differenceInCalendarDays)(Ht.endOfToday,t.startDate)+1:"":"-"}},{label:"days starting today",range(t){const e=new Date;return{startDate:e,endDate:(0,nt.addDays)(e,Math.max(Number(t),1)-1)}},getCurrentValue(t){return(0,nt.isSameDay)(t.startDate,Ht.startOfToday)?t.endDate?(0,nt.differenceInCalendarDays)(t.endDate,Ht.startOfToday)+1:"":"-"}}];var Ph={};Object.defineProperty(Ph,"__esModule",{value:!0});Ph.default=void 0;var md=gB(H),Fn=mB(Qi);function mB(t){return t&&t.__esModule?t:{default:t}}function WD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(WD=function(r){return r?n:e})(t)}function gB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=WD(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function pB(t,e,n){return e=vB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vB(t){var e=_B(t,"string");return typeof e=="symbol"?e:String(e)}function _B(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const XE=0,JE=99999;class Iy extends md.Component{constructor(e,n){super(e,n),pB(this,"onChange",r=>{const{onChange:i}=this.props;let s=parseInt(r.target.value,10);s=isNaN(s)?0:Math.max(Math.min(JE,s),XE),i(s)})}shouldComponentUpdate(e){const{value:n,label:r,placeholder:i}=this.props;return n!==e.value||r!==e.label||i!==e.placeholder}render(){const{label:e,placeholder:n,value:r,styles:i,onBlur:s,onFocus:o}=this.props;return md.default.createElement("div",{className:i.inputRange},md.default.createElement("input",{className:i.inputRangeInput,placeholder:n,value:r,min:XE,max:JE,onChange:this.onChange,onFocus:o,onBlur:s}),md.default.createElement("span",{className:i.inputRangeLabel},e))}}Iy.propTypes={value:Fn.default.oneOfType([Fn.default.string,Fn.default.number]),label:Fn.default.oneOfType([Fn.default.element,Fn.default.node]).isRequired,placeholder:Fn.default.string,styles:Fn.default.shape({inputRange:Fn.default.string,inputRangeInput:Fn.default.string,inputRangeLabel:Fn.default.string}).isRequired,onBlur:Fn.default.func.isRequired,onFocus:Fn.default.func.isRequired,onChange:Fn.default.func.isRequired};Iy.defaultProps={value:"",placeholder:"-"};Ph.default=Iy;Object.defineProperty(Dc,"__esModule",{value:!0});Dc.default=void 0;var xa=EB(H),$n=xh(Qi),Ia=xh(io),ZE=Ks,yB=Bi,wB=xh(Ph),eb=xh(eo);function xh(t){return t&&t.__esModule?t:{default:t}}function UD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(UD=function(r){return r?n:e})(t)}function EB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=UD(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function bB(t,e,n){return e=TB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TB(t){var e=SB(t,"string");return typeof e=="symbol"?e:String(e)}function SB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Dy extends xa.Component{constructor(e){super(e),bB(this,"handleRangeChange",n=>{const{onChange:r,ranges:i,focusedRange:s}=this.props,o=i[s[0]];!r||!o||r({[o.key||`range${s[0]+1}`]:{...o,...n}})}),this.state={rangeOffset:0,focusedInput:-1}}getRangeOptionValue(e){const{ranges:n=[],focusedRange:r=[]}=this.props;if(typeof e.getCurrentValue!="function")return"";const i=n[r[0]]||{};return e.getCurrentValue(i)||""}getSelectedRange(e,n){const r=e.findIndex(s=>!s.startDate||!s.endDate||s.disabled?!1:n.isSelected(s));return{selectedRange:e[r],focusedRangeIndex:r}}render(){const{headerContent:e,footerContent:n,onPreviewChange:r,inputRanges:i,staticRanges:s,ranges:o,renderStaticRangeLabel:u,rangeColors:c,className:d}=this.props;return xa.default.createElement("div",{className:(0,eb.default)(Ia.default.definedRangesWrapper,d)},e,xa.default.createElement("div",{className:Ia.default.staticRanges},s.map((h,p)=>{const{selectedRange:v,focusedRangeIndex:E}=this.getSelectedRange(o,h);let O;return h.hasCustomRendering?O=u(h):O=h.label,xa.default.createElement("button",{type:"button",className:(0,eb.default)(Ia.default.staticRange,{[Ia.default.staticRangeSelected]:!!v}),style:{color:v?v.color||c[E]:null},key:p,onClick:()=>this.handleRangeChange(h.range(this.props)),onFocus:()=>r&&r(h.range(this.props)),onMouseOver:()=>r&&r(h.range(this.props)),onMouseLeave:()=>{r&&r()}},xa.default.createElement("span",{tabIndex:-1,className:Ia.default.staticRangeLabel},O))})),xa.default.createElement("div",{className:Ia.default.inputRanges},i.map((h,p)=>xa.default.createElement(wB.default,{key:p,styles:Ia.default,label:h.label,onFocus:()=>this.setState({focusedInput:p,rangeOffset:0}),onBlur:()=>this.setState({rangeOffset:0}),onChange:v=>this.handleRangeChange(h.range(v,this.props)),value:this.getRangeOptionValue(h)}))),n)}}Dy.propTypes={inputRanges:$n.default.array,staticRanges:$n.default.array,ranges:$n.default.arrayOf(yB.rangeShape),focusedRange:$n.default.arrayOf($n.default.number),onPreviewChange:$n.default.func,onChange:$n.default.func,footerContent:$n.default.any,headerContent:$n.default.any,rangeColors:$n.default.arrayOf($n.default.string),className:$n.default.string,renderStaticRangeLabel:$n.default.func};Dy.defaultProps={inputRanges:ZE.defaultInputRanges,staticRanges:ZE.defaultStaticRanges,ranges:[],rangeColors:["#3d91ff","#3ecf8e","#fed14c"],focusedRange:[0,0]};Dc.default=Dy;Object.defineProperty(Sh,"__esModule",{value:!0});Sh.default=void 0;var gd=DB(H),PB=Oc(Qi),BD=Oc(mc),$D=Oc(Dc),tb=ns,xB=Oc(eo),IB=Oc(io);function Oc(t){return t&&t.__esModule?t:{default:t}}function HD(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(HD=function(r){return r?n:e})(t)}function DB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=HD(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vf.apply(this,arguments)}class Oy extends gd.Component{constructor(e){super(e),this.state={focusedRange:[(0,tb.findNextRangeIndex)(e.ranges),0]},this.styles=(0,tb.generateStyles)([IB.default,e.classNames])}render(){const{focusedRange:e}=this.state;return gd.default.createElement("div",{className:(0,xB.default)(this.styles.dateRangePickerWrapper,this.props.className)},gd.default.createElement($D.default,vf({focusedRange:e,onPreviewChange:n=>this.dateRange.updatePreview(n?this.dateRange.calcNewSelection(n,typeof n=="string"):null)},this.props,{range:this.props.ranges[e[0]],className:void 0})),gd.default.createElement(BD.default,vf({onRangeFocusChange:n=>this.setState({focusedRange:n}),focusedRange:e},this.props,{ref:n=>this.dateRange=n,className:void 0})))}}Oy.defaultProps={};Oy.propTypes={...BD.default.propTypes,...$D.default.propTypes,className:PB.default.string};Sh.default=Oy;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Calendar",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"DateRange",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"DateRangePicker",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"DefinedRange",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"createStaticRanges",{enumerable:!0,get:function(){return s.createStaticRanges}}),Object.defineProperty(t,"defaultInputRanges",{enumerable:!0,get:function(){return s.defaultInputRanges}}),Object.defineProperty(t,"defaultStaticRanges",{enumerable:!0,get:function(){return s.defaultStaticRanges}});var e=o(mc),n=o(gc),r=o(Sh),i=o(Dc),s=Ks;function o(u){return u&&u.__esModule?u:{default:u}}})(Wv);var OB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const MB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CB=(t,e)=>{const n=H.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:u,...c},d)=>H.createElement("svg",{ref:d,...OB,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${MB(t)}`,...c},[...e.map(([h,p])=>H.createElement(h,p)),...(Array.isArray(u)?u:[u])||[]]));return n.displayName=`${t}`,n};var cn=CB;const NB=cn("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),RB=cn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),bp=cn("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),AB=cn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),dg=cn("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),nb=cn("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),jB=cn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),_f=cn("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),pd=cn("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),rb=cn("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),Ad=cn("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),gu=cn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),FB=cn("Train",[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h0",key:"q9eq1f"}],["path",{d:"M16 15h0",key:"pzrbjg"}]]),Ou=cn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),LB=cn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),VB=cn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),YD=cn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var ib={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},GD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=s>>2,p=(s&3)<<4|u>>4;let v=(u&15)<<2|d>>6,E=d&63;c||(E=64,o||(v=64)),r.push(n[h],n[p],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||d==null||p==null)throw new zB;const v=s<<2|u>>4;if(r.push(v),d!==64){const E=u<<4&240|d>>2;if(r.push(E),p!==64){const O=d<<6&192|p;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WB=function(t){const e=qD(t);return GD.encodeByteArray(e,!0)},yf=function(t){return WB(t).replace(/\./g,"")},QD=function(t){try{return GD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=()=>UB().__FIREBASE_DEFAULTS__,$B=()=>{if(typeof process>"u"||typeof ib>"u")return;const t=ib.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QD(t[1]);return e&&JSON.parse(e)},Ih=()=>{try{return BB()||$B()||HB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KD=t=>{var e,n;return(n=(e=Ih())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YB=t=>{const e=KD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},XD=()=>{var t;return(t=Ih())===null||t===void 0?void 0:t.config},JD=t=>{var e;return(e=Ih())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yf(JSON.stringify(n)),yf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function KB(){var t;const e=(t=Ih())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e$(){const t=bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t$(){return!KB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n$(){try{return typeof indexedDB=="object"}catch{return!1}}function r$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$="FirebaseError";class rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=i$,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?s$(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new rs(i,u,r)}}function s$(t,e){return t.replace(a$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const a$=/\{\$([^}]+)}/g;function o$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(sb(s)&&sb(o)){if(!wf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function l$(t,e){const n=new u$(t,e);return n.subscribe.bind(n)}class u${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");c$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fg),i.error===void 0&&(i.error=fg),i.complete===void 0&&(i.complete=fg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t){return t&&t._delegate?t._delegate:t}class qa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h$(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f$(t){return t===Ca?void 0:t}function h$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new d$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const g$={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},p$=Ce.INFO,v$={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},_$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=v$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class My{constructor(e){this.name=e,this._logLevel=p$,this._logHandler=_$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const y$=(t,e)=>e.some(n=>t instanceof n);let ab,ob;function w$(){return ab||(ab=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E$(){return ob||(ob=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZD=new WeakMap,Tp=new WeakMap,eO=new WeakMap,hg=new WeakMap,Cy=new WeakMap;function b$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($s(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZD.set(n,t)}).catch(()=>{}),Cy.set(e,t),e}function T$(t){if(Tp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tp.set(t,e)}let Sp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function S$(t){Sp=t(Sp)}function P$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mg(this),e,...n);return eO.set(r,e.sort?e.sort():[e]),$s(r)}:E$().includes(t)?function(...e){return t.apply(mg(this),e),$s(ZD.get(this))}:function(...e){return $s(t.apply(mg(this),e))}}function x$(t){return typeof t=="function"?P$(t):(t instanceof IDBTransaction&&T$(t),y$(t,w$())?new Proxy(t,Sp):t)}function $s(t){if(t instanceof IDBRequest)return b$(t);if(hg.has(t))return hg.get(t);const e=x$(t);return e!==t&&(hg.set(t,e),Cy.set(e,t)),e}const mg=t=>Cy.get(t);function I$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=$s(o);return r&&o.addEventListener("upgradeneeded",c=>{r($s(o.result),c.oldVersion,c.newVersion,$s(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const D$=["get","getKey","getAll","getAllKeys","count"],O$=["put","add","delete","clear"],gg=new Map;function lb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gg.get(e))return gg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=O$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||D$.includes(n)))return;const s=async function(o,...u){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&c.done]))[0]};return gg.set(e,s),s}S$(t=>({...t,get:(e,n,r)=>lb(e,n)||t.get(e,n,r),has:(e,n)=>!!lb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function C$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pp="@firebase/app",ub="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new My("@firebase/app"),N$="@firebase/app-compat",R$="@firebase/analytics-compat",A$="@firebase/analytics",j$="@firebase/app-check-compat",F$="@firebase/app-check",L$="@firebase/auth",V$="@firebase/auth-compat",k$="@firebase/database",z$="@firebase/data-connect",W$="@firebase/database-compat",U$="@firebase/functions",B$="@firebase/functions-compat",$$="@firebase/installations",H$="@firebase/installations-compat",Y$="@firebase/messaging",q$="@firebase/messaging-compat",G$="@firebase/performance",Q$="@firebase/performance-compat",K$="@firebase/remote-config",X$="@firebase/remote-config-compat",J$="@firebase/storage",Z$="@firebase/storage-compat",eH="@firebase/firestore",tH="@firebase/vertexai-preview",nH="@firebase/firestore-compat",rH="firebase",iH="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="[DEFAULT]",sH={[Pp]:"fire-core",[N$]:"fire-core-compat",[A$]:"fire-analytics",[R$]:"fire-analytics-compat",[F$]:"fire-app-check",[j$]:"fire-app-check-compat",[L$]:"fire-auth",[V$]:"fire-auth-compat",[k$]:"fire-rtdb",[z$]:"fire-data-connect",[W$]:"fire-rtdb-compat",[U$]:"fire-fn",[B$]:"fire-fn-compat",[$$]:"fire-iid",[H$]:"fire-iid-compat",[Y$]:"fire-fcm",[q$]:"fire-fcm-compat",[G$]:"fire-perf",[Q$]:"fire-perf-compat",[K$]:"fire-rc",[X$]:"fire-rc-compat",[J$]:"fire-gcs",[Z$]:"fire-gcs-compat",[eH]:"fire-fst",[nH]:"fire-fst-compat",[tH]:"fire-vertex","fire-js":"fire-js",[rH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=new Map,aH=new Map,Ip=new Map;function cb(t,e){try{t.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ml(t){const e=t.name;if(Ip.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Ip.set(e,t);for(const n of Ef.values())cb(n,t);for(const n of aH.values())cb(n,t);return!0}function Ny(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ri(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Mc("app","Firebase",oH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=iH;function tO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hs.create("bad-app-name",{appName:String(i)});if(n||(n=XD()),!n)throw Hs.create("no-options");const s=Ef.get(i);if(s){if(wf(n,s.options)&&wf(r,s.config))return s;throw Hs.create("duplicate-app",{appName:i})}const o=new m$(i);for(const c of Ip.values())o.addComponent(c);const u=new lH(n,r,o);return Ef.set(i,u),u}function nO(t=xp){const e=Ef.get(t);if(!e&&t===xp&&XD())return tO();if(!e)throw Hs.create("no-app",{appName:t});return e}function Ys(t,e,n){var r;let i=(r=sH[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(u.join(" "));return}ml(new qa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH="firebase-heartbeat-database",cH=1,Ju="firebase-heartbeat-store";let pg=null;function rO(){return pg||(pg=I$(uH,cH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ju)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hs.create("idb-open",{originalErrorMessage:t.message})})),pg}async function dH(t){try{const n=(await rO()).transaction(Ju),r=await n.objectStore(Ju).get(iO(t));return await n.done,r}catch(e){if(e instanceof rs)$i.warn(e.message);else{const n=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(n.message)}}}async function db(t,e){try{const r=(await rO()).transaction(Ju,"readwrite");await r.objectStore(Ju).put(e,iO(t)),await r.done}catch(n){if(n instanceof rs)$i.warn(n.message);else{const r=Hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(r.message)}}}function iO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=1024,hH=30*24*60*60*1e3;class mH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=hH}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fb(),{heartbeatsToSend:r,unsentEntries:i}=gH(this._heartbeatsCache.heartbeats),s=yf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $i.warn(n),""}}}function fb(){return new Date().toISOString().substring(0,10)}function gH(t,e=fH){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),hb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n$()?r$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return db(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return db(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hb(t){return yf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(t){ml(new qa("platform-logger",e=>new M$(e),"PRIVATE")),ml(new qa("heartbeat",e=>new mH(e),"PRIVATE")),Ys(Pp,ub,t),Ys(Pp,ub,"esm2017"),Ys("fire-js","")}vH("");function Ry(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _H=sO,aO=new Mc("auth","Firebase",sO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=new My("@firebase/auth");function yH(t,...e){bf.logLevel<=Ce.WARN&&bf.warn(`Auth (${Ml}): ${t}`,...e)}function jd(t,...e){bf.logLevel<=Ce.ERROR&&bf.error(`Auth (${Ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,...e){throw jy(t,...e)}function Ar(t,...e){return jy(t,...e)}function Ay(t,e,n){const r=Object.assign(Object.assign({},_H()),{[e]:n});return new Mc("auth","Firebase",r).create(e,{appName:t.name})}function za(t){return Ay(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wH(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ii(t,"argument-error"),Ay(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aO.create(t,...e)}function pe(t,e,...n){if(!t)throw jy(e,...n)}function Ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jd(e),new Error(e)}function Hi(t,e){t||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function EH(){return mb()==="http:"||mb()==="https:"}function mb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EH()||JB()||"connection"in navigator)?navigator.onLine:!0}function TH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hi(n>e,"Short delay should be less than long delay!"),this.isMobile=QB()||ZB()}get(){return bH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t,e){Hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=new Nc(3e4,6e4);function Ly(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cl(t,e,n,r,i={}){return lO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const u=Cc(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},s);return XB()||(d.referrerPolicy="no-referrer"),oO.fetch()(uO(t,t.config.apiHost,n,u),d)})}async function lO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},SH),e);try{const i=new IH(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw vd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw vd(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Ay(t,h,d);ii(t,h)}}catch(i){if(i instanceof rs)throw i;ii(t,"network-request-failed",{message:String(i)})}}async function xH(t,e,n,r,i={}){const s=await Cl(t,e,n,r,i);return"mfaPendingCredential"in s&&ii(t,"multi-factor-auth-required",{_serverResponse:s}),s}function uO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Fy(t.config,i):`${t.config.apiScheme}://${i}`}class IH{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ar(this.auth,"network-request-failed")),PH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ar(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DH(t,e){return Cl(t,"POST","/v1/accounts:delete",e)}async function cO(t,e){return Cl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OH(t,e=!1){const n=Kn(t),r=await n.getIdToken(e),i=Vy(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Mu(vg(i.auth_time)),issuedAtTime:Mu(vg(i.iat)),expirationTime:Mu(vg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vg(t){return Number(t)*1e3}function Vy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jd("JWT malformed, contained fewer than 3 sections"),null;try{const i=QD(n);return i?JSON.parse(i):(jd("Failed to decode base64 JWT payload"),null)}catch(i){return jd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gb(t){const e=Vy(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rs&&MH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function MH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mu(this.lastLoginAt),this.creationTime=Mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Zu(t,cO(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?dO(s.providerUserInfo):[],u=RH(t.providerData,o),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),h=c?d:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Op(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function NH(t){const e=Kn(t);await Tf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dO(t){return t.map(e=>{var{providerId:n}=e,r=Ry(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AH(t,e){const n=await lO(t,{},async()=>{const r=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=uO(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",oO.fetch()(o,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jH(t,e){return Cl(t,"POST","/v2/accounts:revokeToken",Ly(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=gb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await AH(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new rl;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rl,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ji{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ry(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Op(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OH(this,e)}reload(){return NH(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ji(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Tf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await Zu(this,DH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,u,c,d,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,O=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(u=n.tenantId)!==null&&u!==void 0?u:void 0,A=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(d=n.createdAt)!==null&&d!==void 0?d:void 0,S=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:M,emailVerified:j,isAnonymous:U,providerData:$,stsTokenManager:T}=n;pe(M&&T,e,"internal-error");const w=rl.fromJSON(this.name,T);pe(typeof M=="string",e,"internal-error"),Ss(p,e.name),Ss(v,e.name),pe(typeof j=="boolean",e,"internal-error"),pe(typeof U=="boolean",e,"internal-error"),Ss(E,e.name),Ss(O,e.name),Ss(I,e.name),Ss(A,e.name),Ss(b,e.name),Ss(S,e.name);const P=new ji({uid:M,auth:e,email:v,emailVerified:j,displayName:p,isAnonymous:U,photoURL:O,phoneNumber:E,tenantId:I,stsTokenManager:w,createdAt:b,lastLoginAt:S});return $&&Array.isArray($)&&(P.providerData=$.map(D=>Object.assign({},D))),A&&(P._redirectEventId=A),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new rl;i.updateFromServerResponse(n);const s=new ji({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Tf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?dO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new rl;u.updateFromIdToken(r);const c=new ji({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Op(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=new Map;function Fi(t){Hi(t instanceof Function,"Expected a class definition");let e=pb.get(t);return e?(Hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fO.type="NONE";const vb=fO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t,e,n){return`firebase:${t}:${e}:${n}`}class il{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Fd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ji._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new il(Fi(vb),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Fi(vb);const o=Fd(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const h=await d._get(o);if(h){const p=ji._fromJSON(e,h);d!==s&&(u=p),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new il(s,e,r):(s=c[0],u&&await s._set(o,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new il(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_O(e))return"Blackberry";if(yO(e))return"Webos";if(mO(e))return"Safari";if((e.includes("chrome/")||gO(e))&&!e.includes("edge/"))return"Chrome";if(vO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hO(t=bn()){return/firefox\//i.test(t)}function mO(t=bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gO(t=bn()){return/crios\//i.test(t)}function pO(t=bn()){return/iemobile/i.test(t)}function vO(t=bn()){return/android/i.test(t)}function _O(t=bn()){return/blackberry/i.test(t)}function yO(t=bn()){return/webos/i.test(t)}function ky(t=bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FH(t=bn()){var e;return ky(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LH(){return e$()&&document.documentMode===10}function wO(t=bn()){return ky(t)||vO(t)||yO(t)||_O(t)||/windows phone/i.test(t)||pO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t,e=[]){let n;switch(t){case"Browser":n=_b(bn());break;case"Worker":n=`${_b(bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,u)=>{try{const c=e(s);o(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kH(t,e={}){return Cl(t,"GET","/v2/passwordPolicy",Ly(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=6;class WH{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:zH,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yb(this),this.idTokenSubscription=new yb(this),this.beforeStateQueue=new VH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await il.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cO(this,{idToken:e}),r=await ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ri(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Tf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ri(this.app))return Promise.reject(za(this));const n=e?Kn(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ri(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kH(this),n=new WH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(u,this,"internal-error"),u.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Dh(t){return Kn(t)}class yb{constructor(e){this.auth=e,this.observer=null,this.addObserver=l$(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BH(t){zy=t}function $H(t){return zy.loadJS(t)}function HH(){return zy.gapiScript}function YH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(t,e){const n=Ny(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(wf(s,e??{}))return i;ii(i,"already-initialized")}return n.initialize({options:e})}function GH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function QH(t,e,n){const r=Dh(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=bO(e),{host:o,port:u}=KH(e),c=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),XH()}function bO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KH(t){const e=bO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:wb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:wb(o)}}}function wb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,n){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t,e){return xH(t,"POST","/v1/accounts:signInWithIdp",Ly(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH="http://localhost";class Ga extends TO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ry(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ga(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,sl(e,n)}buildRequest(){const e={requestUri:JH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Wy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Rc{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Rc{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Rc{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cs.credential(n,r)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ji._fromIdTokenResponse(e,r,i),o=Eb(r);return new gl({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Eb(r);return new gl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Eb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends rs{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sf(e,n,r,i)}}function SO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Sf._fromErrorAndOperation(t,s,e,r):s})}async function ZH(t,e,n=!1){const r=await Zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e7(t,e,n=!1){const{auth:r}=t;if(Ri(r.app))return Promise.reject(za(r));const i="reauthenticate";try{const s=await Zu(t,SO(r,i,e,t),n);pe(s.idToken,r,"internal-error");const o=Vy(s.idToken);pe(o,r,"internal-error");const{sub:u}=o;return pe(t.uid===u,r,"user-mismatch"),gl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ii(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t7(t,e,n=!1){if(Ri(t.app))return Promise.reject(za(t));const r="signIn",i=await SO(t,r,e),s=await gl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function n7(t,e,n,r){return Kn(t).onIdTokenChanged(e,n,r)}function r7(t,e,n){return Kn(t).beforeAuthStateChanged(e,n)}function i7(t,e,n,r){return Kn(t).onAuthStateChanged(e,n,r)}function s7(t){return Kn(t).signOut()}const Pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pf,"1"),this.storage.removeItem(Pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=1e3,o7=10;class xO extends PO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);LH()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,o7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},a7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xO.type="LOCAL";const l7=xO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO extends PO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IO.type="SESSION";const DO=IO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async d=>d(n.origin,s)),c=await u7(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((u,c)=>{const d=Uy("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(v.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function d7(t){ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function f7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function m7(){return OO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="firebaseLocalStorageDb",g7=1,xf="firebaseLocalStorage",CO="fbase_key";class Ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mh(t,e){return t.transaction([xf],e?"readwrite":"readonly").objectStore(xf)}function p7(){const t=indexedDB.deleteDatabase(MO);return new Ac(t).toPromise()}function Mp(){const t=indexedDB.open(MO,g7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xf,{keyPath:CO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xf)?e(r):(r.close(),await p7(),e(await Mp()))})})}async function bb(t,e,n){const r=Mh(t,!0).put({[CO]:e,value:n});return new Ac(r).toPromise()}async function v7(t,e){const n=Mh(t,!1).get(e),r=await new Ac(n).toPromise();return r===void 0?null:r.value}function Tb(t,e){const n=Mh(t,!0).delete(e);return new Ac(n).toPromise()}const _7=800,y7=3;class NO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>y7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(m7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await f7(),!this.activeServiceWorker)return;this.sender=new c7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mp();return await bb(e,Pf,"1"),await Tb(e,Pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>v7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Mh(i,!1).getAll();return new Ac(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NO.type="LOCAL";const w7=NO;new Nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t,e){return e?Fi(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends TO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function E7(t){return t7(t.auth,new By(t),t.bypassAuthState)}function b7(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),e7(n,new By(t),t.bypassAuthState)}async function T7(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),ZH(n,new By(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:u}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E7;case"linkViaPopup":case"linkViaRedirect":return T7;case"reauthViaPopup":case"reauthViaRedirect":return b7;default:ii(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7=new Nc(2e3,1e4);async function P7(t,e,n){if(Ri(t.app))return Promise.reject(Ar(t,"operation-not-supported-in-this-environment"));const r=Dh(t);wH(t,e,Wy);const i=RO(r,n);return new Fa(r,"signInViaPopup",e,i).executeNotNull()}class Fa extends AO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=Uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S7.get())};e()}}Fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7="pendingRedirect",Ld=new Map;class I7 extends AO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ld.get(this.auth._key());if(!e){try{const r=await D7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ld.set(this.auth._key(),e)}return this.bypassAuthState||Ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D7(t,e){const n=C7(e),r=M7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function O7(t,e){Ld.set(t._key(),e)}function M7(t){return Fi(t._redirectPersistence)}function C7(t){return Fd(x7,t.config.apiKey,t.name)}async function N7(t,e,n=!1){if(Ri(t.app))return Promise.reject(za(t));const r=Dh(t),i=RO(r,e),o=await new I7(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7=10*60*1e3;class A7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ar(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R7&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sb(e))}saveEventToCache(e){this.cachedEventUids.add(Sb(e)),this.lastProcessedEventTime=Date.now()}}function Sb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F7(t,e={}){return Cl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V7=/^https?/;async function k7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await F7(t);for(const n of e)try{if(z7(n))return}catch{}ii(t,"unauthorized-domain")}function z7(t){const e=Dp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!V7.test(n))return!1;if(L7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=new Nc(3e4,6e4);function Pb(){const t=ei().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function U7(t){return new Promise((e,n)=>{var r,i,s;function o(){Pb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pb(),n(Ar(t,"network-request-failed"))},timeout:W7.get()})}if(!((i=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ei().gapi)===null||s===void 0)&&s.load)o();else{const u=YH("iframefcb");return ei()[u]=()=>{gapi.load?o():n(Ar(t,"network-request-failed"))},$H(`${HH()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Vd=null,e})}let Vd=null;function B7(t){return Vd=Vd||U7(t),Vd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=new Nc(5e3,15e3),H7="__/auth/iframe",Y7="emulator/auth/iframe",q7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q7(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fy(e,Y7):`https://${t.config.authDomain}/${H7}`,r={apiKey:e.apiKey,appName:t.name,v:Ml},i=G7.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Cc(r).slice(1)}`}async function K7(t){const e=await B7(t),n=ei().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:Q7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q7,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ar(t,"network-request-failed"),u=ei().setTimeout(()=>{s(o)},$7.get());function c(){ei().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J7=500,Z7=600,eY="_blank",tY="http://localhost";class xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nY(t,e,n,r=J7,i=Z7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},X7),{width:r.toString(),height:i.toString(),top:s,left:o}),d=bn().toLowerCase();n&&(u=gO(d)?eY:n),hO(d)&&(e=e||tY,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[E,O])=>`${v}${E}=${O},`,"");if(FH(d)&&u!=="_self")return rY(e||"",u),new xb(null);const p=window.open(e||"",u,h);pe(p,t,"popup-blocked");try{p.focus()}catch{}return new xb(p)}function rY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iY="__/auth/handler",sY="emulator/auth/handler",aY=encodeURIComponent("fac");async function Ib(t,e,n,r,i,s){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ml,eventId:i};if(e instanceof Wy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",o$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof Rc){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),d=c?`#${aY}=${encodeURIComponent(c)}`:"";return`${oY(t)}?${Cc(u).slice(1)}${d}`}function oY({config:t}){return t.emulator?Fy(t,sY):`https://${t.authDomain}/${iY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="webStorageSupport";class lY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DO,this._completeRedirectFn=N7,this._overrideRedirectResult=O7}async _openPopup(e,n,r,i){var s;Hi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Ib(e,n,r,Dp(),i);return nY(e,o,Uy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Ib(e,n,r,Dp(),i);return d7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Hi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await K7(e),r=new A7(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_g,{type:_g},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[_g];o!==void 0&&n(!!o),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=k7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wO()||mO()||ky()}}const uY=lY;var Db="@firebase/auth",Ob="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fY(t){ml(new qa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EO(t)},d=new UH(r,i,s,c);return GH(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ml(new qa("auth-internal",e=>{const n=Dh(e.getProvider("auth").getImmediate());return(r=>new cY(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(Db,Ob,dY(t)),Ys(Db,Ob,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY=5*60,mY=JD("authIdTokenMaxAge")||hY;let Mb=null;const gY=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mY)return;const i=n==null?void 0:n.token;Mb!==i&&(Mb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pY(t=nO()){const e=Ny(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qH(t,{popupRedirectResolver:uY,persistence:[w7,l7,DO]}),r=JD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=gY(s.toString());r7(n,o,()=>o(n.currentUser)),n7(n,u=>o(u))}}const i=KD("auth");return i&&QH(n,`http://${i}`),n}function vY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}BH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ar("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",vY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fY("Browser");var Cb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wa,FO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,w){function P(){}P.prototype=w.prototype,T.D=w.prototype,T.prototype=new P,T.prototype.constructor=T,T.C=function(D,N,R){for(var x=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)x[$e-2]=arguments[$e];return w.prototype[N].apply(D,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,w,P){P||(P=0);var D=Array(16);if(typeof w=="string")for(var N=0;16>N;++N)D[N]=w.charCodeAt(P++)|w.charCodeAt(P++)<<8|w.charCodeAt(P++)<<16|w.charCodeAt(P++)<<24;else for(N=0;16>N;++N)D[N]=w[P++]|w[P++]<<8|w[P++]<<16|w[P++]<<24;w=T.g[0],P=T.g[1],N=T.g[2];var R=T.g[3],x=w+(R^P&(N^R))+D[0]+3614090360&4294967295;w=P+(x<<7&4294967295|x>>>25),x=R+(N^w&(P^N))+D[1]+3905402710&4294967295,R=w+(x<<12&4294967295|x>>>20),x=N+(P^R&(w^P))+D[2]+606105819&4294967295,N=R+(x<<17&4294967295|x>>>15),x=P+(w^N&(R^w))+D[3]+3250441966&4294967295,P=N+(x<<22&4294967295|x>>>10),x=w+(R^P&(N^R))+D[4]+4118548399&4294967295,w=P+(x<<7&4294967295|x>>>25),x=R+(N^w&(P^N))+D[5]+1200080426&4294967295,R=w+(x<<12&4294967295|x>>>20),x=N+(P^R&(w^P))+D[6]+2821735955&4294967295,N=R+(x<<17&4294967295|x>>>15),x=P+(w^N&(R^w))+D[7]+4249261313&4294967295,P=N+(x<<22&4294967295|x>>>10),x=w+(R^P&(N^R))+D[8]+1770035416&4294967295,w=P+(x<<7&4294967295|x>>>25),x=R+(N^w&(P^N))+D[9]+2336552879&4294967295,R=w+(x<<12&4294967295|x>>>20),x=N+(P^R&(w^P))+D[10]+4294925233&4294967295,N=R+(x<<17&4294967295|x>>>15),x=P+(w^N&(R^w))+D[11]+2304563134&4294967295,P=N+(x<<22&4294967295|x>>>10),x=w+(R^P&(N^R))+D[12]+1804603682&4294967295,w=P+(x<<7&4294967295|x>>>25),x=R+(N^w&(P^N))+D[13]+4254626195&4294967295,R=w+(x<<12&4294967295|x>>>20),x=N+(P^R&(w^P))+D[14]+2792965006&4294967295,N=R+(x<<17&4294967295|x>>>15),x=P+(w^N&(R^w))+D[15]+1236535329&4294967295,P=N+(x<<22&4294967295|x>>>10),x=w+(N^R&(P^N))+D[1]+4129170786&4294967295,w=P+(x<<5&4294967295|x>>>27),x=R+(P^N&(w^P))+D[6]+3225465664&4294967295,R=w+(x<<9&4294967295|x>>>23),x=N+(w^P&(R^w))+D[11]+643717713&4294967295,N=R+(x<<14&4294967295|x>>>18),x=P+(R^w&(N^R))+D[0]+3921069994&4294967295,P=N+(x<<20&4294967295|x>>>12),x=w+(N^R&(P^N))+D[5]+3593408605&4294967295,w=P+(x<<5&4294967295|x>>>27),x=R+(P^N&(w^P))+D[10]+38016083&4294967295,R=w+(x<<9&4294967295|x>>>23),x=N+(w^P&(R^w))+D[15]+3634488961&4294967295,N=R+(x<<14&4294967295|x>>>18),x=P+(R^w&(N^R))+D[4]+3889429448&4294967295,P=N+(x<<20&4294967295|x>>>12),x=w+(N^R&(P^N))+D[9]+568446438&4294967295,w=P+(x<<5&4294967295|x>>>27),x=R+(P^N&(w^P))+D[14]+3275163606&4294967295,R=w+(x<<9&4294967295|x>>>23),x=N+(w^P&(R^w))+D[3]+4107603335&4294967295,N=R+(x<<14&4294967295|x>>>18),x=P+(R^w&(N^R))+D[8]+1163531501&4294967295,P=N+(x<<20&4294967295|x>>>12),x=w+(N^R&(P^N))+D[13]+2850285829&4294967295,w=P+(x<<5&4294967295|x>>>27),x=R+(P^N&(w^P))+D[2]+4243563512&4294967295,R=w+(x<<9&4294967295|x>>>23),x=N+(w^P&(R^w))+D[7]+1735328473&4294967295,N=R+(x<<14&4294967295|x>>>18),x=P+(R^w&(N^R))+D[12]+2368359562&4294967295,P=N+(x<<20&4294967295|x>>>12),x=w+(P^N^R)+D[5]+4294588738&4294967295,w=P+(x<<4&4294967295|x>>>28),x=R+(w^P^N)+D[8]+2272392833&4294967295,R=w+(x<<11&4294967295|x>>>21),x=N+(R^w^P)+D[11]+1839030562&4294967295,N=R+(x<<16&4294967295|x>>>16),x=P+(N^R^w)+D[14]+4259657740&4294967295,P=N+(x<<23&4294967295|x>>>9),x=w+(P^N^R)+D[1]+2763975236&4294967295,w=P+(x<<4&4294967295|x>>>28),x=R+(w^P^N)+D[4]+1272893353&4294967295,R=w+(x<<11&4294967295|x>>>21),x=N+(R^w^P)+D[7]+4139469664&4294967295,N=R+(x<<16&4294967295|x>>>16),x=P+(N^R^w)+D[10]+3200236656&4294967295,P=N+(x<<23&4294967295|x>>>9),x=w+(P^N^R)+D[13]+681279174&4294967295,w=P+(x<<4&4294967295|x>>>28),x=R+(w^P^N)+D[0]+3936430074&4294967295,R=w+(x<<11&4294967295|x>>>21),x=N+(R^w^P)+D[3]+3572445317&4294967295,N=R+(x<<16&4294967295|x>>>16),x=P+(N^R^w)+D[6]+76029189&4294967295,P=N+(x<<23&4294967295|x>>>9),x=w+(P^N^R)+D[9]+3654602809&4294967295,w=P+(x<<4&4294967295|x>>>28),x=R+(w^P^N)+D[12]+3873151461&4294967295,R=w+(x<<11&4294967295|x>>>21),x=N+(R^w^P)+D[15]+530742520&4294967295,N=R+(x<<16&4294967295|x>>>16),x=P+(N^R^w)+D[2]+3299628645&4294967295,P=N+(x<<23&4294967295|x>>>9),x=w+(N^(P|~R))+D[0]+4096336452&4294967295,w=P+(x<<6&4294967295|x>>>26),x=R+(P^(w|~N))+D[7]+1126891415&4294967295,R=w+(x<<10&4294967295|x>>>22),x=N+(w^(R|~P))+D[14]+2878612391&4294967295,N=R+(x<<15&4294967295|x>>>17),x=P+(R^(N|~w))+D[5]+4237533241&4294967295,P=N+(x<<21&4294967295|x>>>11),x=w+(N^(P|~R))+D[12]+1700485571&4294967295,w=P+(x<<6&4294967295|x>>>26),x=R+(P^(w|~N))+D[3]+2399980690&4294967295,R=w+(x<<10&4294967295|x>>>22),x=N+(w^(R|~P))+D[10]+4293915773&4294967295,N=R+(x<<15&4294967295|x>>>17),x=P+(R^(N|~w))+D[1]+2240044497&4294967295,P=N+(x<<21&4294967295|x>>>11),x=w+(N^(P|~R))+D[8]+1873313359&4294967295,w=P+(x<<6&4294967295|x>>>26),x=R+(P^(w|~N))+D[15]+4264355552&4294967295,R=w+(x<<10&4294967295|x>>>22),x=N+(w^(R|~P))+D[6]+2734768916&4294967295,N=R+(x<<15&4294967295|x>>>17),x=P+(R^(N|~w))+D[13]+1309151649&4294967295,P=N+(x<<21&4294967295|x>>>11),x=w+(N^(P|~R))+D[4]+4149444226&4294967295,w=P+(x<<6&4294967295|x>>>26),x=R+(P^(w|~N))+D[11]+3174756917&4294967295,R=w+(x<<10&4294967295|x>>>22),x=N+(w^(R|~P))+D[2]+718787259&4294967295,N=R+(x<<15&4294967295|x>>>17),x=P+(R^(N|~w))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+w&4294967295,T.g[1]=T.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,w){w===void 0&&(w=T.length);for(var P=w-this.blockSize,D=this.B,N=this.h,R=0;R<w;){if(N==0)for(;R<=P;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<w;)if(D[N++]=T.charCodeAt(R++),N==this.blockSize){i(this,D),N=0;break}}else for(;R<w;)if(D[N++]=T[R++],N==this.blockSize){i(this,D),N=0;break}}this.h=N,this.o+=w},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var w=1;w<T.length-8;++w)T[w]=0;var P=8*this.o;for(w=T.length-8;w<T.length;++w)T[w]=P&255,P/=256;for(this.u(T),T=Array(16),w=P=0;4>w;++w)for(var D=0;32>D;D+=8)T[P++]=this.g[w]>>>D&255;return T};function s(T,w){var P=u;return Object.prototype.hasOwnProperty.call(P,T)?P[T]:P[T]=w(T)}function o(T,w){this.h=w;for(var P=[],D=!0,N=T.length-1;0<=N;N--){var R=T[N]|0;D&&R==w||(P[N]=R,D=!1)}this.g=P}var u={};function c(T){return-128<=T&&128>T?s(T,function(w){return new o([w|0],0>w?-1:0)}):new o([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return A(d(-T));for(var w=[],P=1,D=0;T>=P;D++)w[D]=T/P|0,P*=4294967296;return new o(w,0)}function h(T,w){if(T.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T.charAt(0)=="-")return A(h(T.substring(1),w));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(w,8)),D=p,N=0;N<T.length;N+=8){var R=Math.min(8,T.length-N),x=parseInt(T.substring(N,N+R),w);8>R?(R=d(Math.pow(w,R)),D=D.j(R).add(d(x))):(D=D.j(P),D=D.add(d(x)))}return D}var p=c(0),v=c(1),E=c(16777216);t=o.prototype,t.m=function(){if(I(this))return-A(this).m();for(var T=0,w=1,P=0;P<this.g.length;P++){var D=this.i(P);T+=(0<=D?D:4294967296+D)*w,w*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(O(this))return"0";if(I(this))return"-"+A(this).toString(T);for(var w=d(Math.pow(T,6)),P=this,D="";;){var N=j(P,w).g;P=b(P,N.j(w));var R=((0<P.g.length?P.g[0]:P.h)>>>0).toString(T);if(P=N,O(P))return R+D;for(;6>R.length;)R="0"+R;D=R+D}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function O(T){if(T.h!=0)return!1;for(var w=0;w<T.g.length;w++)if(T.g[w]!=0)return!1;return!0}function I(T){return T.h==-1}t.l=function(T){return T=b(this,T),I(T)?-1:O(T)?0:1};function A(T){for(var w=T.g.length,P=[],D=0;D<w;D++)P[D]=~T.g[D];return new o(P,~T.h).add(v)}t.abs=function(){return I(this)?A(this):this},t.add=function(T){for(var w=Math.max(this.g.length,T.g.length),P=[],D=0,N=0;N<=w;N++){var R=D+(this.i(N)&65535)+(T.i(N)&65535),x=(R>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);D=x>>>16,R&=65535,x&=65535,P[N]=x<<16|R}return new o(P,P[P.length-1]&-2147483648?-1:0)};function b(T,w){return T.add(A(w))}t.j=function(T){if(O(this)||O(T))return p;if(I(this))return I(T)?A(this).j(A(T)):A(A(this).j(T));if(I(T))return A(this.j(A(T)));if(0>this.l(E)&&0>T.l(E))return d(this.m()*T.m());for(var w=this.g.length+T.g.length,P=[],D=0;D<2*w;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<T.g.length;N++){var R=this.i(D)>>>16,x=this.i(D)&65535,$e=T.i(N)>>>16,Ye=T.i(N)&65535;P[2*D+2*N]+=x*Ye,S(P,2*D+2*N),P[2*D+2*N+1]+=R*Ye,S(P,2*D+2*N+1),P[2*D+2*N+1]+=x*$e,S(P,2*D+2*N+1),P[2*D+2*N+2]+=R*$e,S(P,2*D+2*N+2)}for(D=0;D<w;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=w;D<2*w;D++)P[D]=0;return new o(P,0)};function S(T,w){for(;(T[w]&65535)!=T[w];)T[w+1]+=T[w]>>>16,T[w]&=65535,w++}function M(T,w){this.g=T,this.h=w}function j(T,w){if(O(w))throw Error("division by zero");if(O(T))return new M(p,p);if(I(T))return w=j(A(T),w),new M(A(w.g),A(w.h));if(I(w))return w=j(T,A(w)),new M(A(w.g),w.h);if(30<T.g.length){if(I(T)||I(w))throw Error("slowDivide_ only works with positive integers.");for(var P=v,D=w;0>=D.l(T);)P=U(P),D=U(D);var N=$(P,1),R=$(D,1);for(D=$(D,2),P=$(P,2);!O(D);){var x=R.add(D);0>=x.l(T)&&(N=N.add(P),R=x),D=$(D,1),P=$(P,1)}return w=b(T,N.j(w)),new M(N,w)}for(N=p;0<=T.l(w);){for(P=Math.max(1,Math.floor(T.m()/w.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),R=d(P),x=R.j(w);I(x)||0<x.l(T);)P-=D,R=d(P),x=R.j(w);O(R)&&(R=v),N=N.add(R),T=b(T,x)}return new M(N,T)}t.A=function(T){return j(this,T).h},t.and=function(T){for(var w=Math.max(this.g.length,T.g.length),P=[],D=0;D<w;D++)P[D]=this.i(D)&T.i(D);return new o(P,this.h&T.h)},t.or=function(T){for(var w=Math.max(this.g.length,T.g.length),P=[],D=0;D<w;D++)P[D]=this.i(D)|T.i(D);return new o(P,this.h|T.h)},t.xor=function(T){for(var w=Math.max(this.g.length,T.g.length),P=[],D=0;D<w;D++)P[D]=this.i(D)^T.i(D);return new o(P,this.h^T.h)};function U(T){for(var w=T.g.length+1,P=[],D=0;D<w;D++)P[D]=T.i(D)<<1|T.i(D-1)>>>31;return new o(P,T.h)}function $(T,w){var P=w>>5;w%=32;for(var D=T.g.length-P,N=[],R=0;R<D;R++)N[R]=0<w?T.i(R+P)>>>w|T.i(R+P+1)<<32-w:T.i(R+P);return new o(N,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Wa=o}).apply(typeof Cb<"u"?Cb:typeof self<"u"?self:typeof window<"u"?window:{});var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LO,pu,VO,kd,Cp,kO,zO,WO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof _d=="object"&&_d];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var g=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var F=l[y];if(!(F in g))break e;g=g[F]}l=l[l.length-1],y=g[l],f=f(y),f!=y&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function s(l,f){l instanceof String&&(l+="");var g=0,y=!1,F={next:function(){if(!y&&g<l.length){var k=g++;return{value:f(k,l[k]),done:!1}}return y=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(l){return l||function(){return s(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function c(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function d(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function h(l,f,g){return l.call.apply(l.bind,arguments)}function p(l,f,g){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,y),l.apply(f,F)}}return function(){return l.apply(f,arguments)}}function v(l,f,g){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,v.apply(null,arguments)}function E(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var y=g.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function O(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(y,F,k){for(var ee=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ee[Be-2]=arguments[Be];return f.prototype[F].apply(y,ee)}}function I(l){const f=l.length;if(0<f){const g=Array(f);for(let y=0;y<f;y++)g[y]=l[y];return g}return[]}function A(l,f){for(let g=1;g<arguments.length;g++){const y=arguments[g];if(c(y)){const F=l.length||0,k=y.length||0;l.length=F+k;for(let ee=0;ee<k;ee++)l[F+ee]=y[ee]}else l.push(y)}}class b{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function S(l){return/^[\s\xa0]*$/.test(l)}function M(){var l=u.navigator;return l&&(l=l.userAgent)?l:""}function j(l){return j[" "](l),l}j[" "]=function(){};var U=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function $(l,f,g){for(const y in l)f.call(g,l[y],y,l)}function T(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function w(l){const f={};for(const g in l)f[g]=l[g];return f}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,f){let g,y;for(let F=1;F<arguments.length;F++){y=arguments[F];for(g in y)l[g]=y[g];for(let k=0;k<P.length;k++)g=P[k],Object.prototype.hasOwnProperty.call(y,g)&&(l[g]=y[g])}}function N(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function R(l){u.setTimeout(()=>{throw l},0)}function x(){var l=ie;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class $e{constructor(){this.h=this.g=null}add(f,g){const y=Ye.get();y.set(f,g),this.h?this.h.next=y:this.g=y,this.h=y}}var Ye=new b(()=>new _t,l=>l.reset());class _t{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,q=!1,ie=new $e,ue=()=>{const l=u.Promise.resolve(void 0);xe=()=>{l.then(Se)}};var Se=()=>{for(var l;l=x();){try{l.h.call(l.g)}catch(g){R(g)}var f=Ye;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}q=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};u.addEventListener("test",g,f),u.removeEventListener("test",g,f)}catch{}return l}();function C(l,f){if(W.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(U){e:{try{j(f.nodeName);var F=!0;break e}catch{}F=!1}F||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:z[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&C.aa.h.call(this)}}O(C,W);var z={2:"touch",3:"pen",4:"mouse"};C.prototype.h=function(){C.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),se=0;function ne(l,f,g,y,F){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!y,this.ha=F,this.key=++se,this.da=this.fa=!1}function de(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ge(l){this.src=l,this.g={},this.h=0}ge.prototype.add=function(l,f,g,y,F){var k=l.toString();l=this.g[k],l||(l=this.g[k]=[],this.h++);var ee=be(l,f,y,F);return-1<ee?(f=l[ee],g||(f.fa=!1)):(f=new ne(f,this.src,k,!!y,F),f.fa=g,l.push(f)),f};function Ee(l,f){var g=f.type;if(g in l.g){var y=l.g[g],F=Array.prototype.indexOf.call(y,f,void 0),k;(k=0<=F)&&Array.prototype.splice.call(y,F,1),k&&(de(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function be(l,f,g,y){for(var F=0;F<l.length;++F){var k=l[F];if(!k.da&&k.listener==f&&k.capture==!!g&&k.ha==y)return F}return-1}var Te="closure_lm_"+(1e6*Math.random()|0),qe={};function it(l,f,g,y,F){if(Array.isArray(f)){for(var k=0;k<f.length;k++)it(l,f[k],g,y,F);return null}return g=Lr(g),l&&l[J]?l.K(f,g,d(y)?!!y.capture:!1,F):yt(l,f,g,!1,y,F)}function yt(l,f,g,y,F,k){if(!f)throw Error("Invalid event type");var ee=d(F)?!!F.capture:!!F,Be=gr(l);if(Be||(l[Te]=Be=new ge(l)),g=Be.add(f,g,y,ee,k),g.proxy)return g;if(y=Tn(),g.proxy=y,y.src=l,y.listener=g,l.addEventListener)L||(F=ee),F===void 0&&(F=!1),l.addEventListener(f.toString(),y,F);else if(l.attachEvent)l.attachEvent(mr(f.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Tn(){function l(g){return f.call(l.src,l.listener,g)}const f=An;return l}function hr(l,f,g,y,F){if(Array.isArray(f))for(var k=0;k<f.length;k++)hr(l,f[k],g,y,F);else y=d(y)?!!y.capture:!!y,g=Lr(g),l&&l[J]?(l=l.i,f=String(f).toString(),f in l.g&&(k=l.g[f],g=be(k,g,y,F),-1<g&&(de(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete l.g[f],l.h--)))):l&&(l=gr(l))&&(f=l.g[f.toString()],l=-1,f&&(l=be(f,g,y,F)),(g=-1<l?f[l]:null)&&Sn(g))}function Sn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[J])Ee(f.i,l);else{var g=l.type,y=l.proxy;f.removeEventListener?f.removeEventListener(g,y,l.capture):f.detachEvent?f.detachEvent(mr(g),y):f.addListener&&f.removeListener&&f.removeListener(y),(g=gr(f))?(Ee(g,l),g.h==0&&(g.src=null,f[Te]=null)):de(l)}}}function mr(l){return l in qe?qe[l]:qe[l]="on"+l}function An(l,f){if(l.da)l=!0;else{f=new C(f,this);var g=l.listener,y=l.ha||l.src;l.fa&&Sn(l),l=g.call(y,f)}return l}function gr(l){return l=l[Te],l instanceof ge?l:null}var pr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lr(l){return typeof l=="function"?l:(l[pr]||(l[pr]=function(f){return l.handleEvent(f)}),l[pr])}function ct(){Y.call(this),this.i=new ge(this),this.M=this,this.F=null}O(ct,Y),ct.prototype[J]=!0,ct.prototype.removeEventListener=function(l,f,g,y){hr(this,l,f,g,y)};function Tt(l,f){var g,y=l.F;if(y)for(g=[];y;y=y.F)g.push(y);if(l=l.M,y=f.type||f,typeof f=="string")f=new W(f,l);else if(f instanceof W)f.target=f.target||l;else{var F=f;f=new W(y,l),D(f,F)}if(F=!0,g)for(var k=g.length-1;0<=k;k--){var ee=f.g=g[k];F=Zn(ee,y,!0,f)&&F}if(ee=f.g=l,F=Zn(ee,y,!0,f)&&F,F=Zn(ee,y,!1,f)&&F,g)for(k=0;k<g.length;k++)ee=f.g=g[k],F=Zn(ee,y,!1,f)&&F}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],y=0;y<g.length;y++)de(g[y]);delete l.g[f],l.h--}}this.F=null},ct.prototype.K=function(l,f,g,y){return this.i.add(String(l),f,!1,g,y)},ct.prototype.L=function(l,f,g,y){return this.i.add(String(l),f,!0,g,y)};function Zn(l,f,g,y){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var F=!0,k=0;k<f.length;++k){var ee=f[k];if(ee&&!ee.da&&ee.capture==g){var Be=ee.listener,It=ee.ha||ee.src;ee.fa&&Ee(l.i,ee),F=Be.call(It,y)!==!1&&F}}return F&&!y.defaultPrevented}function vr(l,f,g){if(typeof l=="function")g&&(l=v(l,g));else if(l&&typeof l.handleEvent=="function")l=v(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:u.setTimeout(l,f||0)}function ci(l){l.g=vr(()=>{l.g=null,l.i&&(l.i=!1,ci(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class oa extends Y{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ci(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dn(l){Y.call(this),this.h=l,this.g={}}O(dn,Y);var is=[];function di(l){$(l.g,function(f,g){this.g.hasOwnProperty(g)&&Sn(f)},l),l.g={}}dn.prototype.N=function(){dn.aa.N.call(this),di(this)},dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=u.JSON.stringify,la=u.JSON.parse,fi=class{stringify(l){return u.JSON.stringify(l,void 0)}parse(l){return u.JSON.parse(l,void 0)}};function Vr(){}Vr.prototype.h=null;function hi(l){return l.h||(l.h=l.i())}function Ne(){}var Qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wt(){W.call(this,"d")}O(wt,W);function Ue(){W.call(this,"c")}O(Ue,W);var je={},fn=null;function Re(){return fn=fn||new ct}je.La="serverreachability";function Kt(l){W.call(this,je.La,l)}O(Kt,W);function Ge(l){const f=Re();Tt(f,new Kt(f))}je.STAT_EVENT="statevent";function Xt(l,f){W.call(this,je.STAT_EVENT,l),this.stat=f}O(Xt,W);function St(l){const f=Re();Tt(f,new Xt(f,l))}je.Ma="timingevent";function ss(l,f){W.call(this,je.Ma,l),this.size=f}O(ss,W);function yr(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){l()},f)}function wr(){this.g=!0}wr.prototype.xa=function(){this.g=!1};function ua(l,f,g,y,F,k){l.info(function(){if(l.g)if(k)for(var ee="",Be=k.split("&"),It=0;It<Be.length;It++){var Oe=Be[It].split("=");if(1<Oe.length){var Nt=Oe[0];Oe=Oe[1];var Rt=Nt.split("_");ee=2<=Rt.length&&Rt[1]=="type"?ee+(Nt+"="+Oe+"&"):ee+(Nt+"=redacted&")}}else ee=null;else ee=k;return"XMLHTTP REQ ("+y+") [attempt "+F+"]: "+f+`
`+g+`
`+ee})}function ca(l,f,g,y,F,k,ee){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+F+"]: "+f+`
`+g+`
`+k+" "+ee})}function er(l,f,g,y){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+da(l,g)+(y?" "+y:"")})}function as(l,f){l.info(function(){return"TIMEOUT: "+f})}wr.prototype.info=function(){};function da(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var y=g[l];if(!(2>y.length)){var F=y[1];if(Array.isArray(F)&&!(1>F.length)){var k=F[0];if(k!="noop"&&k!="stop"&&k!="close")for(var ee=1;ee<F.length;ee++)F[ee]=""}}}}return _r(g)}catch{return f}}var hn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Er;function Jt(){}O(Jt,Vr),Jt.prototype.g=function(){return new XMLHttpRequest},Jt.prototype.i=function(){return{}},Er=new Jt;function $t(l,f,g,y){this.j=l,this.i=f,this.l=g,this.R=y||1,this.U=new dn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tr}function tr(){this.i=null,this.g="",this.h=!1}var Pn={},zr={};function Wr(l,f,g){l.L=1,l.v=_(mn(f)),l.m=g,l.P=!0,Ur(l,null)}function Ur(l,f){l.F=Date.now(),$r(l),l.A=mn(l.v);var g=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),Ct(g.i,"t",y),l.C=0,g=l.j.J,l.h=new tr,l.g=Po(l.j,g?f:null,!l.m),0<l.O&&(l.M=new oa(v(l.Y,l,l.g),l.O)),f=l.U,g=l.g,y=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(is[0]=F.toString()),F=is);for(var k=0;k<F.length;k++){var ee=it(g,F[k],y||f.handleEvent,!1,f.h||f);if(!ee)break;f.g[ee.key]=ee}f=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Ge(),ua(l.i,l.u,l.A,l.l,l.R,l.m)}$t.prototype.ca=function(l){l=l.target;const f=this.M;f&&Bn(l)==3?f.j():this.Y(l)},$t.prototype.Y=function(l){try{if(l==this.g)e:{const Rt=Bn(this.g);var f=this.g.Ba();const Yr=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||mo(this.g)))){this.J||Rt!=4||f==7||(f==8||0>=Yr?Ge(3):Ge(2)),nr(this);var g=this.g.Z();this.X=g;t:if(Br(this)){var y=mo(this.g);l="";var F=y.length,k=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Un(this),Tr(this);var ee="";break t}this.h.i=new u.TextDecoder}for(f=0;f<F;f++)this.h.h=!0,l+=this.h.i.decode(y[f],{stream:!(k&&f==F-1)});y.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=g==200,ca(this.i,this.u,this.A,this.l,this.R,Rt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,It=this.g;if((Be=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Be)){var Oe=Be;break t}}Oe=null}if(g=Oe)er(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mi(this,g);else{this.o=!1,this.s=3,St(12),Un(this),Tr(this);break e}}if(this.P){g=!0;let xn;for(;!this.J&&this.C<ee.length;)if(xn=fa(this,ee),xn==zr){Rt==4&&(this.s=4,St(14),g=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Pn){this.s=4,St(15),er(this.i,this.l,ee,"[Invalid Chunk]"),g=!1;break}else er(this.i,this.l,xn,null),mi(this,xn);if(Br(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ee.length!=0||this.h.h||(this.s=1,St(16),g=!1),this.o=this.o&&g,!g)er(this.i,this.l,ee,"[Invalid Chunked Response]"),Un(this),Tr(this);else if(0<ee.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Ea(Nt),Nt.M=!0,St(11))}}else er(this.i,this.l,ee,null),mi(this,ee);Rt==4&&Un(this),this.o&&!this.J&&(Rt==4?Eo(this.j,this):(this.o=!1,$r(this)))}else Wl(this.g),g==400&&0<ee.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Un(this),Tr(this)}}}catch{}finally{}};function Br(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function fa(l,f){var g=l.C,y=f.indexOf(`
`,g);return y==-1?zr:(g=Number(f.substring(g,y)),isNaN(g)?Pn:(y+=1,y+g>f.length?zr:(f=f.slice(y,y+g),l.C=y+g,f)))}$t.prototype.cancel=function(){this.J=!0,Un(this)};function $r(l){l.S=Date.now()+l.I,br(l,l.I)}function br(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=yr(v(l.ba,l),f)}function nr(l){l.B&&(u.clearTimeout(l.B),l.B=null)}$t.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(as(this.i,this.A),this.L!=2&&(Ge(),St(17)),Un(this),this.s=2,Tr(this)):br(this,this.S-l)};function Tr(l){l.j.G==0||l.J||Eo(l.j,l)}function Un(l){nr(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,di(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function mi(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||pi(g.h,l))){if(!l.K&&pi(g.h,l)&&g.G==3){try{var y=g.Da.g.parse(f)}catch{y=null}if(Array.isArray(y)&&y.length==3){var F=y;if(F[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)gs(g),hs(g);else break e;wa(g),St(18)}}else g.za=F[1],0<g.za-g.T&&37500>F[2]&&g.F&&g.v==0&&!g.C&&(g.C=yr(v(g.Za,g),6e3));if(1>=gi(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else xr(g,11)}else if((l.K||g.g==l)&&gs(g),!S(f))for(F=g.Da.g.parse(f),f=0;f<F.length;f++){let Oe=F[f];if(g.T=Oe[0],Oe=Oe[1],g.G==2)if(Oe[0]=="c"){g.K=Oe[1],g.ia=Oe[2];const Nt=Oe[3];Nt!=null&&(g.la=Nt,g.j.info("VER="+g.la));const Rt=Oe[4];Rt!=null&&(g.Aa=Rt,g.j.info("SVER="+g.Aa));const Yr=Oe[5];Yr!=null&&typeof Yr=="number"&&0<Yr&&(y=1.5*Yr,g.L=y,g.j.info("backChannelRequestTimeoutMs_="+y)),y=g;const xn=l.g;if(xn){const vs=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var k=y.h;k.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(vi(k,k.h),k.h=null))}if(y.D){const ba=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(y.ya=ba,ke(y.I,y.D,ba))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),y=g;var ee=l;if(y.qa=So(y,y.J?y.ia:null,y.W),ee.K){_i(y.h,ee);var Be=ee,It=y.L;It&&(Be.I=It),Be.B&&(nr(Be),$r(Be)),y.g=ee}else yo(y);0<g.i.length&&ms(g)}else Oe[0]!="stop"&&Oe[0]!="close"||xr(g,7);else g.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?xr(g,7):ya(g):Oe[0]!="noop"&&g.l&&g.l.ta(Oe),g.v=0)}}Ge(4)}catch{}}var ha=class{constructor(l,f){this.g=l,this.map=f}};function Zt(l){this.l=l||10,u.PerformanceNavigationTiming?(l=u.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ht(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function gi(l){return l.h?1:l.g?l.g.size:0}function pi(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function vi(l,f){l.g?l.g.add(f):l.h=f}function _i(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Zt.prototype.cancel=function(){if(this.i=os(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function os(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return I(l.i)}function ma(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var f=[],g=l.length,y=0;y<g;y++)f.push(l[y]);return f}f=[],g=0;for(y in l)f[g++]=l[y];return f}function ga(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const y in l)f[g++]=y;return f}}}function ls(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=ga(l),y=ma(l),F=y.length,k=0;k<F;k++)f.call(void 0,y[k],g&&g[k],l)}var yi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function us(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var y=l[g].indexOf("="),F=null;if(0<=y){var k=l[g].substring(0,y);F=l[g].substring(y+1)}else k=l[g];f(k,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function jn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof jn){this.h=l.h,Sr(this,l.j),this.o=l.o,this.g=l.g,Pr(this,l.s),this.l=l.l;var f=l.i,g=new Et;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),wi(this,g),this.m=l.m}else l&&(f=String(l).match(yi))?(this.h=!1,Sr(this,f[1]||"",!0),this.o=V(f[2]||""),this.g=V(f[3]||"",!0),Pr(this,f[4]),this.l=V(f[5]||"",!0),wi(this,f[6]||"",!0),this.m=V(f[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}jn.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Z(f,oe,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Z(f,oe,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Z(g,g.charAt(0)=="/"?He:_e,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Z(g,ze)),l.join("")};function mn(l){return new jn(l)}function Sr(l,f,g){l.j=g?V(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Pr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function wi(l,f,g){f instanceof Et?(l.i=f,pa(l.i,l.h)):(g||(f=Z(f,Pt)),l.i=new Et(f,l.h))}function ke(l,f,g){l.i.set(f,g)}function _(l){return ke(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function V(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Z(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,ae),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ae(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var oe=/[#\/\?@]/g,_e=/[#\?:]/g,He=/[#\?]/g,Pt=/[#\?@]/g,ze=/#/g;function Et(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function st(l){l.g||(l.g=new Map,l.h=0,l.i&&us(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Et.prototype,t.add=function(l,f){st(this),this.i=null,l=et(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function Ie(l,f){st(l),f=et(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function xt(l,f){return st(l),f=et(l,f),l.g.has(f)}t.forEach=function(l,f){st(this),this.g.forEach(function(g,y){g.forEach(function(F){l.call(f,F,y,this)},this)},this)},t.na=function(){st(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let y=0;y<f.length;y++){const F=l[y];for(let k=0;k<F.length;k++)g.push(f[y])}return g},t.V=function(l){st(this);let f=[];if(typeof l=="string")xt(this,l)&&(f=f.concat(this.g.get(et(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},t.set=function(l,f){return st(this),this.i=null,l=et(this,l),xt(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Ct(l,f,g){Ie(l,f),0<g.length&&(l.i=null,l.g.set(et(l,f),I(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var y=f[g];const k=encodeURIComponent(String(y)),ee=this.V(y);for(y=0;y<ee.length;y++){var F=k;ee[y]!==""&&(F+="="+encodeURIComponent(String(ee[y]))),l.push(F)}}return this.i=l.join("&")};function et(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function pa(l,f){f&&!l.j&&(st(l),l.i=null,l.g.forEach(function(g,y){var F=y.toLowerCase();y!=F&&(Ie(this,y),Ct(this,F,g))},l)),l.j=f}function va(l,f){const g=new wr;if(u.Image){const y=new Image;y.onload=E(rr,g,"TestLoadImage: loaded",!0,f,y),y.onerror=E(rr,g,"TestLoadImage: error",!1,f,y),y.onabort=E(rr,g,"TestLoadImage: abort",!1,f,y),y.ontimeout=E(rr,g,"TestLoadImage: timeout",!1,f,y),u.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else f(!1)}function Fl(l,f){const g=new wr,y=new AbortController,F=setTimeout(()=>{y.abort(),rr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:y.signal}).then(k=>{clearTimeout(F),k.ok?rr(g,"TestPingServer: ok",!0,f):rr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(F),rr(g,"TestPingServer: error",!1,f)})}function rr(l,f,g,y,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),y(g)}catch{}}function Ll(){this.g=new fi}function Vl(l,f,g){const y=g||"";try{ls(l,function(F,k){let ee=F;d(F)&&(ee=_r(F)),f.push(y+k+"="+encodeURIComponent(ee))})}catch(F){throw f.push(y+"type="+encodeURIComponent("_badmap")),F}}function cs(l){this.l=l.Ub||null,this.j=l.eb||!1}O(cs,Vr),cs.prototype.g=function(){return new ds(this.l,this.j)},cs.prototype.i=function(l){return function(){return l}}({});function ds(l,f){ct.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ds,ct),t=ds.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,bi(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||u).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oo(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function oo(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Ei(this):bi(this),this.readyState==3&&oo(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ei(this))},t.Qa=function(l){this.g&&(this.response=l,Ei(this))},t.ga=function(){this.g&&Ei(this)};function Ei(l){l.readyState=4,l.l=null,l.j=null,l.v=null,bi(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function bi(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function lo(l){let f="";return $(l,function(g,y){f+=y,f+=":",f+=g,f+=`\r
`}),f}function _a(l,f,g){e:{for(y in g){var y=!1;break e}y=!0}y||(g=lo(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):ke(l,f,g))}function tt(l){ct.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(tt,ct);var kl=/^https?$/i,zl=["POST","PUT"];t=tt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,g,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Er.g(),this.v=this.o?hi(this.o):hi(Er),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(k){uo(this,k);return}if(l=g||"",g=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var F in y)g.set(F,y[F]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const k of y.keys())g.set(k,y.get(k));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),F=u.FormData&&l instanceof u.FormData,!(0<=Array.prototype.indexOf.call(zl,f,void 0))||y||F||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,ee]of g)this.g.setRequestHeader(k,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ho(this),this.u=!0,this.g.send(l),this.u=!1}catch(k){uo(this,k)}};function uo(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,co(l),fs(l)}function co(l){l.A||(l.A=!0,Tt(l,"complete"),Tt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Tt(this,"complete"),Tt(this,"abort"),fs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fo(this):this.bb())},t.bb=function(){fo(this)};function fo(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Bn(l)!=4||l.Z()!=2)){if(l.u&&Bn(l)==4)vr(l.Ea,0,l);else if(Tt(l,"readystatechange"),Bn(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var y;if(y=ee===0){var F=String(l.D).match(yi)[1]||null;!F&&u.self&&u.self.location&&(F=u.self.location.protocol.slice(0,-1)),y=!kl.test(F?F.toLowerCase():"")}g=y}if(g)Tt(l,"complete"),Tt(l,"success");else{l.m=6;try{var k=2<Bn(l)?l.g.statusText:""}catch{k=""}l.l=k+" ["+l.Z()+"]",co(l)}}finally{fs(l)}}}}function fs(l,f){if(l.g){ho(l);const g=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||Tt(l,"ready");try{g.onreadystatechange=y}catch{}}}function ho(l){l.I&&(u.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Bn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),la(f)}};function mo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Wl(l){const f={};l=(l.g&&2<=Bn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(S(l[y]))continue;var g=N(l[y]);const F=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=f[F]||[];f[F]=k,k.push(g)}T(f,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function go(l){this.Aa=0,this.i=[],this.j=new wr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ti("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ti("baseRetryDelayMs",5e3,l),this.cb=Ti("retryDelaySeedMs",1e4,l),this.Wa=Ti("forwardChannelMaxRetries",2,l),this.wa=Ti("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Zt(l&&l.concurrentRequestLimit),this.Da=new Ll,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=go.prototype,t.la=8,t.G=1,t.connect=function(l,f,g,y){St(0),this.W=l,this.H=f||{},g&&y!==void 0&&(this.H.OSID=g,this.H.OAID=y),this.F=this.X,this.I=So(this,null,this.W),ms(this)};function ya(l){if(po(l),l.G==3){var f=l.U++,g=mn(l.I);if(ke(g,"SID",l.K),ke(g,"RID",f),ke(g,"TYPE","terminate"),Si(l,g),f=new $t(l,l.j,f),f.L=2,f.v=_(mn(g)),g=!1,u.navigator&&u.navigator.sendBeacon)try{g=u.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&u.Image&&(new Image().src=f.v,g=!0),g||(f.g=Po(f.j,null),f.g.ea(f.v)),f.F=Date.now(),$r(f)}To(l)}function hs(l){l.g&&(Ea(l),l.g.cancel(),l.g=null)}function po(l){hs(l),l.u&&(u.clearTimeout(l.u),l.u=null),gs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&u.clearTimeout(l.s),l.s=null)}function ms(l){if(!ht(l.h)&&!l.s){l.s=!0;var f=l.Ga;xe||ue(),q||(xe(),q=!0),ie.add(f,l),l.B=0}}function Ul(l,f){return gi(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=yr(v(l.Ga,l,f),bo(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new $t(this,this.j,l);let k=this.o;if(this.S&&(k?(k=w(k),D(k,this.S)):k=this.S),this.m!==null||this.O||(F.H=k,k=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var y=this.i[g];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(f+=y,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=_o(this,F,f),g=mn(this.I),ke(g,"RID",l),ke(g,"CVER",22),this.D&&ke(g,"X-HTTP-Session-Id",this.D),Si(this,g),k&&(this.O?f="headers="+encodeURIComponent(String(lo(k)))+"&"+f:this.m&&_a(g,this.m,k)),vi(this.h,F),this.Ua&&ke(g,"TYPE","init"),this.P?(ke(g,"$req",f),ke(g,"SID","null"),F.T=!0,Wr(F,g,null)):Wr(F,g,f),this.G=2}}else this.G==3&&(l?vo(this,l):this.i.length==0||ht(this.h)||vo(this))};function vo(l,f){var g;f?g=f.l:g=l.U++;const y=mn(l.I);ke(y,"SID",l.K),ke(y,"RID",g),ke(y,"AID",l.T),Si(l,y),l.m&&l.o&&_a(y,l.m,l.o),g=new $t(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=_o(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),vi(l.h,g),Wr(g,y,f)}function Si(l,f){l.H&&$(l.H,function(g,y){ke(f,y,g)}),l.l&&ls({},function(g,y){ke(f,y,g)})}function _o(l,f,g){g=Math.min(l.i.length,g);var y=l.l?v(l.l.Na,l.l,l):null;e:{var F=l.i;let k=-1;for(;;){const ee=["count="+g];k==-1?0<g?(k=F[0].g,ee.push("ofs="+k)):k=0:ee.push("ofs="+k);let Be=!0;for(let It=0;It<g;It++){let Oe=F[It].g;const Nt=F[It].map;if(Oe-=k,0>Oe)k=Math.max(0,F[It].g-100),Be=!1;else try{Vl(Nt,ee,"req"+Oe+"_")}catch{y&&y(Nt)}}if(Be){y=ee.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,y}function yo(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;xe||ue(),q||(xe(),q=!0),ie.add(f,l),l.v=0}}function wa(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=yr(v(l.Fa,l),bo(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,wo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=yr(v(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),hs(this),wo(this))};function Ea(l){l.A!=null&&(u.clearTimeout(l.A),l.A=null)}function wo(l){l.g=new $t(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=mn(l.qa);ke(f,"RID","rpc"),ke(f,"SID",l.K),ke(f,"AID",l.T),ke(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&ke(f,"TO",l.ja),ke(f,"TYPE","xmlhttp"),Si(l,f),l.m&&l.o&&_a(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=_(mn(f)),g.m=null,g.P=!0,Ur(g,l)}t.Za=function(){this.C!=null&&(this.C=null,hs(this),wa(this),St(19))};function gs(l){l.C!=null&&(u.clearTimeout(l.C),l.C=null)}function Eo(l,f){var g=null;if(l.g==f){gs(l),Ea(l),l.g=null;var y=2}else if(pi(l.h,f))g=f.D,_i(l.h,f),y=1;else return;if(l.G!=0){if(f.o)if(y==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var F=l.B;y=Re(),Tt(y,new ss(y,g)),ms(l)}else yo(l);else if(F=f.s,F==3||F==0&&0<f.X||!(y==1&&Ul(l,f)||y==2&&wa(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),F){case 1:xr(l,5);break;case 4:xr(l,10);break;case 3:xr(l,6);break;default:xr(l,2)}}}function bo(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function xr(l,f){if(l.j.info("Error code "+f),f==2){var g=v(l.fb,l),y=l.Xa;const F=!y;y=new jn(y||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Sr(y,"https"),_(y),F?va(y.toString(),g):Fl(y.toString(),g)}else St(2);l.G=0,l.l&&l.l.sa(f),To(l),po(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function To(l){if(l.G=0,l.ka=[],l.l){const f=os(l.h);(f.length!=0||l.i.length!=0)&&(A(l.ka,f),A(l.ka,l.i),l.h.i.length=0,I(l.i),l.i.length=0),l.l.ra()}}function So(l,f,g){var y=g instanceof jn?mn(g):new jn(g);if(y.g!="")f&&(y.g=f+"."+y.g),Pr(y,y.s);else{var F=u.location;y=F.protocol,f=f?f+"."+F.hostname:F.hostname,F=+F.port;var k=new jn(null);y&&Sr(k,y),f&&(k.g=f),F&&Pr(k,F),g&&(k.l=g),y=k}return g=l.D,f=l.ya,g&&f&&ke(y,g,f),ke(y,"VER",l.la),Si(l,y),y}function Po(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new tt(new cs({eb:g})):new tt(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}t=xo.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ps(){}ps.prototype.g=function(l,f){return new en(l,f)};function en(l,f){ct.call(this),this.g=new go(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!S(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!S(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Hr(this)}O(en,ct),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){ya(this.g)},en.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=_r(l),l=g);f.i.push(new ha(f.Ya++,l)),f.G==3&&ms(f)},en.prototype.N=function(){this.g.l=null,delete this.j,ya(this.g),delete this.g,en.aa.N.call(this)};function Io(l){wt.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}O(Io,wt);function Do(){Ue.call(this),this.status=1}O(Do,Ue);function Hr(l){this.g=l}O(Hr,xo),Hr.prototype.ua=function(){Tt(this.g,"a")},Hr.prototype.ta=function(l){Tt(this.g,new Io(l))},Hr.prototype.sa=function(l){Tt(this.g,new Do)},Hr.prototype.ra=function(){Tt(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,WO=function(){return new ps},zO=function(){return Re()},kO=je,Cp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hn.NO_ERROR=0,hn.TIMEOUT=8,hn.HTTP_ERROR=6,kd=hn,kr.COMPLETE="complete",VO=kr,Ne.EventType=Qt,Qt.OPEN="a",Qt.CLOSE="b",Qt.ERROR="c",Qt.MESSAGE="d",ct.prototype.listen=ct.prototype.K,pu=Ne,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,LO=tt}).apply(typeof _d<"u"?_d:typeof self<"u"?self:typeof window<"u"?window:{});const Nb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new My("@firebase/firestore");function cu(){return Qa.logLevel}function le(t,...e){if(Qa.logLevel<=Ce.DEBUG){const n=e.map($y);Qa.debug(`Firestore (${Nl}): ${t}`,...n)}}function Yi(t,...e){if(Qa.logLevel<=Ce.ERROR){const n=e.map($y);Qa.error(`Firestore (${Nl}): ${t}`,...n)}}function pl(t,...e){if(Qa.logLevel<=Ce.WARN){const n=e.map($y);Qa.warn(`Firestore (${Nl}): ${t}`,...n)}}function $y(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: `+t;throw Yi(e),new Error(e)}function Ke(t,e){t||ve()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _Y{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class yY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wY{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new UO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new _n(e)}}class EY{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bY{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new EY(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TY{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SY{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ke(this.o===void 0);const r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new TY(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PY(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function vl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Wt(0,0))}static max(){return new ye(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ec.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ec?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ft extends ec{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const xY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends ec{construct(e,n,r){return new rn(e,n,r)}static isValidIdentifier(e){return xY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ce(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ce(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new ce(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(ft.fromString(e))}static fromName(e){return new me(ft.fromString(e).popFirst(5))}static empty(){return new me(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ft(e.slice()))}}function IY(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Wt(n+1,0):new Wt(n,r));return new Xs(i,me.empty(),e)}function DY(t){return new Xs(t.readTime,t.key,-1)}class Xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xs(ye.min(),me.empty(),-1)}static max(){return new Xs(ye.max(),me.empty(),-1)}}function OY(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==MY)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++u,u===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new Q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function NY(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Hy.oe=-1;function Ch(t){return t==null}function If(t){return t===0&&1/t==-1/0}function RY(t){return typeof t=="number"&&Number.isInteger(t)&&!If(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $O(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??nn.RED,this.left=i??nn.EMPTY,this.right=s??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new nn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,i,s){return this}insert(e,n,r){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ab(this.data.getIterator())}getIteratorFrom(e){return new Ab(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class Ab{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Cr([])}unionWith(e){let n=new an(rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new HO("Invalid base64 string: "+s):s}}(e);return new ln(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const AY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=AY.exec(t);if(Ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ka(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qy(t){const e=t.mapValue.fields.__previous_value__;return Yy(e)?qy(e):e}function tc(t){const e=Js(t.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{constructor(e,n,r,i,s,o,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d}}class nc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd={mapValue:{}};function Xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yy(t)?4:LY(t)?9007199254740991:FY(t)?10:11:ve()}function si(t,e){if(t===e)return!0;const n=Xa(t);if(n!==Xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tc(t).isEqual(tc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Js(i.timestampValue),u=Js(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ka(i.bytesValue).isEqual(Ka(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ot(i.geoPointValue.latitude)===Ot(s.geoPointValue.latitude)&&Ot(i.geoPointValue.longitude)===Ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ot(i.integerValue)===Ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ot(i.doubleValue),u=Ot(s.doubleValue);return o===u?If(o)===If(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return vl(t.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Rb(o)!==Rb(u))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(u[c]===void 0||!si(o[c],u[c])))return!1;return!0}(t,e);default:return ve()}}function rc(t,e){return(t.values||[]).find(n=>si(n,e))!==void 0}function _l(t,e){if(t===e)return 0;const n=Xa(t),r=Xa(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(s,o){const u=Ot(s.integerValue||s.doubleValue),c=Ot(o.integerValue||o.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return jb(t.timestampValue,e.timestampValue);case 4:return jb(tc(t),tc(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(s,o){const u=Ka(s),c=Ka(o);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const u=s.split("/"),c=o.split("/");for(let d=0;d<u.length&&d<c.length;d++){const h=We(u[d],c[d]);if(h!==0)return h}return We(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const u=We(Ot(s.latitude),Ot(o.latitude));return u!==0?u:We(Ot(s.longitude),Ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Fb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var u,c,d,h;const p=s.fields||{},v=o.fields||{},E=(u=p.value)===null||u===void 0?void 0:u.arrayValue,O=(c=v.value)===null||c===void 0?void 0:c.arrayValue,I=We(((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0,((h=O==null?void 0:O.values)===null||h===void 0?void 0:h.length)||0);return I!==0?I:Fb(E,O)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===wd.mapValue&&o===wd.mapValue)return 0;if(s===wd.mapValue)return 1;if(o===wd.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const v=We(c[p],h[p]);if(v!==0)return v;const E=_l(u[c[p]],d[h[p]]);if(E!==0)return E}return We(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ve()}}function jb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Js(t),r=Js(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function Fb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=_l(n[i],r[i]);if(s)return s}return We(n.length,r.length)}function yl(t){return Np(t)}function Np(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Js(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ka(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Np(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Np(n.fields[o])}`;return i+"}"}(t.mapValue):ve()}function Rp(t){return!!t&&"integerValue"in t}function Gy(t){return!!t&&"arrayValue"in t}function Lb(t){return!!t&&"nullValue"in t}function Vb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function FY(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Rl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(n)}setAll(e){let n=rn.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=Cu(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Rl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new lr(Cu(this.value))}}function YO(t){const e=[];return Rl(t.fields,(n,r)=>{const i=new rn([n]);if(zd(r)){const s=YO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new wn(e,0,ye.min(),ye.min(),ye.min(),lr.empty(),0)}static newFoundDocument(e,n,r,i){return new wn(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new wn(e,2,n,ye.min(),ye.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new wn(e,3,n,ye.min(),ye.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.position=e,this.inclusive=n}}function kb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=_l(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!si(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n="asc"){this.field=e,this.dir=n}}function VY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{}class kt extends qO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zY(e,n,r):n==="array-contains"?new BY(e,r):n==="in"?new $Y(e,r):n==="not-in"?new HY(e,r):n==="array-contains-any"?new YY(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WY(e,r):new UY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_l(n,this.value)):n!==null&&Xa(this.value)===Xa(n)&&this.matchesComparison(_l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends qO{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ai(e,n)}matches(e){return GO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function GO(t){return t.op==="and"}function QO(t){return kY(t)&&GO(t)}function kY(t){for(const e of t.filters)if(e instanceof ai)return!1;return!0}function Ap(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+yl(t.value);if(QO(t))return t.filters.map(e=>Ap(e)).join(",");{const e=t.filters.map(n=>Ap(n)).join(",");return`${t.op}(${e})`}}function KO(t,e){return t instanceof kt?function(r,i){return i instanceof kt&&r.op===i.op&&r.field.isEqual(i.field)&&si(r.value,i.value)}(t,e):t instanceof ai?function(r,i){return i instanceof ai&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,u)=>s&&KO(o,i.filters[u]),!0):!1}(t,e):void ve()}function XO(t){return t instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`}(t):t instanceof ai?function(n){return n.op.toString()+" {"+n.getFilters().map(XO).join(" ,")+"}"}(t):"Filter"}class zY extends kt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class WY extends kt{constructor(e,n){super(e,"in",n),this.keys=JO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class UY extends kt{constructor(e,n){super(e,"not-in",n),this.keys=JO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class BY extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gy(n)&&rc(n.arrayValue,this.value)}}class $Y extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}}class HY extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rc(this.value.arrayValue,n)}}class YY extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.ue=null}}function Wb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new qY(t,e,n,r,i,s,o)}function Qy(t){const e=we(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ap(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>yl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>yl(r)).join(",")),e.ue=n}return e.ue}function Ky(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zb(t.startAt,e.startAt)&&zb(t.endAt,e.endAt)}function jp(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function GY(t,e,n,r,i,s,o,u){return new Nh(t,e,n,r,i,s,o,u)}function Xy(t){return new Nh(t)}function Ub(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QY(t){return t.collectionGroup!==null}function Nu(t){const e=we(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new an(rn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Of(s,r))}),n.has(rn.keyField().canonicalString())||e.ce.push(new Of(rn.keyField(),r))}return e.ce}function ti(t){const e=we(t);return e.le||(e.le=KY(e,Nu(t))),e.le}function KY(t,e){if(t.limitType==="F")return Wb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Of(i.field,s)});const n=t.endAt?new Df(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Df(t.startAt.position,t.startAt.inclusive):null;return Wb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fp(t,e,n){return new Nh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rh(t,e){return Ky(ti(t),ti(e))&&t.limitType===e.limitType}function ZO(t){return`${Qy(ti(t))}|lt:${t.limitType}`}function Fo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>XO(i)).join(", ")}]`),Ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>yl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>yl(i)).join(",")),`Target(${r})`}(ti(t))}; limitType=${t.limitType})`}function Ah(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Nu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,u,c){const d=kb(o,u,c);return o.inclusive?d<=0:d<0}(r.startAt,Nu(r),i)||r.endAt&&!function(o,u,c){const d=kb(o,u,c);return o.inclusive?d>=0:d>0}(r.endAt,Nu(r),i))}(t,e)}function XY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function e1(t){return(e,n)=>{let r=!1;for(const i of Nu(t)){const s=JY(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function JY(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(s,o,u){const c=o.data.field(s),d=u.data.field(s);return c!==null&&d!==null?_l(c,d):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return $O(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZY=new vt(me.comparator);function qi(){return ZY}const t1=new vt(me.comparator);function vu(...t){let e=t1;for(const n of t)e=e.insert(n.key,n);return e}function n1(t){let e=t1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function La(){return Ru()}function r1(){return Ru()}function Ru(){return new Al(t=>t.toString(),(t,e)=>t.isEqual(e))}const e8=new vt(me.comparator),t8=new an(me.comparator);function Me(...t){let e=t8;for(const n of t)e=e.add(n);return e}const n8=new an(We);function r8(){return n8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:If(e)?"-0":e}}function i1(t){return{integerValue:""+t}}function i8(t,e){return RY(e)?i1(e):Jy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this._=void 0}}function s8(t,e,n){return t instanceof ic?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Yy(s)&&(s=qy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof sc?a1(t,e):t instanceof ac?o1(t,e):function(i,s){const o=s1(i,s),u=Bb(o)+Bb(i.Pe);return Rp(o)&&Rp(i.Pe)?i1(u):Jy(i.serializer,u)}(t,e)}function a8(t,e,n){return t instanceof sc?a1(t,e):t instanceof ac?o1(t,e):n}function s1(t,e){return t instanceof Mf?function(r){return Rp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ic extends jh{}class sc extends jh{constructor(e){super(),this.elements=e}}function a1(t,e){const n=l1(e);for(const r of t.elements)n.some(i=>si(i,r))||n.push(r);return{arrayValue:{values:n}}}class ac extends jh{constructor(e){super(),this.elements=e}}function o1(t,e){let n=l1(e);for(const r of t.elements)n=n.filter(i=>!si(i,r));return{arrayValue:{values:n}}}class Mf extends jh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Bb(t){return Ot(t.integerValue||t.doubleValue)}function l1(t){return Gy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e,n){this.field=e,this.transform=n}}function l8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof sc&&i instanceof sc||r instanceof ac&&i instanceof ac?vl(r.elements,i.elements,si):r instanceof Mf&&i instanceof Mf?si(r.Pe,i.Pe):r instanceof ic&&i instanceof ic}(t.transform,e.transform)}class u8{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fh{}function u1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zy(t.key,ni.none()):new Lc(t.key,t.data,ni.none());{const n=t.data,r=lr.empty();let i=new an(rn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new so(t.key,r,new Cr(i.toArray()),ni.none())}}function c8(t,e,n){t instanceof Lc?function(i,s,o){const u=i.value.clone(),c=Hb(i.fieldTransforms,s,o.transformResults);u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof so?function(i,s,o){if(!Wd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=Hb(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(c1(i)),c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Au(t,e,n,r){return t instanceof Lc?function(s,o,u,c){if(!Wd(s.precondition,o))return u;const d=s.value.clone(),h=Yb(s.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof so?function(s,o,u,c){if(!Wd(s.precondition,o))return u;const d=Yb(s.fieldTransforms,c,o),h=o.data;return h.setAll(c1(s)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,u){return Wd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function d8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=s1(r.transform,i||null);s!=null&&(n===null&&(n=lr.empty()),n.set(r.field,s))}return n||null}function $b(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vl(r,i,(s,o)=>l8(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lc extends Fh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class so extends Fh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function c1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Hb(t,e,n){const r=new Map;Ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,a8(o,u,n[i]))}return r}function Yb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,s8(s,o,e))}return r}class Zy extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f8 extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&c8(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Au(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Au(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=r1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const c=u1(o,u);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,(n,r)=>$b(n,r))&&vl(this.baseMutations,e.baseMutations,(n,r)=>$b(n,r))}}class e0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ke(e.mutations.length===r.length);let i=function(){return e8}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new e0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Ae;function p8(t){switch(t){default:return ve();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function d1(t){if(t===void 0)return Yi("GRPC error has no .code"),G.UNKNOWN;switch(t){case At.OK:return G.OK;case At.CANCELLED:return G.CANCELLED;case At.UNKNOWN:return G.UNKNOWN;case At.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case At.INTERNAL:return G.INTERNAL;case At.UNAVAILABLE:return G.UNAVAILABLE;case At.UNAUTHENTICATED:return G.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case At.NOT_FOUND:return G.NOT_FOUND;case At.ALREADY_EXISTS:return G.ALREADY_EXISTS;case At.PERMISSION_DENIED:return G.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case At.ABORTED:return G.ABORTED;case At.OUT_OF_RANGE:return G.OUT_OF_RANGE;case At.UNIMPLEMENTED:return G.UNIMPLEMENTED;case At.DATA_LOSS:return G.DATA_LOSS;default:return ve()}}(Ae=At||(At={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=new Wa([4294967295,4294967295],0);function qb(t){const e=v8().encode(t),n=new FO;return n.update(e),new Uint8Array(n.digest())}function Gb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wa([n,r],0),new Wa([i,s],0)]}class t0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _u(`Invalid padding: ${n}`);if(r<0)throw new _u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _u(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Wa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Wa.fromNumber(r)));return i.compare(_8)===1&&(i=new Wa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=qb(e),[r,i]=Gb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t0(s,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.Ie===0)return;const n=qb(e),[r,i]=Gb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lh(ye.min(),i,new vt(We),qi(),Me())}}class Vc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vc(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class f1{constructor(e,n){this.targetId=e,this.me=n}}class h1{constructor(e,n,r=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Qb{constructor(){this.fe=0,this.ge=Xb(),this.pe=ln.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),n=Me(),r=Me();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve()}}),new Vc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Xb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class y8{constructor(e){this.Le=e,this.Be=new Map,this.ke=qi(),this.qe=Kb(),this.Qe=new vt(We)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(jp(s))if(r===0){const o=new me(s.path);this.Ue(n,o,wn.newNoDocument(o,ye.min()))}else Ke(r===1);else{const o=this.Ye(n);if(o!==r){const u=this.Ze(e),c=u?this.Xe(u,e,o):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,u;try{o=Ka(r).toUint8Array()}catch(c){if(c instanceof HO)return pl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new t0(o,i,s)}catch(c){return pl(c instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const u=this.Je(o);if(u){if(s.current&&jp(u.target)){const c=new me(u.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,wn.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Me();this.qe.forEach((s,o)=>{let u=!0;o.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Lh(e,n,this.Qe,this.ke,r);return this.ke=qi(),this.qe=Kb(),this.Qe=new vt(We),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Qb,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new an(We),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Kb(){return new vt(me.comparator)}function Xb(){return new vt(me.comparator)}const w8={asc:"ASCENDING",desc:"DESCENDING"},E8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b8={and:"AND",or:"OR"};class T8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lp(t,e){return t.useProto3Json||Ch(e)?e:{value:e}}function Cf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function S8(t,e){return Cf(t,e.toTimestamp())}function ri(t){return Ke(!!t),ye.fromTimestamp(function(n){const r=Js(n);return new Wt(r.seconds,r.nanos)}(t))}function n0(t,e){return Vp(t,e).canonicalString()}function Vp(t,e){const n=function(i){return new ft(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function g1(t){const e=ft.fromString(t);return Ke(w1(e)),e}function kp(t,e){return n0(t.databaseId,e.path)}function yg(t,e){const n=g1(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(v1(n))}function p1(t,e){return n0(t.databaseId,e)}function P8(t){const e=g1(t);return e.length===4?ft.emptyPath():v1(e)}function zp(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function v1(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Jb(t,e,n){return{name:kp(t,e),fields:n.value.mapValue.fields}}function x8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,h){return d.useProto3Json?(Ke(h===void 0||typeof h=="string"),ln.fromBase64String(h||"")):(Ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ln.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(d){const h=d.code===void 0?G.UNKNOWN:d1(d.code);return new ce(h,d.message||"")}(o);n=new h1(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yg(t,r.document.name),s=ri(r.document.updateTime),o=r.document.createTime?ri(r.document.createTime):ye.min(),u=new lr({mapValue:{fields:r.document.fields}}),c=wn.newFoundDocument(i,s,o,u),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Ud(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yg(t,r.document),s=r.readTime?ri(r.readTime):ye.min(),o=wn.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Ud([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yg(t,r.document),s=r.removedTargetIds||[];n=new Ud([],s,i,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new g8(i,s),u=r.targetId;n=new f1(u,o)}}return n}function I8(t,e){let n;if(e instanceof Lc)n={update:Jb(t,e.key,e.value)};else if(e instanceof Zy)n={delete:kp(t,e.key)};else if(e instanceof so)n={update:Jb(t,e.key,e.data),updateMask:F8(e.fieldMask)};else{if(!(e instanceof f8))return ve();n={verify:kp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const u=o.transform;if(u instanceof ic)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof sc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ac)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Mf)return{fieldPath:o.field.canonicalString(),increment:u.Pe};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:S8(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ve()}(t,e.precondition)),n}function D8(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ri(i.updateTime):ri(s);return o.isEqual(ye.min())&&(o=ri(s)),new u8(o,i.transformResults||[])}(n,e))):[]}function O8(t,e){return{documents:[p1(t,e.path)]}}function M8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=p1(t,i);const s=function(d){if(d.length!==0)return y1(ai.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(h=>function(v){return{field:Lo(v.field),direction:R8(v.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=Lp(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function C8(t){let e=P8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ke(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){const v=_1(p);return v instanceof ai&&QO(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(v=>function(O){return new Of(Vo(O.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(v))}(n.orderBy));let u=null;n.limit&&(u=function(p){let v;return v=typeof p=="object"?p.value:p,Ch(v)?null:v}(n.limit));let c=null;n.startAt&&(c=function(p){const v=!!p.before,E=p.values||[];return new Df(E,v)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const v=!p.before,E=p.values||[];return new Df(E,v)}(n.endAt)),GY(e,i,o,s,u,"F",c,d)}function N8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vo(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vo(n.unaryFilter.field);return kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vo(n.unaryFilter.field);return kt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vo(n.unaryFilter.field);return kt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return kt.create(Vo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ai.create(n.compositeFilter.filters.map(r=>_1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function R8(t){return w8[t]}function A8(t){return E8[t]}function j8(t){return b8[t]}function Lo(t){return{fieldPath:t.canonicalString()}}function Vo(t){return rn.fromServerFormat(t.fieldPath)}function y1(t){return t instanceof kt?function(n){if(n.op==="=="){if(Vb(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NAN"}};if(Lb(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vb(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NAN"}};if(Lb(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(n.field),op:A8(n.op),value:n.value}}}(t):t instanceof ai?function(n){const r=n.getFilters().map(i=>y1(i));return r.length===1?r[0]:{compositeFilter:{op:j8(n.op),filters:r}}}(t):ve()}function F8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function w1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,r,i,s=ye.min(),o=ye.min(),u=ln.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e){this.ct=e}}function V8(t){const e=C8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(){this.un=new z8}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Xs.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class z8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new an(ft.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new an(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new wl(0)}static kn(){return new wl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(){this.changes=new Al(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Au(r.mutation,i,Cr.empty(),Wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const i=La();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=vu();return s.forEach((u,c)=>{o=o.insert(u,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=La();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=qi();const o=Ru(),u=function(){return Ru()}();return n.forEach((c,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof so)?s=s.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Au(h.mutation,d,h.mutation.getFieldMask(),Wt.now())):o.set(d.key,Cr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var p;return u.set(d,new U8(h,(p=o.get(d))!==null&&p!==void 0?p:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Ru();let i=new vt((o,u)=>o-u),s=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||Cr.empty();h=u.applyToLocalView(d,h),r.set(c,h);const p=(i.get(u.batchId)||Me()).add(c);i=i.insert(u.batchId,p)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,h=c.value,p=r1();h.forEach(v=>{if(!s.has(v)){const E=u1(n.get(v),r.get(v));E!==null&&p.set(v,E),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QY(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(La());let u=-1,c=s;return o.next(d=>Q.forEach(d,(h,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),s.get(h)?Q.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{c=c.insert(h,v)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,Me())).next(h=>({batchId:u,changes:n1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=vu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=vu();return this.indexManager.getCollectionParents(e,s).next(u=>Q.forEach(u,c=>{const d=function(p,v){return new Nh(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(h=>{h.forEach((p,v)=>{o=o.insert(p,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,wn.newInvalidDocument(h)))});let u=vu();return o.forEach((c,d)=>{const h=s.get(c);h!==void 0&&Au(h.mutation,d,Cr.empty(),Wt.now()),Ah(n,d)&&(u=u.insert(c,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ri(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:V8(i.bundledQuery),readTime:ri(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(){this.overlays=new vt(me.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=La();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=La(),s=n.length+1,o=new me(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vt((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=s.get(d.largestBatchId);h===null&&(h=La(),s=s.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const u=La(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>u.set(d,h)),!(u.size()>=i)););return Q.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new m8(n,r));let s=this.Ir.get(n);s===void 0&&(s=Me(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.Tr=new an(Yt.Er),this.dr=new an(Yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Yt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Yt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new me(new ft([])),r=new Yt(n,e),i=new Yt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new me(new ft([])),r=new Yt(n,e),i=new Yt(n,e+1);let s=Me();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Yt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return me.comparator(e.key,n.key)||We(e.wr,n.wr)}static Ar(e,n){return We(e.wr,n.wr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new an(Yt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new h8(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this.br=this.br.add(new Yt(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yt(n,0),i=new Yt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const u=this.Dr(o.wr);s.push(u)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(We);return n.forEach(i=>{const s=new Yt(i,0),o=new Yt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],u=>{r=r.add(u.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;me.isDocumentKey(s)||(s=s.child(""));const o=new Yt(new me(s),0);let u=new an(We);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(c.wr)),!0)},o),Q.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,i=>{const s=new Yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Yt(n,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e){this.Mr=e,this.docs=function(){return new vt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let r=qi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qi();const o=n.path,u=new me(o.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||OY(DY(h),r)<=0||(i.has(h.key)||Ah(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ve()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Q8(this)}getSize(e){return Q.resolve(this.size)}}class Q8 extends W8{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e){this.persistence=e,this.Nr=new Al(n=>Qy(n),Ky),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new r0,this.targetCount=0,this.kr=wl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new wl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Hy(0),this.Kr=!1,this.Kr=!0,this.$r=new Y8,this.referenceDelegate=e(this),this.Ur=new K8(this),this.indexManager=new k8,this.remoteDocumentCache=function(i){return new G8(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new L8(n),this.Gr=new $8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new H8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new q8(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new J8(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class J8 extends CY{constructor(e){super(),this.currentSequenceNumber=e}}class i0{constructor(e){this.persistence=e,this.Jr=new r0,this.Yr=null}static Zr(e){return new i0(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=me.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Me(),i=Me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new s0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return t$()?8:NY(bn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Z8;return this.Xi(e,n,o).next(u=>{if(s.result=u,this.zi)return this.es(e,n,o,u.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(cu()<=Ce.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(cu()<=Ce.DEBUG&&le("QueryEngine","Query:",Fo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(cu()<=Ce.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):Q.resolve())}Yi(e,n){if(Ub(n))return Q.resolve(null);let r=ti(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fp(n,null,"F"),r=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Me(...s);return this.Ji.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,u);return this.ns(n,d,o,c.readTime)?this.Yi(e,Fp(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,i){return Ub(n)||i.isEqual(ye.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Q.resolve(null):(cu()<=Ce.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fo(n)),this.rs(e,o,n,IY(i,-1)).next(u=>u))})}ts(e,n){let r=new an(e1(e));return n.forEach((i,s)=>{Ah(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return cu()<=Ce.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Fo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Xs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new vt(We),this._s=new Al(s=>Qy(s),Ky),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B8(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function nq(t,e,n,r){return new tq(t,e,n,r)}async function E1(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let c=Me();for(const d of i){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of s){u.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:u}))})})}function rq(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,d,h){const p=d.batch,v=p.keys();let E=Q.resolve();return v.forEach(O=>{E=E.next(()=>h.getEntry(c,O)).next(I=>{const A=d.docVersions.get(O);Ke(A!==null),I.version.compareTo(A)<0&&(p.applyToRemoteDocument(I,d),I.isValidDocument()&&(I.setReadTime(d.commitVersion),h.addEntry(I)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(c,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=Me();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function b1(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function iq(t,e){const n=we(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const u=[];e.targetChanges.forEach((h,p)=>{const v=i.get(p);if(!v)return;u.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let E=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?E=E.withResumeToken(ln.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),i=i.insert(p,E),function(I,A,b){return I.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(v,E,h)&&u.push(n.Ur.updateTargetData(s,E))});let c=qi(),d=Me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),u.push(sq(s,o,e.documentUpdates).next(h=>{c=h.Ps,d=h.Is})),!r.isEqual(ye.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(h)}return Q.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(n.os=i,s))}function sq(t,e,n){let r=Me(),i=Me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=qi();return n.forEach((u,c)=>{const d=s.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(ye.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):le("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function aq(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oq(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new As(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Wp(t,e,n){const r=we(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Fc(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Zb(t,e,n){const r=we(t);let i=ye.min(),s=Me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const p=we(c),v=p._s.get(h);return v!==void 0?Q.resolve(p.os.get(v)):p.Ur.getTargetData(d,h)}(r,o,ti(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,u.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ye.min(),n?s:Me())).next(u=>(lq(r,XY(e),u),{documents:u,Ts:s})))}function lq(t,e,n){let r=t.us.get(e)||ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class eT{constructor(){this.activeTargetIds=r8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uq{constructor(){this.so=new eT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new eT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed=null;function wg(){return Ed===null?Ed=function(){return 268435456+Math.round(2147483648*Math.random())}():Ed++,"0x"+Ed.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class hq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const u=wg(),c=this.xo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(n,c,d,i).then(h=>(le("RestConnection",`Received RPC '${n}' ${u}: `,h),h),h=>{throw pl("RestConnection",`RPC '${n}' ${u} failed with error: `,h,"url: ",c,"request:",i),h})}Lo(n,r,i,s,o,u){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=dq[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=wg();return new Promise((o,u)=>{const c=new LO;c.setWithCredentials(!0),c.listenOnce(VO.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case kd.NO_ERROR:const h=c.getResponseJson();le(vn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case kd.TIMEOUT:le(vn,`RPC '${e}' ${s} timed out`),u(new ce(G.DEADLINE_EXCEEDED,"Request time out"));break;case kd.HTTP_ERROR:const p=c.getStatus();if(le(vn,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v==null?void 0:v.error;if(E&&E.status&&E.message){const O=function(A){const b=A.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(b)>=0?b:G.UNKNOWN}(E.status);u(new ce(O,E.message))}else u(new ce(G.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new ce(G.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{le(vn,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);le(vn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const i=wg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WO(),u=zO(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=s.join("");le(vn,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=o.createWebChannel(h,c);let v=!1,E=!1;const O=new fq({Io:A=>{E?le(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(v||(le(vn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),le(vn,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},To:()=>p.close()}),I=(A,b,S)=>{A.listen(b,M=>{try{S(M)}catch(j){setTimeout(()=>{throw j},0)}})};return I(p,pu.EventType.OPEN,()=>{E||(le(vn,`RPC '${e}' stream ${i} transport opened.`),O.yo())}),I(p,pu.EventType.CLOSE,()=>{E||(E=!0,le(vn,`RPC '${e}' stream ${i} transport closed`),O.So())}),I(p,pu.EventType.ERROR,A=>{E||(E=!0,pl(vn,`RPC '${e}' stream ${i} transport errored:`,A),O.So(new ce(G.UNAVAILABLE,"The operation could not be completed")))}),I(p,pu.EventType.MESSAGE,A=>{var b;if(!E){const S=A.data[0];Ke(!!S);const M=S,j=M.error||((b=M[0])===null||b===void 0?void 0:b.error);if(j){le(vn,`RPC '${e}' stream ${i} received error:`,j);const U=j.status;let $=function(P){const D=At[P];if(D!==void 0)return d1(D)}(U),T=j.message;$===void 0&&($=G.INTERNAL,T="Unknown error status: "+U+" with message "+j.message),E=!0,O.So(new ce($,T)),p.close()}else le(vn,`RPC '${e}' stream ${i} received:`,S),O.bo(S)}}),I(u,kO.STAT_EVENT,A=>{A.stat===Cp.PROXY?le(vn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Cp.NOPROXY&&le(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{O.wo()},0),O}}function Eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t){return new T8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r,i,s,o,u,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new T1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ce(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mq extends S1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=x8(this.serializer,e),r=function(s){if(!("targetChange"in s))return ye.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?ri(o.readTime):ye.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=zp(this.serializer),n.addTarget=function(s,o){let u;const c=o.target;if(u=jp(c)?{documents:O8(s,c)}:{query:M8(s,c)._t},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=m1(s,o.resumeToken);const d=Lp(s,o.expectedCount);d!==null&&(u.expectedCount=d)}else if(o.snapshotVersion.compareTo(ye.min())>0){u.readTime=Cf(s,o.snapshotVersion.toTimestamp());const d=Lp(s,o.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const r=N8(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=zp(this.serializer),n.removeTarget=e,this.a_(n)}}class gq extends S1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=D8(e.writeResults,e.commitTime),r=ri(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=zp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>I8(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ce(G.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Vp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(G.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Lo(e,Vp(n,r),i,o,u,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(G.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class vq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yi(n),this.D_=!1):le("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{ao(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=we(c);d.L_.add(4),await kc(d),d.q_.set("Unknown"),d.L_.delete(4),await kh(d)}(this))})}),this.q_=new vq(r,i)}}async function kh(t){if(ao(t))for(const e of t.B_)await e(!0)}async function kc(t){for(const e of t.B_)await e(!1)}function P1(t,e){const n=we(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),u0(n)?l0(n):jl(n).r_()&&o0(n,e))}function a0(t,e){const n=we(t),r=jl(n);n.N_.delete(e),r.r_()&&x1(n,e),n.N_.size===0&&(r.r_()?r.o_():ao(n)&&n.q_.set("Unknown"))}function o0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(t).A_(e)}function x1(t,e){t.Q_.xe(e),jl(t).R_(e)}function l0(t){t.Q_=new y8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),jl(t).start(),t.q_.v_()}function u0(t){return ao(t)&&!jl(t).n_()&&t.N_.size>0}function ao(t){return we(t).L_.size===0}function I1(t){t.Q_=void 0}async function yq(t){t.q_.set("Online")}async function wq(t){t.N_.forEach((e,n)=>{o0(t,e)})}async function Eq(t,e){I1(t),u0(t)?(t.q_.M_(e),l0(t)):t.q_.set("Unknown")}async function bq(t,e,n){if(t.q_.set("Online"),e instanceof h1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const u of s.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nf(t,r)}else if(e instanceof Ud?t.Q_.Ke(e):e instanceof f1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ye.min()))try{const r=await b1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const u=s.Q_.rt(o);return u.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.N_.get(d);h&&s.N_.set(d,h.withResumeToken(c.resumeToken,o))}}),u.targetMismatches.forEach((c,d)=>{const h=s.N_.get(c);if(!h)return;s.N_.set(c,h.withResumeToken(ln.EMPTY_BYTE_STRING,h.snapshotVersion)),x1(s,c);const p=new As(h.target,c,d,h.sequenceNumber);o0(s,p)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await Nf(t,r)}}async function Nf(t,e,n){if(!Fc(e))throw e;t.L_.add(1),await kc(t),t.q_.set("Offline"),n||(n=()=>b1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await kh(t)})}function D1(t,e){return e().catch(n=>Nf(t,n,e))}async function zh(t){const e=we(t),n=Zs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Tq(e);)try{const i=await aq(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Sq(e,i)}catch(i){await Nf(e,i)}O1(e)&&M1(e)}function Tq(t){return ao(t)&&t.O_.length<10}function Sq(t,e){t.O_.push(e);const n=Zs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function O1(t){return ao(t)&&!Zs(t).n_()&&t.O_.length>0}function M1(t){Zs(t).start()}async function Pq(t){Zs(t).p_()}async function xq(t){const e=Zs(t);for(const n of t.O_)e.m_(n.mutations)}async function Iq(t,e,n){const r=t.O_.shift(),i=e0.from(r,e,n);await D1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zh(t)}async function Dq(t,e){e&&Zs(t).V_&&await async function(r,i){if(function(o){return p8(o)&&o!==G.ABORTED}(i.code)){const s=r.O_.shift();Zs(r).s_(),await D1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await zh(r)}}(t,e),O1(t)&&M1(t)}async function nT(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=ao(n);n.L_.add(3),await kc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await kh(n)}async function Oq(t,e){const n=we(t);e?(n.L_.delete(2),await kh(n)):e||(n.L_.add(2),await kc(n),n.q_.set("Unknown"))}function jl(t){return t.K_||(t.K_=function(n,r,i){const s=we(n);return s.w_(),new mq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:yq.bind(null,t),Ro:wq.bind(null,t),mo:Eq.bind(null,t),d_:bq.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),u0(t)?l0(t):t.q_.set("Unknown")):(await t.K_.stop(),I1(t))})),t.K_}function Zs(t){return t.U_||(t.U_=function(n,r,i){const s=we(n);return s.w_(),new gq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Pq.bind(null,t),mo:Dq.bind(null,t),f_:xq.bind(null,t),g_:Iq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await zh(t)):(await t.U_.stop(),t.O_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new c0(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d0(t,e){if(Yi("AsyncQueue",`${e}: ${t}`),Fc(t))return new ce(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=vu(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new al(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new al;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.W_=new vt(me.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class El{constructor(e,n,r,i,s,o,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new El(e,n,al.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Cq{constructor(){this.queries=iT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=we(n),s=i.queries;i.queries=iT(),s.forEach((o,u)=>{for(const c of u.j_)c.onError(r)})})(this,new ce(G.ABORTED,"Firestore shutting down"))}}function iT(){return new Al(t=>ZO(t),Rh)}async function C1(t,e){const n=we(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Mq,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const u=d0(o,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&f0(n)}async function N1(t,e){const n=we(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Nq(t,e){const n=we(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.j_)u.X_(i)&&(r=!0);o.z_=i}}r&&f0(n)}function Rq(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function f0(t){t.Y_.forEach(e=>{e.next()})}var Up,sT;(sT=Up||(Up={})).ea="default",sT.Cache="cache";class R1{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new El(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.key=e}}class j1{constructor(e){this.key=e}}class Aq{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Me(),this.mutatedKeys=Me(),this.Aa=e1(e),this.Ra=new al(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new rT,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const v=i.get(h),E=Ah(this.query,p)?p:null,O=!!v&&this.mutatedKeys.has(v.key),I=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let A=!1;v&&E?v.data.isEqual(E.data)?O!==I&&(r.track({type:3,doc:E}),A=!0):this.ga(v,E)||(r.track({type:2,doc:E}),A=!0,(c&&this.Aa(E,c)>0||d&&this.Aa(E,d)<0)&&(u=!0)):!v&&E?(r.track({type:0,doc:E}),A=!0):v&&!E&&(r.track({type:1,doc:v}),A=!0,(c||d)&&(u=!0)),A&&(E?(o=o.add(E),s=I?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:u,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,p)=>function(E,O){const I=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return I(E)-I(O)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;const u=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,d=c!==this.Ea;return this.Ea=c,o.length!==0||d?{snapshot:new El(this.query,e.Ra,s,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new rT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new j1(r))}),this.da.forEach(r=>{e.has(r)||n.push(new A1(r))}),n}ba(e){this.Ta=e.Ts,this.da=Me();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return El.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class jq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Fq{constructor(e){this.key=e,this.va=!1}}class Lq{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Al(u=>ZO(u),Rh),this.Ma=new Map,this.xa=new Set,this.Oa=new vt(me.comparator),this.Na=new Map,this.La=new r0,this.Ba={},this.ka=new Map,this.qa=wl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Vq(t,e,n=!0){const r=W1(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await F1(r,e,n,!0),i}async function kq(t,e){const n=W1(t);await F1(n,e,!0,!1)}async function F1(t,e,n,r){const i=await oq(t.localStore,ti(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await zq(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&P1(t.remoteStore,i),u}async function zq(t,e,n,r,i){t.Ka=(p,v,E)=>async function(I,A,b,S){let M=A.view.ma(b);M.ns&&(M=await Zb(I.localStore,A.query,!1).then(({documents:T})=>A.view.ma(T,M)));const j=S&&S.targetChanges.get(A.targetId),U=S&&S.targetMismatches.get(A.targetId)!=null,$=A.view.applyChanges(M,I.isPrimaryClient,j,U);return oT(I,A.targetId,$.wa),$.snapshot}(t,p,v,E);const s=await Zb(t.localStore,e,!0),o=new Aq(e,s.Ts),u=o.ma(s.documents),c=Vc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(u,t.isPrimaryClient,c);oT(t,n,d.wa);const h=new jq(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function Wq(t,e,n){const r=we(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Rh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Wp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&a0(r.remoteStore,i.targetId),Bp(r,i.targetId)}).catch(jc)):(Bp(r,i.targetId),await Wp(r.localStore,i.targetId,!0))}async function Uq(t,e){const n=we(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),a0(n.remoteStore,r.targetId))}async function Bq(t,e,n){const r=Kq(t);try{const i=await function(o,u){const c=we(o),d=Wt.now(),h=u.reduce((E,O)=>E.add(O.key),Me());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",E=>{let O=qi(),I=Me();return c.cs.getEntries(E,h).next(A=>{O=A,O.forEach((b,S)=>{S.isValidDocument()||(I=I.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(E,O)).next(A=>{p=A;const b=[];for(const S of u){const M=d8(S,p.get(S.key).overlayedDocument);M!=null&&b.push(new so(S.key,M,YO(M.value.mapValue),ni.exists(!0)))}return c.mutationQueue.addMutationBatch(E,d,b,u)}).next(A=>{v=A;const b=A.applyToLocalDocumentSet(p,I);return c.documentOverlayCache.saveOverlays(E,A.batchId,b)})}).then(()=>({batchId:v.batchId,changes:n1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,c){let d=o.Ba[o.currentUser.toKey()];d||(d=new vt(We)),d=d.insert(u,c),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,n),await zc(r,i.changes),await zh(r.remoteStore)}catch(i){const s=d0(i,"Failed to persist write");n.reject(s)}}async function L1(t,e){const n=we(t);try{const r=await iq(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ke(o.va):i.removedDocuments.size>0&&(Ke(o.va),o.va=!1))}),await zc(n,r,e)}catch(r){await jc(r)}}function aT(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const u=o.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const c=we(o);c.onlineState=u;let d=!1;c.queries.forEach((h,p)=>{for(const v of p.j_)v.Z_(u)&&(d=!0)}),d&&f0(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $q(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new vt(me.comparator);o=o.insert(s,wn.newNoDocument(s,ye.min()));const u=Me().add(s),c=new Lh(ye.min(),new Map,new vt(We),o,u);await L1(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),h0(r)}else await Wp(r.localStore,e,!1).then(()=>Bp(r,e,n)).catch(jc)}async function Hq(t,e){const n=we(t),r=e.batch.batchId;try{const i=await rq(n.localStore,e);k1(n,r,null),V1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zc(n,i)}catch(i){await jc(i)}}async function Yq(t,e,n){const r=we(t);try{const i=await function(o,u){const c=we(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,u).next(p=>(Ke(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(d,p))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);k1(r,e,n),V1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zc(r,i)}catch(i){await jc(i)}}function V1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function k1(t,e,n){const r=we(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Bp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||z1(t,r)})}function z1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(a0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),h0(t))}function oT(t,e,n){for(const r of n)r instanceof A1?(t.La.addReference(r.key,e),qq(t,r)):r instanceof j1?(le("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||z1(t,r.key)):ve()}function qq(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(le("SyncEngine","New document in limbo: "+n),t.xa.add(r),h0(t))}function h0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new me(ft.fromString(e)),r=t.qa.next();t.Na.set(r,new Fq(n)),t.Oa=t.Oa.insert(n,r),P1(t.remoteStore,new As(ti(Xy(n.path)),r,"TargetPurposeLimboResolution",Hy.oe))}}async function zc(t,e,n){const r=we(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((u,c)=>{o.push(r.Ka(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(d){i.push(d);const p=s0.Wi(c.targetId,d);s.push(p)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,d){const h=we(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>Q.forEach(d,v=>Q.forEach(v.$i,E=>h.persistence.referenceDelegate.addReference(p,v.targetId,E)).next(()=>Q.forEach(v.Ui,E=>h.persistence.referenceDelegate.removeReference(p,v.targetId,E)))))}catch(p){if(!Fc(p))throw p;le("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const v=p.targetId;if(!p.fromCache){const E=h.os.get(v),O=E.snapshotVersion,I=E.withLastLimboFreeSnapshotVersion(O);h.os=h.os.insert(v,I)}}}(r.localStore,s))}async function Gq(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await E1(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(u=>{u.forEach(c=>{c.reject(new ce(G.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zc(n,r.hs)}}function Qq(t,e){const n=we(t),r=n.Na.get(e);if(r&&r.va)return Me().add(r.key);{let i=Me();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const u=n.Fa.get(o);i=i.unionWith(u.view.Va)}return i}}function W1(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=L1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$q.bind(null,e),e.Ca.d_=Nq.bind(null,e.eventManager),e.Ca.$a=Rq.bind(null,e.eventManager),e}function Kq(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yq.bind(null,e),e}class Rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return nq(this.persistence,new eq,e.initialUser,this.serializer)}Ga(e){return new X8(i0.Zr,this.serializer)}Wa(e){return new uq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rf.provider={build:()=>new Rf};class $p{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gq.bind(null,this.syncEngine),await Oq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Cq}()}createDatastore(e){const n=Vh(e.databaseInfo.databaseId),r=function(s){return new hq(s)}(e.databaseInfo);return function(s,o,u,c){return new pq(s,o,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,u){return new _q(r,i,s,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>aT(this.syncEngine,n,0),function(){return tT.D()?new tT:new cq}())}createSyncEngine(e,n){return function(i,s,o,u,c,d,h){const p=new Lq(i,s,o,u,c,d);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=we(i);le("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await kc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$p.provider={build:()=>new $p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_n.UNAUTHENTICATED,this.clientId=BO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{le("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(le("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=d0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bg(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await E1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function lT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Jq(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>nT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>nT(e.remoteStore,i)),t._onlineComponents=e}async function Jq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await bg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===G.FAILED_PRECONDITION||i.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;pl("Error using user provided cache. Falling back to memory cache: "+n),await bg(t,new Rf)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await bg(t,new Rf);return t._offlineComponents}async function B1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await lT(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await lT(t,new $p))),t._onlineComponents}function Zq(t){return B1(t).then(e=>e.syncEngine)}async function $1(t){const e=await B1(t),n=e.eventManager;return n.onListen=Vq.bind(null,e.syncEngine),n.onUnlisten=Wq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Uq.bind(null,e.syncEngine),n}function eG(t,e,n={}){const r=new Vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,u,c,d){const h=new U1({next:v=>{h.Za(),o.enqueueAndForget(()=>N1(s,p));const E=v.docs.has(u);!E&&v.fromCache?d.reject(new ce(G.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&c&&c.source==="server"?d.reject(new ce(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),p=new R1(Xy(u.path),h,{includeMetadataChanges:!0,_a:!0});return C1(s,p)}(await $1(t),t.asyncQueue,e,n,r)),r.promise}function tG(t,e,n={}){const r=new Vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,u,c,d){const h=new U1({next:v=>{h.Za(),o.enqueueAndForget(()=>N1(s,p)),v.fromCache&&c.source==="server"?d.reject(new ce(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),p=new R1(u,h,{includeMetadataChanges:!0,_a:!0});return C1(s,p)}(await $1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t,e,n){if(!n)throw new ce(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nG(t,e,n,r){if(e===!0&&r===!0)throw new ce(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cT(t){if(!me.isDocumentKey(t))throw new ce(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dT(t){if(me.isDocumentKey(t))throw new ce(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function m0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function ea(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=m0(t);throw new ce(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _Y;switch(r.type){case"firstParty":return new bY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uT.get(n);r&&(le("ComponentProvider","Removing Datastore"),uT.delete(n),r.terminate())}(this),Promise.resolve()}}function rG(t,e,n,r={}){var i;const s=(t=ea(t,Wh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=_n.MOCK_USER;else{u=GB(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ce(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new _n(d)}t._authCredentials=new yY(new UO(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Uh(this.firestore,e,this._query)}}class Gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}}class qs extends Uh{constructor(e,n,r){super(e,n,Xy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new me(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function oc(t,e,...n){if(t=Kn(t),Y1("collection","path",e),t instanceof Wh){const r=ft.fromString(e,...n);return dT(r),new qs(t,null,r)}{if(!(t instanceof Gn||t instanceof qs))throw new ce(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return dT(r),new qs(t.firestore,null,r)}}function Ft(t,e,...n){if(t=Kn(t),arguments.length===1&&(e=BO.newId()),Y1("doc","path",e),t instanceof Wh){const r=ft.fromString(e,...n);return cT(r),new Gn(t,null,new me(r))}{if(!(t instanceof Gn||t instanceof qs))throw new ce(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return cT(r),new Gn(t.firestore,t instanceof qs?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new T1(this,"async_queue_retry"),this.Vu=()=>{const r=Eg();r&&le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Eg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Vi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Fc(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw Yi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=c0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Wc extends Wh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new hT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hT(e),this._firestoreClient=void 0,await e}}}function iG(t,e){const n=typeof t=="object"?t:nO(),r=typeof t=="string"?t:"(default)",i=Ny(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=YB("firestore");s&&rG(i,...s)}return i}function g0(t){if(t._terminated)throw new ce(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sG(t),t._firestoreClient}function sG(t){var e,n,r;const i=t._freezeSettings(),s=function(u,c,d,h){return new jY(u,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,H1(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Xq(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bl(ln.fromBase64String(e))}catch(n){throw new ce(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bl(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG=/^__.*__$/;class oG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new so(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lc(e,this.data,n,this.fieldTransforms)}}function q1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class w0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new w0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Af(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(q1(this.Cu)&&aG.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class lG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vh(e)}Qu(e,n,r,i=!1){return new w0({Cu:e,methodName:n,qu:r,path:rn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uG(t){const e=t._freezeSettings(),n=Vh(t._databaseId);return new lG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cG(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);X1("Data must be an object, but it was:",o,r);const u=Q1(r,o);let c,d;if(s.merge)c=new Cr(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const v=dG(e,p,n);if(!o.contains(v))throw new ce(G.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);hG(h,v)||h.push(v)}c=new Cr(h),d=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,d=o.fieldTransforms;return new oG(new lr(u),c,d)}class E0 extends v0{_toFieldTransform(e){return new o8(e.path,new ic)}isEqual(e){return e instanceof E0}}function G1(t,e){if(K1(t=Kn(t)))return X1("Unsupported field value:",e,t),Q1(t,e);if(t instanceof v0)return function(r,i){if(!q1(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const u of r){let c=G1(u,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Kn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Wt.fromDate(r);return{timestampValue:Cf(i.serializer,s)}}if(r instanceof Wt){const s=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cf(i.serializer,s)}}if(r instanceof _0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bl)return{bytesValue:m1(i.serializer,r._byteString)};if(r instanceof Gn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:n0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof y0)return function(o,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw u.Bu("VectorValues must only contain numeric values.");return Jy(u.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${m0(r)}`)}(t,e)}function Q1(t,e){const n={};return $O(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rl(t,(r,i)=>{const s=G1(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function K1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof _0||t instanceof bl||t instanceof Gn||t instanceof v0||t instanceof y0)}function X1(t,e,n){if(!K1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=m0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function dG(t,e,n){if((e=Kn(e))instanceof p0)return e._internalPath;if(typeof e=="string")return J1(t,e);throw Af("Field path arguments must be of type string or ",t,!1,void 0,n)}const fG=new RegExp("[~\\*/\\[\\]]");function J1(t,e,n){if(e.search(fG)>=0)throw Af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new p0(...e.split("."))._internalPath}catch{throw Af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Af(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ce(G.INVALID_ARGUMENT,u+t+c)}function hG(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(eM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mG extends Z1{data(){return super.data()}}function eM(t,e){return typeof e=="string"?J1(t,e):e instanceof p0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pG{convertValue(e,n="none"){switch(Xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Rl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ot(o.doubleValue));return new y0(s)}convertGeoPoint(e){return new _0(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){const n=Js(e);return new Wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);Ke(w1(r));const i=new nc(r.get(1),r.get(3)),s=new me(r.popFirst(5));return i.isEqual(n)||Yi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vG(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tM extends Z1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(eM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bd extends tM{data(e={}){return super.data(e)}}class _G{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bd(this._firestore,this._userDataWriter,r.key,r,new yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const c=new Bd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new yu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new Bd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new yu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return u.type!==0&&(d=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),h=o.indexOf(u.doc.key)),{type:yG(u.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t){t=ea(t,Gn);const e=ea(t.firestore,Wc);return eG(g0(e),t._key).then(n=>wG(e,t,n))}class nM extends pG{constructor(e){super(),this.firestore=e}convertBytes(e){return new bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,n)}}function lc(t){t=ea(t,Uh);const e=ea(t.firestore,Wc),n=g0(e),r=new nM(e);return gG(t._query),tG(n,t._query).then(i=>new _G(e,r,t,i))}function On(t,e,n){t=ea(t,Gn);const r=ea(t.firestore,Wc),i=vG(t.converter,e,n);return rM(r,[cG(uG(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ni.none())])}function Bh(t){return rM(ea(t.firestore,Wc),[new Zy(t._key,ni.none())])}function rM(t,e){return function(r,i){const s=new Vi;return r.asyncQueue.enqueueAndForget(async()=>Bq(await Zq(r),i,s)),s.promise}(g0(t),e)}function wG(t,e,n){const r=n.docs.get(e._key),i=new nM(t);return new tM(t,i,e._key,r,new yu(n.hasPendingWrites,n.fromCache),e.converter)}function Mn(){return new E0("serverTimestamp")}(function(e,n=!0){(function(i){Nl=i})(Ml),ml(new qa("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),u=new Wc(new wY(r.getProvider("auth-internal")),new SY(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ce(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(d.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Ys(Nb,"4.7.3",e),Ys(Nb,"4.7.3","esm2017")})();var EG="firebase",bG="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ys(EG,bG,"app");const TG={apiKey:"AIzaSyCHmU0EO6DOV8Vr30TdWwRhDuiVm2_JtZg",authDomain:"travel-planner-f39cd.firebaseapp.com",projectId:"travel-planner-f39cd",storageBucket:"travel-planner-f39cd.firebasestorage.app",messagingSenderId:"468788845614",appId:"1:468788845614:web:8e628a48c20ce6c9da53bf"},iM=tO(TG),Tg=pY(iM),SG=new Oi,lt=iG(iM),sM=H.createContext({}),aa=()=>{const t=H.useContext(sM);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},PG=({children:t})=>{const[e,n]=H.useState(null),[r,i]=H.useState(!0),[s,o]=H.useState(null),u=async p=>{try{const v=await jf(Ft(lt,"users",p,"profile","migration"));if(v.exists()&&v.data().completed){console.log("Data already migrated for this user");return}console.log("Starting localStorage migration...");const E=localStorage.getItem("travelPlanner_trips"),O=localStorage.getItem("travelPlanner_currentTrip"),I=localStorage.getItem("travelPlanner_dailyPlans"),A=localStorage.getItem("travelPlanner_flights"),b=localStorage.getItem("travelPlanner_expenses");if(E||I||A||b){const S=E?JSON.parse(E):[],M=I?JSON.parse(I):[],j=A?JSON.parse(A):[],U=b?JSON.parse(b):[],$=O?JSON.parse(O):null;for(const T of S)await On(Ft(lt,"users",p,"trips",T.id.toString()),{...T,createdAt:Mn()});$&&await On(Ft(lt,"users",p,"profile","currentTrip"),{tripId:$.id,updatedAt:Mn()});for(const T of M)await On(Ft(lt,"users",p,"dailyPlans",T.id.toString()),{...T,createdAt:Mn()});for(const T of j)await On(Ft(lt,"users",p,"flights",T.id.toString()),{...T,createdAt:Mn()});for(const T of U)await On(Ft(lt,"users",p,"expenses",T.id.toString()),{...T,createdAt:Mn()});console.log("Migration completed successfully!")}await On(Ft(lt,"users",p,"profile","migration"),{completed:!0,migratedAt:Mn()})}catch(v){throw console.error("Error migrating localStorage data:",v),v}},c=async()=>{try{o(null),i(!0);const p=await P7(Tg,SG),v=p.user,E=Ft(lt,"users",v.uid,"profile","info");(await jf(E)).exists()?await On(E,{lastLoginAt:Mn()},{merge:!0}):(await On(E,{email:v.email,displayName:v.displayName,photoURL:v.photoURL,createdAt:Mn()}),await u(v.uid));try{typeof window<"u"&&localStorage.setItem("showSetupOnLogin","1")}catch(I){console.warn("Could not set showSetupOnLogin flag in localStorage",I)}return p}catch(p){throw console.error("Error signing in with Google:",p),o(p.message),p}finally{i(!1)}},d=async()=>{try{o(null),await s7(Tg)}catch(p){throw console.error("Error signing out:",p),o(p.message),p}};H.useEffect(()=>i7(Tg,v=>{n(v),i(!1)}),[]);const h={currentUser:e,loading:r,error:s,signInWithGoogle:c,signOut:d};return m.jsx(sM.Provider,{value:h,children:t})},b0=()=>{const{currentUser:t}=aa(),[e,n]=H.useState([]),[r,i]=H.useState(!0),[s,o]=H.useState(null);H.useEffect(()=>{if(!t){n([]),i(!1);return}u()},[t]);const u=async()=>{try{i(!0);const h=oc(lt,"users",t.uid,"trips"),v=(await lc(h)).docs.map(E=>({...E.data(),id:parseInt(E.id)}));n(v),o(null)}catch(h){console.error("Error loading trips:",h),o(h.message)}finally{i(!1)}};return{trips:e,loading:r,error:s,saveTrip:async h=>{try{await On(Ft(lt,"users",t.uid,"trips",h.id.toString()),{...h,updatedAt:Mn()}),await u()}catch(p){throw console.error("Error saving trip:",p),p}},deleteTrip:async h=>{try{await Bh(Ft(lt,"users",t.uid,"trips",h.toString())),await u()}catch(p){throw console.error("Error deleting trip:",p),p}},reloadTrips:u}},aM=()=>{const{currentUser:t}=aa(),[e,n]=H.useState(null),[r,i]=H.useState(!0);H.useEffect(()=>{if(!t){n(null),i(!1);return}s()},[t]);const s=async()=>{try{i(!0);const u=Ft(lt,"users",t.uid,"profile","currentTrip"),c=await jf(u);if(c.exists()){const d=c.data().tripId;if(!d){n(null);return}const h=Ft(lt,"users",t.uid,"trips",d.toString()),p=await jf(h);p.exists()?n({...p.data(),id:parseInt(p.id)}):n(null)}else n(null)}catch(u){console.error("Error loading current trip:",u),n(null)}finally{i(!1)}};return{currentTrip:e,loading:r,saveCurrentTrip:async u=>{try{await On(Ft(lt,"users",t.uid,"profile","currentTrip"),{tripId:u.id,updatedAt:Mn()}),n(u)}catch(c){throw console.error("Error saving current trip:",c),c}},reloadCurrentTrip:s}},xG=()=>{const{currentUser:t}=aa(),[e,n]=H.useState([]),[r,i]=H.useState(!0);H.useEffect(()=>{if(!t){n([]),i(!1);return}s()},[t]);const s=async()=>{try{i(!0);const c=oc(lt,"users",t.uid,"flights"),h=(await lc(c)).docs.map(p=>({...p.data(),id:parseInt(p.id)}));n(h)}catch(c){console.error("Error loading flights:",c)}finally{i(!1)}};return{flights:e,loading:r,saveFlight:async c=>{try{await On(Ft(lt,"users",t.uid,"flights",c.id.toString()),{...c,updatedAt:Mn()}),await s()}catch(d){throw console.error("Error saving flight:",d),d}},deleteFlight:async c=>{try{await Bh(Ft(lt,"users",t.uid,"flights",c.toString())),await s()}catch(d){throw console.error("Error deleting flight:",d),d}},setFlights:n,reloadFlights:s}},IG=()=>{const{currentUser:t}=aa(),[e,n]=H.useState([]),[r,i]=H.useState(!0);H.useEffect(()=>{if(!t){n([]),i(!1);return}s()},[t]);const s=async()=>{try{i(!0);const d=oc(lt,"users",t.uid,"dailyPlans"),p=(await lc(d)).docs.map(v=>({...v.data(),id:parseInt(v.id)}));p.sort((v,E)=>new Date(v.date)-new Date(E.date)),n(p)}catch(d){console.error("Error loading daily plans:",d)}finally{i(!1)}};return{dailyPlans:e,loading:r,saveDailyPlan:async d=>{try{await On(Ft(lt,"users",t.uid,"dailyPlans",d.id.toString()),{...d,updatedAt:Mn()}),await s()}catch(h){throw console.error("Error saving daily plan:",h),h}},saveDailyPlans:async d=>{try{const h=d.map(p=>On(Ft(lt,"users",t.uid,"dailyPlans",p.id.toString()),{...p,updatedAt:Mn()}));await Promise.all(h),await s()}catch(h){throw console.error("Error saving daily plans:",h),h}},replaceDailyPlans:async d=>{try{const h=oc(lt,"users",t.uid,"dailyPlans"),p=await lc(h),v=new Set(d.map(I=>I.id.toString())),E=p.docs.filter(I=>!v.has(I.id)).map(I=>Bh(I.ref)),O=d.map(I=>On(Ft(lt,"users",t.uid,"dailyPlans",I.id.toString()),{...I,updatedAt:Mn()}));await Promise.all([...E,...O]),await s()}catch(h){throw console.error("Error replacing daily plans:",h),h}},setDailyPlans:n,reloadDailyPlans:s}},DG=()=>{const{currentUser:t}=aa(),[e,n]=H.useState([]),[r,i]=H.useState(!0);H.useEffect(()=>{if(!t){n([]),i(!1);return}s()},[t]);const s=async()=>{try{i(!0);const c=oc(lt,"users",t.uid,"expenses"),h=(await lc(c)).docs.map(p=>({...p.data(),id:parseInt(p.id)}));n(h)}catch(c){console.error("Error loading expenses:",c)}finally{i(!1)}};return{expenses:e,loading:r,saveExpense:async c=>{try{await On(Ft(lt,"users",t.uid,"expenses",c.id.toString()),{...c,updatedAt:Mn()}),await s()}catch(d){throw console.error("Error saving expense:",d),d}},deleteExpense:async c=>{try{await Bh(Ft(lt,"users",t.uid,"expenses",c.toString())),await s()}catch(d){throw console.error("Error deleting expense:",d),d}},setExpenses:n,reloadExpenses:s}},Hp={Switzerland:["Zurich","Geneva","Basel","Lausanne","Bern","Winterthur","Lucerne","St. Gallen","Lugano","Biel/Bienne","Thun","Kniz","La Chaux-de-Fonds","Schaffhausen","Fribourg","Vernier","Chur","Neuchtel","Uster","Sion","Emmen","Zug","Yverdon-les-Bains","Kriens","Rapperswil-Jona","Dbendorf","Montreux","Frauenfeld","Dietikon","Wetzikon","Interlaken","Zermatt","Grindelwald","Lauterbrunnen","Wengen","Murren","Locarno","Ascona","Bellinzona","Davos","St. Moritz","Arosa","Engelberg","Andermatt"],Italy:["Rome","Milan","Naples","Turin","Palermo","Genoa","Bologna","Florence","Bari","Catania","Venice","Verona","Messina","Padua","Trieste","Brescia","Taranto","Prato","Parma","Modena","Reggio Calabria","Reggio Emilia","Perugia","Livorno","Ravenna","Cagliari","Foggia","Rimini","Salerno","Ferrara","Sassari","Latina","Giugliano in Campania","Monza","Syracuse","Pescara","Bergamo","Forl","Trento","Vicenza","Terni","Bolzano","Novara","Piacenza","Ancona","Andria","Arezzo","Udine","Cesena","Lecce","Pisa","Siena","Lucca","Como","La Spezia","Varese","Sorrento","Amalfi","Positano","Capri","Portofino","Cinque Terre","Matera","Assisi","Siracusa","Taormina","Pompeii","Pienza","San Gimignano","Orvieto"],France:["Paris","Marseille","Lyon","Toulouse","Nice","Nantes","Strasbourg","Montpellier","Bordeaux","Lille","Rennes","Reims","Le Havre","Saint-tienne","Toulon","Grenoble","Dijon","Angers","Nmes","Villeurbanne","Saint-Denis","Le Mans","Aix-en-Provence","Clermont-Ferrand","Brest","Tours","Amiens","Limoges","Annecy","Perpignan","Boulogne-Billancourt","Metz","Besanon","Orlans","Saint-Denis","Argenteuil","Rouen","Mulhouse","Montreuil","Caen","Nancy","Avignon","Cannes","Antibes","Saint-Tropez","Monaco","Versailles","Colmar","Chamonix","Annecy","Carcassonne","Arles","Aix-les-Bains","Menton","Grasse","Saint-Malo","La Rochelle","Biarritz","Lourdes","Mont-Saint-Michel","Giverny","Fontainebleau","Chartres","Beaune","pernay","Reims","Troyes"]},OG=(t=null)=>!t||t.length===0?Object.entries(Hp).flatMap(([e,n])=>n.map(r=>({city:r,country:e}))):Object.entries(Hp).filter(([e])=>t.includes(e)).flatMap(([e,n])=>n.map(r=>({city:r,country:e}))),mT=({initialTrip:t=null,onExitTrip:e=()=>{}})=>{var Sr,Pr,wi,ke;const{currentUser:n,signOut:r}=aa(),{saveTrip:i}=b0(),{currentTrip:s,saveCurrentTrip:o}=aM(),{flights:u,loading:c,saveFlight:d,deleteFlight:h}=xG(),{dailyPlans:p,loading:v,saveDailyPlans:E,replaceDailyPlans:O,setDailyPlans:I}=IG(),{expenses:A,loading:b,saveExpense:S,deleteExpense:M}=DG(),[j,U]=H.useState("itinerary"),[$,T]=H.useState(!1),[w,P]=H.useState(!1),[D,N]=H.useState(!1),[R,x]=H.useState(null),$e="AIzaSyBFY-pyT3UnUN5bWc_G82xltZ7bqxInCo0",[Ye,_t]=H.useState($e),[xe,q]=H.useState(!1),[ie,ue]=H.useState(!1),[Se,Y]=H.useState(""),[W,L]=H.useState([]),[C,z]=H.useState(!1),[J,se]=H.useState(""),[ne,de]=H.useState(""),[ge,Ee]=H.useState(!1),[be,Te]=H.useState(!1),[qe,it]=H.useState(""),[yt,Tn]=H.useState(""),[hr,Sn]=H.useState(!1),[mr,An]=H.useState(!1),[gr,pr]=H.useState(!1),[Lr,ct]=H.useState(!1),[Tt,Zn]=H.useState(!1),[vr,ci]=H.useState([{startDate:new Date,endDate:new Date,key:"selection"}]),[oa,dn]=H.useState(!1),[is,di]=H.useState(!1),_r=H.useRef(null),[la,fi]=H.useState(!1),[Vr,hi]=H.useState(""),[Ne,Qt]=H.useState({name:"",startDate:"",endDate:""}),wt=(Ye||((Pr=(Sr=import.meta)==null?void 0:Sr.env)==null?void 0:Pr.VITE_GOOGLE_MAPS_API_KEY)||"").trim(),Ue=p.find(_=>_.id===R);H.useEffect(()=>{!s&&t&&o(t).catch(_=>{console.error("Failed to save initial trip from TravelPlanner:",_)})},[t,s,o]),H.useEffect(()=>{var V,Z;const _=(((Z=(V=import.meta)==null?void 0:V.env)==null?void 0:Z.VITE_GOOGLE_MAPS_API_KEY)||"").trim();_&&_!==Ye&&_t(_)},[Ye]),H.useEffect(()=>{s&&p.length===0&&!v&&(async()=>{const V=[],Z=ht(s.startDate),ae=ht(s.endDate);let oe=new Date(Z),_e=1;for(;oe<=ae;){const He=Zt(oe);V.push({id:_e++,date:He,title:"",city:"",country:"",places:[]}),oe.setDate(oe.getDate()+1)}try{await O(V),V.length>0&&x(V[0].id)}catch(He){console.error("Failed to generate daily plans:",He)}})()},[s,p.length,v]),H.useEffect(()=>{p&&p.length>0&&!R&&x(p[0].id)},[p,R]),H.useEffect(()=>{var Pt,ze;if(!s||v||p.length===0)return;const _=ht(s.startDate),V=ht(s.endDate),Z=Zt(_),ae=Zt(V),oe=Math.floor((V-_)/(1e3*60*60*24))+1,_e=(Pt=p[0])==null?void 0:Pt.date,He=(ze=p[p.length-1])==null?void 0:ze.date;if(_e!==Z||He!==ae||p.length!==oe){const Et=new Map(p.map(Ct=>[Ct.date,Ct])),st=[];let Ie=new Date(_),xt=1;for(;Ie<=V;){const Ct=Zt(Ie),et=Et.get(Ct);st.push({id:xt++,date:Ct,title:(et==null?void 0:et.title)||"",city:(et==null?void 0:et.city)||"",country:(et==null?void 0:et.country)||"",places:(et==null?void 0:et.places)||[]}),Ie.setDate(Ie.getDate()+1)}O(st).then(()=>{st.length>0&&x(st[0].id)}).catch(Ct=>{console.error("Failed to realign daily plans with trip dates:",Ct)})}},[s,v,p]);const[je,fn]=H.useState({airline:"",flightNumber:"",from:"",to:"",date:"",departureTime:"",arrivalTime:"",bookingRef:""}),[Re,Kt]=H.useState({name:"",address:"",placeId:"",location:null,notes:"",transportMode:"walking",transportTime:"",distance:"",metroStation:"",metroLine:"",visited:!1}),[Ge,Xt]=H.useState({description:"",amount:"",category:"food",date:"",city:"",country:"",currency:"USD"}),St=async()=>{const _={id:Date.now(),...je};try{await d(_),fn({airline:"",flightNumber:"",from:"",to:"",date:"",departureTime:"",arrivalTime:"",bookingRef:""}),T(!1)}catch(V){console.error("Failed to add flight:",V),alert("Failed to add flight. Please try again.")}},ss=async()=>{const _=p.find(ae=>ae.id===R);let V={...Re};if(_&&_.places.length>0&&wt){const ae=_.places[_.places.length-1],oe=await da(ae.location||ae.address,Re.location||Re.address,Re.transportMode);oe.error||(V={...Re,distance:oe.distance,transportTime:oe.time})}const Z=p.map(ae=>ae.id===R?{...ae,places:[...ae.places,{id:Date.now(),...V}]}:ae);I(Z),Kt({name:"",address:"",placeId:"",location:null,notes:"",transportMode:"walking",transportTime:"",distance:"",metroStation:"",metroLine:"",visited:!1}),P(!1)},yr=async()=>{const _={id:Date.now(),...Ge};try{await S(_),Xt({description:"",amount:"",category:"food",date:"",city:"",country:"",currency:"USD"}),it(""),Tn(""),N(!1)}catch(V){console.error("Failed to add expense:",V),alert("Failed to add expense. Please try again.")}},wr=(_,V)=>{const Z=p.map(ae=>ae.id===_?{...ae,places:ae.places.filter(oe=>oe.id!==V)}:ae);I(Z)},ua=async _=>{try{await h(_)}catch(V){console.error("Failed to delete flight:",V),alert("Failed to delete flight. Please try again.")}},ca=async _=>{try{await M(_)}catch(V){console.error("Failed to delete expense:",V),alert("Failed to delete expense. Please try again.")}},er=(_,V)=>{const Z=p.map(ae=>ae.id===_?{...ae,places:ae.places.map(oe=>oe.id===V?{...oe,visited:!oe.visited}:oe)}:ae);I(Z)},as=_=>_&&typeof _=="object"&&typeof _.lat=="number"&&typeof _.lng=="number"?new window.google.maps.LatLng(_.lat,_.lng):_,da=async(_,V,Z)=>{if(!wt)return{distance:"",time:"",error:"API key not set"};ue(!0);try{await Br();const oe={walking:"walking",metro:"transit",bus:"transit",train:"transit",car:"driving",other:"driving"}[Z]||"walking",_e=await new Promise((He,Pt)=>{var Ie;if(!((Ie=window.google)!=null&&Ie.maps))return Pt(new Error("Google Maps not loaded"));const ze=new window.google.maps.DistanceMatrixService,Et=as(_),st=as(V);ze.getDistanceMatrix({origins:[Et],destinations:[st],travelMode:oe.toUpperCase()},(xt,Ct)=>{if(Ct==="OK"&&xt.rows[0].elements[0].status==="OK"){const et=xt.rows[0].elements[0],pa=(et.distance.value/1e3).toFixed(1),va=Math.round(et.duration.value/60);He({distance:pa,time:va,error:null})}else Pt(new Error("Could not calculate route"))})});return ue(!1),_e}catch(ae){return ue(!1),{distance:"",time:"",error:ae.message}}},[hn,kr]=H.useState(typeof window<"u"&&!!((wi=window.google)!=null&&wi.maps)),Er=H.useRef(null),Jt=H.useRef(null),$t=H.useRef([]),tr=H.useRef([]),[Pn,zr]=H.useState(!0),[Wr,Ur]=H.useState(!1),Br=()=>{var _;return hn&&((_=window.google)!=null&&_.maps)?Promise.resolve():new Promise((V,Z)=>{let ae=0;const oe=setInterval(()=>{var _e;(_e=window.google)!=null&&_e.maps?(clearInterval(oe),kr(!0),V()):ae++>30&&(clearInterval(oe),Z(new Error("Google Maps failed to load")))},200)})},fa=async _=>{if(!wt||!_||_.length<3){L([]);return}z(!0);try{await Br(),new window.google.maps.places.AutocompleteService().getPlacePredictions({input:_},(Z,ae)=>{ae===window.google.maps.places.PlacesServiceStatus.OK?L(Z||[]):L([]),z(!1)})}catch(V){console.error("Place autocomplete failed:",V),L([]),z(!1)}},$r=async _=>{try{await Br(),new window.google.maps.places.PlacesService(Jt.current||document.createElement("div")).getDetails({placeId:_.place_id,fields:["name","formatted_address","geometry"]},(Z,ae)=>{var oe;if(ae===window.google.maps.places.PlacesServiceStatus.OK&&Z){const _e=(oe=Z.geometry)==null?void 0:oe.location;Kt({...Re,name:Z.name||Se,address:Z.formatted_address||Se,placeId:_.place_id,location:_e?{lat:_e.lat(),lng:_e.lng()}:null}),Y(Z.name||""),L([])}})}catch(V){console.error("Failed to get place details:",V)}};H.useEffect(()=>{if(!wt)return;if(window.google&&window.google.maps){kr(!0);return}const _="google-maps-js";if(document.getElementById(_))return;const V=document.createElement("script");V.id=_,V.src=`https://maps.googleapis.com/maps/api/js?key=${wt}&libraries=places`,V.async=!0,V.defer=!0,V.onload=()=>kr(!0),V.onerror=()=>console.error("Failed to load Google Maps script"),document.head.appendChild(V)},[wt]),H.useEffect(()=>{if(!(!Pn||!hn||!Er.current)&&!Jt.current)try{Jt.current=new window.google.maps.Map(Er.current,{center:{lat:46.8182,lng:8.2275},zoom:7,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1})}catch(_){console.error("Error creating map instance:",_)}},[Pn,hn]),H.useEffect(()=>{Pn||($t.current.forEach(_=>_.setMap(null)),$t.current=[],tr.current.forEach(_=>_.setMap(null)),tr.current=[])},[Pn]),H.useEffect(()=>{var ae;if(!Pn||!hn||!Jt.current||($t.current.forEach(oe=>oe.setMap(null)),$t.current=[],tr.current.forEach(oe=>oe.setMap(null)),tr.current=[],!Ue||!((ae=Ue.places)!=null&&ae.length)))return;const _=new window.google.maps.LatLngBounds;let V=!1;Ur(!0);const Z=(oe,_e)=>new Promise(He=>{const Pt=oe.location&&typeof oe.location.lat=="number"&&typeof oe.location.lng=="number"?new window.google.maps.LatLng(oe.location.lat,oe.location.lng):null,ze=Ie=>{const xt=new window.google.maps.Marker({map:Jt.current,position:Ie,title:oe.name||oe.address||"Place",label:{text:`${_e+1}`,color:"white",fontSize:"12px",fontWeight:"bold"}}),Ct=new window.google.maps.InfoWindow({content:`<div style="max-width:220px"><strong>${oe.name||"Place"}</strong><div style="color:#666;font-size:12px;">${oe.address||""}</div></div>`});xt.addListener("click",()=>Ct.open({anchor:xt,map:Jt.current})),$t.current.push(xt),_.extend(Ie),He(Ie)};if(Pt){ze(Pt);return}const Et=oe.address||oe.name;if(!Et)return He(null);new window.google.maps.Geocoder().geocode({address:Et},(Ie,xt)=>{if(V)return He(null);xt==="OK"&&Ie[0]?ze(Ie[0].geometry.location):He(null)})});return Promise.all(Ue.places.map((oe,_e)=>Z(oe,_e))).then(oe=>{if(V)return;const _e=oe.filter(He=>He!==null);if(_e.length>1)for(let He=0;He<_e.length-1;He++){const Pt=Ue.places[He+1],Et={walking:"WALKING",metro:"TRANSIT",bus:"TRANSIT",train:"TRANSIT",car:"DRIVING",other:"DRIVING"}[Pt.transportMode]||"WALKING",st=new window.google.maps.DirectionsService,Ie=new window.google.maps.DirectionsRenderer({map:Jt.current,suppressMarkers:!0,polylineOptions:{strokeColor:"#4ECDC4",strokeWeight:3,strokeOpacity:.7}});st.route({origin:_e[He],destination:_e[He+1],travelMode:Et},(xt,Ct)=>{Ct==="OK"&&!V&&(Ie.setDirections(xt),tr.current.push(Ie))})}Ur(!1),_.isEmpty()||Jt.current.fitBounds(_)}).catch(()=>Ur(!1)),()=>{V=!0}},[Pn,hn,Ue]),H.useEffect(()=>{p.length>0&&n&&!v&&E(p).catch(_=>console.error("Failed to save daily plans:",_))},[p]),H.useEffect(()=>{u.length>=0},[u]),H.useEffect(()=>{A.length>=0},[A]);const br=_=>{if(!_||_.length<1)return[];const V=_.toLowerCase();return OG(s==null?void 0:s.countries).filter(({city:ae})=>ae.toLowerCase().includes(V)).slice(0,10)},nr=_=>{if(!_||_.length<1)return[];const V=_.toLowerCase();return(s!=null&&s.countries&&s.countries.length>0?s.countries:Object.keys(Hp)).filter(ae=>ae.toLowerCase().includes(V))},Tr=(_,V)=>{const Z=p.map(ae=>ae.id===R?{...ae,city:_,country:V}:ae);I(Z),se(""),Ee(!1)},Un=_=>{const V=p.map(Z=>Z.id===R?{...Z,country:_}:Z);I(V),de(""),Te(!1)},mi=()=>{Qt({...Ne,name:s.name}),ct(!0)},ha=()=>{Qt({...Ne,startDate:s.startDate,endDate:s.endDate});const _=s!=null&&s.startDate?ht(s.startDate):new Date,V=s!=null&&s.endDate?ht(s.endDate):new Date;ci([{startDate:_,endDate:V,key:"selection"}]),Zn(!0)},Zt=_=>{const V=_.getFullYear(),Z=String(_.getMonth()+1).padStart(2,"0"),ae=String(_.getDate()).padStart(2,"0");return`${V}-${Z}-${ae}`},ht=_=>{if(!_)return new Date;if(_ instanceof Date)return new Date(_.getFullYear(),_.getMonth(),_.getDate());if(typeof _=="string"){const[V,Z,ae]=_.split("-").map(Number);if(!Number.isNaN(V)&&!Number.isNaN(Z)&&!Number.isNaN(ae))return new Date(V,Z-1,ae)}return new Date(_)},gi=async()=>{if(Ne.name.trim()&&s)try{const _={...s,name:Ne.name};await i(_),await o(_)}catch(_){console.error("Failed to save trip name:",_),alert("Failed to save trip name. Please try again.")}ct(!1)},pi=async()=>{var ae;Zn(!1);const _=vr&&vr[0]?vr[0]:null,V=_&&_.startDate?Zt(new Date(_.startDate)):Ne.startDate,Z=_&&_.endDate?Zt(new Date(_.endDate)):Ne.endDate;if(V&&Z&&s)try{const oe={...s,startDate:V,endDate:Z};if(await i(oe),await o(oe),V!==s.startDate||Z!==s.endDate){const _e=[],He=ht(V),Pt=ht(Z);let ze=new Date(He),Et=1;for(;ze<=Pt;){const st=Zt(ze),Ie=p.find(xt=>xt.date===st);_e.push({id:Et++,date:st,title:(Ie==null?void 0:Ie.title)||"",city:(Ie==null?void 0:Ie.city)||"",country:(Ie==null?void 0:Ie.country)||"",places:(Ie==null?void 0:Ie.places)||[]}),ze.setDate(ze.getDate()+1)}await O(_e),x((ae=_e[0])==null?void 0:ae.id)}}catch(oe){console.error("Failed to save trip dates:",oe),alert("Failed to save trip dates. Please try again.")}},vi=_=>{hi(_),fi(!0)},_i=()=>{const _=p.map(V=>V.id===R?{...V,title:Vr}:V);I(_),fi(!1)},os=async()=>{var _;if(s)try{const V={...s,name:Ne.name,startDate:Ne.startDate,endDate:Ne.endDate};if(await i(V),await o(V),Ne.startDate!==s.startDate||Ne.endDate!==s.endDate){const Z=[],ae=ht(Ne.startDate),oe=ht(Ne.endDate);let _e=new Date(ae),He=1;for(;_e<=oe;){const Pt=Zt(_e),ze=p.find(Et=>Et.date===Pt);Z.push({id:He++,date:Pt,title:(ze==null?void 0:ze.title)||"",city:(ze==null?void 0:ze.city)||"",country:(ze==null?void 0:ze.country)||"",places:(ze==null?void 0:ze.places)||[]}),_e.setDate(_e.getDate()+1)}await O(Z),x((_=Z[0])==null?void 0:_.id)}pr(!1)}catch(V){console.error("Failed to save trip:",V),alert("Failed to save trip. Please try again.")}},ma=_=>{const V=encodeURIComponent(_);window.open(`https://www.google.com/maps/search/?api=1&query=${V}`,"_blank")},ga=(_,V)=>{const Z=_e=>_e&&typeof _e=="object"&&typeof _e.lat=="number"&&typeof _e.lng=="number"?`${_e.lat},${_e.lng}`:encodeURIComponent(_e||""),ae=Z(_),oe=Z(V);window.open(`https://www.google.com/maps/dir/?api=1&origin=${ae}&destination=${oe}`,"_blank")};H.useEffect(()=>{const _=V=>{_r.current&&!_r.current.contains(V.target)&&dn(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const ls=()=>{const _={};return A.forEach(V=>{_[V.category]=(_[V.category]||0)+parseFloat(V.amount||0)}),_},yi=()=>{const _={};return A.forEach(V=>{V.city&&(_[V.city]=(_[V.city]||0)+parseFloat(V.amount||0))}),_},us=()=>{const _={};return A.forEach(V=>{V.country&&(_[V.country]=(_[V.country]||0)+parseFloat(V.amount||0))}),_},jn=()=>{const _={walking:0,metro:0,bus:0,train:0,car:0,other:0};return p.forEach(V=>{V.places.forEach(Z=>{const ae=parseFloat(Z.distance||0);_[Z.transportMode]=(_[Z.transportMode]||0)+ae})}),_},mn=()=>{const _={};return p.forEach(V=>{if(V.city){const Z=V.places.reduce((ae,oe)=>ae+parseFloat(oe.distance||0),0);_[V.city]=(_[V.city]||0)+Z}}),_};return m.jsx("div",{className:"min-h-screen bg-[#F8F9FA] p-2 sm:p-4",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsx("div",{className:"gradient-header rounded-2xl shadow-lg p-4 sm:p-6 mb-4 sm:mb-6",children:m.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-white flex items-center gap-2 mb-2",children:[m.jsx(_f,{className:"text-white",size:24}),"Travel Planner"]}),s&&m.jsxs("div",{className:"space-y-2",children:[Lr?m.jsx("div",{className:"flex items-center gap-2",children:m.jsx("input",{type:"text",value:Ne.name,onChange:_=>Qt({...Ne,name:_.target.value}),onBlur:gi,onKeyDown:_=>{_.key==="Enter"&&gi(),_.key==="Escape"&&ct(!1)},autoFocus:!0,className:"px-3 py-1 rounded bg-white/90 text-lg font-medium flex-1 outline-none"})}):m.jsx("div",{onClick:mi,className:"cursor-pointer hover:bg-white/20 px-3 py-1 rounded transition-colors inline-block",children:m.jsx("span",{className:"text-lg font-medium text-white",children:s.name})}),m.jsx("div",{className:"hidden sm:block",children:Tt?m.jsx("div",{className:"mt-2 flex justify-start",children:m.jsxs("div",{className:"inline-block bg-white border-2 border-gray-200 rounded-xl shadow-lg p-4",children:[m.jsx(Wv.DateRange,{ranges:vr,onChange:_=>{const V=_.selection;ci([V]),Qt({...Ne,startDate:Zt(new Date(V.startDate)),endDate:Zt(new Date(V.endDate))})},months:2,direction:"horizontal",showDateDisplay:!1,rangeColors:["#FF6B6B"],className:"rounded-xl"}),m.jsxs("div",{className:"flex gap-2 mt-3",children:[m.jsx("button",{onClick:pi,className:"px-3 py-2 bg-[#FF6B6B] text-white rounded-lg text-sm hover:bg-[#E85555] transition-colors",children:"Save"}),m.jsx("button",{onClick:()=>Zn(!1),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})}):m.jsx("div",{onClick:ha,className:"cursor-pointer hover:bg-white/20 px-3 py-1 rounded transition-colors inline-block",children:m.jsxs("span",{className:"text-sm text-white/90",children:[ht(s.startDate).toLocaleDateString()," - ",ht(s.endDate).toLocaleDateString()]})})})]})]}),m.jsxs("div",{className:"flex gap-2 items-center relative",children:[m.jsx("button",{onClick:async()=>{try{await o({id:null,name:null,startDate:null,endDate:null,countries:[]}),e()}catch(_){console.error("Failed to go back to trip setup:",_)}},className:"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors",title:"Back to trip setup",children:m.jsx(RB,{size:20,className:"text-white"})}),n&&m.jsxs("div",{className:"relative",ref:_r,children:[m.jsx("button",{onClick:()=>dn(_=>!_),className:"w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center focus:outline-none",title:n.displayName||n.email,children:n.photoURL?m.jsx("img",{src:n.photoURL,alt:n.displayName,className:"w-10 h-10 rounded-full object-cover border-2 border-white/50"}):m.jsx("div",{className:"w-10 h-10 rounded-full bg-white/30 flex items-center justify-center text-white font-medium border-2 border-white/50",children:(n.displayName||n.email||"U")[0].toUpperCase()})}),oa&&m.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border rounded-lg shadow-lg z-50",children:[m.jsxs("div",{className:"px-3 py-2 border-b",children:[m.jsx("div",{className:"text-sm font-medium text-gray-800",children:n.displayName||"Account"}),m.jsx("div",{className:"text-xs text-gray-500 truncate",children:n.email})]}),m.jsxs("button",{onClick:()=>{q(!0),dn(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2",children:[m.jsx(pd,{size:16,className:"text-gray-600"}),m.jsx("span",{className:"text-sm text-gray-700",children:"Setup API"})]}),m.jsxs("button",{onClick:()=>{di(!0),dn(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2",children:[m.jsx(VB,{size:16,className:"text-gray-600"}),m.jsx("span",{className:"text-sm text-gray-700",children:"Account Settings"})]}),m.jsxs("button",{onClick:async()=>{dn(!1);try{await o({id:null,name:null,startDate:null,endDate:null,countries:[]}),e()}catch(_){console.error("Failed to start new trip:",_),alert("Failed to start new trip. Please try again.")}},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2 border-t",children:[m.jsx(gu,{size:16,className:"text-gray-600"}),m.jsx("span",{className:"text-sm text-gray-700",children:"Start New Trip"})]}),m.jsxs("button",{onClick:async()=>{dn(!1),window.confirm("Are you sure you want to sign out?")&&await r()},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2 text-red-600 border-t",children:[m.jsx(jB,{size:16}),m.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})]})]})]})}),m.jsx("div",{className:"bg-white rounded-2xl shadow-lg mb-4 sm:mb-6",children:m.jsxs("div",{className:"flex border-b overflow-x-auto",children:[m.jsxs("button",{onClick:()=>U("itinerary"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${j==="itinerary"?"border-b-3 border-[#FF6B6B] text-[#FF6B6B]":"text-gray-600 hover:text-[#FF6B6B]"}`,children:[m.jsx(bp,{size:20}),m.jsx("span",{className:"hidden sm:inline",children:"Daily Plans"}),m.jsx("span",{className:"sm:hidden",children:"Plans"})]}),m.jsxs("button",{onClick:()=>U("flights"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${j==="flights"?"border-b-3 border-[#4ECDC4] text-[#4ECDC4]":"text-gray-600 hover:text-[#4ECDC4]"}`,children:[m.jsx(Ad,{size:20}),m.jsx("span",{children:"Flights"})]}),m.jsxs("button",{onClick:()=>U("expenses"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${j==="expenses"?"border-b-3 border-[#FFE66D] text-[#F7B731]":"text-gray-600 hover:text-[#F7B731]"}`,children:[m.jsx(dg,{size:20}),m.jsx("span",{children:"Expenses"})]}),m.jsxs("button",{onClick:()=>U("analytics"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${j==="analytics"?"border-b-3 border-[#26DE81] text-[#26DE81]":"text-gray-600 hover:text-[#26DE81]"}`,children:[m.jsx(LB,{size:20}),m.jsx("span",{className:"hidden sm:inline",children:"Analytics"}),m.jsx("span",{className:"sm:hidden",children:"Stats"})]})]})}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-3 sm:p-6",children:[j==="itinerary"&&m.jsxs("div",{className:"grid lg:grid-cols-[2fr_1fr] gap-4 items-start",children:[m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-semibold text-gray-700",children:"Plan your days"}),m.jsx("p",{className:"text-xs text-gray-500",children:"New stops appear on the map to the right."})]}),m.jsx("button",{onClick:()=>zr(_=>!_),className:"px-3 py-2 text-sm font-semibold rounded-lg border border-gray-200 hover:border-[#4ECDC4] hover:text-[#4ECDC4] transition-colors",children:Pn?"Hide Map":"Show Map"})]}),m.jsx("div",{className:"flex items-center gap-4 overflow-x-auto pb-4",children:p.map((_,V)=>m.jsxs("button",{onClick:()=>x(_.id),className:`flex-shrink-0 px-4 py-3 rounded-xl border-2 transition-all ${R===_.id?"border-[#FF6B6B] bg-gradient-to-br from-[#FF6B6B]/10 to-[#FFE66D]/10 text-[#FF6B6B] shadow-md":"border-gray-200 hover:border-[#FF6B6B]/50 hover:shadow-sm"}`,children:[m.jsx("div",{className:"font-medium",children:ht(_.date).toLocaleDateString("en-US",{weekday:"short"})}),m.jsx("div",{className:"text-sm",children:ht(_.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},_.id))}),Ue&&m.jsxs("div",{children:[m.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[m.jsx("h3",{className:"text-xl font-bold mb-3",children:ht(Ue.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),m.jsx("div",{className:"mb-4",children:la?m.jsx("input",{type:"text",value:Vr,onChange:_=>hi(_.target.value),onBlur:_i,onKeyDown:_=>{_.key==="Enter"&&_i(),_.key==="Escape"&&fi(!1)},autoFocus:!0,placeholder:`Day ${p.findIndex(_=>_.id===R)+1}`,className:"w-full px-3 py-2 rounded bg-gray-100 font-medium text-[#FF6B6B] outline-none"}):m.jsx("div",{onClick:()=>vi(Ue.title),className:"w-full px-3 py-2 rounded cursor-pointer hover:bg-gray-100 transition-colors font-medium text-[#FF6B6B]",children:Ue.title||`Day ${p.findIndex(_=>_.id===R)+1}`})}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",placeholder:"City",value:J||Ue.city,onChange:_=>{se(_.target.value),Ee(!0);const V=p.map(Z=>Z.id===R?{...Z,city:_.target.value}:Z);I(V)},onFocus:()=>Ee(!0),onBlur:()=>setTimeout(()=>Ee(!1),200),className:"w-full px-3 py-2 border rounded-lg"}),ge&&J&&br(J).length>0&&m.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:br(J).map(({city:_,country:V},Z)=>m.jsxs("button",{onClick:()=>Tr(_,V),className:"w-full px-3 py-2 text-left hover:bg-indigo-50 flex justify-between items-center",children:[m.jsx("span",{className:"font-medium",children:_}),m.jsx("span",{className:"text-sm text-gray-500",children:V})]},Z))})]}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",placeholder:"Country",value:ne||Ue.country,onChange:_=>{de(_.target.value),Te(!0);const V=p.map(Z=>Z.id===R?{...Z,country:_.target.value}:Z);I(V)},onFocus:()=>Te(!0),onBlur:()=>setTimeout(()=>Te(!1),200),className:"w-full px-3 py-2 border rounded-lg"}),be&&ne&&nr(ne).length>0&&m.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:nr(ne).map((_,V)=>m.jsx("button",{onClick:()=>Un(_),className:"w-full px-3 py-2 text-left hover:bg-indigo-50",children:_},V))})]})]})]}),m.jsx("div",{className:"space-y-4",children:Ue.places.map((_,V)=>m.jsxs("div",{className:`border rounded-lg overflow-hidden transition-all ${_.visited?"bg-gray-50 border-gray-300":"hover:shadow-md"}`,children:[m.jsx("div",{className:"p-3 sm:p-4 cursor-pointer",onClick:()=>er(R,_.id),children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:`flex-shrink-0 w-6 h-6 sm:w-7 sm:h-7 rounded-full border-2 flex items-center justify-center mt-1 transition-all ${_.visited?"bg-[#26DE81] border-[#26DE81]":"border-gray-300 hover:border-[#FF6B6B]"}`,children:_.visited&&m.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{d:"M5 13l4 4L19 7"})})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[m.jsxs("span",{className:"bg-gradient-to-r from-[#FF6B6B]/10 to-[#FFE66D]/10 text-[#FF6B6B] px-2 py-1 rounded-full text-xs sm:text-sm font-medium",children:["#",V+1]}),m.jsx("h4",{className:`font-bold text-base sm:text-lg ${_.visited?"line-through text-[#A1A1A1]":""}`,children:_.name})]}),!_.visited&&m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-[#A1A1A1] text-sm mb-1",children:_.address}),_.notes&&m.jsx("p",{className:"text-[#A1A1A1] text-sm italic",children:_.notes})]}),_.visited&&m.jsx("p",{className:"text-[#A1A1A1] text-sm",children:" Visited"})]}),!_.visited&&m.jsxs("div",{className:"flex gap-1 sm:gap-2 flex-shrink-0",children:[m.jsx("button",{onClick:Z=>{Z.stopPropagation(),ma(_.address)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Open in Google Maps",children:m.jsx(pd,{size:18})}),m.jsx("button",{onClick:Z=>{Z.stopPropagation(),wr(R,_.id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:m.jsx(Ou,{size:18})})]})]})}),!_.visited&&V>0&&m.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4",children:m.jsx("div",{className:"bg-gradient-to-r from-[#4ECDC4]/10 to-[#4ECDC4]/5 p-2 sm:p-3 rounded-lg",children:m.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[_.transportMode==="walking"&&m.jsx(rb,{size:16,className:"text-[#4ECDC4]"}),_.transportMode==="metro"&&m.jsx(FB,{size:16,className:"text-[#4ECDC4]"}),m.jsx("span",{className:"font-medium capitalize",children:_.transportMode})]}),_.transportTime&&m.jsxs("span",{className:"text-gray-700",children:[_.transportTime," min"]}),_.distance&&m.jsxs("span",{className:"text-gray-700",children:[_.distance," km"]}),_.transportMode==="metro"&&_.metroStation&&m.jsxs("span",{className:"text-gray-700 flex-1 min-w-0 truncate",children:[_.metroStation,_.metroLine&&` (${_.metroLine})`]}),V>0&&Ue.places[V-1]&&m.jsxs("button",{onClick:Z=>{Z.stopPropagation(),ga(Ue.places[V-1].address,_.address)},className:"text-[#4ECDC4] hover:underline flex items-center gap-1 whitespace-nowrap",children:[m.jsx(pd,{size:14}),m.jsx("span",{className:"hidden sm:inline",children:"Get Directions"}),m.jsx("span",{className:"sm:hidden",children:"Route"})]})]})})})]},_.id))}),m.jsxs("button",{onClick:()=>P(!0),className:"mt-4 w-full px-4 py-3 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] text-white rounded-xl hover:shadow-lg transition-all hover:scale-[1.02] flex items-center justify-center gap-2 text-sm sm:text-base font-medium",children:[m.jsx(gu,{size:20}),"Add Place to This Day"]})]}),w&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[m.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Add Place"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{type:"text",placeholder:"Place name *",value:Se||Re.name,onChange:_=>{Y(_.target.value),Kt({...Re,name:_.target.value}),fa(_.target.value)},className:"w-full px-3 py-2 border rounded-lg"}),wt&&W.length>0&&m.jsx("div",{className:"border rounded-lg divide-y max-h-60 overflow-y-auto",children:W.map(_=>m.jsxs("button",{onClick:()=>$r(_),className:"w-full text-left px-3 py-2 hover:bg-gray-50",children:[m.jsx("div",{className:"font-medium text-sm",children:_.description}),m.jsx("div",{className:"text-xs text-gray-500",children:"Google Places"})]},_.place_id))}),C&&m.jsx("div",{className:"text-xs text-gray-500",children:"Searching Google Places..."}),m.jsx("input",{type:"text",placeholder:"Address *",value:Re.address,onChange:_=>Kt({...Re,address:_.target.value}),className:"w-full px-3 py-2 border rounded-lg"}),m.jsx("textarea",{placeholder:"Notes",value:Re.notes,onChange:_=>Kt({...Re,notes:_.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:"3"}),m.jsxs("div",{className:"border-t pt-4",children:[m.jsx("h4",{className:"font-medium mb-3",children:"Transportation from previous place"}),wt&&Ue&&Ue.places.length>0&&m.jsx("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg text-sm text-blue-700",children:" Distance and time will be automatically calculated when you add this place"}),!wt&&Ue&&Ue.places.length>0&&m.jsx("div",{className:"mb-3 p-3 bg-yellow-50 rounded-lg text-sm text-yellow-700",children:" Set up Google Maps API to auto-calculate distance and time"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("select",{value:Re.transportMode,onChange:_=>Kt({...Re,transportMode:_.target.value}),className:"px-3 py-2 border rounded-lg",children:[m.jsx("option",{value:"walking",children:"Walking"}),m.jsx("option",{value:"metro",children:"Metro"}),m.jsx("option",{value:"bus",children:"Bus"}),m.jsx("option",{value:"train",children:"Train"}),m.jsx("option",{value:"car",children:"Car"}),m.jsx("option",{value:"other",children:"Other"})]}),m.jsx("input",{type:"number",placeholder:wt?"Auto-calculated":"Time (minutes)",value:Re.transportTime,onChange:_=>Kt({...Re,transportTime:_.target.value}),className:"px-3 py-2 border rounded-lg",disabled:ie}),m.jsx("input",{type:"number",step:"0.1",placeholder:wt?"Auto-calculated":"Distance (km)",value:Re.distance,onChange:_=>Kt({...Re,distance:_.target.value}),className:"px-3 py-2 border rounded-lg",disabled:ie})]}),Re.transportMode==="metro"&&m.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[m.jsx("input",{type:"text",placeholder:"Metro station",value:Re.metroStation,onChange:_=>Kt({...Re,metroStation:_.target.value}),className:"px-3 py-2 border rounded-lg"}),m.jsx("input",{type:"text",placeholder:"Metro line",value:Re.metroLine,onChange:_=>Kt({...Re,metroLine:_.target.value}),className:"px-3 py-2 border rounded-lg"})]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[m.jsx("button",{onClick:ss,disabled:!Re.name||!Re.address||ie,className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base font-medium",children:ie?"Calculating Route...":"Add Place"}),m.jsx("button",{onClick:()=>P(!1),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Cancel"})]})]})})]}),m.jsx("div",{className:`${Pn?"block":"hidden"} lg:block`,children:m.jsxs("div",{className:"bg-white border rounded-2xl shadow-md p-3 sm:p-4 lg:sticky lg:top-4 space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(pd,{size:18,className:"text-[#4ECDC4]"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Day Map"}),m.jsx("p",{className:"text-xs text-gray-500",children:Ue?ht(Ue.date).toLocaleDateString():"Select a day to view pins"})]})]}),m.jsx("button",{onClick:()=>zr(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",title:"Hide map",children:m.jsx(YD,{size:16})})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{ref:Er,className:"w-full h-96 sm:h-[500px] lg:h-[600px] xl:h-[700px] rounded-xl overflow-hidden bg-gray-100"}),!wt&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50",children:m.jsx("div",{className:"p-4 text-sm text-gray-500 bg-white rounded-lg border border-dashed",children:"Google Maps integration active"})}),wt&&!hn&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50",children:m.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"Loading map..."})}),Wr&&m.jsx("div",{className:"absolute inset-0 bg-white/60 flex items-center justify-center text-sm text-gray-600",children:"Mapping your stops..."}),hn&&!((ke=Ue==null?void 0:Ue.places)!=null&&ke.length)&&!Wr&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:m.jsx("div",{className:"p-4 text-sm text-gray-500 bg-white/90 rounded-lg border border-dashed backdrop-blur-sm",children:"Add places to this day to see pins here."})})]})]})})]}),j==="flights"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Flights"}),m.jsxs("button",{onClick:()=>T(!0),className:"px-4 py-2 bg-gradient-to-r from-[#4ECDC4] to-[#44A08D] text-white rounded-xl hover:shadow-lg transition-all hover:scale-[1.02] flex items-center gap-2 font-medium",children:[m.jsx(gu,{size:20}),"Add Flight"]})]}),u.length===0?m.jsxs("div",{className:"text-center py-12 text-gray-500",children:[m.jsx(Ad,{size:48,className:"mx-auto mb-4 opacity-50 text-[#4ECDC4]"}),m.jsx("p",{children:'No flights added yet. Click "Add Flight" to get started.'})]}):m.jsx("div",{className:"space-y-3",children:u.map(_=>m.jsx("div",{className:"border-2 border-gray-100 rounded-xl p-4 hover:shadow-lg hover:border-[#4ECDC4]/30 transition-all",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsxs("span",{className:"font-bold text-lg",children:[_.airline," ",_.flightNumber]}),m.jsx("span",{className:"text-sm text-gray-500",children:_.bookingRef})]}),m.jsxs("div",{className:"flex items-center gap-4 text-gray-700",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-medium",children:_.from}),m.jsx("div",{className:"text-sm",children:_.departureTime})]}),m.jsx(Ad,{size:20,className:"text-[#4ECDC4]"}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium",children:_.to}),m.jsx("div",{className:"text-sm",children:_.arrivalTime})]})]}),m.jsx("div",{className:"text-sm text-gray-500 mt-2",children:new Date(_.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),m.jsx("button",{onClick:()=>ua(_.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:m.jsx(Ou,{size:18})})]})},_.id))}),$&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[m.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Add Flight"}),m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",placeholder:"Airline *",value:je.airline,onChange:_=>fn({...je,airline:_.target.value}),className:"px-3 py-2 border rounded-lg"}),m.jsx("input",{type:"text",placeholder:"Flight number *",value:je.flightNumber,onChange:_=>fn({...je,flightNumber:_.target.value}),className:"px-3 py-2 border rounded-lg"}),m.jsx("input",{type:"text",placeholder:"From (airport) *",value:je.from,onChange:_=>fn({...je,from:_.target.value}),className:"px-3 py-2 border rounded-lg"}),m.jsx("input",{type:"text",placeholder:"To (airport) *",value:je.to,onChange:_=>fn({...je,to:_.target.value}),className:"px-3 py-2 border rounded-lg"}),m.jsx("input",{type:"date",value:je.date,onChange:_=>fn({...je,date:_.target.value}),className:"px-3 py-2 border rounded-lg"}),m.jsx("input",{type:"text",placeholder:"Booking reference",value:je.bookingRef,onChange:_=>fn({...je,bookingRef:_.target.value}),className:"px-3 py-2 border rounded-lg"}),m.jsx("input",{type:"time",placeholder:"Departure time",value:je.departureTime,onChange:_=>fn({...je,departureTime:_.target.value}),className:"px-3 py-2 border rounded-lg"}),m.jsx("input",{type:"time",placeholder:"Arrival time",value:je.arrivalTime,onChange:_=>fn({...je,arrivalTime:_.target.value}),className:"px-3 py-2 border rounded-lg"})]})}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[m.jsx("button",{onClick:St,disabled:!je.airline||!je.flightNumber||!je.from||!je.to,className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#4ECDC4] to-[#44A08D] text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base font-medium",children:"Add Flight"}),m.jsx("button",{onClick:()=>T(!1),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Cancel"})]})]})})]}),j==="expenses"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Expenses"}),m.jsxs("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-gradient-to-r from-[#FFE66D] to-[#FFBE5C] text-gray-800 rounded-xl hover:shadow-lg transition-all hover:scale-[1.02] flex items-center gap-2 font-medium",children:[m.jsx(gu,{size:20}),"Add Expense"]})]}),A.length===0?m.jsxs("div",{className:"text-center py-12 text-gray-500",children:[m.jsx(dg,{size:48,className:"mx-auto mb-4 opacity-50 text-[#FFE66D]"}),m.jsx("p",{children:'No expenses tracked yet. Click "Add Expense" to get started.'})]}):m.jsx("div",{className:"space-y-3",children:A.map(_=>m.jsx("div",{className:"border-2 border-gray-100 rounded-xl p-4 hover:shadow-lg hover:border-[#FFE66D]/50 transition-all",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx("span",{className:"font-bold text-lg",children:_.description}),m.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm",children:_.category})]}),m.jsxs("div",{className:"text-2xl font-bold text-[#F7B731] mb-2",children:[_.currency," $",parseFloat(_.amount).toFixed(2)]}),m.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[m.jsx("span",{children:new Date(_.date).toLocaleDateString()}),_.city&&m.jsxs("span",{children:[" ",_.city]}),_.country&&m.jsxs("span",{children:[" ",_.country]})]})]}),m.jsx("button",{onClick:()=>ca(_.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:m.jsx(Ou,{size:18})})]})},_.id))}),D&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[m.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Add Expense"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{type:"text",placeholder:"Description *",value:Ge.description,onChange:_=>Xt({...Ge,description:_.target.value}),className:"w-full px-3 py-2 border rounded-lg"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx("input",{type:"number",step:"0.01",placeholder:"Amount *",value:Ge.amount,onChange:_=>Xt({...Ge,amount:_.target.value}),className:"px-3 py-2 border rounded-lg"}),m.jsxs("select",{value:Ge.currency,onChange:_=>Xt({...Ge,currency:_.target.value}),className:"px-3 py-2 border rounded-lg",children:[m.jsx("option",{value:"USD",children:"USD"}),m.jsx("option",{value:"EUR",children:"EUR"}),m.jsx("option",{value:"GBP",children:"GBP"}),m.jsx("option",{value:"BRL",children:"BRL"}),m.jsx("option",{value:"CHF",children:"CHF"})]}),m.jsxs("select",{value:Ge.category,onChange:_=>Xt({...Ge,category:_.target.value}),className:"px-3 py-2 border rounded-lg",children:[m.jsx("option",{value:"food",children:"Food & Dining"}),m.jsx("option",{value:"accommodation",children:"Accommodation"}),m.jsx("option",{value:"transportation",children:"Transportation"}),m.jsx("option",{value:"activities",children:"Activities"}),m.jsx("option",{value:"shopping",children:"Shopping"}),m.jsx("option",{value:"other",children:"Other"})]}),m.jsx("input",{type:"date",value:Ge.date,onChange:_=>Xt({...Ge,date:_.target.value}),className:"px-3 py-2 border rounded-lg"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",placeholder:"City",value:qe||Ge.city,onChange:_=>{it(_.target.value),Xt({...Ge,city:_.target.value}),Sn(!0)},onFocus:()=>Sn(!0),onBlur:()=>setTimeout(()=>Sn(!1),200),className:"w-full px-3 py-2 border rounded-lg"}),hr&&qe&&br(qe).length>0&&m.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:br(qe).map(({city:_,country:V},Z)=>m.jsxs("button",{onClick:()=>{Xt({...Ge,city:_,country:V}),it(""),Sn(!1)},className:"w-full px-3 py-2 text-left hover:bg-indigo-50 flex justify-between items-center",children:[m.jsx("span",{className:"font-medium",children:_}),m.jsx("span",{className:"text-sm text-gray-500",children:V})]},Z))})]}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",placeholder:"Country",value:yt||Ge.country,onChange:_=>{Tn(_.target.value),Xt({...Ge,country:_.target.value}),An(!0)},onFocus:()=>An(!0),onBlur:()=>setTimeout(()=>An(!1),200),className:"w-full px-3 py-2 border rounded-lg"}),mr&&yt&&nr(yt).length>0&&m.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:nr(yt).map((_,V)=>m.jsx("button",{onClick:()=>{Xt({...Ge,country:_}),Tn(""),An(!1)},className:"w-full px-3 py-2 text-left hover:bg-indigo-50",children:_},V))})]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[m.jsx("button",{onClick:yr,disabled:!Ge.description||!Ge.amount,className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#FFE66D] to-[#FFBE5C] text-gray-800 rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base font-medium",children:"Add Expense"}),m.jsx("button",{onClick:()=>N(!1),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Cancel"})]})]})})]}),j==="analytics"&&m.jsxs("div",{className:"space-y-6",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Analytics & Insights"}),m.jsxs("div",{className:"border-2 border-gray-100 rounded-xl p-6",children:[m.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(dg,{className:"text-[#26DE81]"}),"Expense Breakdown"]}),A.length===0?m.jsx("p",{className:"text-gray-500 text-center py-8",children:"No expenses to analyze yet."}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium mb-3",children:"By Category"}),m.jsx("div",{className:"space-y-2",children:Object.entries(ls()).map(([_,V])=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-[#FFE66D]/10 to-[#FFE66D]/5 rounded-lg",children:[m.jsx("span",{className:"capitalize font-medium",children:_}),m.jsxs("span",{className:"font-bold text-[#F7B731]",children:["$",V.toFixed(2)]})]},_))}),m.jsxs("div",{className:"mt-3 pt-3 border-t font-bold text-lg flex justify-between",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{className:"text-[#F7B731]",children:["$",A.reduce((_,V)=>_+parseFloat(V.amount||0),0).toFixed(2)]})]})]}),Object.keys(yi()).length>0&&m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium mb-3",children:"By City"}),m.jsx("div",{className:"space-y-2",children:Object.entries(yi()).map(([_,V])=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-[#4ECDC4]/10 to-[#4ECDC4]/5 rounded-lg",children:[m.jsx("span",{className:"font-medium",children:_}),m.jsxs("span",{className:"font-bold text-[#4ECDC4]",children:["$",V.toFixed(2)]})]},_))})]}),Object.keys(us()).length>0&&m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium mb-3",children:"By Country"}),m.jsx("div",{className:"space-y-2",children:Object.entries(us()).map(([_,V])=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-[#FF6B6B]/10 to-[#FF8E53]/10 rounded-lg",children:[m.jsx("span",{className:"font-medium",children:_}),m.jsxs("span",{className:"font-bold text-[#FF6B6B]",children:["$",V.toFixed(2)]})]},_))})]})]})]}),m.jsxs("div",{className:"border-2 border-gray-100 rounded-xl p-6",children:[m.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(rb,{className:"text-[#4ECDC4]"}),"Distance Tracking"]}),p.every(_=>_.places.length===0)?m.jsx("p",{className:"text-gray-500 text-center py-8",children:"No distances to analyze yet."}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium mb-3",children:"By Transport Mode"}),m.jsx("div",{className:"space-y-2",children:Object.entries(jn()).filter(([_,V])=>V>0).map(([_,V])=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-[#4ECDC4]/10 to-[#4ECDC4]/5 rounded-lg",children:[m.jsx("span",{className:"capitalize font-medium",children:_}),m.jsxs("span",{className:"font-bold text-[#4ECDC4]",children:[V.toFixed(2)," km"]})]},_))}),m.jsxs("div",{className:"mt-3 pt-3 border-t font-bold text-lg flex justify-between",children:[m.jsx("span",{children:"Total Distance"}),m.jsxs("span",{className:"text-[#4ECDC4]",children:[Object.values(jn()).reduce((_,V)=>_+V,0).toFixed(2)," km"]})]})]}),Object.keys(mn()).length>0&&m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium mb-3",children:"By City"}),m.jsx("div",{className:"space-y-2",children:Object.entries(mn()).filter(([_,V])=>V>0).map(([_,V])=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-[#26DE81]/10 to-[#26DE81]/5 rounded-lg",children:[m.jsx("span",{className:"font-medium",children:_}),m.jsxs("span",{className:"font-bold text-[#26DE81]",children:[V.toFixed(2)," km"]})]},_))})]})]})]})]})]}),xe&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[m.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Google Maps API Setup"}),m.jsxs("div",{className:"space-y-4 mb-6",children:[m.jsx("p",{className:"text-gray-700",children:"To automatically calculate distances and travel times between places, you need a Google Maps API key."}),m.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-2 text-sm",children:[m.jsx("p",{className:"font-medium text-blue-900",children:"How to get your API key:"}),m.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-blue-800",children:[m.jsxs("li",{children:["Go to ",m.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Google Cloud Console"})]}),m.jsx("li",{children:"Create a new project or select an existing one"}),m.jsx("li",{children:'Enable "Distance Matrix API" and "Maps JavaScript API"'}),m.jsx("li",{children:'Go to "Credentials" and create an API key'}),m.jsx("li",{children:"Copy the API key and paste it below"})]})]}),m.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-sm text-yellow-800",children:[m.jsx("p",{className:"font-medium mb-1",children:" Important Notes:"}),m.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[m.jsx("li",{children:"Google provides $200 free credit per month"}),m.jsx("li",{children:"The API key is stored only in your browser"}),m.jsx("li",{children:"Never share your API key publicly"}),m.jsx("li",{children:"Consider restricting your API key to specific domains"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Maps API Key"}),m.jsx("input",{type:"text",value:wt,onChange:_=>_t(_.target.value),placeholder:"Enter your API key here",className:"w-full px-3 py-2 border rounded-lg font-mono text-sm"})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[m.jsx("div",{className:"flex-1 px-4 py-2 text-center text-sm text-gray-500",children:"API key is provided via environment. No need to paste it here."}),m.jsx("button",{onClick:()=>q(!1),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Close"})]})]})}),is&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-md w-full",children:[m.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Account Settings"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),m.jsx("div",{className:"mt-1 text-gray-800",children:(n==null?void 0:n.displayName)||""})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),m.jsx("div",{className:"mt-1 text-gray-800",children:n==null?void 0:n.email})]})]}),m.jsx("div",{className:"mt-6 flex justify-end gap-3",children:m.jsx("button",{onClick:()=>di(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Close"})})]})}),gr&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full",children:[m.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Edit Trip Details"}),m.jsxs("div",{className:"space-y-4 mb-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Name"}),m.jsx("input",{type:"text",value:Ne.name,onChange:_=>Qt({...Ne,name:_.target.value}),placeholder:"e.g., European Adventure 2026",className:"w-full px-3 py-2 border rounded-lg"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),m.jsx("input",{type:"date",value:Ne.startDate,onChange:_=>Qt({...Ne,startDate:_.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),m.jsx("input",{type:"date",value:Ne.endDate,onChange:_=>Qt({...Ne,endDate:_.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),Ne.startDate!==s.startDate||Ne.endDate!==s.endDate?m.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-sm text-yellow-800",children:[m.jsx("p",{className:"font-medium mb-1",children:" Note about changing dates:"}),m.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[m.jsx("li",{children:"Your existing daily plans will be preserved where dates match"}),m.jsx("li",{children:"New days will be added if you extend the trip"}),m.jsx("li",{children:"Days outside the new range will be removed"})]})]}):null]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[m.jsx("button",{onClick:os,disabled:!Ne.name||!Ne.startDate||!Ne.endDate,className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base font-medium",children:"Save Changes"}),m.jsx("button",{onClick:()=>pr(!1),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Cancel"})]})]})})]})})},MG=()=>{const{signInWithGoogle:t,error:e}=aa(),[n,r]=H.useState(!1),[i,s]=H.useState(null),o=async()=>{try{r(!0),s(null),await t()}catch(u){console.error("Sign in error:",u),s(u.message||"Failed to sign in with Google")}finally{r(!1)}};return m.jsx("div",{className:"min-h-screen bg-[#F8F9FA] flex items-center justify-center p-4",children:m.jsxs("div",{className:"max-w-md w-full",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[m.jsx("div",{className:"bg-gradient-to-br from-[#4ECDC4] to-[#44A08D] p-3 rounded-2xl shadow-lg",children:m.jsx(Ad,{className:"w-8 h-8 text-white"})}),m.jsx("div",{className:"bg-gradient-to-br from-[#FF6B6B] to-[#FF8E53] p-3 rounded-2xl shadow-lg",children:m.jsx(_f,{className:"w-8 h-8 text-white"})})]}),m.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Travel Planner"}),m.jsx("p",{className:"text-gray-600 text-lg",children:"Plan your perfect journey"})]}),m.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border-2 border-gray-50",children:[m.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2 text-center",children:"Welcome!"}),m.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Sign in to access your trips from any device"}),(e||i)&&m.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-red-50/50 border-2 border-red-200 rounded-xl flex items-start gap-3",children:[m.jsx(NB,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm text-red-800 font-medium",children:"Sign in failed"}),m.jsx("p",{className:"text-sm text-red-600 mt-1",children:i||e})]})]}),m.jsx("button",{onClick:o,disabled:n,className:"w-full bg-white border-2 border-gray-300 hover:border-[#4ECDC4] text-gray-700 font-semibold py-4 px-6 rounded-xl transition-all duration-200 flex items-center justify-center gap-3 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:n?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-[#4ECDC4] rounded-full animate-spin"}),m.jsx("span",{children:"Signing in..."})]}):m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),m.jsx("span",{children:"Continue with Google"})]})}),m.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900 mb-4",children:"With your account you can:"}),m.jsxs("ul",{className:"space-y-3",children:[m.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[m.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-[#4ECDC4]/20 to-[#4ECDC4]/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:m.jsx("div",{className:"w-2 h-2 rounded-full bg-[#4ECDC4]"})}),m.jsx("span",{children:"Access your trips from any device"})]}),m.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[m.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-[#FF6B6B]/20 to-[#FF6B6B]/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:m.jsx("div",{className:"w-2 h-2 rounded-full bg-[#FF6B6B]"})}),m.jsx("span",{children:"Never lose your travel data"})]}),m.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[m.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-[#FFE66D]/20 to-[#FFE66D]/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:m.jsx("div",{className:"w-2 h-2 rounded-full bg-[#F7B731]"})}),m.jsx("span",{children:"Plan trips seamlessly across phone and desktop"})]})]})]})]}),m.jsx("p",{className:"text-center text-sm text-gray-600 mt-6",children:"By signing in, you agree to sync your data with Firebase"})]})})},CG={Switzerland:["Zurich","Geneva","Basel","Lausanne","Bern","Winterthur","Lucerne","St. Gallen","Lugano","Biel/Bienne","Thun","Kniz","La Chaux-de-Fonds","Schaffhausen","Fribourg","Vernier","Chur","Neuchtel","Uster","Sion","Emmen","Zug","Yverdon-les-Bains","Kriens","Rapperswil-Jona","Dbendorf","Montreux","Frauenfeld","Dietikon","Wetzikon","Interlaken","Zermatt","Grindelwald","Lauterbrunnen","Wengen","Murren","Locarno","Ascona","Bellinzona","Davos","St. Moritz","Arosa","Engelberg","Andermatt"],Italy:["Rome","Milan","Naples","Turin","Palermo","Genoa","Bologna","Florence","Bari","Catania","Venice","Verona","Messina","Padua","Trieste","Brescia","Taranto","Prato","Parma","Modena","Reggio Calabria","Reggio Emilia","Perugia","Livorno","Ravenna","Cagliari","Foggia","Rimini","Salerno","Ferrara","Sassari","Latina","Giugliano in Campania","Monza","Syracuse","Pescara","Bergamo","Forl","Trento","Vicenza","Terni","Bolzano","Novara","Piacenza","Ancona","Andria","Arezzo","Udine","Cesena","Lecce","Pisa","Siena","Lucca","Como","La Spezia","Varese","Sorrento","Amalfi","Positano","Capri","Portofino","Cinque Terre","Matera","Assisi","Siracusa","Taormina","Pompeii","Pienza","San Gimignano","Orvieto"],France:["Paris","Marseille","Lyon","Toulouse","Nice","Nantes","Strasbourg","Montpellier","Bordeaux","Lille","Rennes","Reims","Le Havre","Saint-tienne","Toulon","Grenoble","Dijon","Angers","Nmes","Villeurbanne","Saint-Denis","Le Mans","Aix-en-Provence","Clermont-Ferrand","Brest","Tours","Amiens","Limoges","Annecy","Perpignan","Boulogne-Billancourt","Metz","Besanon","Orlans","Saint-Denis","Argenteuil","Rouen","Mulhouse","Montreuil","Caen","Nancy","Avignon","Cannes","Antibes","Saint-Tropez","Monaco","Versailles","Colmar","Chamonix","Annecy","Carcassonne","Arles","Aix-les-Bains","Menton","Grasse","Saint-Malo","La Rochelle","Biarritz","Lourdes","Mont-Saint-Michel","Giverny","Fontainebleau","Chartres","Beaune","pernay","Reims","Troyes"],Spain:["Madrid","Barcelona","Valencia","Seville","Bilbao","Mlaga","Granada"],Portugal:["Lisbon","Porto","Faro","Coimbra","Braga"],Germany:["Berlin","Munich","Hamburg","Frankfurt","Cologne","Stuttgart","Dsseldorf"],Austria:["Vienna","Salzburg","Innsbruck","Graz","Linz"],Netherlands:["Amsterdam","Rotterdam","The Hague","Utrecht","Eindhoven"],Belgium:["Brussels","Antwerp","Ghent","Bruges","Lige"],Greece:["Athens","Thessaloniki","Santorini","Mykonos","Crete","Rhodes"],"United Kingdom":["London","Edinburgh","Manchester","Liverpool","Oxford","Cambridge"],"Czech Republic":["Prague","Brno","esk Krumlov"],Croatia:["Zagreb","Dubrovnik","Split","Pula"],Poland:["Warsaw","Krakow","Gdansk","Wroclaw"],Hungary:["Budapest","Debrecen","Szeged"],"United States":["New York","Los Angeles","Chicago","San Francisco","Miami","Las Vegas"],Canada:["Toronto","Vancouver","Montreal","Quebec City","Calgary"],Japan:["Tokyo","Kyoto","Osaka","Hiroshima","Nara"],"South Korea":["Seoul","Busan","Jeju"],Thailand:["Bangkok","Chiang Mai","Phuket","Pattaya"],Australia:["Sydney","Melbourne","Brisbane","Perth","Adelaide"],"New Zealand":["Auckland","Wellington","Christchurch","Queenstown"],Brazil:["Rio de Janeiro","So Paulo","Salvador","Braslia"],Argentina:["Buenos Aires","Mendoza","Bariloche","Crdoba"],Mexico:["Mexico City","Cancun","Playa del Carmen","Guadalajara"],Egypt:["Cairo","Alexandria","Luxor","Aswan"],"United Arab Emirates":["Dubai","Abu Dhabi","Sharjah"],Turkey:["Istanbul","Ankara","Antalya","Izmir"],Morocco:["Marrakech","Casablanca","Fes","Rabat"],"South Africa":["Cape Town","Johannesburg","Durban","Pretoria"]},gT=({onCreateTrip:t})=>{const{trips:e,loading:n,deleteTrip:r}=b0(),[i,s]=H.useState([]),[o,u]=H.useState(!1),[c,d]=H.useState(""),[h,p]=H.useState([{startDate:new Date,endDate:new Date(Date.now()+7*24*60*60*1e3),key:"selection"}]),[v,E]=H.useState(!1),[O,I]=H.useState(""),[A,b]=H.useState(!1),[S,M]=H.useState(null),[j,U]=H.useState(!1),[$,T]=H.useState(null),w=H.useRef(null),P=H.useRef(null),N=Object.keys(CG).filter(L=>!i.includes(L)).filter(L=>L.toLowerCase().includes(c.toLowerCase())),R=L=>{s([...i,L]),d(""),u(!1)},x=L=>{s(i.filter(C=>C!==L))},$e=L=>{M(L)},Ye=(L,C)=>{L.preventDefault()},_t=(L,C)=>{if(L.preventDefault(),S===null||S===C)return;const z=[...i],[J]=z.splice(S,1);z.splice(C,0,J),s(z),M(null)},xe=()=>i.length===0?"":i.length===1?`Trip to ${i[0]}`:i.length===2?`Trip to ${i[0]} & ${i[1]}`:`Trip to ${i.slice(0,-1).join(", ")} & ${i[i.length-1]}`;H.useEffect(()=>{A||I(xe())},[i,A]),H.useEffect(()=>{const L=C=>{w.current&&!w.current.contains(C.target)&&E(!1)};return v&&document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[v]),H.useEffect(()=>{const L=C=>{P.current&&!P.current.contains(C.target)&&u(!1)};return o&&document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[o]);const q=L=>{const C=L.getFullYear(),z=String(L.getMonth()+1).padStart(2,"0"),J=String(L.getDate()).padStart(2,"0");return`${C}-${z}-${J}`},ie=async()=>{if(i.length===0){alert("Please select at least one country");return}if(!O.trim()){alert("Please enter a trip name");return}const L={id:Date.now(),name:O.trim(),startDate:q(h[0].startDate),endDate:q(h[0].endDate),countries:i};try{console.log("TripSetup: creating trip",L),await t(L),console.log("TripSetup: onCreateTrip resolved")}catch(C){console.error("Failed to create trip:",C),alert("Failed to create trip. Please try again.")}},ue=async L=>{console.log("TripSetup: selecting existing trip",L),await t(L)},Se=L=>{T(L),U(!0)},Y=async()=>{if($)try{await r($.id)}catch(L){console.error("Failed to delete trip:",L),alert("Failed to delete trip. Please try again.")}finally{U(!1),T(null)}},W=e.sort((L,C)=>new Date(C.startDate)-new Date(L.startDate)).slice(0,6);return m.jsxs("div",{className:"min-h-screen bg-[#F8F9FA] flex items-center justify-center p-4",children:[m.jsxs("div",{className:"max-w-2xl w-full",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-block p-4 bg-gradient-to-br from-[#FF6B6B] to-[#FF8E53] rounded-3xl shadow-lg mb-4",children:m.jsx(_f,{className:"w-12 h-12 text-white"})}),m.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Plan Your Adventure"}),m.jsx("p",{className:"text-gray-600 text-lg",children:"Tell us where you're going and when"})]}),m.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6 sm:p-8 border-2 border-gray-50",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-3",children:"Where are you travelling to?"}),m.jsxs("div",{className:"flex flex-wrap gap-3 mb-3",children:[i.map((L,C)=>m.jsxs("div",{draggable:!0,onDragStart:()=>$e(C),onDragOver:z=>Ye(z),onDrop:z=>_t(z,C),className:`flex items-center gap-2 px-5 py-3 bg-gradient-to-r from-[#FF6B6B]/10 to-[#FF8E53]/10 text-[#FF6B6B] rounded-full border-2 border-[#FF6B6B]/20 cursor-move hover:shadow-md hover:border-[#FF6B6B]/40 transition-all ${S===C?"opacity-50 scale-95":""}`,children:[m.jsx(nb,{size:20,className:"text-[#FF6B6B]/60 flex-shrink-0"}),m.jsx("span",{className:"font-medium text-base",children:L}),m.jsx("button",{onClick:z=>{z.stopPropagation(),x(L)},className:"hover:bg-[#FF6B6B]/20 rounded-full p-1 transition-colors",children:m.jsx(YD,{size:18})})]},L)),m.jsxs("button",{onClick:()=>u(!o),className:"flex items-center gap-2 px-5 py-3 border-2 border-dashed border-gray-300 hover:border-[#4ECDC4] text-gray-600 hover:text-[#4ECDC4] rounded-full transition-all",children:[m.jsx(gu,{size:18}),m.jsx("span",{className:"font-medium",children:"Add Country"})]})]}),i.length>1&&m.jsxs("p",{className:"text-xs text-gray-500 mb-3 flex items-center gap-1",children:[m.jsx(nb,{size:14}),"Drag countries to reorder them"]}),o&&m.jsxs("div",{ref:P,className:"relative mt-2",children:[m.jsx("input",{type:"text",placeholder:"Search countries...",value:c,onChange:L=>d(L.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-[#4ECDC4] transition-colors",autoFocus:!0}),m.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white border-2 border-gray-200 rounded-xl shadow-lg max-h-64 overflow-y-auto",children:N.length>0?N.map(L=>m.jsx("button",{onClick:()=>R(L),className:"w-full px-4 py-3 text-left hover:bg-gradient-to-r hover:from-[#4ECDC4]/10 hover:to-[#4ECDC4]/5 transition-colors border-b border-gray-100 last:border-b-0",children:m.jsx("span",{className:"font-medium",children:L})},L)):m.jsx("div",{className:"px-4 py-3 text-gray-500 text-center",children:"No countries found"})})]})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-3",children:"When are you going?"}),m.jsxs("button",{onClick:()=>E(!v),className:"w-full px-4 py-3 bg-gradient-to-r from-[#4ECDC4]/10 to-[#4ECDC4]/5 border-2 border-[#4ECDC4]/30 hover:border-[#4ECDC4] rounded-xl transition-all flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(bp,{className:"text-[#4ECDC4]",size:20}),m.jsxs("span",{className:"font-medium text-gray-700",children:[h[0].startDate.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),"  ",h[0].endDate.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),m.jsxs("span",{className:"text-sm text-gray-500",children:[Math.ceil((h[0].endDate-h[0].startDate)/(1e3*60*60*24))+1," days"]})]}),v&&m.jsx("div",{ref:w,className:"mt-4 flex justify-center",children:m.jsx("div",{className:"inline-block bg-white border-2 border-gray-200 rounded-xl shadow-lg p-4",children:m.jsx(Wv.DateRange,{ranges:h,onChange:L=>{const C=L.selection;p([C]),C.startDate&&C.endDate&&C.startDate.getTime()!==C.endDate.getTime()&&E(!1)},months:2,direction:"horizontal",showDateDisplay:!1,rangeColors:["#4ECDC4"],className:"rounded-xl"})})})]}),i.length>0&&m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-3",children:"Trip Name"}),m.jsx("input",{type:"text",value:O,onChange:L=>{I(L.target.value),b(!0)},onBlur:()=>{O.trim()||(I(xe()),b(!1))},placeholder:"Enter trip name",className:"w-full px-4 py-3 border-2 border-[#FFE66D]/30 bg-gradient-to-r from-[#FFE66D]/10 to-[#FFE66D]/5 rounded-xl focus:outline-none focus:border-[#FFE66D] focus:bg-white transition-colors text-lg font-semibold text-gray-900"})]}),m.jsx("button",{onClick:ie,disabled:i.length===0,className:"w-full px-6 py-4 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] text-white rounded-xl font-semibold text-lg hover:shadow-lg transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:"Create My Trip"})]}),!n&&W.length>0&&m.jsxs("div",{className:"mt-8",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(AB,{size:20,className:"text-[#4ECDC4]"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Trips"})]}),m.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Continue planning one of your previous trips"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:W.map(L=>m.jsxs("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl border-2 border-gray-50 hover:border-[#4ECDC4] p-5 text-left transition-all hover:scale-[1.02] group relative",children:[m.jsx("button",{onClick:()=>Se(L),className:"absolute top-3 right-3 p-2 rounded-full hover:bg-red-50 text-red-500 transition-colors",title:"Delete trip",children:m.jsx(Ou,{size:18})}),m.jsxs("button",{onClick:()=>ue(L),className:"w-full text-left",children:[m.jsx("div",{className:"flex items-start justify-between mb-3 pr-6",children:m.jsx("h3",{className:"font-bold text-lg text-gray-900 line-clamp-2 group-hover:text-[#4ECDC4] transition-colors",children:L.name})}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[m.jsx(bp,{size:14,className:"text-[#4ECDC4]"}),m.jsxs("span",{children:[new Date(L.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(L.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),L.countries&&L.countries.length>0&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(_f,{size:14,className:"text-[#FF6B6B]"}),m.jsxs("div",{className:"flex flex-wrap gap-1",children:[L.countries.slice(0,2).map((C,z)=>m.jsx("span",{className:"text-xs px-2 py-1 bg-gradient-to-r from-[#FF6B6B]/10 to-[#FF8E53]/10 text-[#FF6B6B] rounded-full font-medium",children:C},z)),L.countries.length>2&&m.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-full font-medium",children:["+",L.countries.length-2]})]})]})]}),m.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:m.jsx("span",{className:"text-xs text-[#4ECDC4] font-medium group-hover:underline",children:"Continue Planning "})})]})]},L.id))})]})]}),j&&$&&m.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 px-4",children:m.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-md w-full",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-red-50 flex items-center justify-center",children:m.jsx(Ou,{className:"text-red-500",size:20})}),m.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Delete trip?"})]}),m.jsxs("p",{className:"text-gray-600 mb-6",children:['"',$.name,'" will be removed from your trips. This action cannot be undone.']}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[m.jsx("button",{onClick:Y,className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:shadow-lg transition-all",children:"Delete Trip"}),m.jsx("button",{onClick:()=>{U(!1),T(null)},className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl hover:bg-gray-50 transition-all",children:"Cancel"})]})]})})]})},NG=()=>{const{currentUser:t,loading:e}=aa(),{currentTrip:n,loading:r,saveCurrentTrip:i}=aM(),{saveTrip:s}=b0(),[o,u]=Sg.useState(null),[c,d]=Sg.useState(!1);if(e||t&&r)return m.jsx("div",{className:"min-h-screen bg-[#F8F9FA] flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 border-4 border-[#4ECDC4]/20 border-t-[#4ECDC4] rounded-full animate-spin mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600 text-lg",children:"Loading..."})]})});if(!t)return m.jsx(MG,{});if(typeof window<"u"&&localStorage.getItem("showSetupOnLogin")==="1"&&!o&&(!n||!n.id)){try{localStorage.removeItem("showSetupOnLogin")}catch(h){console.warn("Could not remove showSetupOnLogin flag",h)}return m.jsx(gT,{onCreateTrip:async h=>{try{await s(h),await i(h),u(h),d(!1)}catch(p){console.error("Failed to create trip:",p),alert("Failed to create trip. Please try again.")}}})}return c||!n||!n.id?o&&!c?m.jsx(mT,{initialTrip:o,onExitTrip:()=>{u(null),d(!0)}}):m.jsx(gT,{onCreateTrip:async h=>{try{console.log("App: onCreateTrip start",h),await s(h),console.log("App: saveTrip completed"),await i(h),console.log("App: saveCurrentTrip completed"),u(h),console.log("App: setCreatedTrip",h),d(!1)}catch(p){console.error("Failed to create trip:",p),alert("Failed to create trip. Please try again.")}}}):m.jsx(mT,{onExitTrip:()=>{u(null),d(!0)}})},Yp=document.getElementById("root"),oM=Yp._reactRoot||Pg.createRoot(Yp);Yp._reactRoot=oM;oM.render(m.jsx(Sg.StrictMode,{children:m.jsx(PG,{children:m.jsx(NG,{})})}));
