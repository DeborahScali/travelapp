var SO=Object.defineProperty;var PO=(t,e,r)=>e in t?SO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var fe=(t,e,r)=>PO(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var IO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function CO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function OO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var PE={exports:{}},sm={},IE={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed=Symbol.for("react.element"),NO=Symbol.for("react.portal"),jO=Symbol.for("react.fragment"),MO=Symbol.for("react.strict_mode"),RO=Symbol.for("react.profiler"),AO=Symbol.for("react.provider"),FO=Symbol.for("react.context"),kO=Symbol.for("react.forward_ref"),LO=Symbol.for("react.suspense"),VO=Symbol.for("react.memo"),zO=Symbol.for("react.lazy"),xx=Symbol.iterator;function UO(t){return t===null||typeof t!="object"?null:(t=xx&&t[xx]||t["@@iterator"],typeof t=="function"?t:null)}var CE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OE=Object.assign,NE={};function Mu(t,e,r){this.props=t,this.context=e,this.refs=NE,this.updater=r||CE}Mu.prototype.isReactComponent={};Mu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jE(){}jE.prototype=Mu.prototype;function Vv(t,e,r){this.props=t,this.context=e,this.refs=NE,this.updater=r||CE}var zv=Vv.prototype=new jE;zv.constructor=Vv;OE(zv,Mu.prototype);zv.isPureReactComponent=!0;var wx=Array.isArray,ME=Object.prototype.hasOwnProperty,Uv={current:null},RE={key:!0,ref:!0,__self:!0,__source:!0};function AE(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ME.call(e,n)&&!RE.hasOwnProperty(n)&&(s[n]=e[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+2];s.children=d}if(t&&t.defaultProps)for(n in c=t.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:Ed,type:t,key:i,ref:o,props:s,_owner:Uv.current}}function BO(t,e){return{$$typeof:Ed,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ed}function WO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var bx=/\/+/g;function hg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WO(""+t.key):e.toString(36)}function $f(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ed:case NO:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+hg(o,0):n,wx(s)?(r="",t!=null&&(r=t.replace(bx,"$&/")+"/"),$f(s,e,r,"",function(h){return h})):s!=null&&(Bv(s)&&(s=BO(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",wx(t))for(var c=0;c<t.length;c++){i=t[c];var d=n+hg(i,c);o+=$f(i,e,r,d,s)}else if(d=UO(t),typeof d=="function")for(t=d.call(t),c=0;!(i=t.next()).done;)i=i.value,d=n+hg(i,c++),o+=$f(i,e,r,d,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function af(t,e,r){if(t==null)return t;var n=[],s=0;return $f(t,n,"","",function(i){return e.call(r,i,s++)}),n}function $O(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zr={current:null},Hf={transition:null},HO={ReactCurrentDispatcher:zr,ReactCurrentBatchConfig:Hf,ReactCurrentOwner:Uv};function FE(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:af,forEach:function(t,e,r){af(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return af(t,function(){e++}),e},toArray:function(t){return af(t,function(e){return e})||[]},only:function(t){if(!Bv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ze.Component=Mu;ze.Fragment=jO;ze.Profiler=RO;ze.PureComponent=Vv;ze.StrictMode=MO;ze.Suspense=LO;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HO;ze.act=FE;ze.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=OE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Uv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(d in e)ME.call(e,d)&&!RE.hasOwnProperty(d)&&(n[d]=e[d]===void 0&&c!==void 0?c[d]:e[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];n.children=c}return{$$typeof:Ed,type:t.type,key:s,ref:i,props:n,_owner:o}};ze.createContext=function(t){return t={$$typeof:FO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AO,_context:t},t.Consumer=t};ze.createElement=AE;ze.createFactory=function(t){var e=AE.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:kO,render:t}};ze.isValidElement=Bv;ze.lazy=function(t){return{$$typeof:zO,_payload:{_status:-1,_result:t},_init:$O}};ze.memo=function(t,e){return{$$typeof:VO,type:t,compare:e===void 0?null:e}};ze.startTransition=function(t){var e=Hf.transition;Hf.transition={};try{t()}finally{Hf.transition=e}};ze.unstable_act=FE;ze.useCallback=function(t,e){return zr.current.useCallback(t,e)};ze.useContext=function(t){return zr.current.useContext(t)};ze.useDebugValue=function(){};ze.useDeferredValue=function(t){return zr.current.useDeferredValue(t)};ze.useEffect=function(t,e){return zr.current.useEffect(t,e)};ze.useId=function(){return zr.current.useId()};ze.useImperativeHandle=function(t,e,r){return zr.current.useImperativeHandle(t,e,r)};ze.useInsertionEffect=function(t,e){return zr.current.useInsertionEffect(t,e)};ze.useLayoutEffect=function(t,e){return zr.current.useLayoutEffect(t,e)};ze.useMemo=function(t,e){return zr.current.useMemo(t,e)};ze.useReducer=function(t,e,r){return zr.current.useReducer(t,e,r)};ze.useRef=function(t){return zr.current.useRef(t)};ze.useState=function(t){return zr.current.useState(t)};ze.useSyncExternalStore=function(t,e,r){return zr.current.useSyncExternalStore(t,e,r)};ze.useTransition=function(){return zr.current.useTransition()};ze.version="18.3.1";IE.exports=ze;var z=IE.exports;const zn=CO(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YO=z,qO=Symbol.for("react.element"),GO=Symbol.for("react.fragment"),KO=Object.prototype.hasOwnProperty,QO=YO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XO={key:!0,ref:!0,__self:!0,__source:!0};function kE(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)KO.call(e,n)&&!XO.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:qO,type:t,key:i,ref:o,props:s,_owner:QO.current}}sm.Fragment=GO;sm.jsx=kE;sm.jsxs=kE;PE.exports=sm;var u=PE.exports,yp={},LE={exports:{}},wn={},VE={exports:{}},zE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,de){var ce=Z.length;Z.push(de);e:for(;0<ce;){var De=ce-1>>>1,J=Z[De];if(0<s(J,de))Z[De]=de,Z[ce]=J,ce=De;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var de=Z[0],ce=Z.pop();if(ce!==de){Z[0]=ce;e:for(var De=0,J=Z.length,G=J>>>1;De<G;){var B=2*(De+1)-1,F=Z[B],K=B+1,ae=Z[K];if(0>s(F,ce))K<J&&0>s(ae,F)?(Z[De]=ae,Z[K]=ce,De=K):(Z[De]=F,Z[B]=ce,De=B);else if(K<J&&0>s(ae,ce))Z[De]=ae,Z[K]=ce,De=K;else break e}}return de}function s(Z,de){var ce=Z.sortIndex-de.sortIndex;return ce!==0?ce:Z.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],g=1,v=null,y=3,E=!1,N=!1,D=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Z){for(var de=r(h);de!==null;){if(de.callback===null)n(h);else if(de.startTime<=Z)n(h),de.sortIndex=de.expirationTime,e(d,de);else break;de=r(h)}}function R(Z){if(D=!1,C(Z),!N)if(r(d)!==null)N=!0,le(Y);else{var de=r(h);de!==null&&Oe(R,de.startTime-Z)}}function Y(Z,de){N=!1,D&&(D=!1,S(b),b=-1),E=!0;var ce=y;try{for(C(de),v=r(d);v!==null&&(!(v.expirationTime>de)||Z&&!M());){var De=v.callback;if(typeof De=="function"){v.callback=null,y=v.priorityLevel;var J=De(v.expirationTime<=de);de=t.unstable_now(),typeof J=="function"?v.callback=J:v===r(d)&&n(d),C(de)}else n(d);v=r(d)}if(v!==null)var G=!0;else{var B=r(h);B!==null&&Oe(R,B.startTime-de),G=!1}return G}finally{v=null,y=ce,E=!1}}var q=!1,T=null,b=-1,I=5,j=-1;function M(){return!(t.unstable_now()-j<I)}function V(){if(T!==null){var Z=t.unstable_now();j=Z;var de=!0;try{de=T(!0,Z)}finally{de?O():(q=!1,T=null)}}else q=!1}var O;if(typeof P=="function")O=function(){P(V)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,tt=et.port2;et.port1.onmessage=V,O=function(){tt.postMessage(null)}}else O=function(){k(V,0)};function le(Z){T=Z,q||(q=!0,O())}function Oe(Z,de){b=k(function(){Z(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){N||E||(N=!0,le(Y))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var de=3;break;default:de=y}var ce=y;y=de;try{return Z()}finally{y=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,de){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ce=y;y=Z;try{return de()}finally{y=ce}},t.unstable_scheduleCallback=function(Z,de,ce){var De=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?De+ce:De):ce=De,Z){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ce+J,Z={id:g++,callback:de,priorityLevel:Z,startTime:ce,expirationTime:J,sortIndex:-1},ce>De?(Z.sortIndex=ce,e(h,Z),r(d)===null&&Z===r(h)&&(D?(S(b),b=-1):D=!0,Oe(R,ce-De))):(Z.sortIndex=J,e(d,Z),N||E||(N=!0,le(Y))),Z},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Z){var de=y;return function(){var ce=y;y=de;try{return Z.apply(this,arguments)}finally{y=ce}}}})(zE);VE.exports=zE;var JO=VE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZO=z,_n=JO;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UE=new Set,Xc={};function fl(t,e){gu(t,e),gu(t+"Capture",e)}function gu(t,e){for(Xc[t]=e,t=0;t<e.length;t++)UE.add(e[t])}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_p=Object.prototype.hasOwnProperty,eN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ex={},Dx={};function tN(t){return _p.call(Dx,t)?!0:_p.call(Ex,t)?!1:eN.test(t)?Dx[t]=!0:(Ex[t]=!0,!1)}function rN(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nN(t,e,r,n){if(e===null||typeof e>"u"||rN(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ur(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){hr[t]=new Ur(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];hr[e]=new Ur(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){hr[t]=new Ur(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){hr[t]=new Ur(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){hr[t]=new Ur(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){hr[t]=new Ur(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){hr[t]=new Ur(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){hr[t]=new Ur(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){hr[t]=new Ur(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wv=/[\-:]([a-z])/g;function $v(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wv,$v);hr[e]=new Ur(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wv,$v);hr[e]=new Ur(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wv,$v);hr[e]=new Ur(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){hr[t]=new Ur(t,1,!1,t.toLowerCase(),null,!1,!1)});hr.xlinkHref=new Ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){hr[t]=new Ur(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hv(t,e,r,n){var s=hr.hasOwnProperty(e)?hr[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nN(e,r,s,n)&&(r=null),n||s===null?tN(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ra=ZO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,of=Symbol.for("react.element"),Yl=Symbol.for("react.portal"),ql=Symbol.for("react.fragment"),Yv=Symbol.for("react.strict_mode"),xp=Symbol.for("react.profiler"),BE=Symbol.for("react.provider"),WE=Symbol.for("react.context"),qv=Symbol.for("react.forward_ref"),wp=Symbol.for("react.suspense"),bp=Symbol.for("react.suspense_list"),Gv=Symbol.for("react.memo"),Wa=Symbol.for("react.lazy"),$E=Symbol.for("react.offscreen"),Tx=Symbol.iterator;function nc(t){return t===null||typeof t!="object"?null:(t=Tx&&t[Tx]||t["@@iterator"],typeof t=="function"?t:null)}var It=Object.assign,mg;function Tc(t){if(mg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);mg=e&&e[1]||""}return`
`+mg+t}var gg=!1;function pg(t,e){if(!t||gg)return"";gg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,c=i.length-1;1<=o&&0<=c&&s[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==i[c]){var d=`
`+s[o].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=o&&0<=c);break}}}finally{gg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Tc(t):""}function sN(t){switch(t.tag){case 5:return Tc(t.type);case 16:return Tc("Lazy");case 13:return Tc("Suspense");case 19:return Tc("SuspenseList");case 0:case 2:case 15:return t=pg(t.type,!1),t;case 11:return t=pg(t.type.render,!1),t;case 1:return t=pg(t.type,!0),t;default:return""}}function Ep(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ql:return"Fragment";case Yl:return"Portal";case xp:return"Profiler";case Yv:return"StrictMode";case wp:return"Suspense";case bp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WE:return(t.displayName||"Context")+".Consumer";case BE:return(t._context.displayName||"Context")+".Provider";case qv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gv:return e=t.displayName||null,e!==null?e:Ep(t.type)||"Memo";case Wa:e=t._payload,t=t._init;try{return Ep(t(e))}catch{}}return null}function iN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ep(e);case 8:return e===Yv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ho(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function HE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aN(t){var e=HE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lf(t){t._valueTracker||(t._valueTracker=aN(t))}function YE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=HE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function dh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dp(t,e){var r=e.checked;return It({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Sx(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ho(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qE(t,e){e=e.checked,e!=null&&Hv(t,"checked",e,!1)}function Tp(t,e){qE(t,e);var r=ho(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sp(t,e.type,r):e.hasOwnProperty("defaultValue")&&Sp(t,e.type,ho(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Px(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Sp(t,e,r){(e!=="number"||dh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Sc=Array.isArray;function iu(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ho(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Pp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return It({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ix(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(re(92));if(Sc(r)){if(1<r.length)throw Error(re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ho(r)}}function GE(t,e){var r=ho(e.value),n=ho(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Cx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function KE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ip(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uf,QE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uf=uf||document.createElement("div"),uf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Rc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oN=["Webkit","ms","Moz","O"];Object.keys(Rc).forEach(function(t){oN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rc[e]=Rc[t]})});function XE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Rc.hasOwnProperty(t)&&Rc[t]?(""+e).trim():e+"px"}function JE(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=XE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var lN=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cp(t,e){if(e){if(lN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Op(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Np=null;function Kv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jp=null,au=null,ou=null;function Ox(t){if(t=Sd(t)){if(typeof jp!="function")throw Error(re(280));var e=t.stateNode;e&&(e=um(e),jp(t.stateNode,t.type,e))}}function ZE(t){au?ou?ou.push(t):ou=[t]:au=t}function e2(){if(au){var t=au,e=ou;if(ou=au=null,Ox(t),e)for(t=0;t<e.length;t++)Ox(e[t])}}function t2(t,e){return t(e)}function r2(){}var vg=!1;function n2(t,e,r){if(vg)return t(e,r);vg=!0;try{return t2(t,e,r)}finally{vg=!1,(au!==null||ou!==null)&&(r2(),e2())}}function Zc(t,e){var r=t.stateNode;if(r===null)return null;var n=um(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(re(231,e,typeof r));return r}var Mp=!1;if(Yi)try{var sc={};Object.defineProperty(sc,"passive",{get:function(){Mp=!0}}),window.addEventListener("test",sc,sc),window.removeEventListener("test",sc,sc)}catch{Mp=!1}function uN(t,e,r,n,s,i,o,c,d){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(g){this.onError(g)}}var Ac=!1,fh=null,hh=!1,Rp=null,cN={onError:function(t){Ac=!0,fh=t}};function dN(t,e,r,n,s,i,o,c,d){Ac=!1,fh=null,uN.apply(cN,arguments)}function fN(t,e,r,n,s,i,o,c,d){if(dN.apply(this,arguments),Ac){if(Ac){var h=fh;Ac=!1,fh=null}else throw Error(re(198));hh||(hh=!0,Rp=h)}}function hl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function s2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nx(t){if(hl(t)!==t)throw Error(re(188))}function hN(t){var e=t.alternate;if(!e){if(e=hl(t),e===null)throw Error(re(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Nx(s),t;if(i===n)return Nx(s),e;i=i.sibling}throw Error(re(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,c=s.child;c;){if(c===r){o=!0,r=s,n=i;break}if(c===n){o=!0,n=s,r=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===r){o=!0,r=i,n=s;break}if(c===n){o=!0,n=i,r=s;break}c=c.sibling}if(!o)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?t:e}function i2(t){return t=hN(t),t!==null?a2(t):null}function a2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=a2(t);if(e!==null)return e;t=t.sibling}return null}var o2=_n.unstable_scheduleCallback,jx=_n.unstable_cancelCallback,mN=_n.unstable_shouldYield,gN=_n.unstable_requestPaint,zt=_n.unstable_now,pN=_n.unstable_getCurrentPriorityLevel,Qv=_n.unstable_ImmediatePriority,l2=_n.unstable_UserBlockingPriority,mh=_n.unstable_NormalPriority,vN=_n.unstable_LowPriority,u2=_n.unstable_IdlePriority,im=null,Gs=null;function yN(t){if(Gs&&typeof Gs.onCommitFiberRoot=="function")try{Gs.onCommitFiberRoot(im,t,void 0,(t.current.flags&128)===128)}catch{}}var gs=Math.clz32?Math.clz32:wN,_N=Math.log,xN=Math.LN2;function wN(t){return t>>>=0,t===0?32:31-(_N(t)/xN|0)|0}var cf=64,df=4194304;function Pc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var c=o&~s;c!==0?n=Pc(c):(i&=o,i!==0&&(n=Pc(i)))}else o=r&~s,o!==0?n=Pc(o):i!==0&&(n=Pc(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-gs(e),s=1<<r,n|=t[r],e&=~s;return n}function bN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EN(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-gs(i),c=1<<o,d=s[o];d===-1?(!(c&r)||c&n)&&(s[o]=bN(c,e)):d<=e&&(t.expiredLanes|=c),i&=~c}}function Ap(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function c2(){var t=cf;return cf<<=1,!(cf&4194240)&&(cf=64),t}function yg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Dd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gs(e),t[e]=r}function DN(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-gs(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Xv(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-gs(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var rt=0;function d2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var f2,Jv,h2,m2,g2,Fp=!1,ff=[],Za=null,eo=null,to=null,ed=new Map,td=new Map,Ha=[],TN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mx(t,e){switch(t){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":ed.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":td.delete(e.pointerId)}}function ic(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Sd(e),e!==null&&Jv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function SN(t,e,r,n,s){switch(e){case"focusin":return Za=ic(Za,t,e,r,n,s),!0;case"dragenter":return eo=ic(eo,t,e,r,n,s),!0;case"mouseover":return to=ic(to,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return ed.set(i,ic(ed.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,td.set(i,ic(td.get(i)||null,t,e,r,n,s)),!0}return!1}function p2(t){var e=Yo(t.target);if(e!==null){var r=hl(e);if(r!==null){if(e=r.tag,e===13){if(e=s2(r),e!==null){t.blockedOn=e,g2(t.priority,function(){h2(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=kp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Np=n,r.target.dispatchEvent(n),Np=null}else return e=Sd(r),e!==null&&Jv(e),t.blockedOn=r,!1;e.shift()}return!0}function Rx(t,e,r){Yf(t)&&r.delete(e)}function PN(){Fp=!1,Za!==null&&Yf(Za)&&(Za=null),eo!==null&&Yf(eo)&&(eo=null),to!==null&&Yf(to)&&(to=null),ed.forEach(Rx),td.forEach(Rx)}function ac(t,e){t.blockedOn===e&&(t.blockedOn=null,Fp||(Fp=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,PN)))}function rd(t){function e(s){return ac(s,t)}if(0<ff.length){ac(ff[0],t);for(var r=1;r<ff.length;r++){var n=ff[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Za!==null&&ac(Za,t),eo!==null&&ac(eo,t),to!==null&&ac(to,t),ed.forEach(e),td.forEach(e),r=0;r<Ha.length;r++)n=Ha[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ha.length&&(r=Ha[0],r.blockedOn===null);)p2(r),r.blockedOn===null&&Ha.shift()}var lu=ra.ReactCurrentBatchConfig,ph=!0;function IN(t,e,r,n){var s=rt,i=lu.transition;lu.transition=null;try{rt=1,Zv(t,e,r,n)}finally{rt=s,lu.transition=i}}function CN(t,e,r,n){var s=rt,i=lu.transition;lu.transition=null;try{rt=4,Zv(t,e,r,n)}finally{rt=s,lu.transition=i}}function Zv(t,e,r,n){if(ph){var s=kp(t,e,r,n);if(s===null)Ig(t,e,n,vh,r),Mx(t,n);else if(SN(s,t,e,r,n))n.stopPropagation();else if(Mx(t,n),e&4&&-1<TN.indexOf(t)){for(;s!==null;){var i=Sd(s);if(i!==null&&f2(i),i=kp(t,e,r,n),i===null&&Ig(t,e,n,vh,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ig(t,e,n,null,r)}}var vh=null;function kp(t,e,r,n){if(vh=null,t=Kv(n),t=Yo(t),t!==null)if(e=hl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=s2(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vh=t,null}function v2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pN()){case Qv:return 1;case l2:return 4;case mh:case vN:return 16;case u2:return 536870912;default:return 16}default:return 16}}var Qa=null,e0=null,qf=null;function y2(){if(qf)return qf;var t,e=e0,r=e.length,n,s="value"in Qa?Qa.value:Qa.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return qf=s.slice(t,1<n?1-n:void 0)}function Gf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hf(){return!0}function Ax(){return!1}function bn(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(r=t[c],this[c]=r?r(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hf:Ax,this.isPropagationStopped=Ax,this}return It(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hf)},persist:function(){},isPersistent:hf}),e}var Ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t0=bn(Ru),Td=It({},Ru,{view:0,detail:0}),ON=bn(Td),_g,xg,oc,am=It({},Td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oc&&(oc&&t.type==="mousemove"?(_g=t.screenX-oc.screenX,xg=t.screenY-oc.screenY):xg=_g=0,oc=t),_g)},movementY:function(t){return"movementY"in t?t.movementY:xg}}),Fx=bn(am),NN=It({},am,{dataTransfer:0}),jN=bn(NN),MN=It({},Td,{relatedTarget:0}),wg=bn(MN),RN=It({},Ru,{animationName:0,elapsedTime:0,pseudoElement:0}),AN=bn(RN),FN=It({},Ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kN=bn(FN),LN=It({},Ru,{data:0}),kx=bn(LN),VN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UN[t])?!!e[t]:!1}function r0(){return BN}var WN=It({},Td,{key:function(t){if(t.key){var e=VN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r0,charCode:function(t){return t.type==="keypress"?Gf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$N=bn(WN),HN=It({},am,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lx=bn(HN),YN=It({},Td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r0}),qN=bn(YN),GN=It({},Ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),KN=bn(GN),QN=It({},am,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XN=bn(QN),JN=[9,13,27,32],n0=Yi&&"CompositionEvent"in window,Fc=null;Yi&&"documentMode"in document&&(Fc=document.documentMode);var ZN=Yi&&"TextEvent"in window&&!Fc,_2=Yi&&(!n0||Fc&&8<Fc&&11>=Fc),Vx=" ",zx=!1;function x2(t,e){switch(t){case"keyup":return JN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gl=!1;function ej(t,e){switch(t){case"compositionend":return w2(e);case"keypress":return e.which!==32?null:(zx=!0,Vx);case"textInput":return t=e.data,t===Vx&&zx?null:t;default:return null}}function tj(t,e){if(Gl)return t==="compositionend"||!n0&&x2(t,e)?(t=y2(),qf=e0=Qa=null,Gl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _2&&e.locale!=="ko"?null:e.data;default:return null}}var rj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ux(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rj[t.type]:e==="textarea"}function b2(t,e,r,n){ZE(n),e=yh(e,"onChange"),0<e.length&&(r=new t0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var kc=null,nd=null;function nj(t){M2(t,0)}function om(t){var e=Xl(t);if(YE(e))return t}function sj(t,e){if(t==="change")return e}var E2=!1;if(Yi){var bg;if(Yi){var Eg="oninput"in document;if(!Eg){var Bx=document.createElement("div");Bx.setAttribute("oninput","return;"),Eg=typeof Bx.oninput=="function"}bg=Eg}else bg=!1;E2=bg&&(!document.documentMode||9<document.documentMode)}function Wx(){kc&&(kc.detachEvent("onpropertychange",D2),nd=kc=null)}function D2(t){if(t.propertyName==="value"&&om(nd)){var e=[];b2(e,nd,t,Kv(t)),n2(nj,e)}}function ij(t,e,r){t==="focusin"?(Wx(),kc=e,nd=r,kc.attachEvent("onpropertychange",D2)):t==="focusout"&&Wx()}function aj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return om(nd)}function oj(t,e){if(t==="click")return om(e)}function lj(t,e){if(t==="input"||t==="change")return om(e)}function uj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ys=typeof Object.is=="function"?Object.is:uj;function sd(t,e){if(ys(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!_p.call(e,s)||!ys(t[s],e[s]))return!1}return!0}function $x(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hx(t,e){var r=$x(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$x(r)}}function T2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?T2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function S2(){for(var t=window,e=dh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=dh(t.document)}return e}function s0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cj(t){var e=S2(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&T2(r.ownerDocument.documentElement,r)){if(n!==null&&s0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Hx(r,i);var o=Hx(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dj=Yi&&"documentMode"in document&&11>=document.documentMode,Kl=null,Lp=null,Lc=null,Vp=!1;function Yx(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vp||Kl==null||Kl!==dh(n)||(n=Kl,"selectionStart"in n&&s0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Lc&&sd(Lc,n)||(Lc=n,n=yh(Lp,"onSelect"),0<n.length&&(e=new t0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Kl)))}function mf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ql={animationend:mf("Animation","AnimationEnd"),animationiteration:mf("Animation","AnimationIteration"),animationstart:mf("Animation","AnimationStart"),transitionend:mf("Transition","TransitionEnd")},Dg={},P2={};Yi&&(P2=document.createElement("div").style,"AnimationEvent"in window||(delete Ql.animationend.animation,delete Ql.animationiteration.animation,delete Ql.animationstart.animation),"TransitionEvent"in window||delete Ql.transitionend.transition);function lm(t){if(Dg[t])return Dg[t];if(!Ql[t])return t;var e=Ql[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in P2)return Dg[t]=e[r];return t}var I2=lm("animationend"),C2=lm("animationiteration"),O2=lm("animationstart"),N2=lm("transitionend"),j2=new Map,qx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xo(t,e){j2.set(t,e),fl(e,[t])}for(var Tg=0;Tg<qx.length;Tg++){var Sg=qx[Tg],fj=Sg.toLowerCase(),hj=Sg[0].toUpperCase()+Sg.slice(1);xo(fj,"on"+hj)}xo(I2,"onAnimationEnd");xo(C2,"onAnimationIteration");xo(O2,"onAnimationStart");xo("dblclick","onDoubleClick");xo("focusin","onFocus");xo("focusout","onBlur");xo(N2,"onTransitionEnd");gu("onMouseEnter",["mouseout","mouseover"]);gu("onMouseLeave",["mouseout","mouseover"]);gu("onPointerEnter",["pointerout","pointerover"]);gu("onPointerLeave",["pointerout","pointerover"]);fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ic));function Gx(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,fN(n,e,void 0,t),t.currentTarget=null}function M2(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var c=n[o],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==i&&s.isPropagationStopped())break e;Gx(s,c,h),i=d}else for(o=0;o<n.length;o++){if(c=n[o],d=c.instance,h=c.currentTarget,c=c.listener,d!==i&&s.isPropagationStopped())break e;Gx(s,c,h),i=d}}}if(hh)throw t=Rp,hh=!1,Rp=null,t}function vt(t,e){var r=e[$p];r===void 0&&(r=e[$p]=new Set);var n=t+"__bubble";r.has(n)||(R2(e,t,2,!1),r.add(n))}function Pg(t,e,r){var n=0;e&&(n|=4),R2(r,t,n,e)}var gf="_reactListening"+Math.random().toString(36).slice(2);function id(t){if(!t[gf]){t[gf]=!0,UE.forEach(function(r){r!=="selectionchange"&&(mj.has(r)||Pg(r,!1,t),Pg(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gf]||(e[gf]=!0,Pg("selectionchange",!1,e))}}function R2(t,e,r,n){switch(v2(e)){case 1:var s=IN;break;case 4:s=CN;break;default:s=Zv}r=s.bind(null,e,r,t),s=void 0,!Mp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Ig(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;o=o.return}for(;c!==null;){if(o=Yo(c),o===null)return;if(d=o.tag,d===5||d===6){n=i=o;continue e}c=c.parentNode}}n=n.return}n2(function(){var h=i,g=Kv(r),v=[];e:{var y=j2.get(t);if(y!==void 0){var E=t0,N=t;switch(t){case"keypress":if(Gf(r)===0)break e;case"keydown":case"keyup":E=$N;break;case"focusin":N="focus",E=wg;break;case"focusout":N="blur",E=wg;break;case"beforeblur":case"afterblur":E=wg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Fx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=jN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=qN;break;case I2:case C2:case O2:E=AN;break;case N2:E=KN;break;case"scroll":E=ON;break;case"wheel":E=XN;break;case"copy":case"cut":case"paste":E=kN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Lx}var D=(e&4)!==0,k=!D&&t==="scroll",S=D?y!==null?y+"Capture":null:y;D=[];for(var P=h,C;P!==null;){C=P;var R=C.stateNode;if(C.tag===5&&R!==null&&(C=R,S!==null&&(R=Zc(P,S),R!=null&&D.push(ad(P,R,C)))),k)break;P=P.return}0<D.length&&(y=new E(y,N,null,r,g),v.push({event:y,listeners:D}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",y&&r!==Np&&(N=r.relatedTarget||r.fromElement)&&(Yo(N)||N[qi]))break e;if((E||y)&&(y=g.window===g?g:(y=g.ownerDocument)?y.defaultView||y.parentWindow:window,E?(N=r.relatedTarget||r.toElement,E=h,N=N?Yo(N):null,N!==null&&(k=hl(N),N!==k||N.tag!==5&&N.tag!==6)&&(N=null)):(E=null,N=h),E!==N)){if(D=Fx,R="onMouseLeave",S="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(D=Lx,R="onPointerLeave",S="onPointerEnter",P="pointer"),k=E==null?y:Xl(E),C=N==null?y:Xl(N),y=new D(R,P+"leave",E,r,g),y.target=k,y.relatedTarget=C,R=null,Yo(g)===h&&(D=new D(S,P+"enter",N,r,g),D.target=C,D.relatedTarget=k,R=D),k=R,E&&N)t:{for(D=E,S=N,P=0,C=D;C;C=Al(C))P++;for(C=0,R=S;R;R=Al(R))C++;for(;0<P-C;)D=Al(D),P--;for(;0<C-P;)S=Al(S),C--;for(;P--;){if(D===S||S!==null&&D===S.alternate)break t;D=Al(D),S=Al(S)}D=null}else D=null;E!==null&&Kx(v,y,E,D,!1),N!==null&&k!==null&&Kx(v,k,N,D,!0)}}e:{if(y=h?Xl(h):window,E=y.nodeName&&y.nodeName.toLowerCase(),E==="select"||E==="input"&&y.type==="file")var Y=sj;else if(Ux(y))if(E2)Y=lj;else{Y=aj;var q=ij}else(E=y.nodeName)&&E.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(Y=oj);if(Y&&(Y=Y(t,h))){b2(v,Y,r,g);break e}q&&q(t,y,h),t==="focusout"&&(q=y._wrapperState)&&q.controlled&&y.type==="number"&&Sp(y,"number",y.value)}switch(q=h?Xl(h):window,t){case"focusin":(Ux(q)||q.contentEditable==="true")&&(Kl=q,Lp=h,Lc=null);break;case"focusout":Lc=Lp=Kl=null;break;case"mousedown":Vp=!0;break;case"contextmenu":case"mouseup":case"dragend":Vp=!1,Yx(v,r,g);break;case"selectionchange":if(dj)break;case"keydown":case"keyup":Yx(v,r,g)}var T;if(n0)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gl?x2(t,r)&&(b="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(_2&&r.locale!=="ko"&&(Gl||b!=="onCompositionStart"?b==="onCompositionEnd"&&Gl&&(T=y2()):(Qa=g,e0="value"in Qa?Qa.value:Qa.textContent,Gl=!0)),q=yh(h,b),0<q.length&&(b=new kx(b,t,null,r,g),v.push({event:b,listeners:q}),T?b.data=T:(T=w2(r),T!==null&&(b.data=T)))),(T=ZN?ej(t,r):tj(t,r))&&(h=yh(h,"onBeforeInput"),0<h.length&&(g=new kx("onBeforeInput","beforeinput",null,r,g),v.push({event:g,listeners:h}),g.data=T))}M2(v,e)})}function ad(t,e,r){return{instance:t,listener:e,currentTarget:r}}function yh(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Zc(t,r),i!=null&&n.unshift(ad(t,i,s)),i=Zc(t,e),i!=null&&n.push(ad(t,i,s))),t=t.return}return n}function Al(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kx(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var c=r,d=c.alternate,h=c.stateNode;if(d!==null&&d===n)break;c.tag===5&&h!==null&&(c=h,s?(d=Zc(r,i),d!=null&&o.unshift(ad(r,d,c))):s||(d=Zc(r,i),d!=null&&o.push(ad(r,d,c)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var gj=/\r\n?/g,pj=/\u0000|\uFFFD/g;function Qx(t){return(typeof t=="string"?t:""+t).replace(gj,`
`).replace(pj,"")}function pf(t,e,r){if(e=Qx(e),Qx(t)!==e&&r)throw Error(re(425))}function _h(){}var zp=null,Up=null;function Bp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wp=typeof setTimeout=="function"?setTimeout:void 0,vj=typeof clearTimeout=="function"?clearTimeout:void 0,Xx=typeof Promise=="function"?Promise:void 0,yj=typeof queueMicrotask=="function"?queueMicrotask:typeof Xx<"u"?function(t){return Xx.resolve(null).then(t).catch(_j)}:Wp;function _j(t){setTimeout(function(){throw t})}function Cg(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),rd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);rd(e)}function ro(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Au=Math.random().toString(36).slice(2),Ys="__reactFiber$"+Au,od="__reactProps$"+Au,qi="__reactContainer$"+Au,$p="__reactEvents$"+Au,xj="__reactListeners$"+Au,wj="__reactHandles$"+Au;function Yo(t){var e=t[Ys];if(e)return e;for(var r=t.parentNode;r;){if(e=r[qi]||r[Ys]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Jx(t);t!==null;){if(r=t[Ys])return r;t=Jx(t)}return e}t=r,r=t.parentNode}return null}function Sd(t){return t=t[Ys]||t[qi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function um(t){return t[od]||null}var Hp=[],Jl=-1;function wo(t){return{current:t}}function _t(t){0>Jl||(t.current=Hp[Jl],Hp[Jl]=null,Jl--)}function mt(t,e){Jl++,Hp[Jl]=t.current,t.current=e}var mo={},Cr=wo(mo),en=wo(!1),rl=mo;function pu(t,e){var r=t.type.contextTypes;if(!r)return mo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function tn(t){return t=t.childContextTypes,t!=null}function xh(){_t(en),_t(Cr)}function Zx(t,e,r){if(Cr.current!==mo)throw Error(re(168));mt(Cr,e),mt(en,r)}function A2(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(re(108,iN(t)||"Unknown",s));return It({},r,n)}function wh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mo,rl=Cr.current,mt(Cr,t),mt(en,en.current),!0}function ew(t,e,r){var n=t.stateNode;if(!n)throw Error(re(169));r?(t=A2(t,e,rl),n.__reactInternalMemoizedMergedChildContext=t,_t(en),_t(Cr),mt(Cr,t)):_t(en),mt(en,r)}var ji=null,cm=!1,Og=!1;function F2(t){ji===null?ji=[t]:ji.push(t)}function bj(t){cm=!0,F2(t)}function bo(){if(!Og&&ji!==null){Og=!0;var t=0,e=rt;try{var r=ji;for(rt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ji=null,cm=!1}catch(s){throw ji!==null&&(ji=ji.slice(t+1)),o2(Qv,bo),s}finally{rt=e,Og=!1}}return null}var Zl=[],eu=0,bh=null,Eh=0,An=[],Fn=0,nl=null,ki=1,Li="";function Fo(t,e){Zl[eu++]=Eh,Zl[eu++]=bh,bh=t,Eh=e}function k2(t,e,r){An[Fn++]=ki,An[Fn++]=Li,An[Fn++]=nl,nl=t;var n=ki;t=Li;var s=32-gs(n)-1;n&=~(1<<s),r+=1;var i=32-gs(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ki=1<<32-gs(e)+s|r<<s|n,Li=i+t}else ki=1<<i|r<<s|n,Li=t}function i0(t){t.return!==null&&(Fo(t,1),k2(t,1,0))}function a0(t){for(;t===bh;)bh=Zl[--eu],Zl[eu]=null,Eh=Zl[--eu],Zl[eu]=null;for(;t===nl;)nl=An[--Fn],An[Fn]=null,Li=An[--Fn],An[Fn]=null,ki=An[--Fn],An[Fn]=null}var vn=null,pn=null,bt=!1,hs=null;function L2(t,e){var r=Vn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function tw(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vn=t,pn=ro(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=nl!==null?{id:ki,overflow:Li}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Vn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,vn=t,pn=null,!0):!1;default:return!1}}function Yp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qp(t){if(bt){var e=pn;if(e){var r=e;if(!tw(t,e)){if(Yp(t))throw Error(re(418));e=ro(r.nextSibling);var n=vn;e&&tw(t,e)?L2(n,r):(t.flags=t.flags&-4097|2,bt=!1,vn=t)}}else{if(Yp(t))throw Error(re(418));t.flags=t.flags&-4097|2,bt=!1,vn=t}}}function rw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vn=t}function vf(t){if(t!==vn)return!1;if(!bt)return rw(t),bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bp(t.type,t.memoizedProps)),e&&(e=pn)){if(Yp(t))throw V2(),Error(re(418));for(;e;)L2(t,e),e=ro(e.nextSibling)}if(rw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){pn=ro(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=vn?ro(t.stateNode.nextSibling):null;return!0}function V2(){for(var t=pn;t;)t=ro(t.nextSibling)}function vu(){pn=vn=null,bt=!1}function o0(t){hs===null?hs=[t]:hs.push(t)}var Ej=ra.ReactCurrentBatchConfig;function lc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var c=s.refs;o===null?delete c[i]:c[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,t))}return t}function yf(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nw(t){var e=t._init;return e(t._payload)}function z2(t){function e(S,P){if(t){var C=S.deletions;C===null?(S.deletions=[P],S.flags|=16):C.push(P)}}function r(S,P){if(!t)return null;for(;P!==null;)e(S,P),P=P.sibling;return null}function n(S,P){for(S=new Map;P!==null;)P.key!==null?S.set(P.key,P):S.set(P.index,P),P=P.sibling;return S}function s(S,P){return S=ao(S,P),S.index=0,S.sibling=null,S}function i(S,P,C){return S.index=C,t?(C=S.alternate,C!==null?(C=C.index,C<P?(S.flags|=2,P):C):(S.flags|=2,P)):(S.flags|=1048576,P)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function c(S,P,C,R){return P===null||P.tag!==6?(P=kg(C,S.mode,R),P.return=S,P):(P=s(P,C),P.return=S,P)}function d(S,P,C,R){var Y=C.type;return Y===ql?g(S,P,C.props.children,R,C.key):P!==null&&(P.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Wa&&nw(Y)===P.type)?(R=s(P,C.props),R.ref=lc(S,P,C),R.return=S,R):(R=th(C.type,C.key,C.props,null,S.mode,R),R.ref=lc(S,P,C),R.return=S,R)}function h(S,P,C,R){return P===null||P.tag!==4||P.stateNode.containerInfo!==C.containerInfo||P.stateNode.implementation!==C.implementation?(P=Lg(C,S.mode,R),P.return=S,P):(P=s(P,C.children||[]),P.return=S,P)}function g(S,P,C,R,Y){return P===null||P.tag!==7?(P=Jo(C,S.mode,R,Y),P.return=S,P):(P=s(P,C),P.return=S,P)}function v(S,P,C){if(typeof P=="string"&&P!==""||typeof P=="number")return P=kg(""+P,S.mode,C),P.return=S,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case of:return C=th(P.type,P.key,P.props,null,S.mode,C),C.ref=lc(S,null,P),C.return=S,C;case Yl:return P=Lg(P,S.mode,C),P.return=S,P;case Wa:var R=P._init;return v(S,R(P._payload),C)}if(Sc(P)||nc(P))return P=Jo(P,S.mode,C,null),P.return=S,P;yf(S,P)}return null}function y(S,P,C,R){var Y=P!==null?P.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return Y!==null?null:c(S,P,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case of:return C.key===Y?d(S,P,C,R):null;case Yl:return C.key===Y?h(S,P,C,R):null;case Wa:return Y=C._init,y(S,P,Y(C._payload),R)}if(Sc(C)||nc(C))return Y!==null?null:g(S,P,C,R,null);yf(S,C)}return null}function E(S,P,C,R,Y){if(typeof R=="string"&&R!==""||typeof R=="number")return S=S.get(C)||null,c(P,S,""+R,Y);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case of:return S=S.get(R.key===null?C:R.key)||null,d(P,S,R,Y);case Yl:return S=S.get(R.key===null?C:R.key)||null,h(P,S,R,Y);case Wa:var q=R._init;return E(S,P,C,q(R._payload),Y)}if(Sc(R)||nc(R))return S=S.get(C)||null,g(P,S,R,Y,null);yf(P,R)}return null}function N(S,P,C,R){for(var Y=null,q=null,T=P,b=P=0,I=null;T!==null&&b<C.length;b++){T.index>b?(I=T,T=null):I=T.sibling;var j=y(S,T,C[b],R);if(j===null){T===null&&(T=I);break}t&&T&&j.alternate===null&&e(S,T),P=i(j,P,b),q===null?Y=j:q.sibling=j,q=j,T=I}if(b===C.length)return r(S,T),bt&&Fo(S,b),Y;if(T===null){for(;b<C.length;b++)T=v(S,C[b],R),T!==null&&(P=i(T,P,b),q===null?Y=T:q.sibling=T,q=T);return bt&&Fo(S,b),Y}for(T=n(S,T);b<C.length;b++)I=E(T,S,b,C[b],R),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?b:I.key),P=i(I,P,b),q===null?Y=I:q.sibling=I,q=I);return t&&T.forEach(function(M){return e(S,M)}),bt&&Fo(S,b),Y}function D(S,P,C,R){var Y=nc(C);if(typeof Y!="function")throw Error(re(150));if(C=Y.call(C),C==null)throw Error(re(151));for(var q=Y=null,T=P,b=P=0,I=null,j=C.next();T!==null&&!j.done;b++,j=C.next()){T.index>b?(I=T,T=null):I=T.sibling;var M=y(S,T,j.value,R);if(M===null){T===null&&(T=I);break}t&&T&&M.alternate===null&&e(S,T),P=i(M,P,b),q===null?Y=M:q.sibling=M,q=M,T=I}if(j.done)return r(S,T),bt&&Fo(S,b),Y;if(T===null){for(;!j.done;b++,j=C.next())j=v(S,j.value,R),j!==null&&(P=i(j,P,b),q===null?Y=j:q.sibling=j,q=j);return bt&&Fo(S,b),Y}for(T=n(S,T);!j.done;b++,j=C.next())j=E(T,S,b,j.value,R),j!==null&&(t&&j.alternate!==null&&T.delete(j.key===null?b:j.key),P=i(j,P,b),q===null?Y=j:q.sibling=j,q=j);return t&&T.forEach(function(V){return e(S,V)}),bt&&Fo(S,b),Y}function k(S,P,C,R){if(typeof C=="object"&&C!==null&&C.type===ql&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case of:e:{for(var Y=C.key,q=P;q!==null;){if(q.key===Y){if(Y=C.type,Y===ql){if(q.tag===7){r(S,q.sibling),P=s(q,C.props.children),P.return=S,S=P;break e}}else if(q.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Wa&&nw(Y)===q.type){r(S,q.sibling),P=s(q,C.props),P.ref=lc(S,q,C),P.return=S,S=P;break e}r(S,q);break}else e(S,q);q=q.sibling}C.type===ql?(P=Jo(C.props.children,S.mode,R,C.key),P.return=S,S=P):(R=th(C.type,C.key,C.props,null,S.mode,R),R.ref=lc(S,P,C),R.return=S,S=R)}return o(S);case Yl:e:{for(q=C.key;P!==null;){if(P.key===q)if(P.tag===4&&P.stateNode.containerInfo===C.containerInfo&&P.stateNode.implementation===C.implementation){r(S,P.sibling),P=s(P,C.children||[]),P.return=S,S=P;break e}else{r(S,P);break}else e(S,P);P=P.sibling}P=Lg(C,S.mode,R),P.return=S,S=P}return o(S);case Wa:return q=C._init,k(S,P,q(C._payload),R)}if(Sc(C))return N(S,P,C,R);if(nc(C))return D(S,P,C,R);yf(S,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,P!==null&&P.tag===6?(r(S,P.sibling),P=s(P,C),P.return=S,S=P):(r(S,P),P=kg(C,S.mode,R),P.return=S,S=P),o(S)):r(S,P)}return k}var yu=z2(!0),U2=z2(!1),Dh=wo(null),Th=null,tu=null,l0=null;function u0(){l0=tu=Th=null}function c0(t){var e=Dh.current;_t(Dh),t._currentValue=e}function Gp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function uu(t,e){Th=t,l0=tu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zr=!0),t.firstContext=null)}function Bn(t){var e=t._currentValue;if(l0!==t)if(t={context:t,memoizedValue:e,next:null},tu===null){if(Th===null)throw Error(re(308));tu=t,Th.dependencies={lanes:0,firstContext:t}}else tu=tu.next=t;return e}var qo=null;function d0(t){qo===null?qo=[t]:qo.push(t)}function B2(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,d0(e)):(r.next=s.next,s.next=r),e.interleaved=r,Gi(t,n)}function Gi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var $a=!1;function f0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function no(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Qe&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Gi(t,r)}return s=n.interleaved,s===null?(e.next=e,d0(n)):(e.next=s.next,s.next=e),n.interleaved=e,Gi(t,r)}function Kf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Xv(t,r)}}function sw(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Sh(t,e,r,n){var s=t.updateQueue;$a=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var d=c,h=d.next;d.next=null,o===null?i=h:o.next=h,o=d;var g=t.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==o&&(c===null?g.firstBaseUpdate=h:c.next=h,g.lastBaseUpdate=d))}if(i!==null){var v=s.baseState;o=0,g=h=d=null,c=i;do{var y=c.lane,E=c.eventTime;if((n&y)===y){g!==null&&(g=g.next={eventTime:E,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var N=t,D=c;switch(y=e,E=r,D.tag){case 1:if(N=D.payload,typeof N=="function"){v=N.call(E,v,y);break e}v=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=D.payload,y=typeof N=="function"?N.call(E,v,y):N,y==null)break e;v=It({},v,y);break e;case 2:$a=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[c]:y.push(c))}else E={eventTime:E,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(h=g=E,d=v):g=g.next=E,o|=y;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;y=c,c=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(g===null&&(d=v),s.baseState=d,s.firstBaseUpdate=h,s.lastBaseUpdate=g,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);il|=o,t.lanes=o,t.memoizedState=v}}function iw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(re(191,s));s.call(n)}}}var Pd={},Ks=wo(Pd),ld=wo(Pd),ud=wo(Pd);function Go(t){if(t===Pd)throw Error(re(174));return t}function h0(t,e){switch(mt(ud,e),mt(ld,t),mt(Ks,Pd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ip(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ip(e,t)}_t(Ks),mt(Ks,e)}function _u(){_t(Ks),_t(ld),_t(ud)}function $2(t){Go(ud.current);var e=Go(Ks.current),r=Ip(e,t.type);e!==r&&(mt(ld,t),mt(Ks,r))}function m0(t){ld.current===t&&(_t(Ks),_t(ld))}var St=wo(0);function Ph(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ng=[];function g0(){for(var t=0;t<Ng.length;t++)Ng[t]._workInProgressVersionPrimary=null;Ng.length=0}var Qf=ra.ReactCurrentDispatcher,jg=ra.ReactCurrentBatchConfig,sl=0,Pt=null,qt=null,nr=null,Ih=!1,Vc=!1,cd=0,Dj=0;function wr(){throw Error(re(321))}function p0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ys(t[r],e[r]))return!1;return!0}function v0(t,e,r,n,s,i){if(sl=i,Pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qf.current=t===null||t.memoizedState===null?Ij:Cj,t=r(n,s),Vc){i=0;do{if(Vc=!1,cd=0,25<=i)throw Error(re(301));i+=1,nr=qt=null,e.updateQueue=null,Qf.current=Oj,t=r(n,s)}while(Vc)}if(Qf.current=Ch,e=qt!==null&&qt.next!==null,sl=0,nr=qt=Pt=null,Ih=!1,e)throw Error(re(300));return t}function y0(){var t=cd!==0;return cd=0,t}function Hs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?Pt.memoizedState=nr=t:nr=nr.next=t,nr}function Wn(){if(qt===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=nr===null?Pt.memoizedState:nr.next;if(e!==null)nr=e,qt=t;else{if(t===null)throw Error(re(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},nr===null?Pt.memoizedState=nr=t:nr=nr.next=t}return nr}function dd(t,e){return typeof e=="function"?e(t):e}function Mg(t){var e=Wn(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=qt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var c=o=null,d=null,h=i;do{var g=h.lane;if((sl&g)===g)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var v={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(c=d=v,o=n):d=d.next=v,Pt.lanes|=g,il|=g}h=h.next}while(h!==null&&h!==i);d===null?o=n:d.next=c,ys(n,e.memoizedState)||(Zr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=d,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Pt.lanes|=i,il|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Rg(t){var e=Wn(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ys(i,e.memoizedState)||(Zr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function H2(){}function Y2(t,e){var r=Pt,n=Wn(),s=e(),i=!ys(n.memoizedState,s);if(i&&(n.memoizedState=s,Zr=!0),n=n.queue,_0(K2.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||nr!==null&&nr.memoizedState.tag&1){if(r.flags|=2048,fd(9,G2.bind(null,r,n,s,e),void 0,null),sr===null)throw Error(re(349));sl&30||q2(r,e,s)}return s}function q2(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function G2(t,e,r,n){e.value=r,e.getSnapshot=n,Q2(e)&&X2(t)}function K2(t,e,r){return r(function(){Q2(e)&&X2(t)})}function Q2(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ys(t,r)}catch{return!0}}function X2(t){var e=Gi(t,1);e!==null&&ps(e,t,1,-1)}function aw(t){var e=Hs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:t},e.queue=t,t=t.dispatch=Pj.bind(null,Pt,t),[e.memoizedState,t]}function fd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function J2(){return Wn().memoizedState}function Xf(t,e,r,n){var s=Hs();Pt.flags|=t,s.memoizedState=fd(1|e,r,void 0,n===void 0?null:n)}function dm(t,e,r,n){var s=Wn();n=n===void 0?null:n;var i=void 0;if(qt!==null){var o=qt.memoizedState;if(i=o.destroy,n!==null&&p0(n,o.deps)){s.memoizedState=fd(e,r,i,n);return}}Pt.flags|=t,s.memoizedState=fd(1|e,r,i,n)}function ow(t,e){return Xf(8390656,8,t,e)}function _0(t,e){return dm(2048,8,t,e)}function Z2(t,e){return dm(4,2,t,e)}function eD(t,e){return dm(4,4,t,e)}function tD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rD(t,e,r){return r=r!=null?r.concat([t]):null,dm(4,4,tD.bind(null,e,t),r)}function x0(){}function nD(t,e){var r=Wn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&p0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function sD(t,e){var r=Wn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&p0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function iD(t,e,r){return sl&21?(ys(r,e)||(r=c2(),Pt.lanes|=r,il|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zr=!0),t.memoizedState=r)}function Tj(t,e){var r=rt;rt=r!==0&&4>r?r:4,t(!0);var n=jg.transition;jg.transition={};try{t(!1),e()}finally{rt=r,jg.transition=n}}function aD(){return Wn().memoizedState}function Sj(t,e,r){var n=io(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},oD(t))lD(e,r);else if(r=B2(t,e,r,n),r!==null){var s=Vr();ps(r,t,n,s),uD(r,e,n)}}function Pj(t,e,r){var n=io(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(oD(t))lD(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,c=i(o,r);if(s.hasEagerState=!0,s.eagerState=c,ys(c,o)){var d=e.interleaved;d===null?(s.next=s,d0(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}r=B2(t,e,s,n),r!==null&&(s=Vr(),ps(r,t,n,s),uD(r,e,n))}}function oD(t){var e=t.alternate;return t===Pt||e!==null&&e===Pt}function lD(t,e){Vc=Ih=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function uD(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Xv(t,r)}}var Ch={readContext:Bn,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},Ij={readContext:Bn,useCallback:function(t,e){return Hs().memoizedState=[t,e===void 0?null:e],t},useContext:Bn,useEffect:ow,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Xf(4194308,4,tD.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Xf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xf(4,2,t,e)},useMemo:function(t,e){var r=Hs();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Hs();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Sj.bind(null,Pt,t),[n.memoizedState,t]},useRef:function(t){var e=Hs();return t={current:t},e.memoizedState=t},useState:aw,useDebugValue:x0,useDeferredValue:function(t){return Hs().memoizedState=t},useTransition:function(){var t=aw(!1),e=t[0];return t=Tj.bind(null,t[1]),Hs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Pt,s=Hs();if(bt){if(r===void 0)throw Error(re(407));r=r()}else{if(r=e(),sr===null)throw Error(re(349));sl&30||q2(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,ow(K2.bind(null,n,i,t),[t]),n.flags|=2048,fd(9,G2.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Hs(),e=sr.identifierPrefix;if(bt){var r=Li,n=ki;r=(n&~(1<<32-gs(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=cd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Dj++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Cj={readContext:Bn,useCallback:nD,useContext:Bn,useEffect:_0,useImperativeHandle:rD,useInsertionEffect:Z2,useLayoutEffect:eD,useMemo:sD,useReducer:Mg,useRef:J2,useState:function(){return Mg(dd)},useDebugValue:x0,useDeferredValue:function(t){var e=Wn();return iD(e,qt.memoizedState,t)},useTransition:function(){var t=Mg(dd)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:H2,useSyncExternalStore:Y2,useId:aD,unstable_isNewReconciler:!1},Oj={readContext:Bn,useCallback:nD,useContext:Bn,useEffect:_0,useImperativeHandle:rD,useInsertionEffect:Z2,useLayoutEffect:eD,useMemo:sD,useReducer:Rg,useRef:J2,useState:function(){return Rg(dd)},useDebugValue:x0,useDeferredValue:function(t){var e=Wn();return qt===null?e.memoizedState=t:iD(e,qt.memoizedState,t)},useTransition:function(){var t=Rg(dd)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:H2,useSyncExternalStore:Y2,useId:aD,unstable_isNewReconciler:!1};function ds(t,e){if(t&&t.defaultProps){e=It({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Kp(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:It({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var fm={isMounted:function(t){return(t=t._reactInternals)?hl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Vr(),s=io(t),i=$i(n,s);i.payload=e,r!=null&&(i.callback=r),e=no(t,i,s),e!==null&&(ps(e,t,s,n),Kf(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Vr(),s=io(t),i=$i(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=no(t,i,s),e!==null&&(ps(e,t,s,n),Kf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Vr(),n=io(t),s=$i(r,n);s.tag=2,e!=null&&(s.callback=e),e=no(t,s,n),e!==null&&(ps(e,t,n,r),Kf(e,t,n))}};function lw(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!sd(r,n)||!sd(s,i):!0}function cD(t,e,r){var n=!1,s=mo,i=e.contextType;return typeof i=="object"&&i!==null?i=Bn(i):(s=tn(e)?rl:Cr.current,n=e.contextTypes,i=(n=n!=null)?pu(t,s):mo),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function uw(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&fm.enqueueReplaceState(e,e.state,null)}function Qp(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},f0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Bn(i):(i=tn(e)?rl:Cr.current,s.context=pu(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Kp(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&fm.enqueueReplaceState(s,s.state,null),Sh(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function xu(t,e){try{var r="",n=e;do r+=sN(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ag(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Xp(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Nj=typeof WeakMap=="function"?WeakMap:Map;function dD(t,e,r){r=$i(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Nh||(Nh=!0,ov=n),Xp(t,e)},r}function fD(t,e,r){r=$i(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Xp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Xp(t,e),typeof n!="function"&&(so===null?so=new Set([this]):so.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function cw(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Nj;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Hj.bind(null,t,e,r),e.then(t,t))}function dw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fw(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=$i(-1,1),e.tag=2,no(r,e,1))),r.lanes|=1),t)}var jj=ra.ReactCurrentOwner,Zr=!1;function Lr(t,e,r,n){e.child=t===null?U2(e,null,r,n):yu(e,t.child,r,n)}function hw(t,e,r,n,s){r=r.render;var i=e.ref;return uu(e,s),n=v0(t,e,r,n,i,s),r=y0(),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ki(t,e,s)):(bt&&r&&i0(e),e.flags|=1,Lr(t,e,n,s),e.child)}function mw(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!I0(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,hD(t,e,i,n,s)):(t=th(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:sd,r(o,n)&&t.ref===e.ref)return Ki(t,e,s)}return e.flags|=1,t=ao(i,n),t.ref=e.ref,t.return=e,e.child=t}function hD(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(sd(i,n)&&t.ref===e.ref)if(Zr=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Zr=!0);else return e.lanes=t.lanes,Ki(t,e,s)}return Jp(t,e,r,n,s)}function mD(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(nu,mn),mn|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,mt(nu,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,mt(nu,mn),mn|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,mt(nu,mn),mn|=n;return Lr(t,e,s,r),e.child}function gD(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Jp(t,e,r,n,s){var i=tn(r)?rl:Cr.current;return i=pu(e,i),uu(e,s),r=v0(t,e,r,n,i,s),n=y0(),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ki(t,e,s)):(bt&&n&&i0(e),e.flags|=1,Lr(t,e,r,s),e.child)}function gw(t,e,r,n,s){if(tn(r)){var i=!0;wh(e)}else i=!1;if(uu(e,s),e.stateNode===null)Jf(t,e),cD(e,r,n),Qp(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var d=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=Bn(h):(h=tn(r)?rl:Cr.current,h=pu(e,h));var g=r.getDerivedStateFromProps,v=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||d!==h)&&uw(e,o,n,h),$a=!1;var y=e.memoizedState;o.state=y,Sh(e,n,o,s),d=e.memoizedState,c!==n||y!==d||en.current||$a?(typeof g=="function"&&(Kp(e,r,g,n),d=e.memoizedState),(c=$a||lw(e,r,c,n,y,d,h))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=h,n=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,W2(t,e),c=e.memoizedProps,h=e.type===e.elementType?c:ds(e.type,c),o.props=h,v=e.pendingProps,y=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=Bn(d):(d=tn(r)?rl:Cr.current,d=pu(e,d));var E=r.getDerivedStateFromProps;(g=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==v||y!==d)&&uw(e,o,n,d),$a=!1,y=e.memoizedState,o.state=y,Sh(e,n,o,s);var N=e.memoizedState;c!==v||y!==N||en.current||$a?(typeof E=="function"&&(Kp(e,r,E,n),N=e.memoizedState),(h=$a||lw(e,r,h,n,y,N,d)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,N,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,N,d)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=N),o.props=n,o.state=N,o.context=d,n=h):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),n=!1)}return Zp(t,e,r,n,i,s)}function Zp(t,e,r,n,s,i){gD(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&ew(e,r,!1),Ki(t,e,i);n=e.stateNode,jj.current=e;var c=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=yu(e,t.child,null,i),e.child=yu(e,null,c,i)):Lr(t,e,c,i),e.memoizedState=n.state,s&&ew(e,r,!0),e.child}function pD(t){var e=t.stateNode;e.pendingContext?Zx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zx(t,e.context,!1),h0(t,e.containerInfo)}function pw(t,e,r,n,s){return vu(),o0(s),e.flags|=256,Lr(t,e,r,n),e.child}var ev={dehydrated:null,treeContext:null,retryLane:0};function tv(t){return{baseLanes:t,cachePool:null,transitions:null}}function vD(t,e,r){var n=e.pendingProps,s=St.current,i=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),mt(St,s&1),t===null)return qp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=gm(o,n,0,null),t=Jo(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=tv(r),e.memoizedState=ev,t):w0(e,o));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return Mj(t,e,o,n,c,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,c=s.sibling;var d={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=d,e.deletions=null):(n=ao(s,d),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=ao(c,i):(i=Jo(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?tv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=ev,n}return i=t.child,t=i.sibling,n=ao(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function w0(t,e){return e=gm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _f(t,e,r,n){return n!==null&&o0(n),yu(e,t.child,null,r),t=w0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Mj(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Ag(Error(re(422))),_f(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=gm({mode:"visible",children:n.children},s,0,null),i=Jo(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&yu(e,t.child,null,o),e.child.memoizedState=tv(o),e.memoizedState=ev,i);if(!(e.mode&1))return _f(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,i=Error(re(419)),n=Ag(i,n,void 0),_f(t,e,o,n)}if(c=(o&t.childLanes)!==0,Zr||c){if(n=sr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Gi(t,s),ps(n,t,s,-1))}return P0(),n=Ag(Error(re(421))),_f(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Yj.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,pn=ro(s.nextSibling),vn=e,bt=!0,hs=null,t!==null&&(An[Fn++]=ki,An[Fn++]=Li,An[Fn++]=nl,ki=t.id,Li=t.overflow,nl=e),e=w0(e,n.children),e.flags|=4096,e)}function vw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Gp(t.return,e,r)}function Fg(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function yD(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Lr(t,e,n.children,r),n=St.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vw(t,r,e);else if(t.tag===19)vw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(mt(St,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ph(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Fg(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ph(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Fg(e,!0,r,null,i);break;case"together":Fg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ki(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),il|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,r=ao(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ao(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Rj(t,e,r){switch(e.tag){case 3:pD(e),vu();break;case 5:$2(e);break;case 1:tn(e.type)&&wh(e);break;case 4:h0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;mt(Dh,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(mt(St,St.current&1),e.flags|=128,null):r&e.child.childLanes?vD(t,e,r):(mt(St,St.current&1),t=Ki(t,e,r),t!==null?t.sibling:null);mt(St,St.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return yD(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),mt(St,St.current),n)break;return null;case 22:case 23:return e.lanes=0,mD(t,e,r)}return Ki(t,e,r)}var _D,rv,xD,wD;_D=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rv=function(){};xD=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Go(Ks.current);var i=null;switch(r){case"input":s=Dp(t,s),n=Dp(t,n),i=[];break;case"select":s=It({},s,{value:void 0}),n=It({},n,{value:void 0}),i=[];break;case"textarea":s=Pp(t,s),n=Pp(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=_h)}Cp(r,n);var o;r=null;for(h in s)if(!n.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var c=s[h];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Xc.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in n){var d=n[h];if(c=s!=null?s[h]:void 0,n.hasOwnProperty(h)&&d!==c&&(d!=null||c!=null))if(h==="style")if(c){for(o in c)!c.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&c[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(i||(i=[]),i.push(h,r)),r=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(i=i||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Xc.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&vt("scroll",t),i||c===d||(i=[])):(i=i||[]).push(h,d))}r&&(i=i||[]).push("style",r);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};wD=function(t,e,r,n){r!==n&&(e.flags|=4)};function uc(t,e){if(!bt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function br(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Aj(t,e,r){var n=e.pendingProps;switch(a0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return br(e),null;case 1:return tn(e.type)&&xh(),br(e),null;case 3:return n=e.stateNode,_u(),_t(en),_t(Cr),g0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(vf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hs!==null&&(cv(hs),hs=null))),rv(t,e),br(e),null;case 5:m0(e);var s=Go(ud.current);if(r=e.type,t!==null&&e.stateNode!=null)xD(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(re(166));return br(e),null}if(t=Go(Ks.current),vf(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Ys]=e,n[od]=i,t=(e.mode&1)!==0,r){case"dialog":vt("cancel",n),vt("close",n);break;case"iframe":case"object":case"embed":vt("load",n);break;case"video":case"audio":for(s=0;s<Ic.length;s++)vt(Ic[s],n);break;case"source":vt("error",n);break;case"img":case"image":case"link":vt("error",n),vt("load",n);break;case"details":vt("toggle",n);break;case"input":Sx(n,i),vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},vt("invalid",n);break;case"textarea":Ix(n,i),vt("invalid",n)}Cp(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?n.textContent!==c&&(i.suppressHydrationWarning!==!0&&pf(n.textContent,c,t),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&pf(n.textContent,c,t),s=["children",""+c]):Xc.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&vt("scroll",n)}switch(r){case"input":lf(n),Px(n,i,!0);break;case"textarea":lf(n),Cx(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=_h)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=KE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ys]=e,t[od]=n,_D(t,e,!1,!1),e.stateNode=t;e:{switch(o=Op(r,n),r){case"dialog":vt("cancel",t),vt("close",t),s=n;break;case"iframe":case"object":case"embed":vt("load",t),s=n;break;case"video":case"audio":for(s=0;s<Ic.length;s++)vt(Ic[s],t);s=n;break;case"source":vt("error",t),s=n;break;case"img":case"image":case"link":vt("error",t),vt("load",t),s=n;break;case"details":vt("toggle",t),s=n;break;case"input":Sx(t,n),s=Dp(t,n),vt("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=It({},n,{value:void 0}),vt("invalid",t);break;case"textarea":Ix(t,n),s=Pp(t,n),vt("invalid",t);break;default:s=n}Cp(r,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var d=c[i];i==="style"?JE(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&QE(t,d)):i==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Jc(t,d):typeof d=="number"&&Jc(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xc.hasOwnProperty(i)?d!=null&&i==="onScroll"&&vt("scroll",t):d!=null&&Hv(t,i,d,o))}switch(r){case"input":lf(t),Px(t,n,!1);break;case"textarea":lf(t),Cx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ho(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?iu(t,!!n.multiple,i,!1):n.defaultValue!=null&&iu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=_h)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return br(e),null;case 6:if(t&&e.stateNode!=null)wD(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(re(166));if(r=Go(ud.current),Go(Ks.current),vf(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ys]=e,(i=n.nodeValue!==r)&&(t=vn,t!==null))switch(t.tag){case 3:pf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pf(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ys]=e,e.stateNode=n}return br(e),null;case 13:if(_t(St),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bt&&pn!==null&&e.mode&1&&!(e.flags&128))V2(),vu(),e.flags|=98560,i=!1;else if(i=vf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(re(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(re(317));i[Ys]=e}else vu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;br(e),i=!1}else hs!==null&&(cv(hs),hs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?Kt===0&&(Kt=3):P0())),e.updateQueue!==null&&(e.flags|=4),br(e),null);case 4:return _u(),rv(t,e),t===null&&id(e.stateNode.containerInfo),br(e),null;case 10:return c0(e.type._context),br(e),null;case 17:return tn(e.type)&&xh(),br(e),null;case 19:if(_t(St),i=e.memoizedState,i===null)return br(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)uc(i,!1);else{if(Kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ph(t),o!==null){for(e.flags|=128,uc(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return mt(St,St.current&1|2),e.child}t=t.sibling}i.tail!==null&&zt()>wu&&(e.flags|=128,n=!0,uc(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ph(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),uc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!bt)return br(e),null}else 2*zt()-i.renderingStartTime>wu&&r!==1073741824&&(e.flags|=128,n=!0,uc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=zt(),e.sibling=null,r=St.current,mt(St,n?r&1|2:r&1),e):(br(e),null);case 22:case 23:return S0(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?mn&1073741824&&(br(e),e.subtreeFlags&6&&(e.flags|=8192)):br(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function Fj(t,e){switch(a0(e),e.tag){case 1:return tn(e.type)&&xh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _u(),_t(en),_t(Cr),g0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return m0(e),null;case 13:if(_t(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));vu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _t(St),null;case 4:return _u(),null;case 10:return c0(e.type._context),null;case 22:case 23:return S0(),null;case 24:return null;default:return null}}var xf=!1,Pr=!1,kj=typeof WeakSet=="function"?WeakSet:Set,me=null;function ru(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Mt(t,e,n)}else r.current=null}function nv(t,e,r){try{r()}catch(n){Mt(t,e,n)}}var yw=!1;function Lj(t,e){if(zp=ph,t=S2(),s0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,c=-1,d=-1,h=0,g=0,v=t,y=null;t:for(;;){for(var E;v!==r||s!==0&&v.nodeType!==3||(c=o+s),v!==i||n!==0&&v.nodeType!==3||(d=o+n),v.nodeType===3&&(o+=v.nodeValue.length),(E=v.firstChild)!==null;)y=v,v=E;for(;;){if(v===t)break t;if(y===r&&++h===s&&(c=o),y===i&&++g===n&&(d=o),(E=v.nextSibling)!==null)break;v=y,y=v.parentNode}v=E}r=c===-1||d===-1?null:{start:c,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(Up={focusedElem:t,selectionRange:r},ph=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var D=N.memoizedProps,k=N.memoizedState,S=e.stateNode,P=S.getSnapshotBeforeUpdate(e.elementType===e.type?D:ds(e.type,D),k);S.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(R){Mt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return N=yw,yw=!1,N}function zc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&nv(e,r,i)}s=s.next}while(s!==n)}}function hm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function sv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function bD(t){var e=t.alternate;e!==null&&(t.alternate=null,bD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ys],delete e[od],delete e[$p],delete e[xj],delete e[wj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ED(t){return t.tag===5||t.tag===3||t.tag===4}function _w(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ED(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function iv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=_h));else if(n!==4&&(t=t.child,t!==null))for(iv(t,e,r),t=t.sibling;t!==null;)iv(t,e,r),t=t.sibling}function av(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(av(t,e,r),t=t.sibling;t!==null;)av(t,e,r),t=t.sibling}var lr=null,fs=!1;function Fa(t,e,r){for(r=r.child;r!==null;)DD(t,e,r),r=r.sibling}function DD(t,e,r){if(Gs&&typeof Gs.onCommitFiberUnmount=="function")try{Gs.onCommitFiberUnmount(im,r)}catch{}switch(r.tag){case 5:Pr||ru(r,e);case 6:var n=lr,s=fs;lr=null,Fa(t,e,r),lr=n,fs=s,lr!==null&&(fs?(t=lr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):lr.removeChild(r.stateNode));break;case 18:lr!==null&&(fs?(t=lr,r=r.stateNode,t.nodeType===8?Cg(t.parentNode,r):t.nodeType===1&&Cg(t,r),rd(t)):Cg(lr,r.stateNode));break;case 4:n=lr,s=fs,lr=r.stateNode.containerInfo,fs=!0,Fa(t,e,r),lr=n,fs=s;break;case 0:case 11:case 14:case 15:if(!Pr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&nv(r,e,o),s=s.next}while(s!==n)}Fa(t,e,r);break;case 1:if(!Pr&&(ru(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){Mt(r,e,c)}Fa(t,e,r);break;case 21:Fa(t,e,r);break;case 22:r.mode&1?(Pr=(n=Pr)||r.memoizedState!==null,Fa(t,e,r),Pr=n):Fa(t,e,r);break;default:Fa(t,e,r)}}function xw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new kj),e.forEach(function(n){var s=qj.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function cs(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:lr=c.stateNode,fs=!1;break e;case 3:lr=c.stateNode.containerInfo,fs=!0;break e;case 4:lr=c.stateNode.containerInfo,fs=!0;break e}c=c.return}if(lr===null)throw Error(re(160));DD(i,o,s),lr=null,fs=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(h){Mt(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)TD(e,t),e=e.sibling}function TD(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cs(e,t),Bs(t),n&4){try{zc(3,t,t.return),hm(3,t)}catch(D){Mt(t,t.return,D)}try{zc(5,t,t.return)}catch(D){Mt(t,t.return,D)}}break;case 1:cs(e,t),Bs(t),n&512&&r!==null&&ru(r,r.return);break;case 5:if(cs(e,t),Bs(t),n&512&&r!==null&&ru(r,r.return),t.flags&32){var s=t.stateNode;try{Jc(s,"")}catch(D){Mt(t,t.return,D)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,c=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&qE(s,i),Op(c,o);var h=Op(c,i);for(o=0;o<d.length;o+=2){var g=d[o],v=d[o+1];g==="style"?JE(s,v):g==="dangerouslySetInnerHTML"?QE(s,v):g==="children"?Jc(s,v):Hv(s,g,v,h)}switch(c){case"input":Tp(s,i);break;case"textarea":GE(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var E=i.value;E!=null?iu(s,!!i.multiple,E,!1):y!==!!i.multiple&&(i.defaultValue!=null?iu(s,!!i.multiple,i.defaultValue,!0):iu(s,!!i.multiple,i.multiple?[]:"",!1))}s[od]=i}catch(D){Mt(t,t.return,D)}}break;case 6:if(cs(e,t),Bs(t),n&4){if(t.stateNode===null)throw Error(re(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(D){Mt(t,t.return,D)}}break;case 3:if(cs(e,t),Bs(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{rd(e.containerInfo)}catch(D){Mt(t,t.return,D)}break;case 4:cs(e,t),Bs(t);break;case 13:cs(e,t),Bs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(D0=zt())),n&4&&xw(t);break;case 22:if(g=r!==null&&r.memoizedState!==null,t.mode&1?(Pr=(h=Pr)||g,cs(e,t),Pr=h):cs(e,t),Bs(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!g&&t.mode&1)for(me=t,g=t.child;g!==null;){for(v=me=g;me!==null;){switch(y=me,E=y.child,y.tag){case 0:case 11:case 14:case 15:zc(4,y,y.return);break;case 1:ru(y,y.return);var N=y.stateNode;if(typeof N.componentWillUnmount=="function"){n=y,r=y.return;try{e=n,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(D){Mt(n,r,D)}}break;case 5:ru(y,y.return);break;case 22:if(y.memoizedState!==null){bw(v);continue}}E!==null?(E.return=y,me=E):bw(v)}g=g.sibling}e:for(g=null,v=t;;){if(v.tag===5){if(g===null){g=v;try{s=v.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=v.stateNode,d=v.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=XE("display",o))}catch(D){Mt(t,t.return,D)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(D){Mt(t,t.return,D)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:cs(e,t),Bs(t),n&4&&xw(t);break;case 21:break;default:cs(e,t),Bs(t)}}function Bs(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ED(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Jc(s,""),n.flags&=-33);var i=_w(t);av(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,c=_w(t);iv(t,c,o);break;default:throw Error(re(161))}}catch(d){Mt(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vj(t,e,r){me=t,SD(t)}function SD(t,e,r){for(var n=(t.mode&1)!==0;me!==null;){var s=me,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||xf;if(!o){var c=s.alternate,d=c!==null&&c.memoizedState!==null||Pr;c=xf;var h=Pr;if(xf=o,(Pr=d)&&!h)for(me=s;me!==null;)o=me,d=o.child,o.tag===22&&o.memoizedState!==null?Ew(s):d!==null?(d.return=o,me=d):Ew(s);for(;i!==null;)me=i,SD(i),i=i.sibling;me=s,xf=c,Pr=h}ww(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,me=i):ww(t)}}function ww(t){for(;me!==null;){var e=me;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pr||hm(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Pr)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ds(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&iw(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}iw(e,o,r)}break;case 5:var c=e.stateNode;if(r===null&&e.flags&4){r=c;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&rd(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Pr||e.flags&512&&sv(e)}catch(y){Mt(e,e.return,y)}}if(e===t){me=null;break}if(r=e.sibling,r!==null){r.return=e.return,me=r;break}me=e.return}}function bw(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var r=e.sibling;if(r!==null){r.return=e.return,me=r;break}me=e.return}}function Ew(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{hm(4,e)}catch(d){Mt(e,r,d)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(d){Mt(e,s,d)}}var i=e.return;try{sv(e)}catch(d){Mt(e,i,d)}break;case 5:var o=e.return;try{sv(e)}catch(d){Mt(e,o,d)}}}catch(d){Mt(e,e.return,d)}if(e===t){me=null;break}var c=e.sibling;if(c!==null){c.return=e.return,me=c;break}me=e.return}}var zj=Math.ceil,Oh=ra.ReactCurrentDispatcher,b0=ra.ReactCurrentOwner,Un=ra.ReactCurrentBatchConfig,Qe=0,sr=null,$t=null,dr=0,mn=0,nu=wo(0),Kt=0,hd=null,il=0,mm=0,E0=0,Uc=null,Jr=null,D0=0,wu=1/0,Ni=null,Nh=!1,ov=null,so=null,wf=!1,Xa=null,jh=0,Bc=0,lv=null,Zf=-1,eh=0;function Vr(){return Qe&6?zt():Zf!==-1?Zf:Zf=zt()}function io(t){return t.mode&1?Qe&2&&dr!==0?dr&-dr:Ej.transition!==null?(eh===0&&(eh=c2()),eh):(t=rt,t!==0||(t=window.event,t=t===void 0?16:v2(t.type)),t):1}function ps(t,e,r,n){if(50<Bc)throw Bc=0,lv=null,Error(re(185));Dd(t,r,n),(!(Qe&2)||t!==sr)&&(t===sr&&(!(Qe&2)&&(mm|=r),Kt===4&&Ya(t,dr)),rn(t,n),r===1&&Qe===0&&!(e.mode&1)&&(wu=zt()+500,cm&&bo()))}function rn(t,e){var r=t.callbackNode;EN(t,e);var n=gh(t,t===sr?dr:0);if(n===0)r!==null&&jx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&jx(r),e===1)t.tag===0?bj(Dw.bind(null,t)):F2(Dw.bind(null,t)),yj(function(){!(Qe&6)&&bo()}),r=null;else{switch(d2(n)){case 1:r=Qv;break;case 4:r=l2;break;case 16:r=mh;break;case 536870912:r=u2;break;default:r=mh}r=RD(r,PD.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function PD(t,e){if(Zf=-1,eh=0,Qe&6)throw Error(re(327));var r=t.callbackNode;if(cu()&&t.callbackNode!==r)return null;var n=gh(t,t===sr?dr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Mh(t,n);else{e=n;var s=Qe;Qe|=2;var i=CD();(sr!==t||dr!==e)&&(Ni=null,wu=zt()+500,Xo(t,e));do try{Wj();break}catch(c){ID(t,c)}while(!0);u0(),Oh.current=i,Qe=s,$t!==null?e=0:(sr=null,dr=0,e=Kt)}if(e!==0){if(e===2&&(s=Ap(t),s!==0&&(n=s,e=uv(t,s))),e===1)throw r=hd,Xo(t,0),Ya(t,n),rn(t,zt()),r;if(e===6)Ya(t,n);else{if(s=t.current.alternate,!(n&30)&&!Uj(s)&&(e=Mh(t,n),e===2&&(i=Ap(t),i!==0&&(n=i,e=uv(t,i))),e===1))throw r=hd,Xo(t,0),Ya(t,n),rn(t,zt()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(re(345));case 2:ko(t,Jr,Ni);break;case 3:if(Ya(t,n),(n&130023424)===n&&(e=D0+500-zt(),10<e)){if(gh(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Vr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Wp(ko.bind(null,t,Jr,Ni),e);break}ko(t,Jr,Ni);break;case 4:if(Ya(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-gs(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=zt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zj(n/1960))-n,10<n){t.timeoutHandle=Wp(ko.bind(null,t,Jr,Ni),n);break}ko(t,Jr,Ni);break;case 5:ko(t,Jr,Ni);break;default:throw Error(re(329))}}}return rn(t,zt()),t.callbackNode===r?PD.bind(null,t):null}function uv(t,e){var r=Uc;return t.current.memoizedState.isDehydrated&&(Xo(t,e).flags|=256),t=Mh(t,e),t!==2&&(e=Jr,Jr=r,e!==null&&cv(e)),t}function cv(t){Jr===null?Jr=t:Jr.push.apply(Jr,t)}function Uj(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ys(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ya(t,e){for(e&=~E0,e&=~mm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-gs(e),n=1<<r;t[r]=-1,e&=~n}}function Dw(t){if(Qe&6)throw Error(re(327));cu();var e=gh(t,0);if(!(e&1))return rn(t,zt()),null;var r=Mh(t,e);if(t.tag!==0&&r===2){var n=Ap(t);n!==0&&(e=n,r=uv(t,n))}if(r===1)throw r=hd,Xo(t,0),Ya(t,e),rn(t,zt()),r;if(r===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ko(t,Jr,Ni),rn(t,zt()),null}function T0(t,e){var r=Qe;Qe|=1;try{return t(e)}finally{Qe=r,Qe===0&&(wu=zt()+500,cm&&bo())}}function al(t){Xa!==null&&Xa.tag===0&&!(Qe&6)&&cu();var e=Qe;Qe|=1;var r=Un.transition,n=rt;try{if(Un.transition=null,rt=1,t)return t()}finally{rt=n,Un.transition=r,Qe=e,!(Qe&6)&&bo()}}function S0(){mn=nu.current,_t(nu)}function Xo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,vj(r)),$t!==null)for(r=$t.return;r!==null;){var n=r;switch(a0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xh();break;case 3:_u(),_t(en),_t(Cr),g0();break;case 5:m0(n);break;case 4:_u();break;case 13:_t(St);break;case 19:_t(St);break;case 10:c0(n.type._context);break;case 22:case 23:S0()}r=r.return}if(sr=t,$t=t=ao(t.current,null),dr=mn=e,Kt=0,hd=null,E0=mm=il=0,Jr=Uc=null,qo!==null){for(e=0;e<qo.length;e++)if(r=qo[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}qo=null}return t}function ID(t,e){do{var r=$t;try{if(u0(),Qf.current=Ch,Ih){for(var n=Pt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ih=!1}if(sl=0,nr=qt=Pt=null,Vc=!1,cd=0,b0.current=null,r===null||r.return===null){Kt=1,hd=e,$t=null;break}e:{var i=t,o=r.return,c=r,d=e;if(e=dr,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,g=c,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var y=g.alternate;y?(g.updateQueue=y.updateQueue,g.memoizedState=y.memoizedState,g.lanes=y.lanes):(g.updateQueue=null,g.memoizedState=null)}var E=dw(o);if(E!==null){E.flags&=-257,fw(E,o,c,i,e),E.mode&1&&cw(i,h,e),e=E,d=h;var N=e.updateQueue;if(N===null){var D=new Set;D.add(d),e.updateQueue=D}else N.add(d);break e}else{if(!(e&1)){cw(i,h,e),P0();break e}d=Error(re(426))}}else if(bt&&c.mode&1){var k=dw(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),fw(k,o,c,i,e),o0(xu(d,c));break e}}i=d=xu(d,c),Kt!==4&&(Kt=2),Uc===null?Uc=[i]:Uc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var S=dD(i,d,e);sw(i,S);break e;case 1:c=d;var P=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof P.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(so===null||!so.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=fD(i,c,e);sw(i,R);break e}}i=i.return}while(i!==null)}ND(r)}catch(Y){e=Y,$t===r&&r!==null&&($t=r=r.return);continue}break}while(!0)}function CD(){var t=Oh.current;return Oh.current=Ch,t===null?Ch:t}function P0(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),sr===null||!(il&268435455)&&!(mm&268435455)||Ya(sr,dr)}function Mh(t,e){var r=Qe;Qe|=2;var n=CD();(sr!==t||dr!==e)&&(Ni=null,Xo(t,e));do try{Bj();break}catch(s){ID(t,s)}while(!0);if(u0(),Qe=r,Oh.current=n,$t!==null)throw Error(re(261));return sr=null,dr=0,Kt}function Bj(){for(;$t!==null;)OD($t)}function Wj(){for(;$t!==null&&!mN();)OD($t)}function OD(t){var e=MD(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?ND(t):$t=e,b0.current=null}function ND(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Fj(r,e),r!==null){r.flags&=32767,$t=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kt=6,$t=null;return}}else if(r=Aj(r,e,mn),r!==null){$t=r;return}if(e=e.sibling,e!==null){$t=e;return}$t=e=t}while(e!==null);Kt===0&&(Kt=5)}function ko(t,e,r){var n=rt,s=Un.transition;try{Un.transition=null,rt=1,$j(t,e,r,n)}finally{Un.transition=s,rt=n}return null}function $j(t,e,r,n){do cu();while(Xa!==null);if(Qe&6)throw Error(re(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(DN(t,i),t===sr&&($t=sr=null,dr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wf||(wf=!0,RD(mh,function(){return cu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Un.transition,Un.transition=null;var o=rt;rt=1;var c=Qe;Qe|=4,b0.current=null,Lj(t,r),TD(r,t),cj(Up),ph=!!zp,Up=zp=null,t.current=r,Vj(r),gN(),Qe=c,rt=o,Un.transition=i}else t.current=r;if(wf&&(wf=!1,Xa=t,jh=s),i=t.pendingLanes,i===0&&(so=null),yN(r.stateNode),rn(t,zt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Nh)throw Nh=!1,t=ov,ov=null,t;return jh&1&&t.tag!==0&&cu(),i=t.pendingLanes,i&1?t===lv?Bc++:(Bc=0,lv=t):Bc=0,bo(),null}function cu(){if(Xa!==null){var t=d2(jh),e=Un.transition,r=rt;try{if(Un.transition=null,rt=16>t?16:t,Xa===null)var n=!1;else{if(t=Xa,Xa=null,jh=0,Qe&6)throw Error(re(331));var s=Qe;for(Qe|=4,me=t.current;me!==null;){var i=me,o=i.child;if(me.flags&16){var c=i.deletions;if(c!==null){for(var d=0;d<c.length;d++){var h=c[d];for(me=h;me!==null;){var g=me;switch(g.tag){case 0:case 11:case 15:zc(8,g,i)}var v=g.child;if(v!==null)v.return=g,me=v;else for(;me!==null;){g=me;var y=g.sibling,E=g.return;if(bD(g),g===h){me=null;break}if(y!==null){y.return=E,me=y;break}me=E}}}var N=i.alternate;if(N!==null){var D=N.child;if(D!==null){N.child=null;do{var k=D.sibling;D.sibling=null,D=k}while(D!==null)}}me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,me=o;else e:for(;me!==null;){if(i=me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zc(9,i,i.return)}var S=i.sibling;if(S!==null){S.return=i.return,me=S;break e}me=i.return}}var P=t.current;for(me=P;me!==null;){o=me;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,me=C;else e:for(o=P;me!==null;){if(c=me,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:hm(9,c)}}catch(Y){Mt(c,c.return,Y)}if(c===o){me=null;break e}var R=c.sibling;if(R!==null){R.return=c.return,me=R;break e}me=c.return}}if(Qe=s,bo(),Gs&&typeof Gs.onPostCommitFiberRoot=="function")try{Gs.onPostCommitFiberRoot(im,t)}catch{}n=!0}return n}finally{rt=r,Un.transition=e}}return!1}function Tw(t,e,r){e=xu(r,e),e=dD(t,e,1),t=no(t,e,1),e=Vr(),t!==null&&(Dd(t,1,e),rn(t,e))}function Mt(t,e,r){if(t.tag===3)Tw(t,t,r);else for(;e!==null;){if(e.tag===3){Tw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(so===null||!so.has(n))){t=xu(r,t),t=fD(e,t,1),e=no(e,t,1),t=Vr(),e!==null&&(Dd(e,1,t),rn(e,t));break}}e=e.return}}function Hj(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Vr(),t.pingedLanes|=t.suspendedLanes&r,sr===t&&(dr&r)===r&&(Kt===4||Kt===3&&(dr&130023424)===dr&&500>zt()-D0?Xo(t,0):E0|=r),rn(t,e)}function jD(t,e){e===0&&(t.mode&1?(e=df,df<<=1,!(df&130023424)&&(df=4194304)):e=1);var r=Vr();t=Gi(t,e),t!==null&&(Dd(t,e,r),rn(t,r))}function Yj(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),jD(t,r)}function qj(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(e),jD(t,r)}var MD;MD=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Zr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Zr=!1,Rj(t,e,r);Zr=!!(t.flags&131072)}else Zr=!1,bt&&e.flags&1048576&&k2(e,Eh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Jf(t,e),t=e.pendingProps;var s=pu(e,Cr.current);uu(e,r),s=v0(null,e,n,t,s,r);var i=y0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(n)?(i=!0,wh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,f0(e),s.updater=fm,e.stateNode=s,s._reactInternals=e,Qp(e,n,t,r),e=Zp(null,e,n,!0,i,r)):(e.tag=0,bt&&i&&i0(e),Lr(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Jf(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Kj(n),t=ds(n,t),s){case 0:e=Jp(null,e,n,t,r);break e;case 1:e=gw(null,e,n,t,r);break e;case 11:e=hw(null,e,n,t,r);break e;case 14:e=mw(null,e,n,ds(n.type,t),r);break e}throw Error(re(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ds(n,s),Jp(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ds(n,s),gw(t,e,n,s,r);case 3:e:{if(pD(e),t===null)throw Error(re(387));n=e.pendingProps,i=e.memoizedState,s=i.element,W2(t,e),Sh(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=xu(Error(re(423)),e),e=pw(t,e,n,r,s);break e}else if(n!==s){s=xu(Error(re(424)),e),e=pw(t,e,n,r,s);break e}else for(pn=ro(e.stateNode.containerInfo.firstChild),vn=e,bt=!0,hs=null,r=U2(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vu(),n===s){e=Ki(t,e,r);break e}Lr(t,e,n,r)}e=e.child}return e;case 5:return $2(e),t===null&&qp(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Bp(n,s)?o=null:i!==null&&Bp(n,i)&&(e.flags|=32),gD(t,e),Lr(t,e,o,r),e.child;case 6:return t===null&&qp(e),null;case 13:return vD(t,e,r);case 4:return h0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=yu(e,null,n,r):Lr(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ds(n,s),hw(t,e,n,s,r);case 7:return Lr(t,e,e.pendingProps,r),e.child;case 8:return Lr(t,e,e.pendingProps.children,r),e.child;case 12:return Lr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,mt(Dh,n._currentValue),n._currentValue=o,i!==null)if(ys(i.value,o)){if(i.children===s.children&&!en.current){e=Ki(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var d=c.firstContext;d!==null;){if(d.context===n){if(i.tag===1){d=$i(-1,r&-r),d.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?d.next=d:(d.next=g.next,g.next=d),h.pending=d}}i.lanes|=r,d=i.alternate,d!==null&&(d.lanes|=r),Gp(i.return,r,e),c.lanes|=r;break}d=d.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(re(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Gp(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Lr(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,uu(e,r),s=Bn(s),n=n(s),e.flags|=1,Lr(t,e,n,r),e.child;case 14:return n=e.type,s=ds(n,e.pendingProps),s=ds(n.type,s),mw(t,e,n,s,r);case 15:return hD(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ds(n,s),Jf(t,e),e.tag=1,tn(n)?(t=!0,wh(e)):t=!1,uu(e,r),cD(e,n,s),Qp(e,n,s,r),Zp(null,e,n,!0,t,r);case 19:return yD(t,e,r);case 22:return mD(t,e,r)}throw Error(re(156,e.tag))};function RD(t,e){return o2(t,e)}function Gj(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,r,n){return new Gj(t,e,r,n)}function I0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kj(t){if(typeof t=="function")return I0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qv)return 11;if(t===Gv)return 14}return 2}function ao(t,e){var r=t.alternate;return r===null?(r=Vn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function th(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")I0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ql:return Jo(r.children,s,i,e);case Yv:o=8,s|=8;break;case xp:return t=Vn(12,r,e,s|2),t.elementType=xp,t.lanes=i,t;case wp:return t=Vn(13,r,e,s),t.elementType=wp,t.lanes=i,t;case bp:return t=Vn(19,r,e,s),t.elementType=bp,t.lanes=i,t;case $E:return gm(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BE:o=10;break e;case WE:o=9;break e;case qv:o=11;break e;case Gv:o=14;break e;case Wa:o=16,n=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Vn(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Jo(t,e,r,n){return t=Vn(7,t,n,e),t.lanes=r,t}function gm(t,e,r,n){return t=Vn(22,t,n,e),t.elementType=$E,t.lanes=r,t.stateNode={isHidden:!1},t}function kg(t,e,r){return t=Vn(6,t,null,e),t.lanes=r,t}function Lg(t,e,r){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qj(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yg(0),this.expirationTimes=yg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yg(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function C0(t,e,r,n,s,i,o,c,d){return t=new Qj(t,e,r,c,d),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Vn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},f0(i),t}function Xj(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function AD(t){if(!t)return mo;t=t._reactInternals;e:{if(hl(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var r=t.type;if(tn(r))return A2(t,r,e)}return e}function FD(t,e,r,n,s,i,o,c,d){return t=C0(r,n,!0,t,s,i,o,c,d),t.context=AD(null),r=t.current,n=Vr(),s=io(r),i=$i(n,s),i.callback=e??null,no(r,i,s),t.current.lanes=s,Dd(t,s,n),rn(t,n),t}function pm(t,e,r,n){var s=e.current,i=Vr(),o=io(s);return r=AD(r),e.context===null?e.context=r:e.pendingContext=r,e=$i(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=no(s,e,o),t!==null&&(ps(t,s,o,i),Kf(t,s,o)),o}function Rh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function O0(t,e){Sw(t,e),(t=t.alternate)&&Sw(t,e)}function Jj(){return null}var kD=typeof reportError=="function"?reportError:function(t){console.error(t)};function N0(t){this._internalRoot=t}vm.prototype.render=N0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));pm(t,e,null,null)};vm.prototype.unmount=N0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;al(function(){pm(null,t,null,null)}),e[qi]=null}};function vm(t){this._internalRoot=t}vm.prototype.unstable_scheduleHydration=function(t){if(t){var e=m2();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ha.length&&e!==0&&e<Ha[r].priority;r++);Ha.splice(r,0,t),r===0&&p2(t)}};function j0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ym(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pw(){}function Zj(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var h=Rh(o);i.call(h)}}var o=FD(e,n,t,0,null,!1,!1,"",Pw);return t._reactRootContainer=o,t[qi]=o.current,id(t.nodeType===8?t.parentNode:t),al(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var h=Rh(d);c.call(h)}}var d=C0(t,0,!1,null,null,!1,!1,"",Pw);return t._reactRootContainer=d,t[qi]=d.current,id(t.nodeType===8?t.parentNode:t),al(function(){pm(e,d,r,n)}),d}function _m(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var c=s;s=function(){var d=Rh(o);c.call(d)}}pm(e,o,t,s)}else o=Zj(r,e,t,s,n);return Rh(o)}f2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Pc(e.pendingLanes);r!==0&&(Xv(e,r|1),rn(e,zt()),!(Qe&6)&&(wu=zt()+500,bo()))}break;case 13:al(function(){var n=Gi(t,1);if(n!==null){var s=Vr();ps(n,t,1,s)}}),O0(t,1)}};Jv=function(t){if(t.tag===13){var e=Gi(t,134217728);if(e!==null){var r=Vr();ps(e,t,134217728,r)}O0(t,134217728)}};h2=function(t){if(t.tag===13){var e=io(t),r=Gi(t,e);if(r!==null){var n=Vr();ps(r,t,e,n)}O0(t,e)}};m2=function(){return rt};g2=function(t,e){var r=rt;try{return rt=t,e()}finally{rt=r}};jp=function(t,e,r){switch(e){case"input":if(Tp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=um(n);if(!s)throw Error(re(90));YE(n),Tp(n,s)}}}break;case"textarea":GE(t,r);break;case"select":e=r.value,e!=null&&iu(t,!!r.multiple,e,!1)}};t2=T0;r2=al;var eM={usingClientEntryPoint:!1,Events:[Sd,Xl,um,ZE,e2,T0]},cc={findFiberByHostInstance:Yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tM={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=i2(t),t===null?null:t.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||Jj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{im=bf.inject(tM),Gs=bf}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eM;wn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j0(e))throw Error(re(200));return Xj(t,e,null,r)};wn.createRoot=function(t,e){if(!j0(t))throw Error(re(299));var r=!1,n="",s=kD;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=C0(t,1,!1,null,null,r,!1,n,s),t[qi]=e.current,id(t.nodeType===8?t.parentNode:t),new N0(e)};wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=i2(e),t=t===null?null:t.stateNode,t};wn.flushSync=function(t){return al(t)};wn.hydrate=function(t,e,r){if(!ym(e))throw Error(re(200));return _m(null,t,e,!0,r)};wn.hydrateRoot=function(t,e,r){if(!j0(t))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=kD;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=FD(e,null,t,1,r??null,s,!1,i,o),t[qi]=e.current,id(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new vm(e)};wn.render=function(t,e,r){if(!ym(e))throw Error(re(200));return _m(null,t,e,!1,r)};wn.unmountComponentAtNode=function(t){if(!ym(t))throw Error(re(40));return t._reactRootContainer?(al(function(){_m(null,null,t,!1,function(){t._reactRootContainer=null,t[qi]=null})}),!0):!1};wn.unstable_batchedUpdates=T0;wn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ym(r))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return _m(t,e,r,!1,n)};wn.version="18.3.1-next-f1338f8080-20240426";function LD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LD)}catch(t){console.error(t)}}LD(),LE.exports=wn;var rM=LE.exports,Iw=rM;yp.createRoot=Iw.createRoot,yp.hydrateRoot=Iw.hydrateRoot;var M0={},Id={},VD={exports:{}},nM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sM=nM,iM=sM;function zD(){}function UD(){}UD.resetWarningCache=zD;var aM=function(){function t(n,s,i,o,c,d){if(d!==iM){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:UD,resetWarningCache:zD};return r.PropTypes=r,r};VD.exports=aM();var na=VD.exports,Cd={},Qi={},BD={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var i="",o=0;o<arguments.length;o++){var c=arguments[o];c&&(i=s(i,n(c)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return r.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var c in i)e.call(i,c)&&i[c]&&(o=s(o,c));return o}function s(i,o){return o?i?i+" "+o:i+o:i}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(BD);var ml=BD.exports,Eo={},R0={},ni={},we={},ie={};ie.secondsInYear=ie.secondsInWeek=ie.secondsInQuarter=ie.secondsInMonth=ie.secondsInMinute=ie.secondsInHour=ie.secondsInDay=ie.quartersInYear=ie.monthsInYear=ie.monthsInQuarter=ie.minutesInYear=ie.minutesInMonth=ie.minutesInHour=ie.minutesInDay=ie.minTime=ie.millisecondsInWeek=ie.millisecondsInSecond=ie.millisecondsInMinute=ie.millisecondsInHour=ie.millisecondsInDay=ie.maxTime=ie.daysInYear=ie.daysInWeek=ie.constructFromSymbol=void 0;ie.daysInWeek=7;const oM=ie.daysInYear=365.2425,lM=ie.maxTime=Math.pow(10,8)*24*60*60*1e3;ie.minTime=-lM;ie.millisecondsInWeek=6048e5;ie.millisecondsInDay=864e5;ie.millisecondsInMinute=6e4;ie.millisecondsInHour=36e5;ie.millisecondsInSecond=1e3;ie.minutesInYear=525600;ie.minutesInMonth=43200;ie.minutesInDay=1440;ie.minutesInHour=60;ie.monthsInQuarter=3;ie.monthsInYear=12;ie.quartersInYear=4;const uM=ie.secondsInHour=3600;ie.secondsInMinute=60;const WD=ie.secondsInDay=uM*24;ie.secondsInWeek=WD*7;const cM=ie.secondsInYear=WD*oM,dM=ie.secondsInMonth=cM/12;ie.secondsInQuarter=dM*3;ie.constructFromSymbol=Symbol.for("constructDateFrom");we.constructFrom=fM;var Cw=ie;function fM(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Cw.constructFromSymbol in t?t[Cw.constructFromSymbol](e):t instanceof Date?new t.constructor(e):new Date(e)}var Q={};Q.toDate=mM;var hM=we;function mM(t,e){return(0,hM.constructFrom)(e||t,t)}ni.addDays=vM;var gM=we,pM=Q;function vM(t,e,r){const n=(0,pM.toDate)(t,r==null?void 0:r.in);return isNaN(e)?(0,gM.constructFrom)((r==null?void 0:r.in)||t,NaN):(e&&n.setDate(n.getDate()+e),n)}var Fu={};Fu.addMonths=_M;var Ow=we,yM=Q;function _M(t,e,r){const n=(0,yM.toDate)(t,r==null?void 0:r.in);if(isNaN(e))return(0,Ow.constructFrom)((r==null?void 0:r.in)||t,NaN);if(!e)return n;const s=n.getDate(),i=(0,Ow.constructFrom)((r==null?void 0:r.in)||t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}R0.add=DM;var xM=ni,wM=Fu,bM=we,EM=Q;function DM(t,e,r){const{years:n=0,months:s=0,weeks:i=0,days:o=0,hours:c=0,minutes:d=0,seconds:h=0}=e,g=(0,EM.toDate)(t,r==null?void 0:r.in),v=s||n?(0,wM.addMonths)(g,s+n*12):g,y=o||i?(0,xM.addDays)(v,o+i*7):v,E=d+c*60,D=(h+E*60)*1e3;return(0,bM.constructFrom)((r==null?void 0:r.in)||t,+y+D)}var A0={},F0={};F0.isSaturday=SM;var TM=Q;function SM(t,e){return(0,TM.toDate)(t,e==null?void 0:e.in).getDay()===6}var k0={};k0.isSunday=IM;var PM=Q;function IM(t,e){return(0,PM.toDate)(t,e==null?void 0:e.in).getDay()===0}var Od={};Od.isWeekend=OM;var CM=Q;function OM(t,e){const r=(0,CM.toDate)(t,e==null?void 0:e.in).getDay();return r===0||r===6}A0.addBusinessDays=AM;var NM=we,jM=F0,MM=k0,Vg=Od,RM=Q;function AM(t,e,r){const n=(0,RM.toDate)(t,r==null?void 0:r.in),s=(0,Vg.isWeekend)(n,r);if(isNaN(e))return(0,NM.constructFrom)(r==null?void 0:r.in,NaN);const i=n.getHours(),o=e<0?-1:1,c=Math.trunc(e/5);n.setDate(n.getDate()+c*7);let d=Math.abs(e%5);for(;d>0;)n.setDate(n.getDate()+o),(0,Vg.isWeekend)(n,r)||(d-=1);return s&&(0,Vg.isWeekend)(n,r)&&e!==0&&((0,jM.isSaturday)(n,r)&&n.setDate(n.getDate()+(o<0?2:-1)),(0,MM.isSunday)(n,r)&&n.setDate(n.getDate()+(o<0?1:-2))),n.setHours(i),n}var L0={},Nd={};Nd.addMilliseconds=LM;var FM=we,kM=Q;function LM(t,e,r){return(0,FM.constructFrom)((r==null?void 0:r.in)||t,+(0,kM.toDate)(t)+e)}L0.addHours=UM;var VM=Nd,zM=ie;function UM(t,e,r){return(0,VM.addMilliseconds)(t,e*zM.millisecondsInHour,r)}var V0={},Do={},si={},_s={},gr={};gr.getDefaultOptions=BM;gr.setDefaultOptions=WM;let $D={};function BM(){return $D}function WM(t){$D=t}_s.startOfWeek=YM;var $M=gr,HM=Q;function YM(t,e){var c,d,h,g;const r=(0,$M.getDefaultOptions)(),n=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,s=(0,HM.toDate)(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}si.startOfISOWeek=GM;var qM=_s;function GM(t,e){return(0,qM.startOfWeek)(t,{...e,weekStartsOn:1})}Do.getISOWeekYear=QM;var Nw=we,jw=si,KM=Q;function QM(t,e){const r=(0,KM.toDate)(t,e==null?void 0:e.in),n=r.getFullYear(),s=(0,Nw.constructFrom)(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=(0,jw.startOfISOWeek)(s),o=(0,Nw.constructFrom)(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const c=(0,jw.startOfISOWeek)(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}var z0={},sa={},ia={};ia.getTimezoneOffsetInMilliseconds=JM;var XM=Q;function JM(t){const e=(0,XM.toDate)(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}var st={};st.normalizeDates=e4;var ZM=we;function e4(t,...e){const r=ZM.constructFrom.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}var jd={};jd.startOfDay=r4;var t4=Q;function r4(t,e){const r=(0,t4.toDate)(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}sa.differenceInCalendarDays=i4;var Mw=ia,n4=st,s4=ie,Rw=jd;function i4(t,e,r){const[n,s]=(0,n4.normalizeDates)(r==null?void 0:r.in,t,e),i=(0,Rw.startOfDay)(n),o=(0,Rw.startOfDay)(s),c=+i-(0,Mw.getTimezoneOffsetInMilliseconds)(i),d=+o-(0,Mw.getTimezoneOffsetInMilliseconds)(o);return Math.round((c-d)/s4.millisecondsInDay)}var ku={};ku.startOfISOWeekYear=u4;var a4=we,o4=Do,l4=si;function u4(t,e){const r=(0,o4.getISOWeekYear)(t,e),n=(0,a4.constructFrom)((e==null?void 0:e.in)||t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),(0,l4.startOfISOWeek)(n)}z0.setISOWeekYear=h4;var c4=we,d4=sa,Aw=ku,f4=Q;function h4(t,e,r){let n=(0,f4.toDate)(t,r==null?void 0:r.in);const s=(0,d4.differenceInCalendarDays)(n,(0,Aw.startOfISOWeekYear)(n,r)),i=(0,c4.constructFrom)((r==null?void 0:r.in)||t,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),n=(0,Aw.startOfISOWeekYear)(i),n.setDate(n.getDate()+s),n}V0.addISOWeekYears=p4;var m4=Do,g4=z0;function p4(t,e,r){return(0,g4.setISOWeekYear)(t,(0,m4.getISOWeekYear)(t,r)+e,r)}var xm={};xm.addMinutes=_4;var v4=ie,y4=Q;function _4(t,e,r){const n=(0,y4.toDate)(t,r==null?void 0:r.in);return n.setTime(n.getTime()+e*v4.millisecondsInMinute),n}var wm={};wm.addQuarters=w4;var x4=Fu;function w4(t,e,r){return(0,x4.addMonths)(t,e*3,r)}var U0={};U0.addSeconds=E4;var b4=Nd;function E4(t,e,r){return(0,b4.addMilliseconds)(t,e*1e3,r)}var Md={};Md.addWeeks=T4;var D4=ni;function T4(t,e,r){return(0,D4.addDays)(t,e*7,r)}var B0={};B0.addYears=P4;var S4=Fu;function P4(t,e,r){return(0,S4.addMonths)(t,e*12,r)}var HD={};HD.areIntervalsOverlapping=I4;var Ef=Q;function I4(t,e,r){const[n,s]=[+(0,Ef.toDate)(t.start,r==null?void 0:r.in),+(0,Ef.toDate)(t.end,r==null?void 0:r.in)].sort((c,d)=>c-d),[i,o]=[+(0,Ef.toDate)(e.start,r==null?void 0:r.in),+(0,Ef.toDate)(e.end,r==null?void 0:r.in)].sort((c,d)=>c-d);return r!=null&&r.inclusive?n<=o&&i<=s:n<o&&i<s}var YD={},W0={};W0.max=O4;var Fw=we,C4=Q;function O4(t,e){let r,n=e==null?void 0:e.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=Fw.constructFrom.bind(null,s));const i=(0,C4.toDate)(s,n);(!r||r<i||isNaN(+i))&&(r=i)}),(0,Fw.constructFrom)(n,r||NaN)}var $0={};$0.min=j4;var kw=we,N4=Q;function j4(t,e){let r,n=e==null?void 0:e.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=kw.constructFrom.bind(null,s));const i=(0,N4.toDate)(s,n);(!r||r>i||isNaN(+i))&&(r=i)}),(0,kw.constructFrom)(n,r||NaN)}YD.clamp=F4;var M4=st,R4=W0,A4=$0;function F4(t,e,r){const[n,s,i]=(0,M4.normalizeDates)(r==null?void 0:r.in,t,e.start,e.end);return(0,A4.min)([(0,R4.max)([n,s],r),i],r)}var H0={};H0.closestIndexTo=k4;var Lw=Q;function k4(t,e){const r=+(0,Lw.toDate)(t);if(isNaN(r))return NaN;let n,s;return e.forEach((i,o)=>{const c=(0,Lw.toDate)(i);if(isNaN(+c)){n=NaN,s=NaN;return}const d=Math.abs(r-+c);(n==null||d<s)&&(n=o,s=d)}),n}var qD={};qD.closestTo=U4;var L4=st,V4=H0,z4=we;function U4(t,e,r){const[n,...s]=(0,L4.normalizeDates)(r==null?void 0:r.in,t,...e),i=(0,V4.closestIndexTo)(n,s);if(typeof i=="number"&&isNaN(i))return(0,z4.constructFrom)(n,NaN);if(i!==void 0)return s[i]}var gl={};gl.compareAsc=B4;var Vw=Q;function B4(t,e){const r=+(0,Vw.toDate)(t)-+(0,Vw.toDate)(e);return r<0?-1:r>0?1:r}var GD={};GD.compareDesc=W4;var zw=Q;function W4(t,e){const r=+(0,zw.toDate)(t)-+(0,zw.toDate)(e);return r>0?-1:r<0?1:r}var Jt={};Jt.constructNow=H4;var $4=we;function H4(t){return(0,$4.constructFrom)(t,Date.now())}var KD={};KD.daysToWeeks=q4;var Y4=ie;function q4(t){const e=Math.trunc(t/Y4.daysInWeek);return e===0?0:e}var QD={},Lu={};Lu.isSameDay=K4;var G4=st,Uw=jd;function K4(t,e,r){const[n,s]=(0,G4.normalizeDates)(r==null?void 0:r.in,t,e);return+(0,Uw.startOfDay)(n)==+(0,Uw.startOfDay)(s)}var aa={},Y0={};Y0.isDate=Q4;function Q4(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}aa.isValid=Z4;var X4=Y0,J4=Q;function Z4(t){return!(!(0,X4.isDate)(t)&&typeof t!="number"||isNaN(+(0,J4.toDate)(t)))}QD.differenceInBusinessDays=sR;var eR=st,Bw=ni,tR=sa,rR=Lu,Ww=aa,nR=Od;function sR(t,e,r){const[n,s]=(0,eR.normalizeDates)(r==null?void 0:r.in,t,e);if(!(0,Ww.isValid)(n)||!(0,Ww.isValid)(s))return NaN;const i=(0,tR.differenceInCalendarDays)(n,s),o=i<0?-1:1,c=Math.trunc(i/7);let d=c*5,h=(0,Bw.addDays)(s,c*7);for(;!(0,rR.isSameDay)(n,h);)d+=(0,nR.isWeekend)(h,r)?0:o,h=(0,Bw.addDays)(h,o);return d===0?0:d}var q0={};q0.differenceInCalendarISOWeekYears=aR;var iR=st,$w=Do;function aR(t,e,r){const[n,s]=(0,iR.normalizeDates)(r==null?void 0:r.in,t,e);return(0,$w.getISOWeekYear)(n,r)-(0,$w.getISOWeekYear)(s,r)}var XD={};XD.differenceInCalendarISOWeeks=uR;var Hw=ia,oR=st,lR=ie,Yw=si;function uR(t,e,r){const[n,s]=(0,oR.normalizeDates)(r==null?void 0:r.in,t,e),i=(0,Yw.startOfISOWeek)(n),o=(0,Yw.startOfISOWeek)(s),c=+i-(0,Hw.getTimezoneOffsetInMilliseconds)(i),d=+o-(0,Hw.getTimezoneOffsetInMilliseconds)(o);return Math.round((c-d)/lR.millisecondsInWeek)}var bm={};bm.differenceInCalendarMonths=dR;var cR=st;function dR(t,e,r){const[n,s]=(0,cR.normalizeDates)(r==null?void 0:r.in,t,e),i=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return i*12+o}var G0={},K0={};K0.getQuarter=hR;var fR=Q;function hR(t,e){const r=(0,fR.toDate)(t,e==null?void 0:e.in);return Math.trunc(r.getMonth()/3)+1}G0.differenceInCalendarQuarters=gR;var mR=st,qw=K0;function gR(t,e,r){const[n,s]=(0,mR.normalizeDates)(r==null?void 0:r.in,t,e),i=n.getFullYear()-s.getFullYear(),o=(0,qw.getQuarter)(n)-(0,qw.getQuarter)(s);return i*4+o}var Em={};Em.differenceInCalendarWeeks=yR;var Gw=ia,pR=st,vR=ie,Kw=_s;function yR(t,e,r){const[n,s]=(0,pR.normalizeDates)(r==null?void 0:r.in,t,e),i=(0,Kw.startOfWeek)(n,r),o=(0,Kw.startOfWeek)(s,r),c=+i-(0,Gw.getTimezoneOffsetInMilliseconds)(i),d=+o-(0,Gw.getTimezoneOffsetInMilliseconds)(o);return Math.round((c-d)/vR.millisecondsInWeek)}var Dm={};Dm.differenceInCalendarYears=xR;var _R=st;function xR(t,e,r){const[n,s]=(0,_R.normalizeDates)(r==null?void 0:r.in,t,e);return n.getFullYear()-s.getFullYear()}var Tm={};Tm.differenceInDays=ER;var wR=st,bR=sa;function ER(t,e,r){const[n,s]=(0,wR.normalizeDates)(r==null?void 0:r.in,t,e),i=Qw(n,s),o=Math.abs((0,bR.differenceInCalendarDays)(n,s));n.setDate(n.getDate()-i*o);const c=+(Qw(n,s)===-i),d=i*(o-c);return d===0?0:d}function Qw(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}var Sm={},oa={};oa.getRoundingMethod=DR;function DR(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}Sm.differenceInHours=IR;var TR=oa,SR=st,PR=ie;function IR(t,e,r){const[n,s]=(0,SR.normalizeDates)(r==null?void 0:r.in,t,e),i=(+n-+s)/PR.millisecondsInHour;return(0,TR.getRoundingMethod)(r==null?void 0:r.roundingMethod)(i)}var JD={},Q0={};Q0.subISOWeekYears=OR;var CR=V0;function OR(t,e,r){return(0,CR.addISOWeekYears)(t,-e,r)}JD.differenceInISOWeekYears=RR;var NR=st,Xw=gl,jR=q0,MR=Q0;function RR(t,e,r){const[n,s]=(0,NR.normalizeDates)(r==null?void 0:r.in,t,e),i=(0,Xw.compareAsc)(n,s),o=Math.abs((0,jR.differenceInCalendarISOWeekYears)(n,s,r)),c=(0,MR.subISOWeekYears)(n,i*o,r),d=+((0,Xw.compareAsc)(c,s)===-i),h=i*(o-d);return h===0?0:h}var Pm={};Pm.differenceInMilliseconds=AR;var Jw=Q;function AR(t,e){return+(0,Jw.toDate)(t)-+(0,Jw.toDate)(e)}var Im={};Im.differenceInMinutes=VR;var FR=oa,kR=ie,LR=Pm;function VR(t,e,r){const n=(0,LR.differenceInMilliseconds)(t,e)/kR.millisecondsInMinute;return(0,FR.getRoundingMethod)(r==null?void 0:r.roundingMethod)(n)}var Rd={},X0={},Cm={};Cm.endOfDay=UR;var zR=Q;function UR(t,e){const r=(0,zR.toDate)(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}var Om={};Om.endOfMonth=WR;var BR=Q;function WR(t,e){const r=(0,BR.toDate)(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}X0.isLastDayOfMonth=qR;var $R=Cm,HR=Om,YR=Q;function qR(t,e){const r=(0,YR.toDate)(t,e==null?void 0:e.in);return+(0,$R.endOfDay)(r,e)==+(0,HR.endOfMonth)(r,e)}Rd.differenceInMonths=XR;var GR=st,zg=gl,KR=bm,QR=X0;function XR(t,e,r){const[n,s,i]=(0,GR.normalizeDates)(r==null?void 0:r.in,t,t,e),o=(0,zg.compareAsc)(s,i),c=Math.abs((0,KR.differenceInCalendarMonths)(s,i));if(c<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-o*c);let d=(0,zg.compareAsc)(s,i)===-o;(0,QR.isLastDayOfMonth)(n)&&c===1&&(0,zg.compareAsc)(n,i)===1&&(d=!1);const h=o*(c-+d);return h===0?0:h}var ZD={};ZD.differenceInQuarters=eA;var JR=oa,ZR=Rd;function eA(t,e,r){const n=(0,ZR.differenceInMonths)(t,e,r)/3;return(0,JR.getRoundingMethod)(r==null?void 0:r.roundingMethod)(n)}var Ad={};Ad.differenceInSeconds=nA;var tA=oa,rA=Pm;function nA(t,e,r){const n=(0,rA.differenceInMilliseconds)(t,e)/1e3;return(0,tA.getRoundingMethod)(r==null?void 0:r.roundingMethod)(n)}var eT={};eT.differenceInWeeks=aA;var sA=oa,iA=Tm;function aA(t,e,r){const n=(0,iA.differenceInDays)(t,e,r)/7;return(0,sA.getRoundingMethod)(r==null?void 0:r.roundingMethod)(n)}var J0={};J0.differenceInYears=uA;var oA=st,Zw=gl,lA=Dm;function uA(t,e,r){const[n,s]=(0,oA.normalizeDates)(r==null?void 0:r.in,t,e),i=(0,Zw.compareAsc)(n,s),o=Math.abs((0,lA.differenceInCalendarYears)(n,s));n.setFullYear(1584),s.setFullYear(1584);const c=(0,Zw.compareAsc)(n,s)===-i,d=i*(o-+c);return d===0?0:d}var Z0={},ii={};ii.normalizeInterval=dA;var cA=st;function dA(t,e){const[r,n]=(0,cA.normalizeDates)(t,e.start,e.end);return{start:r,end:n}}Z0.eachDayOfInterval=mA;var fA=ii,hA=we;function mA(t,e){const{start:r,end:n}=(0,fA.normalizeInterval)(e==null?void 0:e.in,t);let s=+r>+n;const i=s?+r:+n,o=s?n:r;o.setHours(0,0,0,0);let c=(e==null?void 0:e.step)??1;if(!c)return[];c<0&&(c=-c,s=!s);const d=[];for(;+o<=i;)d.push((0,hA.constructFrom)(r,o)),o.setDate(o.getDate()+c),o.setHours(0,0,0,0);return s?d.reverse():d}var tT={};tT.eachHourOfInterval=vA;var gA=ii,pA=we;function vA(t,e){const{start:r,end:n}=(0,gA.normalizeInterval)(e==null?void 0:e.in,t);let s=+r>+n;const i=s?+r:+n,o=s?n:r;o.setMinutes(0,0,0);let c=(e==null?void 0:e.step)??1;if(!c)return[];c<0&&(c=-c,s=!s);const d=[];for(;+o<=i;)d.push((0,pA.constructFrom)(r,o)),o.setHours(o.getHours()+c);return s?d.reverse():d}var rT={};rT.eachMinuteOfInterval=wA;var yA=ii,_A=xm,xA=we;function wA(t,e){const{start:r,end:n}=(0,yA.normalizeInterval)(e==null?void 0:e.in,t);r.setSeconds(0,0);let s=+r>+n;const i=s?+r:+n;let o=s?n:r,c=(e==null?void 0:e.step)??1;if(!c)return[];c<0&&(c=-c,s=!s);const d=[];for(;+o<=i;)d.push((0,xA.constructFrom)(r,o)),o=(0,_A.addMinutes)(o,c);return s?d.reverse():d}var nT={};nT.eachMonthOfInterval=DA;var bA=ii,EA=we;function DA(t,e){const{start:r,end:n}=(0,bA.normalizeInterval)(e==null?void 0:e.in,t);let s=+r>+n;const i=s?+r:+n,o=s?n:r;o.setHours(0,0,0,0),o.setDate(1);let c=(e==null?void 0:e.step)??1;if(!c)return[];c<0&&(c=-c,s=!s);const d=[];for(;+o<=i;)d.push((0,EA.constructFrom)(r,o)),o.setMonth(o.getMonth()+c);return s?d.reverse():d}var sT={},Nm={};Nm.startOfQuarter=SA;var TA=Q;function SA(t,e){const r=(0,TA.toDate)(t,e==null?void 0:e.in),n=r.getMonth(),s=n-n%3;return r.setMonth(s,1),r.setHours(0,0,0,0),r}sT.eachQuarterOfInterval=OA;var PA=ii,IA=wm,CA=we,Df=Nm;function OA(t,e){const{start:r,end:n}=(0,PA.normalizeInterval)(e==null?void 0:e.in,t);let s=+r>+n;const i=s?+(0,Df.startOfQuarter)(r):+(0,Df.startOfQuarter)(n);let o=s?(0,Df.startOfQuarter)(n):(0,Df.startOfQuarter)(r),c=(e==null?void 0:e.step)??1;if(!c)return[];c<0&&(c=-c,s=!s);const d=[];for(;+o<=i;)d.push((0,CA.constructFrom)(r,o)),o=(0,IA.addQuarters)(o,c);return s?d.reverse():d}var iT={};iT.eachWeekOfInterval=RA;var NA=ii,jA=Md,MA=we,Tf=_s;function RA(t,e){const{start:r,end:n}=(0,NA.normalizeInterval)(e==null?void 0:e.in,t);let s=+r>+n;const i=s?(0,Tf.startOfWeek)(n,e):(0,Tf.startOfWeek)(r,e),o=s?(0,Tf.startOfWeek)(r,e):(0,Tf.startOfWeek)(n,e);i.setHours(15),o.setHours(15);const c=+o.getTime();let d=i,h=(e==null?void 0:e.step)??1;if(!h)return[];h<0&&(h=-h,s=!s);const g=[];for(;+d<=c;)d.setHours(0),g.push((0,MA.constructFrom)(r,d)),d=(0,jA.addWeeks)(d,h),d.setHours(15);return s?g.reverse():g}var jm={};jm.eachWeekendOfInterval=VA;var AA=ii,FA=we,kA=Z0,LA=Od;function VA(t,e){const{start:r,end:n}=(0,AA.normalizeInterval)(e==null?void 0:e.in,t),s=(0,kA.eachDayOfInterval)({start:r,end:n},e),i=[];let o=0;for(;o<s.length;){const c=s[o++];(0,LA.isWeekend)(c)&&i.push((0,FA.constructFrom)(r,c))}return i}var aT={},Fd={};Fd.startOfMonth=UA;var zA=Q;function UA(t,e){const r=(0,zA.toDate)(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}aT.eachWeekendOfMonth=HA;var BA=jm,WA=Om,$A=Fd;function HA(t,e){const r=(0,$A.startOfMonth)(t,e),n=(0,WA.endOfMonth)(t,e);return(0,BA.eachWeekendOfInterval)({start:r,end:n},e)}var oT={},ey={};ey.endOfYear=qA;var YA=Q;function qA(t,e){const r=(0,YA.toDate)(t,e==null?void 0:e.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}var Mm={};Mm.startOfYear=KA;var GA=Q;function KA(t,e){const r=(0,GA.toDate)(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}oT.eachWeekendOfYear=ZA;var QA=jm,XA=ey,JA=Mm;function ZA(t,e){const r=(0,JA.startOfYear)(t,e),n=(0,XA.endOfYear)(t,e);return(0,QA.eachWeekendOfInterval)({start:r,end:n},e)}var lT={};lT.eachYearOfInterval=r3;var e3=ii,t3=we;function r3(t,e){const{start:r,end:n}=(0,e3.normalizeInterval)(e==null?void 0:e.in,t);let s=+r>+n;const i=s?+r:+n,o=s?n:r;o.setHours(0,0,0,0),o.setMonth(0,1);let c=(e==null?void 0:e.step)??1;if(!c)return[];c<0&&(c=-c,s=!s);const d=[];for(;+o<=i;)d.push((0,t3.constructFrom)(r,o)),o.setFullYear(o.getFullYear()+c);return s?d.reverse():d}var uT={};uT.endOfDecade=s3;var n3=Q;function s3(t,e){const r=(0,n3.toDate)(t,e==null?void 0:e.in),n=r.getFullYear(),s=9+Math.floor(n/10)*10;return r.setFullYear(s,11,31),r.setHours(23,59,59,999),r}var cT={};cT.endOfHour=a3;var i3=Q;function a3(t,e){const r=(0,i3.toDate)(t,e==null?void 0:e.in);return r.setMinutes(59,59,999),r}var dT={},ty={};ty.endOfWeek=u3;var o3=gr,l3=Q;function u3(t,e){var c,d,h,g;const r=(0,o3.getDefaultOptions)(),n=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,s=(0,l3.toDate)(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}dT.endOfISOWeek=d3;var c3=ty;function d3(t,e){return(0,c3.endOfWeek)(t,{...e,weekStartsOn:1})}var fT={};fT.endOfISOWeekYear=g3;var f3=we,h3=Do,m3=si;function g3(t,e){const r=(0,h3.getISOWeekYear)(t,e),n=(0,f3.constructFrom)((e==null?void 0:e.in)||t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=(0,m3.startOfISOWeek)(n,e);return s.setMilliseconds(s.getMilliseconds()-1),s}var hT={};hT.endOfMinute=v3;var p3=Q;function v3(t,e){const r=(0,p3.toDate)(t,e==null?void 0:e.in);return r.setSeconds(59,999),r}var mT={};mT.endOfQuarter=_3;var y3=Q;function _3(t,e){const r=(0,y3.toDate)(t,e==null?void 0:e.in),n=r.getMonth(),s=n-n%3+3;return r.setMonth(s,0),r.setHours(23,59,59,999),r}var gT={};gT.endOfSecond=w3;var x3=Q;function w3(t,e){const r=(0,x3.toDate)(t,e==null?void 0:e.in);return r.setMilliseconds(999),r}var pT={};pT.endOfToday=E3;var b3=Cm;function E3(t){return(0,b3.endOfDay)(Date.now(),t)}var vT={};vT.endOfTomorrow=D3;var eb=Jt;function D3(t){const e=(0,eb.constructNow)(t==null?void 0:t.in),r=e.getFullYear(),n=e.getMonth(),s=e.getDate(),i=(0,eb.constructNow)(t==null?void 0:t.in);return i.setFullYear(r,n,s+1),i.setHours(23,59,59,999),t!=null&&t.in?t.in(i):i}var yT={};yT.endOfYesterday=P3;var T3=we,S3=Jt;function P3(t){const e=(0,S3.constructNow)(t==null?void 0:t.in),r=(0,T3.constructFrom)(t==null?void 0:t.in,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()-1),r.setHours(23,59,59,999),r}var ry={},pl={},Rm={},ny={};ny.formatDistance=void 0;const I3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},C3=(t,e,r)=>{let n;const s=I3[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};ny.formatDistance=C3;var sy={},_T={};_T.buildFormatLongFn=O3;function O3(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}sy.formatLong=void 0;var Ug=_T;const N3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},j3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"};sy.formatLong={date:(0,Ug.buildFormatLongFn)({formats:N3,defaultWidth:"full"}),time:(0,Ug.buildFormatLongFn)({formats:j3,defaultWidth:"full"}),dateTime:(0,Ug.buildFormatLongFn)({formats:M3,defaultWidth:"full"})};var iy={};iy.formatRelative=void 0;const R3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},A3=(t,e,r,n)=>R3[t];iy.formatRelative=A3;var ay={},xT={};xT.buildLocalizeFn=F3;function F3(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=r!=null&&r.width?String(r.width):o;s=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[c]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}ay.localize=void 0;var dc=xT;const k3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},L3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},V3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},z3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},U3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},B3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},W3=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"};ay.localize={ordinalNumber:W3,era:(0,dc.buildLocalizeFn)({values:k3,defaultWidth:"wide"}),quarter:(0,dc.buildLocalizeFn)({values:L3,defaultWidth:"wide",argumentCallback:t=>t-1}),month:(0,dc.buildLocalizeFn)({values:V3,defaultWidth:"wide"}),day:(0,dc.buildLocalizeFn)({values:z3,defaultWidth:"wide"}),dayPeriod:(0,dc.buildLocalizeFn)({values:U3,defaultWidth:"wide",formattingValues:B3,defaultFormattingWidth:"wide"})};var oy={},wT={};wT.buildMatchFn=$3;function $3(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?Y3(c,v=>v.test(o)):H3(c,v=>v.test(o));let h;h=t.valueCallback?t.valueCallback(d):d,h=r.valueCallback?r.valueCallback(h):h;const g=e.slice(o.length);return{value:h,rest:g}}}function H3(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Y3(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}var bT={};bT.buildMatchPatternFn=q3;function q3(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=e.slice(s.length);return{value:o,rest:c}}}oy.match=void 0;var fc=wT,G3=bT;const K3=/^(\d+)(th|st|nd|rd)?/i,Q3=/\d+/i,X3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},J3={any:[/^b/i,/^(a|c)/i]},Z3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eF={any:[/1/i,/2/i,/3/i,/4/i]},tF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},aF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}};oy.match={ordinalNumber:(0,G3.buildMatchPatternFn)({matchPattern:K3,parsePattern:Q3,valueCallback:t=>parseInt(t,10)}),era:(0,fc.buildMatchFn)({matchPatterns:X3,defaultMatchWidth:"wide",parsePatterns:J3,defaultParseWidth:"any"}),quarter:(0,fc.buildMatchFn)({matchPatterns:Z3,defaultMatchWidth:"wide",parsePatterns:eF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:(0,fc.buildMatchFn)({matchPatterns:tF,defaultMatchWidth:"wide",parsePatterns:rF,defaultParseWidth:"any"}),day:(0,fc.buildMatchFn)({matchPatterns:nF,defaultMatchWidth:"wide",parsePatterns:sF,defaultParseWidth:"any"}),dayPeriod:(0,fc.buildMatchFn)({matchPatterns:iF,defaultMatchWidth:"any",parsePatterns:aF,defaultParseWidth:"any"})};Rm.enUS=void 0;var oF=ny,lF=sy,uF=iy,cF=ay,dF=oy;Rm.enUS={code:"en-US",formatDistance:oF.formatDistance,formatLong:lF.formatLong,formatRelative:uF.formatRelative,localize:cF.localize,match:dF.match,options:{weekStartsOn:0,firstWeekContainsDate:1}};(function(t){Object.defineProperty(t,"defaultLocale",{enumerable:!0,get:function(){return e.enUS}});var e=Rm})(pl);var ly={},uy={};uy.getDayOfYear=gF;var fF=sa,hF=Mm,mF=Q;function gF(t,e){const r=(0,mF.toDate)(t,e==null?void 0:e.in);return(0,fF.differenceInCalendarDays)(r,(0,hF.startOfYear)(r))+1}var Am={};Am.getISOWeek=xF;var pF=ie,vF=si,yF=ku,_F=Q;function xF(t,e){const r=(0,_F.toDate)(t,e==null?void 0:e.in),n=+(0,vF.startOfISOWeek)(r)-+(0,yF.startOfISOWeekYear)(r);return Math.round(n/pF.millisecondsInWeek)+1}var Fm={},km={},kd={};kd.getWeekYear=EF;var wF=gr,tb=we,rb=_s,bF=Q;function EF(t,e){var g,v,y,E;const r=(0,bF.toDate)(t,e==null?void 0:e.in),n=r.getFullYear(),s=(0,wF.getDefaultOptions)(),i=(e==null?void 0:e.firstWeekContainsDate)??((v=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((E=(y=s.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,o=(0,tb.constructFrom)((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const c=(0,rb.startOfWeek)(o,e),d=(0,tb.constructFrom)((e==null?void 0:e.in)||t,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const h=(0,rb.startOfWeek)(d,e);return+r>=+c?n+1:+r>=+h?n:n-1}km.startOfWeekYear=IF;var DF=gr,TF=we,SF=kd,PF=_s;function IF(t,e){var c,d,h,g;const r=(0,DF.getDefaultOptions)(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,s=(0,SF.getWeekYear)(t,e),i=(0,TF.constructFrom)((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),(0,PF.startOfWeek)(i,e)}Fm.getWeek=MF;var CF=ie,OF=_s,NF=km,jF=Q;function MF(t,e){const r=(0,jF.toDate)(t,e==null?void 0:e.in),n=+(0,OF.startOfWeek)(r,e)-+(0,NF.startOfWeekYear)(r,e);return Math.round(n/CF.millisecondsInWeek)+1}var vl={};vl.addLeadingZeros=RF;function RF(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}var Lm={};Lm.lightFormatters=void 0;var ka=vl;Lm.lightFormatters={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return(0,ka.addLeadingZeros)(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):(0,ka.addLeadingZeros)(r+1,2)},d(t,e){return(0,ka.addLeadingZeros)(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return(0,ka.addLeadingZeros)(t.getHours()%12||12,e.length)},H(t,e){return(0,ka.addLeadingZeros)(t.getHours(),e.length)},m(t,e){return(0,ka.addLeadingZeros)(t.getMinutes(),e.length)},s(t,e){return(0,ka.addLeadingZeros)(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return(0,ka.addLeadingZeros)(s,e.length)}};ly.formatters=void 0;var AF=uy,FF=Am,kF=Do,LF=Fm,VF=kd,Lt=vl,La=Lm;const Fl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};ly.formatters={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return La.lightFormatters.y(t,e)},Y:function(t,e,r,n){const s=(0,VF.getWeekYear)(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return(0,Lt.addLeadingZeros)(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):(0,Lt.addLeadingZeros)(i,e.length)},R:function(t,e){const r=(0,kF.getISOWeekYear)(t);return(0,Lt.addLeadingZeros)(r,e.length)},u:function(t,e){const r=t.getFullYear();return(0,Lt.addLeadingZeros)(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return(0,Lt.addLeadingZeros)(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return(0,Lt.addLeadingZeros)(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return La.lightFormatters.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return(0,Lt.addLeadingZeros)(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=(0,LF.getWeek)(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):(0,Lt.addLeadingZeros)(s,e.length)},I:function(t,e,r){const n=(0,FF.getISOWeek)(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):(0,Lt.addLeadingZeros)(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):La.lightFormatters.d(t,e)},D:function(t,e,r){const n=(0,AF.getDayOfYear)(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):(0,Lt.addLeadingZeros)(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return(0,Lt.addLeadingZeros)(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return(0,Lt.addLeadingZeros)(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return(0,Lt.addLeadingZeros)(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=Fl.noon:n===0?s=Fl.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=Fl.evening:n>=12?s=Fl.afternoon:n>=4?s=Fl.morning:s=Fl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return La.lightFormatters.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):La.lightFormatters.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):(0,Lt.addLeadingZeros)(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):(0,Lt.addLeadingZeros)(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):La.lightFormatters.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):La.lightFormatters.s(t,e)},S:function(t,e){return La.lightFormatters.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return sb(n);case"XXXX":case"XX":return Lo(n);case"XXXXX":case"XXX":default:return Lo(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return sb(n);case"xxxx":case"xx":return Lo(n);case"xxxxx":case"xxx":default:return Lo(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+nb(n,":");case"OOOO":default:return"GMT"+Lo(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+nb(n,":");case"zzzz":default:return"GMT"+Lo(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return(0,Lt.addLeadingZeros)(n,e.length)},T:function(t,e,r){return(0,Lt.addLeadingZeros)(+t,e.length)}};function nb(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+(0,Lt.addLeadingZeros)(i,2)}function sb(t,e){return t%60===0?(t>0?"-":"+")+(0,Lt.addLeadingZeros)(Math.abs(t)/60,2):Lo(t,e)}function Lo(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=(0,Lt.addLeadingZeros)(Math.trunc(n/60),2),i=(0,Lt.addLeadingZeros)(n%60,2);return r+s+e+i}var Vm={};Vm.longFormatters=void 0;const ib=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ET=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},zF=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return ib(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",ib(n,e)).replace("{{time}}",ET(s,e))};Vm.longFormatters={p:ET,P:zF};var Ld={};Ld.isProtectedDayOfYearToken=$F;Ld.isProtectedWeekYearToken=HF;Ld.warnOrThrowProtectedError=YF;const UF=/^D+$/,BF=/^Y+$/,WF=["D","DD","YY","YYYY"];function $F(t){return UF.test(t)}function HF(t){return BF.test(t)}function YF(t,e,r){const n=qF(t,e,r);if(console.warn(n),WF.includes(t))throw new RangeError(n)}function qF(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(function(t){t.format=t.formatDate=E,Object.defineProperty(t,"formatters",{enumerable:!0,get:function(){return n.formatters}}),Object.defineProperty(t,"longFormatters",{enumerable:!0,get:function(){return s.longFormatters}});var e=pl,r=gr,n=ly,s=Vm,i=Ld,o=aa,c=Q;const d=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g=/^'([^]*?)'?$/,v=/''/g,y=/[a-zA-Z]/;function E(D,k,S){var I,j,M,V,O,et,tt,le;const P=(0,r.getDefaultOptions)(),C=(S==null?void 0:S.locale)??P.locale??e.defaultLocale,R=(S==null?void 0:S.firstWeekContainsDate)??((j=(I=S==null?void 0:S.locale)==null?void 0:I.options)==null?void 0:j.firstWeekContainsDate)??P.firstWeekContainsDate??((V=(M=P.locale)==null?void 0:M.options)==null?void 0:V.firstWeekContainsDate)??1,Y=(S==null?void 0:S.weekStartsOn)??((et=(O=S==null?void 0:S.locale)==null?void 0:O.options)==null?void 0:et.weekStartsOn)??P.weekStartsOn??((le=(tt=P.locale)==null?void 0:tt.options)==null?void 0:le.weekStartsOn)??0,q=(0,c.toDate)(D,S==null?void 0:S.in);if(!(0,o.isValid)(q))throw new RangeError("Invalid time value");let T=k.match(h).map(Oe=>{const Z=Oe[0];if(Z==="p"||Z==="P"){const de=s.longFormatters[Z];return de(Oe,C.formatLong)}return Oe}).join("").match(d).map(Oe=>{if(Oe==="''")return{isToken:!1,value:"'"};const Z=Oe[0];if(Z==="'")return{isToken:!1,value:N(Oe)};if(n.formatters[Z])return{isToken:!0,value:Oe};if(Z.match(y))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");return{isToken:!1,value:Oe}});C.localize.preprocessor&&(T=C.localize.preprocessor(q,T));const b={firstWeekContainsDate:R,weekStartsOn:Y,locale:C};return T.map(Oe=>{if(!Oe.isToken)return Oe.value;const Z=Oe.value;(!(S!=null&&S.useAdditionalWeekYearTokens)&&(0,i.isProtectedWeekYearToken)(Z)||!(S!=null&&S.useAdditionalDayOfYearTokens)&&(0,i.isProtectedDayOfYearToken)(Z))&&(0,i.warnOrThrowProtectedError)(Z,k,String(D));const de=n.formatters[Z[0]];return de(q,Z,C.localize,b)}).join("")}function N(D){const k=D.match(g);return k?k[1].replace(v,"'"):D}})(ry);var cy={};cy.formatDistance=e6;var GF=pl,KF=gr,ab=ia,QF=st,XF=gl,kl=ie,JF=Rd,ZF=Ad;function e6(t,e,r){const n=(0,KF.getDefaultOptions)(),s=(r==null?void 0:r.locale)??n.locale??GF.defaultLocale,i=2520,o=(0,XF.compareAsc)(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const c=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o}),[d,h]=(0,QF.normalizeDates)(r==null?void 0:r.in,...o>0?[e,t]:[t,e]),g=(0,ZF.differenceInSeconds)(h,d),v=((0,ab.getTimezoneOffsetInMilliseconds)(h)-(0,ab.getTimezoneOffsetInMilliseconds)(d))/1e3,y=Math.round((g-v)/60);let E;if(y<2)return r!=null&&r.includeSeconds?g<5?s.formatDistance("lessThanXSeconds",5,c):g<10?s.formatDistance("lessThanXSeconds",10,c):g<20?s.formatDistance("lessThanXSeconds",20,c):g<40?s.formatDistance("halfAMinute",0,c):g<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):y===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",y,c);if(y<45)return s.formatDistance("xMinutes",y,c);if(y<90)return s.formatDistance("aboutXHours",1,c);if(y<kl.minutesInDay){const N=Math.round(y/60);return s.formatDistance("aboutXHours",N,c)}else{if(y<i)return s.formatDistance("xDays",1,c);if(y<kl.minutesInMonth){const N=Math.round(y/kl.minutesInDay);return s.formatDistance("xDays",N,c)}else if(y<kl.minutesInMonth*2)return E=Math.round(y/kl.minutesInMonth),s.formatDistance("aboutXMonths",E,c)}if(E=(0,JF.differenceInMonths)(h,d),E<12){const N=Math.round(y/kl.minutesInMonth);return s.formatDistance("xMonths",N,c)}else{const N=E%12,D=Math.trunc(E/12);return N<3?s.formatDistance("aboutXYears",D,c):N<9?s.formatDistance("overXYears",D,c):s.formatDistance("almostXYears",D+1,c)}}var dy={};dy.formatDistanceStrict=a6;var t6=pl,r6=gr,n6=oa,ob=ia,s6=st,i6=gl,Va=ie;function a6(t,e,r){const n=(0,r6.getDefaultOptions)(),s=(r==null?void 0:r.locale)??n.locale??t6.defaultLocale,i=(0,i6.compareAsc)(t,e);if(isNaN(i))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i}),[c,d]=(0,s6.normalizeDates)(r==null?void 0:r.in,...i>0?[e,t]:[t,e]),h=(0,n6.getRoundingMethod)((r==null?void 0:r.roundingMethod)??"round"),g=d.getTime()-c.getTime(),v=g/Va.millisecondsInMinute,y=(0,ob.getTimezoneOffsetInMilliseconds)(d)-(0,ob.getTimezoneOffsetInMilliseconds)(c),E=(g-y)/Va.millisecondsInMinute,N=r==null?void 0:r.unit;let D;if(N?D=N:v<1?D="second":v<60?D="minute":v<Va.minutesInDay?D="hour":E<Va.minutesInMonth?D="day":E<Va.minutesInYear?D="month":D="year",D==="second"){const k=h(g/1e3);return s.formatDistance("xSeconds",k,o)}else if(D==="minute"){const k=h(v);return s.formatDistance("xMinutes",k,o)}else if(D==="hour"){const k=h(v/60);return s.formatDistance("xHours",k,o)}else if(D==="day"){const k=h(E/Va.minutesInDay);return s.formatDistance("xDays",k,o)}else if(D==="month"){const k=h(E/Va.minutesInMonth);return k===12&&N!=="month"?s.formatDistance("xYears",1,o):s.formatDistance("xMonths",k,o)}else{const k=h(E/Va.minutesInYear);return s.formatDistance("xYears",k,o)}}var DT={};DT.formatDistanceToNow=u6;var o6=Jt,l6=cy;function u6(t,e){return(0,l6.formatDistance)(t,(0,o6.constructNow)(t),e)}var TT={};TT.formatDistanceToNowStrict=f6;var c6=Jt,d6=dy;function f6(t,e){return(0,d6.formatDistanceStrict)(t,(0,c6.constructNow)(t),e)}var ST={};ST.formatDuration=p6;var h6=pl,m6=gr;const g6=["years","months","weeks","days","hours","minutes","seconds"];function p6(t,e){const r=(0,m6.getDefaultOptions)(),n=(e==null?void 0:e.locale)??r.locale??h6.defaultLocale,s=(e==null?void 0:e.format)??g6,i=(e==null?void 0:e.zero)??!1,o=(e==null?void 0:e.delimiter)??" ";return n.formatDistance?s.reduce((d,h)=>{const g=`x${h.replace(/(^.)/,y=>y.toUpperCase())}`,v=t[h];return v!==void 0&&(i||t[h])?d.concat(n.formatDistance(g,v)):d},[]).join(o):""}var PT={};PT.formatISO=y6;var za=vl,v6=Q;function y6(t,e){const r=(0,v6.toDate)(t,e==null?void 0:e.in);if(isNaN(+r))throw new RangeError("Invalid time value");const n=(e==null?void 0:e.format)??"extended",s=(e==null?void 0:e.representation)??"complete";let i="",o="";const c=n==="extended"?"-":"",d=n==="extended"?":":"";if(s!=="time"){const h=(0,za.addLeadingZeros)(r.getDate(),2),g=(0,za.addLeadingZeros)(r.getMonth()+1,2);i=`${(0,za.addLeadingZeros)(r.getFullYear(),4)}${c}${g}${c}${h}`}if(s!=="date"){const h=r.getTimezoneOffset();if(h!==0){const D=Math.abs(h),k=(0,za.addLeadingZeros)(Math.trunc(D/60),2),S=(0,za.addLeadingZeros)(D%60,2);o=`${h<0?"+":"-"}${k}:${S}`}else o="Z";const g=(0,za.addLeadingZeros)(r.getHours(),2),v=(0,za.addLeadingZeros)(r.getMinutes(),2),y=(0,za.addLeadingZeros)(r.getSeconds(),2),E=i===""?"":"T",N=[g,v,y].join(d);i=`${i}${E}${N}${o}`}return i}var IT={};IT.formatISO9075=w6;var Ll=vl,_6=aa,x6=Q;function w6(t,e){const r=(0,x6.toDate)(t,e==null?void 0:e.in);if(!(0,_6.isValid)(r))throw new RangeError("Invalid time value");const n=(e==null?void 0:e.format)??"extended",s=(e==null?void 0:e.representation)??"complete";let i="";const o=n==="extended"?"-":"",c=n==="extended"?":":"";if(s!=="time"){const d=(0,Ll.addLeadingZeros)(r.getDate(),2),h=(0,Ll.addLeadingZeros)(r.getMonth()+1,2);i=`${(0,Ll.addLeadingZeros)(r.getFullYear(),4)}${o}${h}${o}${d}`}if(s!=="date"){const d=(0,Ll.addLeadingZeros)(r.getHours(),2),h=(0,Ll.addLeadingZeros)(r.getMinutes(),2),g=(0,Ll.addLeadingZeros)(r.getSeconds(),2);i=`${i}${i===""?"":" "}${d}${c}${h}${c}${g}`}return i}var CT={};CT.formatISODuration=b6;function b6(t){const{years:e=0,months:r=0,days:n=0,hours:s=0,minutes:i=0,seconds:o=0}=t;return`P${e}Y${r}M${n}DT${s}H${i}M${o}S`}var OT={};OT.formatRFC3339=T6;var Ua=vl,E6=aa,D6=Q;function T6(t,e){const r=(0,D6.toDate)(t,e==null?void 0:e.in);if(!(0,E6.isValid)(r))throw new RangeError("Invalid time value");const n=(e==null?void 0:e.fractionDigits)??0,s=(0,Ua.addLeadingZeros)(r.getDate(),2),i=(0,Ua.addLeadingZeros)(r.getMonth()+1,2),o=r.getFullYear(),c=(0,Ua.addLeadingZeros)(r.getHours(),2),d=(0,Ua.addLeadingZeros)(r.getMinutes(),2),h=(0,Ua.addLeadingZeros)(r.getSeconds(),2);let g="";if(n>0){const E=r.getMilliseconds(),N=Math.trunc(E*Math.pow(10,n-3));g="."+(0,Ua.addLeadingZeros)(N,n)}let v="";const y=r.getTimezoneOffset();if(y!==0){const E=Math.abs(y),N=(0,Ua.addLeadingZeros)(Math.trunc(E/60),2),D=(0,Ua.addLeadingZeros)(E%60,2);v=`${y<0?"+":"-"}${N}:${D}`}else v="Z";return`${o}-${i}-${s}T${c}:${d}:${h}${g}${v}`}var NT={};NT.formatRFC7231=O6;var Sf=vl,S6=aa,P6=Q;const I6=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],C6=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O6(t){const e=(0,P6.toDate)(t);if(!(0,S6.isValid)(e))throw new RangeError("Invalid time value");const r=I6[e.getUTCDay()],n=(0,Sf.addLeadingZeros)(e.getUTCDate(),2),s=C6[e.getUTCMonth()],i=e.getUTCFullYear(),o=(0,Sf.addLeadingZeros)(e.getUTCHours(),2),c=(0,Sf.addLeadingZeros)(e.getUTCMinutes(),2),d=(0,Sf.addLeadingZeros)(e.getUTCSeconds(),2);return`${r}, ${n} ${s} ${i} ${o}:${c}:${d} GMT`}var jT={};jT.formatRelative=F6;var N6=pl,j6=gr,M6=st,R6=sa,A6=ry;function F6(t,e,r){var v,y,E,N;const[n,s]=(0,M6.normalizeDates)(r==null?void 0:r.in,t,e),i=(0,j6.getDefaultOptions)(),o=(r==null?void 0:r.locale)??i.locale??N6.defaultLocale,c=(r==null?void 0:r.weekStartsOn)??((y=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??i.weekStartsOn??((N=(E=i.locale)==null?void 0:E.options)==null?void 0:N.weekStartsOn)??0,d=(0,R6.differenceInCalendarDays)(n,s);if(isNaN(d))throw new RangeError("Invalid time value");let h;d<-6?h="other":d<-1?h="lastWeek":d<0?h="yesterday":d<1?h="today":d<2?h="tomorrow":d<7?h="nextWeek":h="other";const g=o.formatRelative(h,n,s,{locale:o,weekStartsOn:c});return(0,A6.format)(n,g,{locale:o,weekStartsOn:c})}var MT={};MT.fromUnixTime=L6;var k6=Q;function L6(t,e){return(0,k6.toDate)(t*1e3,e==null?void 0:e.in)}var fy={};fy.getDate=z6;var V6=Q;function z6(t,e){return(0,V6.toDate)(t,e==null?void 0:e.in).getDate()}var Vd={};Vd.getDay=B6;var U6=Q;function B6(t,e){return(0,U6.toDate)(t,e==null?void 0:e.in).getDay()}var hy={};hy.getDaysInMonth=H6;var W6=we,$6=Q;function H6(t,e){const r=(0,$6.toDate)(t,e==null?void 0:e.in),n=r.getFullYear(),s=r.getMonth(),i=(0,W6.constructFrom)(r,0);return i.setFullYear(n,s+1,0),i.setHours(0,0,0,0),i.getDate()}var RT={},my={};my.isLeapYear=q6;var Y6=Q;function q6(t,e){const n=(0,Y6.toDate)(t,e==null?void 0:e.in).getFullYear();return n%400===0||n%4===0&&n%100!==0}RT.getDaysInYear=Q6;var G6=my,K6=Q;function Q6(t,e){const r=(0,K6.toDate)(t,e==null?void 0:e.in);return Number.isNaN(+r)?NaN:(0,G6.isLeapYear)(r)?366:365}var AT={};AT.getDecade=J6;var X6=Q;function J6(t,e){const n=(0,X6.toDate)(t,e==null?void 0:e.in).getFullYear();return Math.floor(n/10)*10}var gy={};gy.getDefaultOptions=ek;var Z6=gr;function ek(){return Object.assign({},(0,Z6.getDefaultOptions)())}var FT={};FT.getHours=rk;var tk=Q;function rk(t,e){return(0,tk.toDate)(t,e==null?void 0:e.in).getHours()}var py={};py.getISODay=sk;var nk=Q;function sk(t,e){const r=(0,nk.toDate)(t,e==null?void 0:e.in).getDay();return r===0?7:r}var kT={};kT.getISOWeeksInYear=ok;var ik=Md,ak=ie,lb=ku;function ok(t,e){const r=(0,lb.startOfISOWeekYear)(t,e),s=+(0,lb.startOfISOWeekYear)((0,ik.addWeeks)(r,60))-+r;return Math.round(s/ak.millisecondsInWeek)}var LT={};LT.getMilliseconds=uk;var lk=Q;function uk(t){return(0,lk.toDate)(t).getMilliseconds()}var VT={};VT.getMinutes=dk;var ck=Q;function dk(t,e){return(0,ck.toDate)(t,e==null?void 0:e.in).getMinutes()}var zT={};zT.getMonth=hk;var fk=Q;function hk(t,e){return(0,fk.toDate)(t,e==null?void 0:e.in).getMonth()}var UT={};UT.getOverlappingDaysInIntervals=gk;var ub=ia,mk=ie,Pf=Q;function gk(t,e){const[r,n]=[+(0,Pf.toDate)(t.start),+(0,Pf.toDate)(t.end)].sort((v,y)=>v-y),[s,i]=[+(0,Pf.toDate)(e.start),+(0,Pf.toDate)(e.end)].sort((v,y)=>v-y);if(!(r<i&&s<n))return 0;const c=s<r?r:s,d=c-(0,ub.getTimezoneOffsetInMilliseconds)(c),h=i>n?n:i,g=h-(0,ub.getTimezoneOffsetInMilliseconds)(h);return Math.ceil((g-d)/mk.millisecondsInDay)}var BT={};BT.getSeconds=vk;var pk=Q;function vk(t){return(0,pk.toDate)(t).getSeconds()}var WT={};WT.getTime=_k;var yk=Q;function _k(t){return+(0,yk.toDate)(t)}var $T={};$T.getUnixTime=wk;var xk=Q;function wk(t){return Math.trunc(+(0,xk.toDate)(t)/1e3)}var HT={};HT.getWeekOfMonth=Pk;var bk=gr,Ek=fy,Dk=Vd,Tk=Fd,Sk=Q;function Pk(t,e){var d,h,g,v;const r=(0,bk.getDefaultOptions)(),n=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,s=(0,Ek.getDate)((0,Sk.toDate)(t,e==null?void 0:e.in));if(isNaN(s))return NaN;const i=(0,Dk.getDay)((0,Tk.startOfMonth)(t,e));let o=n-i;o<=0&&(o+=7);const c=s-o;return Math.ceil(c/7)+1}var YT={},vy={};vy.lastDayOfMonth=Ik;var cb=Q;function Ik(t,e){const r=(0,cb.toDate)(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(0,0,0,0),(0,cb.toDate)(r,e==null?void 0:e.in)}YT.getWeeksInMonth=Mk;var Ck=Em,Ok=vy,Nk=Fd,jk=Q;function Mk(t,e){const r=(0,jk.toDate)(t,e==null?void 0:e.in);return(0,Ck.differenceInCalendarWeeks)((0,Ok.lastDayOfMonth)(r,e),(0,Nk.startOfMonth)(r,e),e)+1}var qT={};qT.getYear=Ak;var Rk=Q;function Ak(t,e){return(0,Rk.toDate)(t,e==null?void 0:e.in).getFullYear()}var GT={};GT.hoursToMilliseconds=kk;var Fk=ie;function kk(t){return Math.trunc(t*Fk.millisecondsInHour)}var KT={};KT.hoursToMinutes=Vk;var Lk=ie;function Vk(t){return Math.trunc(t*Lk.minutesInHour)}var QT={};QT.hoursToSeconds=Uk;var zk=ie;function Uk(t){return Math.trunc(t*zk.secondsInHour)}var XT={};XT.interval=Wk;var Bk=st;function Wk(t,e,r){const[n,s]=(0,Bk.normalizeDates)(r==null?void 0:r.in,t,e);if(isNaN(+n))throw new TypeError("Start date is invalid");if(isNaN(+s))throw new TypeError("End date is invalid");if(r!=null&&r.assertPositive&&+n>+s)throw new TypeError("End date must be after start date");return{start:n,end:s}}var JT={};JT.intervalToDuration=Xk;var $k=ii,hc=R0,Hk=Tm,Yk=Sm,qk=Im,Gk=Rd,Kk=Ad,Qk=J0;function Xk(t,e){const{start:r,end:n}=(0,$k.normalizeInterval)(e==null?void 0:e.in,t),s={},i=(0,Qk.differenceInYears)(n,r);i&&(s.years=i);const o=(0,hc.add)(r,{years:s.years}),c=(0,Gk.differenceInMonths)(n,o);c&&(s.months=c);const d=(0,hc.add)(o,{months:s.months}),h=(0,Hk.differenceInDays)(n,d);h&&(s.days=h);const g=(0,hc.add)(d,{days:s.days}),v=(0,Yk.differenceInHours)(n,g);v&&(s.hours=v);const y=(0,hc.add)(g,{hours:s.hours}),E=(0,qk.differenceInMinutes)(n,y);E&&(s.minutes=E);const N=(0,hc.add)(y,{minutes:s.minutes}),D=(0,Kk.differenceInSeconds)(n,N);return D&&(s.seconds=D),s}var ZT={};ZT.intlFormat=Zk;var Jk=Q;function Zk(t,e,r){let n;return eL(e)?n=e:r=e,new Intl.DateTimeFormat(r==null?void 0:r.locale,n).format((0,Jk.toDate)(t))}function eL(t){return t!==void 0&&!("locale"in t)}var eS={};eS.intlFormatDistance=rL;var tL=st,Oo=ie,Bg=sa,db=bm,Wg=G0,fb=Em,$g=Dm,hb=Sm,mb=Im,Hg=Ad;function rL(t,e,r){let n=0,s;const[i,o]=(0,tL.normalizeDates)(r==null?void 0:r.in,t,e);if(r!=null&&r.unit)s=r==null?void 0:r.unit,s==="second"?n=(0,Hg.differenceInSeconds)(i,o):s==="minute"?n=(0,mb.differenceInMinutes)(i,o):s==="hour"?n=(0,hb.differenceInHours)(i,o):s==="day"?n=(0,Bg.differenceInCalendarDays)(i,o):s==="week"?n=(0,fb.differenceInCalendarWeeks)(i,o):s==="month"?n=(0,db.differenceInCalendarMonths)(i,o):s==="quarter"?n=(0,Wg.differenceInCalendarQuarters)(i,o):s==="year"&&(n=(0,$g.differenceInCalendarYears)(i,o));else{const d=(0,Hg.differenceInSeconds)(i,o);Math.abs(d)<Oo.secondsInMinute?(n=(0,Hg.differenceInSeconds)(i,o),s="second"):Math.abs(d)<Oo.secondsInHour?(n=(0,mb.differenceInMinutes)(i,o),s="minute"):Math.abs(d)<Oo.secondsInDay&&Math.abs((0,Bg.differenceInCalendarDays)(i,o))<1?(n=(0,hb.differenceInHours)(i,o),s="hour"):Math.abs(d)<Oo.secondsInWeek&&(n=(0,Bg.differenceInCalendarDays)(i,o))&&Math.abs(n)<7?s="day":Math.abs(d)<Oo.secondsInMonth?(n=(0,fb.differenceInCalendarWeeks)(i,o),s="week"):Math.abs(d)<Oo.secondsInQuarter?(n=(0,db.differenceInCalendarMonths)(i,o),s="month"):Math.abs(d)<Oo.secondsInYear&&(0,Wg.differenceInCalendarQuarters)(i,o)<4?(n=(0,Wg.differenceInCalendarQuarters)(i,o),s="quarter"):(n=(0,$g.differenceInCalendarYears)(i,o),s="year")}return new Intl.RelativeTimeFormat(r==null?void 0:r.locale,{numeric:"auto",...r}).format(n,s)}var tS={};tS.isAfter=nL;var gb=Q;function nL(t,e){return+(0,gb.toDate)(t)>+(0,gb.toDate)(e)}var rS={};rS.isBefore=sL;var pb=Q;function sL(t,e){return+(0,pb.toDate)(t)<+(0,pb.toDate)(e)}var nS={};nS.isEqual=iL;var vb=Q;function iL(t,e){return+(0,vb.toDate)(t)==+(0,vb.toDate)(e)}var sS={};sS.isExists=aL;function aL(t,e,r){const n=new Date(t,e,r);return n.getFullYear()===t&&n.getMonth()===e&&n.getDate()===r}var iS={};iS.isFirstDayOfMonth=lL;var oL=Q;function lL(t,e){return(0,oL.toDate)(t,e==null?void 0:e.in).getDate()===1}var aS={};aS.isFriday=cL;var uL=Q;function cL(t,e){return(0,uL.toDate)(t,e==null?void 0:e.in).getDay()===5}var oS={};oS.isFuture=fL;var dL=Q;function fL(t){return+(0,dL.toDate)(t)>Date.now()}var lS={},yy={},oo={},_y={};_y.transpose=mL;var hL=we;function mL(t,e){const r=gL(e)?new e(0):(0,hL.constructFrom)(e,0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}function gL(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}oo.ValueSetter=oo.Setter=oo.DateTimezoneSetter=void 0;var yb=we,pL=_y;const vL=10;class xy{constructor(){fe(this,"subPriority",0)}validate(e,r){return!0}}oo.Setter=xy;class yL extends xy{constructor(e,r,n,s,i){super(),this.value=e,this.validateValue=r,this.setValue=n,this.priority=s,i&&(this.subPriority=i)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,n){return this.setValue(e,r,this.value,n)}}oo.ValueSetter=yL;class _L extends xy{constructor(r,n){super();fe(this,"priority",vL);fe(this,"subPriority",-1);this.context=r||(s=>(0,yb.constructFrom)(n,s))}set(r,n){return n.timestampIsSet?r:(0,yb.constructFrom)(r,(0,pL.transpose)(r,this.context))}}oo.DateTimezoneSetter=_L;var wy={},by={},Xe={};Xe.Parser=void 0;var xL=oo;class wL{run(e,r,n,s){const i=this.parse(e,r,n,s);return i?{setter:new xL.ValueSetter(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,r,n){return!0}}Xe.Parser=wL;by.EraParser=void 0;var bL=Xe;class EL extends bL.Parser{constructor(){super(...arguments);fe(this,"priority",140);fe(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}set(r,n,s){return n.era=s,r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}by.EraParser=EL;var Ey={},ke={},Xt={};Xt.timezonePatterns=Xt.numericPatterns=void 0;Xt.numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/};Xt.timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};ke.dayPeriodEnumToHours=CL;ke.isLeapYearIndex=NL;ke.mapValue=DL;ke.normalizeTwoDigitYear=OL;ke.parseAnyDigitsSigned=SL;ke.parseNDigits=PL;ke.parseNDigitsSigned=IL;ke.parseNumericPattern=kn;ke.parseTimezonePattern=TL;var Yg=ie,Vi=Xt;function DL(t,e){return t&&{value:e(t.value),rest:t.rest}}function kn(t,e){const r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function TL(t,e){const r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};const n=r[1]==="+"?1:-1,s=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(s*Yg.millisecondsInHour+i*Yg.millisecondsInMinute+o*Yg.millisecondsInSecond),rest:e.slice(r[0].length)}}function SL(t){return kn(Vi.numericPatterns.anyDigitsSigned,t)}function PL(t,e){switch(t){case 1:return kn(Vi.numericPatterns.singleDigit,e);case 2:return kn(Vi.numericPatterns.twoDigits,e);case 3:return kn(Vi.numericPatterns.threeDigits,e);case 4:return kn(Vi.numericPatterns.fourDigits,e);default:return kn(new RegExp("^\\d{1,"+t+"}"),e)}}function IL(t,e){switch(t){case 1:return kn(Vi.numericPatterns.singleDigitSigned,e);case 2:return kn(Vi.numericPatterns.twoDigitsSigned,e);case 3:return kn(Vi.numericPatterns.threeDigitsSigned,e);case 4:return kn(Vi.numericPatterns.fourDigitsSigned,e);default:return kn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function CL(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function OL(t,e){const r=e>0,n=r?e:1-e;let s;if(n<=50)s=t||100;else{const i=n+50,o=Math.trunc(i/100)*100,c=t>=i%100;s=t+o-(c?100:0)}return r?s:1-s}function NL(t){return t%400===0||t%4===0&&t%100!==0}Ey.YearParser=void 0;var jL=Xe,Vl=ke;class ML extends jL.Parser{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,s){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return(0,Vl.mapValue)((0,Vl.parseNDigits)(4,r),i);case"yo":return(0,Vl.mapValue)(s.ordinalNumber(r,{unit:"year"}),i);default:return(0,Vl.mapValue)((0,Vl.parseNDigits)(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s){const i=r.getFullYear();if(s.isTwoDigitYear){const c=(0,Vl.normalizeTwoDigitYear)(s.year,i);return r.setFullYear(c,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}Ey.YearParser=ML;var Dy={};Dy.LocalWeekYearParser=void 0;var RL=kd,_b=_s,AL=Xe,zl=ke;class FL extends AL.Parser{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,s){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return(0,zl.mapValue)((0,zl.parseNDigits)(4,r),i);case"Yo":return(0,zl.mapValue)(s.ordinalNumber(r,{unit:"year"}),i);default:return(0,zl.mapValue)((0,zl.parseNDigits)(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s,i){const o=(0,RL.getWeekYear)(r,i);if(s.isTwoDigitYear){const d=(0,zl.normalizeTwoDigitYear)(s.year,o);return r.setFullYear(d,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),(0,_b.startOfWeek)(r,i)}const c=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),(0,_b.startOfWeek)(r,i)}}Dy.LocalWeekYearParser=FL;var Ty={};Ty.ISOWeekYearParser=void 0;var kL=si,LL=we,VL=Xe,xb=ke;class zL extends VL.Parser{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return n==="R"?(0,xb.parseNDigitsSigned)(4,r):(0,xb.parseNDigitsSigned)(n.length,r)}set(r,n,s){const i=(0,LL.constructFrom)(r,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),(0,kL.startOfISOWeek)(i)}}Ty.ISOWeekYearParser=zL;var Sy={};Sy.ExtendedYearParser=void 0;var UL=Xe,wb=ke;class BL extends UL.Parser{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return n==="u"?(0,wb.parseNDigitsSigned)(4,r):(0,wb.parseNDigitsSigned)(n.length,r)}set(r,n,s){return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}Sy.ExtendedYearParser=BL;var Py={};Py.QuarterParser=void 0;var WL=Xe,$L=ke;class HL extends WL.Parser{constructor(){super(...arguments);fe(this,"priority",120);fe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"Q":case"QQ":return(0,$L.parseNDigits)(n.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}Py.QuarterParser=HL;var Iy={};Iy.StandAloneQuarterParser=void 0;var YL=Xe,qL=ke;class GL extends YL.Parser{constructor(){super(...arguments);fe(this,"priority",120);fe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"q":case"qq":return(0,qL.parseNDigits)(n.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}Iy.StandAloneQuarterParser=GL;var Cy={};Cy.MonthParser=void 0;var KL=Xt,QL=Xe,mc=ke;class XL extends QL.Parser{constructor(){super(...arguments);fe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);fe(this,"priority",110)}parse(r,n,s){const i=o=>o-1;switch(n){case"M":return(0,mc.mapValue)((0,mc.parseNumericPattern)(KL.numericPatterns.month,r),i);case"MM":return(0,mc.mapValue)((0,mc.parseNDigits)(2,r),i);case"Mo":return(0,mc.mapValue)(s.ordinalNumber(r,{unit:"month"}),i);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}Cy.MonthParser=XL;var Oy={};Oy.StandAloneMonthParser=void 0;var JL=Xt,ZL=Xe,gc=ke;class e5 extends ZL.Parser{constructor(){super(...arguments);fe(this,"priority",110);fe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,s){const i=o=>o-1;switch(n){case"L":return(0,gc.mapValue)((0,gc.parseNumericPattern)(JL.numericPatterns.month,r),i);case"LL":return(0,gc.mapValue)((0,gc.parseNDigits)(2,r),i);case"Lo":return(0,gc.mapValue)(s.ordinalNumber(r,{unit:"month"}),i);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}Oy.StandAloneMonthParser=e5;var Ny={},jy={};jy.setWeek=r5;var t5=Fm,bb=Q;function r5(t,e,r){const n=(0,bb.toDate)(t,r==null?void 0:r.in),s=(0,t5.getWeek)(n,r)-e;return n.setDate(n.getDate()-s*7),(0,bb.toDate)(n,r==null?void 0:r.in)}Ny.LocalWeekParser=void 0;var n5=jy,s5=_s,i5=Xt,a5=Xe,Eb=ke;class o5 extends a5.Parser{constructor(){super(...arguments);fe(this,"priority",100);fe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,s){switch(n){case"w":return(0,Eb.parseNumericPattern)(i5.numericPatterns.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return(0,Eb.parseNDigits)(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s,i){return(0,s5.startOfWeek)((0,n5.setWeek)(r,s,i),i)}}Ny.LocalWeekParser=o5;var My={},Ry={};Ry.setISOWeek=c5;var l5=Am,u5=Q;function c5(t,e,r){const n=(0,u5.toDate)(t,r==null?void 0:r.in),s=(0,l5.getISOWeek)(n,r)-e;return n.setDate(n.getDate()-s*7),n}My.ISOWeekParser=void 0;var d5=Ry,f5=si,h5=Xt,m5=Xe,Db=ke;class g5 extends m5.Parser{constructor(){super(...arguments);fe(this,"priority",100);fe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,s){switch(n){case"I":return(0,Db.parseNumericPattern)(h5.numericPatterns.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return(0,Db.parseNDigits)(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s){return(0,f5.startOfISOWeek)((0,d5.setISOWeek)(r,s))}}My.ISOWeekParser=g5;var Ay={};Ay.DateParser=void 0;var p5=Xt,v5=Xe,qg=ke;const y5=[31,28,31,30,31,30,31,31,30,31,30,31],_5=[31,29,31,30,31,30,31,31,30,31,30,31];class x5 extends v5.Parser{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"subPriority",1);fe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"d":return(0,qg.parseNumericPattern)(p5.numericPatterns.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return(0,qg.parseNDigits)(n.length,r)}}validate(r,n){const s=r.getFullYear(),i=(0,qg.isLeapYearIndex)(s),o=r.getMonth();return i?n>=1&&n<=_5[o]:n>=1&&n<=y5[o]}set(r,n,s){return r.setDate(s),r.setHours(0,0,0,0),r}}Ay.DateParser=x5;var Fy={};Fy.DayOfYearParser=void 0;var w5=Xt,b5=Xe,Gg=ke;class E5 extends b5.Parser{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"subpriority",1);fe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,s){switch(n){case"D":case"DD":return(0,Gg.parseNumericPattern)(w5.numericPatterns.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return(0,Gg.parseNDigits)(n.length,r)}}validate(r,n){const s=r.getFullYear();return(0,Gg.isLeapYearIndex)(s)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,s){return r.setMonth(0,s),r.setHours(0,0,0,0),r}}Fy.DayOfYearParser=E5;var ky={},zd={};zd.setDay=P5;var D5=gr,T5=ni,S5=Q;function P5(t,e,r){var v,y,E,N;const n=(0,D5.getDefaultOptions)(),s=(r==null?void 0:r.weekStartsOn)??((y=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((N=(E=n.locale)==null?void 0:E.options)==null?void 0:N.weekStartsOn)??0,i=(0,S5.toDate)(t,r==null?void 0:r.in),o=i.getDay(),d=(e%7+7)%7,h=7-s,g=e<0||e>6?e-(o+h)%7:(d+h)%7-(o+h)%7;return(0,T5.addDays)(i,g,r)}ky.DayParser=void 0;var I5=zd,C5=Xe;class O5 extends C5.Parser{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=(0,I5.setDay)(r,s,i),r.setHours(0,0,0,0),r}}ky.DayParser=O5;var Ly={};Ly.LocalDayParser=void 0;var N5=zd,j5=Xe,Kg=ke;class M5 extends j5.Parser{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,s,i){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return(0,Kg.mapValue)((0,Kg.parseNDigits)(n.length,r),o);case"eo":return(0,Kg.mapValue)(s.ordinalNumber(r,{unit:"day"}),o);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=(0,N5.setDay)(r,s,i),r.setHours(0,0,0,0),r}}Ly.LocalDayParser=M5;var Vy={};Vy.StandAloneLocalDayParser=void 0;var R5=zd,A5=Xe,Qg=ke;class F5 extends A5.Parser{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,s,i){const o=c=>{const d=Math.floor((c-1)/7)*7;return(c+i.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return(0,Qg.mapValue)((0,Qg.parseNDigits)(n.length,r),o);case"co":return(0,Qg.mapValue)(s.ordinalNumber(r,{unit:"day"}),o);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=(0,R5.setDay)(r,s,i),r.setHours(0,0,0,0),r}}Vy.StandAloneLocalDayParser=F5;var zy={},Uy={};Uy.setISODay=z5;var k5=ni,L5=py,V5=Q;function z5(t,e,r){const n=(0,V5.toDate)(t,r==null?void 0:r.in),s=(0,L5.getISODay)(n,r),i=e-s;return(0,k5.addDays)(n,i,r)}zy.ISODayParser=void 0;var U5=Uy,B5=Xe,pc=ke;class W5 extends B5.Parser{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,s){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return(0,pc.parseNDigits)(n.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return(0,pc.mapValue)(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return(0,pc.mapValue)(s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return(0,pc.mapValue)(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return(0,pc.mapValue)(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,s){return r=(0,U5.setISODay)(r,s),r.setHours(0,0,0,0),r}}zy.ISODayParser=W5;var By={};By.AMPMParser=void 0;var $5=Xe,H5=ke;class Y5 extends $5.Parser{constructor(){super(...arguments);fe(this,"priority",80);fe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours((0,H5.dayPeriodEnumToHours)(s),0,0,0),r}}By.AMPMParser=Y5;var Wy={};Wy.AMPMMidnightParser=void 0;var q5=Xe,G5=ke;class K5 extends q5.Parser{constructor(){super(...arguments);fe(this,"priority",80);fe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours((0,G5.dayPeriodEnumToHours)(s),0,0,0),r}}Wy.AMPMMidnightParser=K5;var $y={};$y.DayPeriodParser=void 0;var Q5=Xe,X5=ke;class J5 extends Q5.Parser{constructor(){super(...arguments);fe(this,"priority",80);fe(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours((0,X5.dayPeriodEnumToHours)(s),0,0,0),r}}$y.DayPeriodParser=J5;var Hy={};Hy.Hour1to12Parser=void 0;var Z5=Xt,e9=Xe,Tb=ke;class t9 extends e9.Parser{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,s){switch(n){case"h":return(0,Tb.parseNumericPattern)(Z5.numericPatterns.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return(0,Tb.parseNDigits)(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,s){const i=r.getHours()>=12;return i&&s<12?r.setHours(s+12,0,0,0):!i&&s===12?r.setHours(0,0,0,0):r.setHours(s,0,0,0),r}}Hy.Hour1to12Parser=t9;var Yy={};Yy.Hour0to23Parser=void 0;var r9=Xt,n9=Xe,Sb=ke;class s9 extends n9.Parser{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,s){switch(n){case"H":return(0,Sb.parseNumericPattern)(r9.numericPatterns.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return(0,Sb.parseNDigits)(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,s){return r.setHours(s,0,0,0),r}}Yy.Hour0to23Parser=s9;var qy={};qy.Hour0To11Parser=void 0;var i9=Xt,a9=Xe,Pb=ke;class o9 extends a9.Parser{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,s){switch(n){case"K":return(0,Pb.parseNumericPattern)(i9.numericPatterns.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return(0,Pb.parseNDigits)(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.getHours()>=12&&s<12?r.setHours(s+12,0,0,0):r.setHours(s,0,0,0),r}}qy.Hour0To11Parser=o9;var Gy={};Gy.Hour1To24Parser=void 0;var l9=Xt,u9=Xe,Ib=ke;class c9 extends u9.Parser{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,s){switch(n){case"k":return(0,Ib.parseNumericPattern)(l9.numericPatterns.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return(0,Ib.parseNDigits)(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,s){const i=s<=24?s%24:s;return r.setHours(i,0,0,0),r}}Gy.Hour1To24Parser=c9;var Ky={};Ky.MinuteParser=void 0;var d9=Xt,f9=Xe,Cb=ke;class h9 extends f9.Parser{constructor(){super(...arguments);fe(this,"priority",60);fe(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"m":return(0,Cb.parseNumericPattern)(d9.numericPatterns.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return(0,Cb.parseNDigits)(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setMinutes(s,0,0),r}}Ky.MinuteParser=h9;var Qy={};Qy.SecondParser=void 0;var m9=Xt,g9=Xe,Ob=ke;class p9 extends g9.Parser{constructor(){super(...arguments);fe(this,"priority",50);fe(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"s":return(0,Ob.parseNumericPattern)(m9.numericPatterns.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return(0,Ob.parseNDigits)(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setSeconds(s,0),r}}Qy.SecondParser=p9;var Xy={};Xy.FractionOfSecondParser=void 0;var v9=Xe,Nb=ke;class y9 extends v9.Parser{constructor(){super(...arguments);fe(this,"priority",30);fe(this,"incompatibleTokens",["t","T"])}parse(r,n){const s=i=>Math.trunc(i*Math.pow(10,-n.length+3));return(0,Nb.mapValue)((0,Nb.parseNDigits)(n.length,r),s)}set(r,n,s){return r.setMilliseconds(s),r}}Xy.FractionOfSecondParser=y9;var Jy={};Jy.ISOTimezoneWithZParser=void 0;var _9=we,x9=ia,vc=Xt,w9=Xe,yc=ke;class b9 extends w9.Parser{constructor(){super(...arguments);fe(this,"priority",10);fe(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return(0,yc.parseTimezonePattern)(vc.timezonePatterns.basicOptionalMinutes,r);case"XX":return(0,yc.parseTimezonePattern)(vc.timezonePatterns.basic,r);case"XXXX":return(0,yc.parseTimezonePattern)(vc.timezonePatterns.basicOptionalSeconds,r);case"XXXXX":return(0,yc.parseTimezonePattern)(vc.timezonePatterns.extendedOptionalSeconds,r);case"XXX":default:return(0,yc.parseTimezonePattern)(vc.timezonePatterns.extended,r)}}set(r,n,s){return n.timestampIsSet?r:(0,_9.constructFrom)(r,r.getTime()-(0,x9.getTimezoneOffsetInMilliseconds)(r)-s)}}Jy.ISOTimezoneWithZParser=b9;var Zy={};Zy.ISOTimezoneParser=void 0;var E9=we,D9=ia,_c=Xt,T9=Xe,xc=ke;class S9 extends T9.Parser{constructor(){super(...arguments);fe(this,"priority",10);fe(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return(0,xc.parseTimezonePattern)(_c.timezonePatterns.basicOptionalMinutes,r);case"xx":return(0,xc.parseTimezonePattern)(_c.timezonePatterns.basic,r);case"xxxx":return(0,xc.parseTimezonePattern)(_c.timezonePatterns.basicOptionalSeconds,r);case"xxxxx":return(0,xc.parseTimezonePattern)(_c.timezonePatterns.extendedOptionalSeconds,r);case"xxx":default:return(0,xc.parseTimezonePattern)(_c.timezonePatterns.extended,r)}}set(r,n,s){return n.timestampIsSet?r:(0,E9.constructFrom)(r,r.getTime()-(0,D9.getTimezoneOffsetInMilliseconds)(r)-s)}}Zy.ISOTimezoneParser=S9;var e_={};e_.TimestampSecondsParser=void 0;var P9=we,I9=Xe,C9=ke;class O9 extends I9.Parser{constructor(){super(...arguments);fe(this,"priority",40);fe(this,"incompatibleTokens","*")}parse(r){return(0,C9.parseAnyDigitsSigned)(r)}set(r,n,s){return[(0,P9.constructFrom)(r,s*1e3),{timestampIsSet:!0}]}}e_.TimestampSecondsParser=O9;var t_={};t_.TimestampMillisecondsParser=void 0;var N9=we,j9=Xe,M9=ke;class R9 extends j9.Parser{constructor(){super(...arguments);fe(this,"priority",20);fe(this,"incompatibleTokens","*")}parse(r){return(0,M9.parseAnyDigitsSigned)(r)}set(r,n,s){return[(0,N9.constructFrom)(r,s),{timestampIsSet:!0}]}}t_.TimestampMillisecondsParser=R9;wy.parsers=void 0;var A9=by,F9=Ey,k9=Dy,L9=Ty,V9=Sy,z9=Py,U9=Iy,B9=Cy,W9=Oy,$9=Ny,H9=My,Y9=Ay,q9=Fy,G9=ky,K9=Ly,Q9=Vy,X9=zy,J9=By,Z9=Wy,eV=$y,tV=Hy,rV=Yy,nV=qy,sV=Gy,iV=Ky,aV=Qy,oV=Xy,lV=Jy,uV=Zy,cV=e_,dV=t_;wy.parsers={G:new A9.EraParser,y:new F9.YearParser,Y:new k9.LocalWeekYearParser,R:new L9.ISOWeekYearParser,u:new V9.ExtendedYearParser,Q:new z9.QuarterParser,q:new U9.StandAloneQuarterParser,M:new B9.MonthParser,L:new W9.StandAloneMonthParser,w:new $9.LocalWeekParser,I:new H9.ISOWeekParser,d:new Y9.DateParser,D:new q9.DayOfYearParser,E:new G9.DayParser,e:new K9.LocalDayParser,c:new Q9.StandAloneLocalDayParser,i:new X9.ISODayParser,a:new J9.AMPMParser,b:new Z9.AMPMMidnightParser,B:new eV.DayPeriodParser,h:new tV.Hour1to12Parser,H:new rV.Hour0to23Parser,K:new nV.Hour0To11Parser,k:new sV.Hour1To24Parser,m:new iV.MinuteParser,s:new aV.SecondParser,S:new oV.FractionOfSecondParser,X:new lV.ISOTimezoneWithZParser,x:new uV.ISOTimezoneParser,t:new cV.TimestampSecondsParser,T:new dV.TimestampMillisecondsParser};(function(t){Object.defineProperty(t,"longFormatters",{enumerable:!0,get:function(){return r.longFormatters}}),t.parse=D,Object.defineProperty(t,"parsers",{enumerable:!0,get:function(){return d.parsers}});var e=pl,r=Vm,n=Ld,s=we,i=gy,o=Q,c=oo,d=wy;const h=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v=/^'([^]*?)'?$/,y=/''/g,E=/\S/,N=/[a-zA-Z]/;function D(S,P,C,R){var Oe,Z,de,ce,De,J,G,B;const Y=()=>(0,s.constructFrom)((R==null?void 0:R.in)||C,NaN),q=(0,i.getDefaultOptions)(),T=(R==null?void 0:R.locale)??q.locale??e.defaultLocale,b=(R==null?void 0:R.firstWeekContainsDate)??((Z=(Oe=R==null?void 0:R.locale)==null?void 0:Oe.options)==null?void 0:Z.firstWeekContainsDate)??q.firstWeekContainsDate??((ce=(de=q.locale)==null?void 0:de.options)==null?void 0:ce.firstWeekContainsDate)??1,I=(R==null?void 0:R.weekStartsOn)??((J=(De=R==null?void 0:R.locale)==null?void 0:De.options)==null?void 0:J.weekStartsOn)??q.weekStartsOn??((B=(G=q.locale)==null?void 0:G.options)==null?void 0:B.weekStartsOn)??0;if(!P)return S?Y():(0,o.toDate)(C,R==null?void 0:R.in);const j={firstWeekContainsDate:b,weekStartsOn:I,locale:T},M=[new c.DateTimezoneSetter(R==null?void 0:R.in,C)],V=P.match(g).map(F=>{const K=F[0];if(K in r.longFormatters){const ae=r.longFormatters[K];return ae(F,T.formatLong)}return F}).join("").match(h),O=[];for(let F of V){!(R!=null&&R.useAdditionalWeekYearTokens)&&(0,n.isProtectedWeekYearToken)(F)&&(0,n.warnOrThrowProtectedError)(F,P,S),!(R!=null&&R.useAdditionalDayOfYearTokens)&&(0,n.isProtectedDayOfYearToken)(F)&&(0,n.warnOrThrowProtectedError)(F,P,S);const K=F[0],ae=d.parsers[K];if(ae){const{incompatibleTokens:ge}=ae;if(Array.isArray(ge)){const ve=O.find(Te=>ge.includes(Te.token)||Te.token===K);if(ve)throw new RangeError(`The format string mustn't contain \`${ve.fullToken}\` and \`${F}\` at the same time`)}else if(ae.incompatibleTokens==="*"&&O.length>0)throw new RangeError(`The format string mustn't contain \`${F}\` and any other token at the same time`);O.push({token:K,fullToken:F});const pe=ae.run(S,F,T.match,j);if(!pe)return Y();M.push(pe.setter),S=pe.rest}else{if(K.match(N))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");if(F==="''"?F="'":K==="'"&&(F=k(F)),S.indexOf(F)===0)S=S.slice(F.length);else return Y()}}if(S.length>0&&E.test(S))return Y();const et=M.map(F=>F.priority).sort((F,K)=>K-F).filter((F,K,ae)=>ae.indexOf(F)===K).map(F=>M.filter(K=>K.priority===F).sort((K,ae)=>ae.subPriority-K.subPriority)).map(F=>F[0]);let tt=(0,o.toDate)(C,R==null?void 0:R.in);if(isNaN(+tt))return Y();const le={};for(const F of et){if(!F.validate(tt,j))return Y();const K=F.set(tt,le,j);Array.isArray(K)?(tt=K[0],Object.assign(le,K[1])):tt=K}return tt}function k(S){return S.match(v)[1].replace(y,"'")}})(yy);lS.isMatch=mV;var fV=aa,hV=yy;function mV(t,e,r){return(0,fV.isValid)((0,hV.parse)(t,e,new Date,r))}var uS={};uS.isMonday=pV;var gV=Q;function pV(t,e){return(0,gV.toDate)(t,e==null?void 0:e.in).getDay()===1}var cS={};cS.isPast=yV;var vV=Q;function yV(t){return+(0,vV.toDate)(t)<Date.now()}var r_={},n_={};n_.startOfHour=xV;var _V=Q;function xV(t,e){const r=(0,_V.toDate)(t,e==null?void 0:e.in);return r.setMinutes(0,0,0),r}r_.isSameHour=bV;var wV=st,jb=n_;function bV(t,e,r){const[n,s]=(0,wV.normalizeDates)(r==null?void 0:r.in,t,e);return+(0,jb.startOfHour)(n)==+(0,jb.startOfHour)(s)}var s_={},zm={};zm.isSameWeek=DV;var EV=st,Mb=_s;function DV(t,e,r){const[n,s]=(0,EV.normalizeDates)(r==null?void 0:r.in,t,e);return+(0,Mb.startOfWeek)(n,r)==+(0,Mb.startOfWeek)(s,r)}s_.isSameISOWeek=SV;var TV=zm;function SV(t,e,r){return(0,TV.isSameWeek)(t,e,{...r,weekStartsOn:1})}var dS={};dS.isSameISOWeekYear=IV;var Rb=ku,PV=st;function IV(t,e,r){const[n,s]=(0,PV.normalizeDates)(r==null?void 0:r.in,t,e);return+(0,Rb.startOfISOWeekYear)(n)==+(0,Rb.startOfISOWeekYear)(s)}var i_={},a_={};a_.startOfMinute=OV;var CV=Q;function OV(t,e){const r=(0,CV.toDate)(t,e==null?void 0:e.in);return r.setSeconds(0,0),r}i_.isSameMinute=NV;var Ab=a_;function NV(t,e){return+(0,Ab.startOfMinute)(t)==+(0,Ab.startOfMinute)(e)}var o_={};o_.isSameMonth=MV;var jV=st;function MV(t,e,r){const[n,s]=(0,jV.normalizeDates)(r==null?void 0:r.in,t,e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}var l_={};l_.isSameQuarter=AV;var RV=st,Fb=Nm;function AV(t,e,r){const[n,s]=(0,RV.normalizeDates)(r==null?void 0:r.in,t,e);return+(0,Fb.startOfQuarter)(n)==+(0,Fb.startOfQuarter)(s)}var u_={},c_={};c_.startOfSecond=kV;var FV=Q;function kV(t,e){const r=(0,FV.toDate)(t,e==null?void 0:e.in);return r.setMilliseconds(0),r}u_.isSameSecond=LV;var kb=c_;function LV(t,e){return+(0,kb.startOfSecond)(t)==+(0,kb.startOfSecond)(e)}var d_={};d_.isSameYear=zV;var VV=st;function zV(t,e,r){const[n,s]=(0,VV.normalizeDates)(r==null?void 0:r.in,t,e);return n.getFullYear()===s.getFullYear()}var fS={};fS.isThisHour=$V;var UV=Jt,BV=r_,WV=Q;function $V(t,e){return(0,BV.isSameHour)((0,WV.toDate)(t,e==null?void 0:e.in),(0,UV.constructNow)((e==null?void 0:e.in)||t))}var hS={};hS.isThisISOWeek=GV;var HV=we,YV=Jt,qV=s_;function GV(t,e){return(0,qV.isSameISOWeek)((0,HV.constructFrom)((e==null?void 0:e.in)||t,t),(0,YV.constructNow)((e==null?void 0:e.in)||t))}var mS={};mS.isThisMinute=XV;var KV=Jt,QV=i_;function XV(t){return(0,QV.isSameMinute)(t,(0,KV.constructNow)(t))}var gS={};gS.isThisMonth=tz;var JV=we,ZV=Jt,ez=o_;function tz(t,e){return(0,ez.isSameMonth)((0,JV.constructFrom)((e==null?void 0:e.in)||t,t),(0,ZV.constructNow)((e==null?void 0:e.in)||t))}var pS={};pS.isThisQuarter=iz;var rz=we,nz=Jt,sz=l_;function iz(t,e){return(0,sz.isSameQuarter)((0,rz.constructFrom)((e==null?void 0:e.in)||t,t),(0,nz.constructNow)((e==null?void 0:e.in)||t))}var vS={};vS.isThisSecond=lz;var az=Jt,oz=u_;function lz(t){return(0,oz.isSameSecond)(t,(0,az.constructNow)(t))}var yS={};yS.isThisWeek=fz;var uz=we,cz=Jt,dz=zm;function fz(t,e){return(0,dz.isSameWeek)((0,uz.constructFrom)((e==null?void 0:e.in)||t,t),(0,cz.constructNow)((e==null?void 0:e.in)||t),e)}var _S={};_S.isThisYear=pz;var hz=we,mz=Jt,gz=d_;function pz(t,e){return(0,gz.isSameYear)((0,hz.constructFrom)((e==null?void 0:e.in)||t,t),(0,mz.constructNow)((e==null?void 0:e.in)||t))}var xS={};xS.isThursday=yz;var vz=Q;function yz(t,e){return(0,vz.toDate)(t,e==null?void 0:e.in).getDay()===4}var wS={};wS.isToday=bz;var _z=we,xz=Jt,wz=Lu;function bz(t,e){return(0,wz.isSameDay)((0,_z.constructFrom)((e==null?void 0:e.in)||t,t),(0,xz.constructNow)((e==null?void 0:e.in)||t))}var bS={};bS.isTomorrow=Sz;var Ez=ni,Dz=Jt,Tz=Lu;function Sz(t,e){return(0,Tz.isSameDay)(t,(0,Ez.addDays)((0,Dz.constructNow)((e==null?void 0:e.in)||t),1),e)}var ES={};ES.isTuesday=Iz;var Pz=Q;function Iz(t,e){return(0,Pz.toDate)(t,e==null?void 0:e.in).getDay()===2}var DS={};DS.isWednesday=Oz;var Cz=Q;function Oz(t,e){return(0,Cz.toDate)(t,e==null?void 0:e.in).getDay()===3}var TS={};TS.isWithinInterval=Nz;var Xg=Q;function Nz(t,e,r){const n=+(0,Xg.toDate)(t,r==null?void 0:r.in),[s,i]=[+(0,Xg.toDate)(e.start,r==null?void 0:r.in),+(0,Xg.toDate)(e.end,r==null?void 0:r.in)].sort((o,c)=>o-c);return n>=s&&n<=i}var SS={},Ud={};Ud.subDays=Mz;var jz=ni;function Mz(t,e,r){return(0,jz.addDays)(t,-e,r)}SS.isYesterday=Lz;var Rz=we,Az=Jt,Fz=Lu,kz=Ud;function Lz(t,e){return(0,Fz.isSameDay)((0,Rz.constructFrom)((e==null?void 0:e.in)||t,t),(0,kz.subDays)((0,Az.constructNow)((e==null?void 0:e.in)||t),1))}var PS={};PS.lastDayOfDecade=Vz;var Lb=Q;function Vz(t,e){const r=(0,Lb.toDate)(t,e==null?void 0:e.in),n=r.getFullYear(),s=9+Math.floor(n/10)*10;return r.setFullYear(s+1,0,0),r.setHours(0,0,0,0),(0,Lb.toDate)(r,e==null?void 0:e.in)}var IS={},f_={};f_.lastDayOfWeek=Bz;var zz=gr,Uz=Q;function Bz(t,e){var c,d,h,g;const r=(0,zz.getDefaultOptions)(),n=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,s=(0,Uz.toDate)(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setHours(0,0,0,0),s.setDate(s.getDate()+o),s}IS.lastDayOfISOWeek=$z;var Wz=f_;function $z(t,e){return(0,Wz.lastDayOfWeek)(t,{...e,weekStartsOn:1})}var CS={};CS.lastDayOfISOWeekYear=Gz;var Hz=we,Yz=Do,qz=si;function Gz(t,e){const r=(0,Yz.getISOWeekYear)(t,e),n=(0,Hz.constructFrom)((e==null?void 0:e.in)||t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=(0,qz.startOfISOWeek)(n,e);return s.setDate(s.getDate()-1),s}var OS={};OS.lastDayOfQuarter=Qz;var Kz=Q;function Qz(t,e){const r=(0,Kz.toDate)(t,e==null?void 0:e.in),n=r.getMonth(),s=n-n%3+3;return r.setMonth(s,0),r.setHours(0,0,0,0),r}var NS={};NS.lastDayOfYear=Jz;var Xz=Q;function Jz(t,e){const r=(0,Xz.toDate)(t,e==null?void 0:e.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(0,0,0,0),r}var jS={};(function(t){t.lightFormat=d,Object.defineProperty(t,"lightFormatters",{enumerable:!0,get:function(){return e.lightFormatters}});var e=Lm,r=aa,n=Q;const s=/(\w)\1*|''|'(''|[^'])+('|$)|./g,i=/^'([^]*?)'?$/,o=/''/g,c=/[a-zA-Z]/;function d(g,v){const y=(0,n.toDate)(g);if(!(0,r.isValid)(y))throw new RangeError("Invalid time value");const E=v.match(s);return E?E.map(D=>{if(D==="''")return"'";const k=D[0];if(k==="'")return h(D);const S=e.lightFormatters[k];if(S)return S(y,D);if(k.match(c))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return D}).join(""):""}function h(g){const v=g.match(i);return v?v[1].replace(o,"'"):g}})(jS);var MS={};MS.milliseconds=Zz;var Vb=ie;function Zz({years:t,months:e,weeks:r,days:n,hours:s,minutes:i,seconds:o}){let c=0;t&&(c+=t*Vb.daysInYear),e&&(c+=e*(Vb.daysInYear/12)),r&&(c+=r*7),n&&(c+=n);let d=c*24*60*60;return s&&(d+=s*60*60),i&&(d+=i*60),o&&(d+=o),Math.trunc(d*1e3)}var RS={};RS.millisecondsToHours=t8;var e8=ie;function t8(t){const e=t/e8.millisecondsInHour;return Math.trunc(e)}var AS={};AS.millisecondsToMinutes=n8;var r8=ie;function n8(t){const e=t/r8.millisecondsInMinute;return Math.trunc(e)}var FS={};FS.millisecondsToSeconds=i8;var s8=ie;function i8(t){const e=t/s8.millisecondsInSecond;return Math.trunc(e)}var kS={};kS.minutesToHours=o8;var a8=ie;function o8(t){const e=t/a8.minutesInHour;return Math.trunc(e)}var LS={};LS.minutesToMilliseconds=u8;var l8=ie;function u8(t){return Math.trunc(t*l8.millisecondsInMinute)}var VS={};VS.minutesToSeconds=d8;var c8=ie;function d8(t){return Math.trunc(t*c8.secondsInMinute)}var zS={};zS.monthsToQuarters=h8;var f8=ie;function h8(t){const e=t/f8.monthsInQuarter;return Math.trunc(e)}var US={};US.monthsToYears=g8;var m8=ie;function g8(t){const e=t/m8.monthsInYear;return Math.trunc(e)}var la={};la.nextDay=y8;var p8=ni,v8=Vd;function y8(t,e,r){let n=e-(0,v8.getDay)(t,r);return n<=0&&(n+=7),(0,p8.addDays)(t,n,r)}var BS={};BS.nextFriday=x8;var _8=la;function x8(t,e){return(0,_8.nextDay)(t,5,e)}var WS={};WS.nextMonday=b8;var w8=la;function b8(t,e){return(0,w8.nextDay)(t,1,e)}var $S={};$S.nextSaturday=D8;var E8=la;function D8(t,e){return(0,E8.nextDay)(t,6,e)}var HS={};HS.nextSunday=S8;var T8=la;function S8(t,e){return(0,T8.nextDay)(t,0,e)}var YS={};YS.nextThursday=I8;var P8=la;function I8(t,e){return(0,P8.nextDay)(t,4,e)}var qS={};qS.nextTuesday=O8;var C8=la;function O8(t,e){return(0,C8.nextDay)(t,2,e)}var GS={};GS.nextWednesday=j8;var N8=la;function j8(t,e){return(0,N8.nextDay)(t,3,e)}var KS={};KS.parseISO=R8;var Ah=ie,M8=we,zb=Q;function R8(t,e){const r=()=>(0,M8.constructFrom)(e==null?void 0:e.in,NaN),n=(e==null?void 0:e.additionalDigits)??2,s=L8(t);let i;if(s.date){const h=V8(s.date,n);i=z8(h.restDateString,h.year)}if(!i||isNaN(+i))return r();const o=+i;let c=0,d;if(s.time&&(c=U8(s.time),isNaN(c)))return r();if(s.timezone){if(d=B8(s.timezone),isNaN(d))return r()}else{const h=new Date(o+c),g=(0,zb.toDate)(0,e==null?void 0:e.in);return g.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),g.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),g}return(0,zb.toDate)(o+c+d,e==null?void 0:e.in)}const If={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},A8=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,F8=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,k8=/^([+-])(\d{2})(?::?(\d{2}))?$/;function L8(t){const e={},r=t.split(If.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],If.timeZoneDelimiter.test(e.date)&&(e.date=t.split(If.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const s=If.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function V8(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function z8(t,e){if(e===null)return new Date(NaN);const r=t.match(A8);if(!r)return new Date(NaN);const n=!!r[4],s=wc(r[1]),i=wc(r[2])-1,o=wc(r[3]),c=wc(r[4]),d=wc(r[5])-1;if(n)return q8(e,c,d)?W8(e,c,d):new Date(NaN);{const h=new Date(0);return!H8(e,i,o)||!Y8(e,s)?new Date(NaN):(h.setUTCFullYear(e,i,Math.max(s,o)),h)}}function wc(t){return t?parseInt(t):1}function U8(t){const e=t.match(F8);if(!e)return NaN;const r=Jg(e[1]),n=Jg(e[2]),s=Jg(e[3]);return G8(r,n,s)?r*Ah.millisecondsInHour+n*Ah.millisecondsInMinute+s*1e3:NaN}function Jg(t){return t&&parseFloat(t.replace(",","."))||0}function B8(t){if(t==="Z")return 0;const e=t.match(k8);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return K8(n,s)?r*(n*Ah.millisecondsInHour+s*Ah.millisecondsInMinute):NaN}function W8(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,i=(e-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const $8=[31,null,31,30,31,30,31,31,30,31,30,31];function QS(t){return t%400===0||t%4===0&&t%100!==0}function H8(t,e,r){return e>=0&&e<=11&&r>=1&&r<=($8[e]||(QS(t)?29:28))}function Y8(t,e){return e>=1&&e<=(QS(t)?366:365)}function q8(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function G8(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function K8(t,e){return e>=0&&e<=59}var XS={};XS.parseJSON=Q8;var Ub=Q;function Q8(t,e){const r=t.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return r?(0,Ub.toDate)(Date.UTC(+r[1],+r[2]-1,+r[3],+r[4]-(+r[9]||0)*(r[8]=="-"?-1:1),+r[5]-(+r[10]||0)*(r[8]=="-"?-1:1),+r[6],+((r[7]||"0")+"00").substring(0,3)),e==null?void 0:e.in):(0,Ub.toDate)(NaN,e==null?void 0:e.in)}var ua={};ua.previousDay=Z8;var X8=Vd,J8=Ud;function Z8(t,e,r){let n=(0,X8.getDay)(t,r)-e;return n<=0&&(n+=7),(0,J8.subDays)(t,n,r)}var JS={};JS.previousFriday=tU;var eU=ua;function tU(t,e){return(0,eU.previousDay)(t,5,e)}var ZS={};ZS.previousMonday=nU;var rU=ua;function nU(t,e){return(0,rU.previousDay)(t,1,e)}var eP={};eP.previousSaturday=iU;var sU=ua;function iU(t,e){return(0,sU.previousDay)(t,6,e)}var tP={};tP.previousSunday=oU;var aU=ua;function oU(t,e){return(0,aU.previousDay)(t,0,e)}var rP={};rP.previousThursday=uU;var lU=ua;function uU(t,e){return(0,lU.previousDay)(t,4,e)}var nP={};nP.previousTuesday=dU;var cU=ua;function dU(t,e){return(0,cU.previousDay)(t,2,e)}var sP={};sP.previousWednesday=hU;var fU=ua;function hU(t,e){return(0,fU.previousDay)(t,3,e)}var iP={};iP.quartersToMonths=gU;var mU=ie;function gU(t){return Math.trunc(t*mU.monthsInQuarter)}var aP={};aP.quartersToYears=vU;var pU=ie;function vU(t){const e=t/pU.quartersInYear;return Math.trunc(e)}var oP={};oP.roundToNearestHours=wU;var yU=oa,_U=we,xU=Q;function wU(t,e){const r=(e==null?void 0:e.nearestTo)??1;if(r<1||r>12)return(0,_U.constructFrom)((e==null?void 0:e.in)||t,NaN);const n=(0,xU.toDate)(t,e==null?void 0:e.in),s=n.getMinutes()/60,i=n.getSeconds()/60/60,o=n.getMilliseconds()/1e3/60/60,c=n.getHours()+s+i+o,d=(e==null?void 0:e.roundingMethod)??"round",g=(0,yU.getRoundingMethod)(d)(c/r)*r;return n.setHours(g,0,0,0),n}var lP={};lP.roundToNearestMinutes=TU;var bU=oa,EU=we,DU=Q;function TU(t,e){const r=(e==null?void 0:e.nearestTo)??1;if(r<1||r>30)return(0,EU.constructFrom)(t,NaN);const n=(0,DU.toDate)(t,e==null?void 0:e.in),s=n.getSeconds()/60,i=n.getMilliseconds()/1e3/60,o=n.getMinutes()+s+i,c=(e==null?void 0:e.roundingMethod)??"round",h=(0,bU.getRoundingMethod)(c)(o/r)*r;return n.setMinutes(h,0,0),n}var uP={};uP.secondsToHours=PU;var SU=ie;function PU(t){const e=t/SU.secondsInHour;return Math.trunc(e)}var cP={};cP.secondsToMilliseconds=CU;var IU=ie;function CU(t){return t*IU.millisecondsInSecond}var dP={};dP.secondsToMinutes=NU;var OU=ie;function NU(t){const e=t/OU.secondsInMinute;return Math.trunc(e)}var fP={},Um={};Um.setMonth=AU;var jU=we,MU=hy,RU=Q;function AU(t,e,r){const n=(0,RU.toDate)(t,r==null?void 0:r.in),s=n.getFullYear(),i=n.getDate(),o=(0,jU.constructFrom)((r==null?void 0:r.in)||t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const c=(0,MU.getDaysInMonth)(o);return n.setMonth(e,Math.min(i,c)),n}fP.set=VU;var FU=we,kU=Um,LU=Q;function VU(t,e,r){let n=(0,LU.toDate)(t,r==null?void 0:r.in);return isNaN(+n)?(0,FU.constructFrom)((r==null?void 0:r.in)||t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=(0,kU.setMonth)(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}var hP={};hP.setDate=UU;var zU=Q;function UU(t,e,r){const n=(0,zU.toDate)(t,r==null?void 0:r.in);return n.setDate(e),n}var mP={};mP.setDayOfYear=WU;var BU=Q;function WU(t,e,r){const n=(0,BU.toDate)(t,r==null?void 0:r.in);return n.setMonth(0),n.setDate(e),n}var gP={};gP.setDefaultOptions=$U;var Bb=gr;function $U(t){const e={},r=(0,Bb.getDefaultOptions)();for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]===void 0?delete e[n]:e[n]=t[n]);(0,Bb.setDefaultOptions)(e)}var pP={};pP.setHours=YU;var HU=Q;function YU(t,e,r){const n=(0,HU.toDate)(t,r==null?void 0:r.in);return n.setHours(e),n}var vP={};vP.setMilliseconds=GU;var qU=Q;function GU(t,e,r){const n=(0,qU.toDate)(t,r==null?void 0:r.in);return n.setMilliseconds(e),n}var yP={};yP.setMinutes=QU;var KU=Q;function QU(t,e,r){const n=(0,KU.toDate)(t,r==null?void 0:r.in);return n.setMinutes(e),n}var _P={};_P.setQuarter=ZU;var XU=Um,JU=Q;function ZU(t,e,r){const n=(0,JU.toDate)(t,r==null?void 0:r.in),s=Math.trunc(n.getMonth()/3)+1,i=e-s;return(0,XU.setMonth)(n,n.getMonth()+i*3)}var xP={};xP.setSeconds=t7;var e7=Q;function t7(t,e,r){const n=(0,e7.toDate)(t,r==null?void 0:r.in);return n.setSeconds(e),n}var wP={};wP.setWeekYear=a7;var r7=gr,n7=we,s7=sa,Wb=km,i7=Q;function a7(t,e,r){var d,h,g,v;const n=(0,r7.getDefaultOptions)(),s=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,i=(0,s7.differenceInCalendarDays)((0,i7.toDate)(t,r==null?void 0:r.in),(0,Wb.startOfWeekYear)(t,r),r),o=(0,n7.constructFrom)((r==null?void 0:r.in)||t,0);o.setFullYear(e,0,s),o.setHours(0,0,0,0);const c=(0,Wb.startOfWeekYear)(o,r);return c.setDate(c.getDate()+i),c}var bP={};bP.setYear=u7;var o7=we,l7=Q;function u7(t,e,r){const n=(0,l7.toDate)(t,r==null?void 0:r.in);return isNaN(+n)?(0,o7.constructFrom)((r==null?void 0:r.in)||t,NaN):(n.setFullYear(e),n)}var EP={};EP.startOfDecade=d7;var c7=Q;function d7(t,e){const r=(0,c7.toDate)(t,e==null?void 0:e.in),n=r.getFullYear(),s=Math.floor(n/10)*10;return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}var DP={};DP.startOfToday=h7;var f7=jd;function h7(t){return(0,f7.startOfDay)(Date.now(),t)}var TP={};TP.startOfTomorrow=p7;var m7=we,g7=Jt;function p7(t){const e=(0,g7.constructNow)(t==null?void 0:t.in),r=e.getFullYear(),n=e.getMonth(),s=e.getDate(),i=(0,m7.constructFrom)(t==null?void 0:t.in,0);return i.setFullYear(r,n,s+1),i.setHours(0,0,0,0),i}var SP={};SP.startOfYesterday=v7;var $b=Jt;function v7(t){const e=(0,$b.constructNow)(t==null?void 0:t.in),r=e.getFullYear(),n=e.getMonth(),s=e.getDate(),i=(0,$b.constructNow)(t==null?void 0:t.in);return i.setFullYear(r,n,s-1),i.setHours(0,0,0,0),i}var PP={},h_={};h_.subMonths=_7;var y7=Fu;function _7(t,e,r){return(0,y7.addMonths)(t,-e,r)}PP.sub=E7;var x7=we,w7=Ud,b7=h_;function E7(t,e,r){const{years:n=0,months:s=0,weeks:i=0,days:o=0,hours:c=0,minutes:d=0,seconds:h=0}=e,g=(0,b7.subMonths)(t,s+n*12,r),v=(0,w7.subDays)(g,o+i*7,r),y=d+c*60,N=(h+y*60)*1e3;return(0,x7.constructFrom)((r==null?void 0:r.in)||t,+v-N)}var IP={};IP.subBusinessDays=T7;var D7=A0;function T7(t,e,r){return(0,D7.addBusinessDays)(t,-e,r)}var CP={};CP.subHours=P7;var S7=L0;function P7(t,e,r){return(0,S7.addHours)(t,-e,r)}var OP={};OP.subMilliseconds=C7;var I7=Nd;function C7(t,e,r){return(0,I7.addMilliseconds)(t,-e,r)}var NP={};NP.subMinutes=N7;var O7=xm;function N7(t,e,r){return(0,O7.addMinutes)(t,-e,r)}var jP={};jP.subQuarters=M7;var j7=wm;function M7(t,e,r){return(0,j7.addQuarters)(t,-e,r)}var MP={};MP.subSeconds=A7;var R7=U0;function A7(t,e,r){return(0,R7.addSeconds)(t,-e,r)}var RP={};RP.subWeeks=k7;var F7=Md;function k7(t,e,r){return(0,F7.addWeeks)(t,-e,r)}var AP={};AP.subYears=V7;var L7=B0;function V7(t,e,r){return(0,L7.addYears)(t,-e,r)}var FP={};FP.weeksToDays=U7;var z7=ie;function U7(t){return Math.trunc(t*z7.daysInWeek)}var kP={};kP.yearsToDays=W7;var B7=ie;function W7(t){return Math.trunc(t*B7.daysInYear)}var LP={};LP.yearsToMonths=H7;var $7=ie;function H7(t){return Math.trunc(t*$7.monthsInYear)}var VP={};VP.yearsToQuarters=q7;var Y7=ie;function q7(t){return Math.trunc(t*Y7.quartersInYear)}(function(t){var e=R0;Object.keys(e).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===e[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return e[a]}})});var r=A0;Object.keys(r).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===r[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return r[a]}})});var n=ni;Object.keys(n).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===n[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return n[a]}})});var s=L0;Object.keys(s).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===s[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return s[a]}})});var i=V0;Object.keys(i).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===i[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return i[a]}})});var o=Nd;Object.keys(o).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===o[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return o[a]}})});var c=xm;Object.keys(c).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===c[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return c[a]}})});var d=Fu;Object.keys(d).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===d[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return d[a]}})});var h=wm;Object.keys(h).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===h[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return h[a]}})});var g=U0;Object.keys(g).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===g[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return g[a]}})});var v=Md;Object.keys(v).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===v[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return v[a]}})});var y=B0;Object.keys(y).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===y[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return y[a]}})});var E=HD;Object.keys(E).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===E[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return E[a]}})});var N=YD;Object.keys(N).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===N[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return N[a]}})});var D=H0;Object.keys(D).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===D[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return D[a]}})});var k=qD;Object.keys(k).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===k[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return k[a]}})});var S=gl;Object.keys(S).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===S[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return S[a]}})});var P=GD;Object.keys(P).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===P[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return P[a]}})});var C=we;Object.keys(C).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===C[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return C[a]}})});var R=Jt;Object.keys(R).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===R[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return R[a]}})});var Y=KD;Object.keys(Y).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Y[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Y[a]}})});var q=QD;Object.keys(q).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===q[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return q[a]}})});var T=sa;Object.keys(T).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===T[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return T[a]}})});var b=q0;Object.keys(b).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===b[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return b[a]}})});var I=XD;Object.keys(I).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===I[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return I[a]}})});var j=bm;Object.keys(j).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===j[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return j[a]}})});var M=G0;Object.keys(M).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===M[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return M[a]}})});var V=Em;Object.keys(V).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===V[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return V[a]}})});var O=Dm;Object.keys(O).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===O[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return O[a]}})});var et=Tm;Object.keys(et).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===et[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return et[a]}})});var tt=Sm;Object.keys(tt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===tt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return tt[a]}})});var le=JD;Object.keys(le).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===le[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return le[a]}})});var Oe=Pm;Object.keys(Oe).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Oe[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Oe[a]}})});var Z=Im;Object.keys(Z).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Z[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Z[a]}})});var de=Rd;Object.keys(de).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===de[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return de[a]}})});var ce=ZD;Object.keys(ce).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ce[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ce[a]}})});var De=Ad;Object.keys(De).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===De[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return De[a]}})});var J=eT;Object.keys(J).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===J[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return J[a]}})});var G=J0;Object.keys(G).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===G[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return G[a]}})});var B=Z0;Object.keys(B).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===B[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return B[a]}})});var F=tT;Object.keys(F).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===F[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return F[a]}})});var K=rT;Object.keys(K).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===K[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return K[a]}})});var ae=nT;Object.keys(ae).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ae[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ae[a]}})});var ge=sT;Object.keys(ge).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ge[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ge[a]}})});var pe=iT;Object.keys(pe).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===pe[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return pe[a]}})});var ve=jm;Object.keys(ve).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ve[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ve[a]}})});var Te=aT;Object.keys(Te).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Te[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Te[a]}})});var Re=oT;Object.keys(Re).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Re[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Re[a]}})});var Ne=lT;Object.keys(Ne).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ne[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ne[a]}})});var Ae=Cm;Object.keys(Ae).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ae[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ae[a]}})});var lt=uT;Object.keys(lt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===lt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return lt[a]}})});var xt=cT;Object.keys(xt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xt[a]}})});var Ht=dT;Object.keys(Ht).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ht[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ht[a]}})});var Br=fT;Object.keys(Br).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Br[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Br[a]}})});var xs=hT;Object.keys(xs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xs[a]}})});var Wr=Om;Object.keys(Wr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Wr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Wr[a]}})});var Nr=mT;Object.keys(Nr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Nr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Nr[a]}})});var sn=gT;Object.keys(sn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===sn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return sn[a]}})});var En=pT;Object.keys(En).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===En[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return En[a]}})});var $r=vT;Object.keys($r).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===$r[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return $r[a]}})});var ws=ty;Object.keys(ws).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ws[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ws[a]}})});var wt=ey;Object.keys(wt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===wt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return wt[a]}})});var ft=yT;Object.keys(ft).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ft[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ft[a]}})});var an=ry;Object.keys(an).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===an[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return an[a]}})});var ha=cy;Object.keys(ha).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ha[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ha[a]}})});var $n=dy;Object.keys($n).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===$n[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return $n[a]}})});var bs=DT;Object.keys(bs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===bs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return bs[a]}})});var jr=TT;Object.keys(jr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===jr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return jr[a]}})});var on=ST;Object.keys(on).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===on[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return on[a]}})});var Es=PT;Object.keys(Es).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Es[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Es[a]}})});var Dn=IT;Object.keys(Dn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Dn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Dn[a]}})});var ai=CT;Object.keys(ai).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ai[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ai[a]}})});var Ds=OT;Object.keys(Ds).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ds[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ds[a]}})});var Hn=NT;Object.keys(Hn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Hn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Hn[a]}})});var ma=jT;Object.keys(ma).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ma[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ma[a]}})});var Yn=MT;Object.keys(Yn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Yn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Yn[a]}})});var qn=fy;Object.keys(qn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===qn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return qn[a]}})});var Tn=Vd;Object.keys(Tn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Tn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Tn[a]}})});var oi=uy;Object.keys(oi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===oi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return oi[a]}})});var Hr=hy;Object.keys(Hr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Hr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Hr[a]}})});var ga=RT;Object.keys(ga).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ga[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ga[a]}})});var Sn=AT;Object.keys(Sn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Sn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Sn[a]}})});var pa=gy;Object.keys(pa).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===pa[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return pa[a]}})});var ln=FT;Object.keys(ln).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ln[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ln[a]}})});var Gn=py;Object.keys(Gn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Gn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Gn[a]}})});var Ot=Am;Object.keys(Ot).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ot[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ot[a]}})});var va=Do;Object.keys(va).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===va[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return va[a]}})});var pr=kT;Object.keys(pr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===pr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return pr[a]}})});var Kn=LT;Object.keys(Kn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Kn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Kn[a]}})});var ya=VT;Object.keys(ya).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ya[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ya[a]}})});var li=zT;Object.keys(li).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===li[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return li[a]}})});var Yr=UT;Object.keys(Yr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Yr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Yr[a]}})});var ui=K0;Object.keys(ui).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ui[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ui[a]}})});var _a=BT;Object.keys(_a).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_a[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _a[a]}})});var Qn=WT;Object.keys(Qn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Qn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Qn[a]}})});var ci=$T;Object.keys(ci).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ci[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ci[a]}})});var Ts=Fm;Object.keys(Ts).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ts[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ts[a]}})});var qr=HT;Object.keys(qr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===qr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return qr[a]}})});var vr=kd;Object.keys(vr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===vr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return vr[a]}})});var Xn=YT;Object.keys(Xn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Xn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Xn[a]}})});var Ss=qT;Object.keys(Ss).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ss[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ss[a]}})});var Jn=GT;Object.keys(Jn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Jn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Jn[a]}})});var di=KT;Object.keys(di).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===di[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return di[a]}})});var Ps=QT;Object.keys(Ps).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ps[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ps[a]}})});var fi=XT;Object.keys(fi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===fi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return fi[a]}})});var xa=JT;Object.keys(xa).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xa[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xa[a]}})});var Ue=ZT;Object.keys(Ue).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ue[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ue[a]}})});var Gr=eS;Object.keys(Gr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Gr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Gr[a]}})});var Yt=tS;Object.keys(Yt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Yt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Yt[a]}})});var _e=rS;Object.keys(_e).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_e[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _e[a]}})});var Zt=Y0;Object.keys(Zt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Zt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Zt[a]}})});var Is=nS;Object.keys(Is).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Is[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Is[a]}})});var hi=sS;Object.keys(hi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===hi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return hi[a]}})});var Cs=iS;Object.keys(Cs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Cs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Cs[a]}})});var Os=aS;Object.keys(Os).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Os[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Os[a]}})});var wa=oS;Object.keys(wa).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===wa[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return wa[a]}})});var he=X0;Object.keys(he).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===he[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return he[a]}})});var ut=my;Object.keys(ut).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ut[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ut[a]}})});var Ze=lS;Object.keys(Ze).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ze[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ze[a]}})});var Ut=uS;Object.keys(Ut).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ut[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ut[a]}})});var Pn=cS;Object.keys(Pn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Pn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Pn[a]}})});var ba=Lu;Object.keys(ba).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ba[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ba[a]}})});var Ns=r_;Object.keys(Ns).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ns[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ns[a]}})});var mi=s_;Object.keys(mi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===mi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return mi[a]}})});var Ea=dS;Object.keys(Ea).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ea[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ea[a]}})});var Mr=i_;Object.keys(Mr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Mr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Mr[a]}})});var Rr=o_;Object.keys(Rr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Rr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Rr[a]}})});var In=l_;Object.keys(In).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===In[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return In[a]}})});var Zn=u_;Object.keys(Zn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Zn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Zn[a]}})});var js=zm;Object.keys(js).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===js[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return js[a]}})});var $e=d_;Object.keys($e).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===$e[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return $e[a]}})});var es=F0;Object.keys(es).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===es[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return es[a]}})});var yr=k0;Object.keys(yr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===yr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return yr[a]}})});var Cn=fS;Object.keys(Cn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Cn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Cn[a]}})});var gi=hS;Object.keys(gi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===gi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return gi[a]}})});var Ms=mS;Object.keys(Ms).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ms[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ms[a]}})});var Da=gS;Object.keys(Da).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Da[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Da[a]}})});var Rs=pS;Object.keys(Rs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Rs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Rs[a]}})});var To=vS;Object.keys(To).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===To[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return To[a]}})});var pi=yS;Object.keys(pi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===pi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return pi[a]}})});var On=_S;Object.keys(On).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===On[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return On[a]}})});var ir=xS;Object.keys(ir).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ir[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ir[a]}})});var vi=wS;Object.keys(vi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===vi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return vi[a]}})});var As=bS;Object.keys(As).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===As[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return As[a]}})});var yi=ES;Object.keys(yi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===yi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return yi[a]}})});var Kr=aa;Object.keys(Kr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Kr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Kr[a]}})});var gt=DS;Object.keys(gt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===gt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return gt[a]}})});var _r=Od;Object.keys(_r).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_r[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _r[a]}})});var Ta=TS;Object.keys(Ta).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ta[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ta[a]}})});var Qr=SS;Object.keys(Qr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Qr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Qr[a]}})});var Fs=PS;Object.keys(Fs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Fs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Fs[a]}})});var Sa=IS;Object.keys(Sa).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Sa[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Sa[a]}})});var un=CS;Object.keys(un).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===un[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return un[a]}})});var ts=vy;Object.keys(ts).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ts[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ts[a]}})});var _i=OS;Object.keys(_i).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_i[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _i[a]}})});var rs=f_;Object.keys(rs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===rs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return rs[a]}})});var Nn=NS;Object.keys(Nn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Nn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Nn[a]}})});var Pa=jS;Object.keys(Pa).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Pa[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Pa[a]}})});var cn=W0;Object.keys(cn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===cn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return cn[a]}})});var it=MS;Object.keys(it).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===it[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return it[a]}})});var So=RS;Object.keys(So).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===So[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return So[a]}})});var Po=AS;Object.keys(Po).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Po[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Po[a]}})});var Ia=FS;Object.keys(Ia).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ia[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ia[a]}})});var xi=$0;Object.keys(xi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xi[a]}})});var Ca=kS;Object.keys(Ca).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ca[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ca[a]}})});var ks=LS;Object.keys(ks).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ks[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ks[a]}})});var Oa=VS;Object.keys(Oa).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Oa[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Oa[a]}})});var Ar=zS;Object.keys(Ar).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ar[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ar[a]}})});var wi=US;Object.keys(wi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===wi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return wi[a]}})});var Io=la;Object.keys(Io).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Io[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Io[a]}})});var ns=BS;Object.keys(ns).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ns[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ns[a]}})});var Na=WS;Object.keys(Na).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Na[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Na[a]}})});var bi=$S;Object.keys(bi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===bi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return bi[a]}})});var ss=HS;Object.keys(ss).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ss[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ss[a]}})});var Ei=YS;Object.keys(Ei).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ei[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ei[a]}})});var Ls=qS;Object.keys(Ls).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ls[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ls[a]}})});var Co=GS;Object.keys(Co).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Co[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Co[a]}})});var ja=yy;Object.keys(ja).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ja[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ja[a]}})});var is=KS;Object.keys(is).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===is[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return is[a]}})});var Di=XS;Object.keys(Di).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Di[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Di[a]}})});var dn=ua;Object.keys(dn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===dn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return dn[a]}})});var ar=JS;Object.keys(ar).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ar[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ar[a]}})});var as=ZS;Object.keys(as).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===as[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return as[a]}})});var Vs=eP;Object.keys(Vs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Vs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Vs[a]}})});var ct=tP;Object.keys(ct).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ct[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ct[a]}})});var Fr=rP;Object.keys(Fr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Fr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Fr[a]}})});var jn=nP;Object.keys(jn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===jn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return jn[a]}})});var At=sP;Object.keys(At).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===At[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return At[a]}})});var Ti=iP;Object.keys(Ti).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ti[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ti[a]}})});var Si=aP;Object.keys(Si).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Si[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Si[a]}})});var Nt=oP;Object.keys(Nt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Nt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Nt[a]}})});var os=lP;Object.keys(os).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===os[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return os[a]}})});var ls=uP;Object.keys(ls).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ls[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ls[a]}})});var Ft=cP;Object.keys(Ft).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ft[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ft[a]}})});var Ma=dP;Object.keys(Ma).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ma[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ma[a]}})});var Ra=fP;Object.keys(Ra).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ra[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ra[a]}})});var pt=hP;Object.keys(pt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===pt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return pt[a]}})});var l=zd;Object.keys(l).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===l[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return l[a]}})});var m=mP;Object.keys(m).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===m[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return m[a]}})});var p=gP;Object.keys(p).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===p[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return p[a]}})});var w=pP;Object.keys(w).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===w[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return w[a]}})});var U=Uy;Object.keys(U).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===U[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return U[a]}})});var $=Ry;Object.keys($).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===$[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return $[a]}})});var ne=z0;Object.keys(ne).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ne[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ne[a]}})});var He=vP;Object.keys(He).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===He[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return He[a]}})});var Dt=yP;Object.keys(Dt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Dt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Dt[a]}})});var Fe=Um;Object.keys(Fe).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Fe[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Fe[a]}})});var Ge=_P;Object.keys(Ge).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ge[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ge[a]}})});var Le=xP;Object.keys(Le).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Le[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Le[a]}})});var xr=jy;Object.keys(xr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xr[a]}})});var er=wP;Object.keys(er).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===er[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return er[a]}})});var zs=bP;Object.keys(zs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===zs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return zs[a]}})});var Pi=jd;Object.keys(Pi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Pi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Pi[a]}})});var wl=EP;Object.keys(wl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===wl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return wl[a]}})});var Yu=n_;Object.keys(Yu).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Yu[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Yu[a]}})});var Tt=si;Object.keys(Tt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Tt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Tt[a]}})});var bl=ku;Object.keys(bl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===bl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return bl[a]}})});var El=a_;Object.keys(El).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===El[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return El[a]}})});var Dl=Fd;Object.keys(Dl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Dl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Dl[a]}})});var Tl=Nm;Object.keys(Tl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Tl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Tl[a]}})});var Sl=c_;Object.keys(Sl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Sl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Sl[a]}})});var qu=DP;Object.keys(qu).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===qu[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return qu[a]}})});var Pl=TP;Object.keys(Pl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Pl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Pl[a]}})});var Gu=_s;Object.keys(Gu).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Gu[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Gu[a]}})});var Ku=km;Object.keys(Ku).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ku[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ku[a]}})});var Qu=Mm;Object.keys(Qu).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Qu[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Qu[a]}})});var Xu=SP;Object.keys(Xu).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Xu[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Xu[a]}})});var Ju=PP;Object.keys(Ju).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ju[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ju[a]}})});var Zu=IP;Object.keys(Zu).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Zu[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Zu[a]}})});var ec=Ud;Object.keys(ec).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ec[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ec[a]}})});var Il=CP;Object.keys(Il).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Il[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Il[a]}})});var Cl=Q0;Object.keys(Cl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Cl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Cl[a]}})});var Ol=OP;Object.keys(Ol).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ol[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ol[a]}})});var Nl=NP;Object.keys(Nl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Nl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Nl[a]}})});var jl=h_;Object.keys(jl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===jl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return jl[a]}})});var Ml=jP;Object.keys(Ml).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ml[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ml[a]}})});var Rl=MP;Object.keys(Rl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Rl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Rl[a]}})});var f=RP;Object.keys(f).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===f[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return f[a]}})});var x=AP;Object.keys(x).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===x[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return x[a]}})});var _=Q;Object.keys(_).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _[a]}})});var A=_y;Object.keys(A).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===A[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return A[a]}})});var L=FP;Object.keys(L).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===L[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return L[a]}})});var W=kP;Object.keys(W).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===W[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return W[a]}})});var X=LP;Object.keys(X).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===X[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return X[a]}})});var se=VP;Object.keys(se).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===se[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return se[a]}})})})(Eo);Object.defineProperty(Qi,"__esModule",{value:!0});Qi.rangeShape=Qi.default=void 0;var No=G7(z),Ke=zP(na),Zg=zP(ml),kr=Eo;function zP(t){return t&&t.__esModule?t:{default:t}}function UP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(UP=function(n){return n?r:e})(t)}function G7(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=UP(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,r&&r.set(t,n),n}function dv(){return dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dv.apply(this,arguments)}function bc(t,e,r){return e=K7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K7(t){var e=Q7(t,"string");return typeof e=="symbol"?e:String(e)}function Q7(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class m_ extends No.Component{constructor(e,r){super(e,r),bc(this,"handleKeyEvent",n=>{const{day:s,onMouseDown:i,onMouseUp:o}=this.props;[13,32].includes(n.keyCode)&&(n.type==="keydown"?i(s):o(s))}),bc(this,"handleMouseEvent",n=>{const{day:s,disabled:i,onPreviewChange:o,onMouseEnter:c,onMouseDown:d,onMouseUp:h}=this.props,g={};if(i){o();return}switch(n.type){case"mouseenter":c(s),o(s),g.hover=!0;break;case"blur":case"mouseleave":g.hover=!1;break;case"mousedown":g.active=!0,d(s);break;case"mouseup":n.stopPropagation(),g.active=!1,h(s);break;case"focus":o(s);break}Object.keys(g).length&&this.setState(g)}),bc(this,"getClassNames",()=>{const{isPassive:n,isToday:s,isWeekend:i,isStartOfWeek:o,isEndOfWeek:c,isStartOfMonth:d,isEndOfMonth:h,disabled:g,styles:v}=this.props;return(0,Zg.default)(v.day,{[v.dayPassive]:n,[v.dayDisabled]:g,[v.dayToday]:s,[v.dayWeekend]:i,[v.dayStartOfWeek]:o,[v.dayEndOfWeek]:c,[v.dayStartOfMonth]:d,[v.dayEndOfMonth]:h,[v.dayHovered]:this.state.hover,[v.dayActive]:this.state.active})}),bc(this,"renderPreviewPlaceholder",()=>{const{preview:n,day:s,styles:i}=this.props;if(!n)return null;const o=n.startDate?(0,kr.endOfDay)(n.startDate):null,c=n.endDate?(0,kr.startOfDay)(n.endDate):null,d=(!o||(0,kr.isAfter)(s,o))&&(!c||(0,kr.isBefore)(s,c)),h=!d&&(0,kr.isSameDay)(s,o),g=!d&&(0,kr.isSameDay)(s,c);return No.default.createElement("span",{className:(0,Zg.default)({[i.dayStartPreview]:h,[i.dayInPreview]:d,[i.dayEndPreview]:g}),style:{color:n.color}})}),bc(this,"renderSelectionPlaceholders",()=>{const{styles:n,ranges:s,day:i}=this.props;return this.props.displayMode==="date"?(0,kr.isSameDay)(this.props.day,this.props.date)?No.default.createElement("span",{className:n.selected,style:{color:this.props.color}}):null:s.reduce((c,d)=>{let h=d.startDate,g=d.endDate;h&&g&&(0,kr.isBefore)(g,h)&&([h,g]=[g,h]),h=h?(0,kr.endOfDay)(h):null,g=g?(0,kr.startOfDay)(g):null;const v=(!h||(0,kr.isAfter)(i,h))&&(!g||(0,kr.isBefore)(i,g)),y=!v&&(0,kr.isSameDay)(i,h),E=!v&&(0,kr.isSameDay)(i,g);return v||y||E?[...c,{isStartEdge:y,isEndEdge:E,isInRange:v,...d}]:c},[]).map((c,d)=>No.default.createElement("span",{key:d,className:(0,Zg.default)({[n.startEdge]:c.isStartEdge,[n.endEdge]:c.isEndEdge,[n.inRange]:c.isInRange}),style:{color:c.color||this.props.color}}))}),this.state={hover:!1,active:!1}}render(){const{dayContentRenderer:e}=this.props;return No.default.createElement("button",dv({type:"button",onMouseEnter:this.handleMouseEvent,onMouseLeave:this.handleMouseEvent,onFocus:this.handleMouseEvent,onMouseDown:this.handleMouseEvent,onMouseUp:this.handleMouseEvent,onBlur:this.handleMouseEvent,onPauseCapture:this.handleMouseEvent,onKeyDown:this.handleKeyEvent,onKeyUp:this.handleKeyEvent,className:this.getClassNames(this.props.styles)},this.props.disabled||this.props.isPassive?{tabIndex:-1}:{},{style:{color:this.props.color}}),this.renderSelectionPlaceholders(),this.renderPreviewPlaceholder(),No.default.createElement("span",{className:this.props.styles.dayNumber},(e==null?void 0:e(this.props.day))||No.default.createElement("span",null,(0,kr.format)(this.props.day,this.props.dayDisplayFormat))))}}m_.defaultProps={};const X7=Qi.rangeShape=Ke.default.shape({startDate:Ke.default.object,endDate:Ke.default.object,color:Ke.default.string,key:Ke.default.string,autoFocus:Ke.default.bool,disabled:Ke.default.bool,showDateDisplay:Ke.default.bool});m_.propTypes={day:Ke.default.object.isRequired,dayDisplayFormat:Ke.default.string,date:Ke.default.object,ranges:Ke.default.arrayOf(X7),preview:Ke.default.shape({startDate:Ke.default.object,endDate:Ke.default.object,color:Ke.default.string}),onPreviewChange:Ke.default.func,previewColor:Ke.default.string,disabled:Ke.default.bool,isPassive:Ke.default.bool,isToday:Ke.default.bool,isWeekend:Ke.default.bool,isStartOfWeek:Ke.default.bool,isEndOfWeek:Ke.default.bool,isStartOfMonth:Ke.default.bool,isEndOfMonth:Ke.default.bool,color:Ke.default.string,displayMode:Ke.default.oneOf(["dateRange","date"]),styles:Ke.default.object,onMouseDown:Ke.default.func,onMouseUp:Ke.default.func,onMouseEnter:Ke.default.func,dayContentRenderer:Ke.default.func};Qi.default=m_;var Bm={},ca={};Object.defineProperty(ca,"__esModule",{value:!0});ca.calcFocusDate=eB;ca.findNextRangeIndex=tB;ca.generateStyles=nB;ca.getMonthDisplayRange=rB;var J7=Z7(ml),Mi=Eo;function Z7(t){return t&&t.__esModule?t:{default:t}}function eB(t,e){const{shownDate:r,date:n,months:s,ranges:i,focusedRange:o,displayMode:c}=e;let d;if(c==="dateRange"){const g=i[o[0]]||{};d={start:g.startDate,end:g.endDate}}else d={start:n,end:n};d.start=(0,Mi.startOfMonth)(d.start||new Date),d.end=(0,Mi.endOfMonth)(d.end||d.start);const h=d.start||d.end||r||new Date;return t?(0,Mi.differenceInCalendarMonths)(d.start,d.end)>s?t:h:r||h}function tB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;const r=t.findIndex((n,s)=>s>e&&n.autoFocus!==!1&&!n.disabled);return r!==-1?r:t.findIndex(n=>n.autoFocus!==!1&&!n.disabled)}function rB(t,e,r){const n=(0,Mi.startOfMonth)(t,e),s=(0,Mi.endOfMonth)(t,e),i=(0,Mi.startOfWeek)(n,e);let o=(0,Mi.endOfWeek)(s,e);return r&&(0,Mi.differenceInCalendarDays)(o,i)<=34&&(o=(0,Mi.addDays)(o,7)),{start:i,end:o,startDateOfMonth:n,endDateOfMonth:s}}function nB(t){return t.length?t.filter(r=>!!r).reduce((r,n)=>(Object.keys(n).forEach(s=>{r[s]=(0,J7.default)(r[s],n[s])}),r),{}):{}}Object.defineProperty(Bm,"__esModule",{value:!0});Bm.default=void 0;var $o=$P(z),dt=iB(na),BP=$P(Qi),Wt=Eo,sB=ca;function iB(t){return t&&t.__esModule?t:{default:t}}function WP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(WP=function(n){return n?r:e})(t)}function $P(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=WP(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,r&&r.set(t,n),n}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fv.apply(this,arguments)}function aB(t,e,r){const n=new Date;return $o.default.createElement("div",{className:t.weekDays},(0,Wt.eachDayOfInterval)({start:(0,Wt.startOfWeek)(n,e),end:(0,Wt.endOfWeek)(n,e)}).map((s,i)=>$o.default.createElement("span",{className:t.weekDay,key:i},(0,Wt.format)(s,r,e))))}class g_ extends $o.PureComponent{render(){const e=new Date,{displayMode:r,focusedRange:n,drag:s,styles:i,disabledDates:o,disabledDay:c}=this.props,d=this.props.minDate&&(0,Wt.startOfDay)(this.props.minDate),h=this.props.maxDate&&(0,Wt.endOfDay)(this.props.maxDate),g=(0,sB.getMonthDisplayRange)(this.props.month,this.props.dateOptions,this.props.fixedHeight);let v=this.props.ranges;if(r==="dateRange"&&s.status){let{startDate:E,endDate:N}=s.range;v=v.map((D,k)=>k!==n[0]?D:{...D,startDate:E,endDate:N})}const y=this.props.showPreview&&!s.disablePreview;return $o.default.createElement("div",{className:i.month,style:this.props.style},this.props.showMonthName?$o.default.createElement("div",{className:i.monthName},(0,Wt.format)(this.props.month,this.props.monthDisplayFormat,this.props.dateOptions)):null,this.props.showWeekDays&&aB(i,this.props.dateOptions,this.props.weekdayDisplayFormat),$o.default.createElement("div",{className:i.days,onMouseLeave:this.props.onMouseLeave},(0,Wt.eachDayOfInterval)({start:g.start,end:g.end}).map((E,N)=>{const D=(0,Wt.isSameDay)(E,g.startDateOfMonth),k=(0,Wt.isSameDay)(E,g.endDateOfMonth),S=d&&(0,Wt.isBefore)(E,d)||h&&(0,Wt.isAfter)(E,h),P=o.some(R=>(0,Wt.isSameDay)(R,E)),C=c(E);return $o.default.createElement(BP.default,fv({},this.props,{ranges:v,day:E,preview:y?this.props.preview:null,isWeekend:(0,Wt.isWeekend)(E,this.props.dateOptions),isToday:(0,Wt.isSameDay)(E,e),isStartOfWeek:(0,Wt.isSameDay)(E,(0,Wt.startOfWeek)(E,this.props.dateOptions)),isEndOfWeek:(0,Wt.isSameDay)(E,(0,Wt.endOfWeek)(E,this.props.dateOptions)),isStartOfMonth:D,isEndOfMonth:k,key:N,disabled:S||P||C,isPassive:!(0,Wt.isWithinInterval)(E,{start:g.startDateOfMonth,end:g.endDateOfMonth}),styles:i,onMouseDown:this.props.onDragSelectionStart,onMouseUp:this.props.onDragSelectionEnd,onMouseEnter:this.props.onDragSelectionMove,dragRange:s.range,drag:s.status}))})))}}g_.defaultProps={};g_.propTypes={style:dt.default.object,styles:dt.default.object,month:dt.default.object,drag:dt.default.object,dateOptions:dt.default.object,disabledDates:dt.default.array,disabledDay:dt.default.func,preview:dt.default.shape({startDate:dt.default.object,endDate:dt.default.object}),showPreview:dt.default.bool,displayMode:dt.default.oneOf(["dateRange","date"]),minDate:dt.default.object,maxDate:dt.default.object,ranges:dt.default.arrayOf(BP.rangeShape),focusedRange:dt.default.arrayOf(dt.default.number),onDragSelectionStart:dt.default.func,onDragSelectionEnd:dt.default.func,onDragSelectionMove:dt.default.func,onMouseLeave:dt.default.func,monthDisplayFormat:dt.default.string,weekdayDisplayFormat:dt.default.string,dayDisplayFormat:dt.default.string,showWeekDays:dt.default.bool,showMonthName:dt.default.bool,fixedHeight:dt.default.bool};Bm.default=g_;var Wm={};Object.defineProperty(Wm,"__esModule",{value:!0});Wm.default=void 0;var Cf=lB(z),Ws=HP(na),oB=HP(ml),Ec=Eo;function HP(t){return t&&t.__esModule?t:{default:t}}function YP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(YP=function(n){return n?r:e})(t)}function lB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=YP(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,r&&r.set(t,n),n}function ep(t,e,r){return e=uB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uB(t){var e=cB(t,"string");return typeof e=="symbol"?e:String(e)}function cB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class p_ extends Cf.PureComponent{constructor(e,r){super(e,r),ep(this,"onKeyDown",n=>{const{value:s}=this.state;n.key==="Enter"&&this.update(s)}),ep(this,"onChange",n=>{this.setState({value:n.target.value,changed:!0,invalid:!1})}),ep(this,"onBlur",()=>{const{value:n}=this.state;this.update(n)}),this.state={invalid:!1,changed:!1,value:this.formatDate(e)}}componentDidUpdate(e){const{value:r}=e;(0,Ec.isEqual)(r,this.props.value)||this.setState({value:this.formatDate(this.props)})}formatDate(e){let{value:r,dateDisplayFormat:n,dateOptions:s}=e;return r&&(0,Ec.isValid)(r)?(0,Ec.format)(r,n,s):""}update(e){const{invalid:r,changed:n}=this.state;if(r||!n||!e)return;const{onChange:s,dateDisplayFormat:i,dateOptions:o}=this.props,c=(0,Ec.parse)(e,i,new Date,o);(0,Ec.isValid)(c)?this.setState({changed:!1},()=>s(c)):this.setState({invalid:!0})}render(){const{className:e,readOnly:r,placeholder:n,ariaLabel:s,disabled:i,onFocus:o}=this.props,{value:c,invalid:d}=this.state;return Cf.default.createElement("span",{className:(0,oB.default)("rdrDateInput",e)},Cf.default.createElement("input",{readOnly:r,disabled:i,value:c,placeholder:n,"aria-label":s,onKeyDown:this.onKeyDown,onChange:this.onChange,onBlur:this.onBlur,onFocus:o}),d&&Cf.default.createElement("span",{className:"rdrWarning"},""))}}p_.propTypes={value:Ws.default.object,placeholder:Ws.default.string,disabled:Ws.default.bool,readOnly:Ws.default.bool,dateOptions:Ws.default.object,dateDisplayFormat:Ws.default.string,ariaLabel:Ws.default.string,className:Ws.default.string,onFocus:Ws.default.func.isRequired,onChange:Ws.default.func.isRequired};p_.defaultProps={readOnly:!0,disabled:!1,dateDisplayFormat:"MMM D, YYYY"};Wm.default=p_;var qP={};(function(t){(function(e,r){r(t,z,u)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:IO,function(e,r,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function s(J){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},s(J)}function i(J,G){if(!(J instanceof G))throw new TypeError("Cannot call a class as a function")}function o(J,G){for(var B=0;B<G.length;B++){var F=G[B];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(J,P(F.key),F)}}function c(J,G,B){return G&&o(J.prototype,G),B&&o(J,B),Object.defineProperty(J,"prototype",{writable:!1}),J}function d(J,G,B){return G=y(G),h(J,v()?Reflect.construct(G,B||[],y(J).constructor):G.apply(J,B))}function h(J,G){if(G&&(s(G)=="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(J)}function g(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function v(){try{var J=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v=function(){return!!J})()}function y(J){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},y(J)}function E(J,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(G&&G.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),G&&N(J,G)}function N(J,G){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,F){return B.__proto__=F,B},N(J,G)}function D(J,G){var B=Object.keys(J);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(J);G&&(F=F.filter(function(K){return Object.getOwnPropertyDescriptor(J,K).enumerable})),B.push.apply(B,F)}return B}function k(J){for(var G=1;G<arguments.length;G++){var B=arguments[G]!=null?arguments[G]:{};G%2?D(Object(B),!0).forEach(function(F){S(J,F,B[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(B)):D(Object(B)).forEach(function(F){Object.defineProperty(J,F,Object.getOwnPropertyDescriptor(B,F))})}return J}function S(J,G,B){return(G=P(G))in J?Object.defineProperty(J,G,{value:B,enumerable:!0,configurable:!0,writable:!0}):J[G]=B,J}function P(J){var G=C(J,"string");return s(G)=="symbol"?G:G+""}function C(J,G){if(s(J)!="object"||!J)return J;var B=J[Symbol.toPrimitive];if(B!==void 0){var F=B.call(J,G);if(s(F)!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(J)}var R={x:"clientWidth",y:"clientHeight"},Y={x:"clientTop",y:"clientLeft"},q={x:"innerWidth",y:"innerHeight"},T={x:"offsetWidth",y:"offsetHeight"},b={x:"offsetLeft",y:"offsetTop"},I={x:"overflowX",y:"overflowY"},j={x:"scrollWidth",y:"scrollHeight"},M={x:"scrollLeft",y:"scrollTop"},V={x:"width",y:"height"},O=function(){},et=function(){if(typeof window>"u")return!1;var J=!1;try{document.createElement("div").addEventListener("test",O,{get passive(){return J=!0,!1}})}catch{}return J}()?{passive:!0}:!1,tt="ReactList failed to reach a stable state.",le=40,Oe=function(G,B){for(var F in B)if(G[F]!==B[F])return!1;return!0},Z=function(G){for(var B=G.props.axis,F=G.getEl(),K=I[B];F=F.parentElement;)switch(window.getComputedStyle(F)[K]){case"auto":case"scroll":case"overlay":return F}return window},de=function(G){var B=G.props.axis,F=G.scrollParent;return F===window?window[q[B]]:F[R[B]]},ce=function(G,B){var F=G.length,K=G.minSize,ae=G.type,ge=B.from,pe=B.size,ve=B.itemsPerRow;pe=Math.max(pe,K);var Te=pe%ve;return Te&&(pe+=ve-Te),pe>F&&(pe=F),ge=ae==="simple"||!ge?0:Math.max(Math.min(ge,F-pe),0),(Te=ge%ve)&&(ge-=Te,pe+=Te),ge===B.from&&pe===B.size?B:k(k({},B),{},{from:ge,size:pe})},De=e.default=function(J){function G(B){var F;return i(this,G),F=d(this,G,[B]),F.state=ce(B,{itemsPerRow:1,from:B.initialIndex,size:0}),F.cache={},F.cachedScrollPosition=null,F.prevPrevState={},F.unstable=!1,F.updateCounter=0,F}return E(G,J),c(G,[{key:"componentDidMount",value:function(){this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this),window.addEventListener("resize",this.updateFrameAndClearCache),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(F){var K=this;if(this.props.axis!==F.axis&&this.clearSizeCache(),!this.unstable){if(++this.updateCounter>le)return this.unstable=!0,console.error(tt);this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout(function(){K.updateCounter=0,delete K.updateCounterTimeoutId},0)),this.updateFrame()}}},{key:"maybeSetState",value:function(F,K){if(Oe(this.state,F))return K();this.setState(F,K)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrameAndClearCache),this.scrollParent.removeEventListener("scroll",this.updateFrameAndClearCache,et),this.scrollParent.removeEventListener("mousewheel",O,et)}},{key:"getOffset",value:function(F){var K=this.props.axis,ae=F[Y[K]]||0,ge=b[K];do ae+=F[ge]||0;while(F=F.offsetParent);return ae}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollPosition",value:function(){if(typeof this.cachedScrollPosition=="number")return this.cachedScrollPosition;var F=this.scrollParent,K=this.props.axis,ae=M[K],ge=F===window?document.body[ae]||document.documentElement[ae]:F[ae],pe=this.getScrollSize()-this.props.scrollParentViewportSizeGetter(this),ve=Math.max(0,Math.min(ge,pe)),Te=this.getEl();return this.cachedScrollPosition=this.getOffset(F)+ve-this.getOffset(Te),this.cachedScrollPosition}},{key:"setScroll",value:function(F){var K=this.scrollParent,ae=this.props.axis;if(F+=this.getOffset(this.getEl()),K===window)return window.scrollTo(0,F);F-=this.getOffset(this.scrollParent),K[M[ae]]=F}},{key:"getScrollSize",value:function(){var F=this.scrollParent,K=document,ae=K.body,ge=K.documentElement,pe=j[this.props.axis];return F===window?Math.max(ae[pe],ge[pe]):F[pe]}},{key:"hasDeterminateSize",value:function(){var F=this.props,K=F.itemSizeGetter,ae=F.type;return ae==="uniform"||K}},{key:"getStartAndEnd",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.threshold,K=this.getScrollPosition(),ae=Math.max(0,K-F),ge=K+this.props.scrollParentViewportSizeGetter(this)+F;return this.hasDeterminateSize()&&(ge=Math.min(ge,this.getSpaceBefore(this.props.length))),{start:ae,end:ge}}},{key:"getItemSizeAndItemsPerRow",value:function(){var F=this.props,K=F.axis,ae=F.useStaticSize,ge=this.state,pe=ge.itemSize,ve=ge.itemsPerRow;if(ae&&pe&&ve)return{itemSize:pe,itemsPerRow:ve};var Te=this.items.children;if(!Te.length)return{};var Re=Te[0],Ne=Re[T[K]],Ae=Math.abs(Ne-pe);if((isNaN(Ae)||Ae>=1)&&(pe=Ne),!pe)return{};var lt=b[K],xt=Re[lt];ve=1;for(var Ht=Te[ve];Ht&&Ht[lt]===xt;Ht=Te[ve])++ve;return{itemSize:pe,itemsPerRow:ve}}},{key:"clearSizeCache",value:function(){this.cachedScrollPosition=null}},{key:"updateFrameAndClearCache",value:function(F){return this.clearSizeCache(),this.updateFrame(F)}},{key:"updateFrame",value:function(F){switch(this.updateScrollParent(),typeof F!="function"&&(F=O),this.props.type){case"simple":return this.updateSimpleFrame(F);case"variable":return this.updateVariableFrame(F);case"uniform":return this.updateUniformFrame(F)}}},{key:"updateScrollParent",value:function(){var F=this.scrollParent;this.scrollParent=this.props.scrollParentGetter(this),F!==this.scrollParent&&(F&&(F.removeEventListener("scroll",this.updateFrameAndClearCache),F.removeEventListener("mousewheel",O)),this.clearSizeCache(),this.scrollParent.addEventListener("scroll",this.updateFrameAndClearCache,et),this.scrollParent.addEventListener("mousewheel",O,et))}},{key:"updateSimpleFrame",value:function(F){var K=this.getStartAndEnd(),ae=K.end,ge=this.items.children,pe=0;if(ge.length){var ve=this.props.axis,Te=ge[0],Re=ge[ge.length-1];pe=this.getOffset(Re)+Re[T[ve]]-this.getOffset(Te)}if(pe>ae)return F();var Ne=this.props,Ae=Ne.pageSize,lt=Ne.length,xt=Math.min(this.state.size+Ae,lt);this.maybeSetState({size:xt},F)}},{key:"updateVariableFrame",value:function(F){this.props.itemSizeGetter||this.cacheSizes();for(var K=this.getStartAndEnd(),ae=K.start,ge=K.end,pe=this.props,ve=pe.length,Te=pe.pageSize,Re=0,Ne=0,Ae=0,lt=ve-1;Ne<lt;){var xt=this.getSizeOfItem(Ne);if(xt==null||Re+xt>ae)break;Re+=xt,++Ne}for(var Ht=ve-Ne;Ae<Ht&&Re<ge;){var Br=this.getSizeOfItem(Ne+Ae);if(Br==null){Ae=Math.min(Ae+Te,Ht);break}Re+=Br,++Ae}this.maybeSetState(ce(this.props,{from:Ne,itemsPerRow:1,size:Ae}),F)}},{key:"updateUniformFrame",value:function(F){var K=this.getItemSizeAndItemsPerRow(),ae=K.itemSize,ge=K.itemsPerRow;if(!ae||!ge)return F();var pe=this.getStartAndEnd(),ve=pe.start,Te=pe.end,Re=ce(this.props,{from:Math.floor(ve/ae)*ge,size:(Math.ceil((Te-ve)/ae)+1)*ge,itemsPerRow:ge}),Ne=Re.from,Ae=Re.size;return this.maybeSetState({itemsPerRow:ge,from:Ne,itemSize:ae,size:Ae},F)}},{key:"getSpaceBefore",value:function(F){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(K[F]!=null)return K[F];var ae=this.state,ge=ae.itemSize,pe=ae.itemsPerRow;if(ge)return K[F]=Math.floor(F/pe)*ge;for(var ve=F;ve>0&&K[--ve]==null;);for(var Te=K[ve]||0,Re=ve;Re<F;++Re){K[Re]=Te;var Ne=this.getSizeOfItem(Re);if(Ne==null)break;Te+=Ne}return K[F]=Te}},{key:"cacheSizes",value:function(){for(var F=this.cache,K=this.state.from,ae=this.items.children,ge=T[this.props.axis],pe=0,ve=ae.length;pe<ve;++pe)F[K+pe]=ae[pe][ge]}},{key:"getSizeOfItem",value:function(F){var K=this.cache,ae=this.items,ge=this.props,pe=ge.axis,ve=ge.itemSizeGetter,Te=ge.itemSizeEstimator,Re=ge.type,Ne=this.state,Ae=Ne.from,lt=Ne.itemSize,xt=Ne.size;if(lt)return lt;if(ve)return ve(F);if(F in K)return K[F];if(Re==="simple"&&F>=Ae&&F<Ae+xt&&ae){var Ht=ae.children[F-Ae];if(Ht)return Ht[T[pe]]}if(Te)return Te(F,K)}},{key:"scrollTo",value:function(F){F!=null&&this.setScroll(this.getSpaceBefore(F))}},{key:"scrollAround",value:function(F){var K=this.getScrollPosition(),ae=this.getSpaceBefore(F),ge=ae-this.props.scrollParentViewportSizeGetter(this)+this.getSizeOfItem(F),pe=Math.min(ge,ae),ve=Math.max(ge,ae);if(K<=pe)return this.setScroll(pe);if(K>ve)return this.setScroll(ve)}},{key:"getVisibleRange",value:function(){for(var F=this.state,K=F.from,ae=F.size,ge=this.getStartAndEnd(0),pe=ge.start,ve=ge.end,Te={},Re,Ne,Ae=K;Ae<K+ae;++Ae){var lt=this.getSpaceBefore(Ae,Te),xt=lt+this.getSizeOfItem(Ae);Re==null&&xt>pe&&(Re=Ae),Re!=null&&lt<ve&&(Ne=Ae)}return[Re,Ne]}},{key:"renderItems",value:function(){for(var F=this,K=this.props,ae=K.itemRenderer,ge=K.itemsRenderer,pe=this.state,ve=pe.from,Te=pe.size,Re=[],Ne=0;Ne<Te;++Ne)Re.push(ae(ve+Ne,Ne));return ge(Re,function(Ae){return F.items=Ae})}},{key:"render",value:function(){var F=this,K=this.props,ae=K.axis,ge=K.length,pe=K.type,ve=K.useTranslate3d,Te=this.state,Re=Te.from,Ne=Te.itemsPerRow,Ae=this.renderItems();if(pe==="simple")return Ae;var lt={position:"relative"},xt={},Ht=Math.ceil(ge/Ne)*Ne,Br=this.getSpaceBefore(Ht,xt);Br&&(lt[V[ae]]=Br,ae==="x"&&(lt.overflowX="hidden"));var xs=this.getSpaceBefore(Re,xt),Wr=ae==="x"?xs:0,Nr=ae==="y"?xs:0,sn=ve?"translate3d(".concat(Wr,"px, ").concat(Nr,"px, 0)"):"translate(".concat(Wr,"px, ").concat(Nr,"px)"),En={msTransform:sn,WebkitTransform:sn,transform:sn};return(0,n.jsx)("div",{style:lt,ref:function(ws){return F.el=ws},children:(0,n.jsx)("div",{style:En,children:Ae})})}}],[{key:"getDerivedStateFromProps",value:function(F,K){var ae=ce(F,K);return ae===K?null:ae}}])}(r.Component);S(De,"displayName","ReactList"),S(De,"defaultProps",{axis:"y",itemRenderer:function(G,B){return(0,n.jsx)("div",{children:G},B)},itemsRenderer:function(G,B){return(0,n.jsx)("div",{ref:B,children:G})},length:0,minSize:1,pageSize:10,scrollParentGetter:Z,scrollParentViewportSizeGetter:de,threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1})})})(qP);function dB(t,e){if(t===e)return!0;if(!t||!e)return!1;var r=Object.keys(t),n=Object.keys(e),s=r.length;if(n.length!==s)return!1;for(var i=0;i<s;i++){var o=r[i];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}function fB(t,e){if(t===e)return!0;if(!t||!e)return!1;var r=t.length;if(e.length!==r)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const hB=Object.freeze(Object.defineProperty({__proto__:null,shallowEqualArrays:fB,shallowEqualObjects:dB},Symbol.toStringTag,{value:"Module"})),mB=OO(hB);var yl={};Object.defineProperty(yl,"__esModule",{value:!0});yl.default=void 0;yl.default={dateRangeWrapper:"rdrDateRangeWrapper",calendarWrapper:"rdrCalendarWrapper",dateDisplay:"rdrDateDisplay",dateDisplayItem:"rdrDateDisplayItem",dateDisplayItemActive:"rdrDateDisplayItemActive",monthAndYearWrapper:"rdrMonthAndYearWrapper",monthAndYearPickers:"rdrMonthAndYearPickers",nextPrevButton:"rdrNextPrevButton",month:"rdrMonth",weekDays:"rdrWeekDays",weekDay:"rdrWeekDay",days:"rdrDays",day:"rdrDay",dayNumber:"rdrDayNumber",dayPassive:"rdrDayPassive",dayToday:"rdrDayToday",dayStartOfWeek:"rdrDayStartOfWeek",dayEndOfWeek:"rdrDayEndOfWeek",daySelected:"rdrDaySelected",dayDisabled:"rdrDayDisabled",dayStartOfMonth:"rdrDayStartOfMonth",dayEndOfMonth:"rdrDayEndOfMonth",dayWeekend:"rdrDayWeekend",dayStartPreview:"rdrDayStartPreview",dayInPreview:"rdrDayInPreview",dayEndPreview:"rdrDayEndPreview",dayHovered:"rdrDayHovered",dayActive:"rdrDayActive",inRange:"rdrInRange",endEdge:"rdrEndEdge",startEdge:"rdrStartEdge",prevButton:"rdrPprevButton",nextButton:"rdrNextButton",selected:"rdrSelected",months:"rdrMonths",monthPicker:"rdrMonthPicker",yearPicker:"rdrYearPicker",dateDisplayWrapper:"rdrDateDisplayWrapper",definedRangesWrapper:"rdrDefinedRangesWrapper",staticRanges:"rdrStaticRanges",staticRange:"rdrStaticRange",inputRanges:"rdrInputRanges",inputRange:"rdrInputRange",inputRangeInput:"rdrInputRangeInput",dateRangePickerWrapper:"rdrDateRangePickerWrapper",staticRangeLabel:"rdrStaticRangeLabel",staticRangeSelected:"rdrStaticRangeSelected",monthName:"rdrMonthName",infiniteMonths:"rdrInfiniteMonths",monthsVertical:"rdrMonthsVertical",monthsHorizontal:"rdrMonthsHorizontal"};var $m={};Object.defineProperty($m,"__esModule",{value:!0});$m.ariaLabelsShape=void 0;var Oi=gB(na);function gB(t){return t&&t.__esModule?t:{default:t}}$m.ariaLabelsShape=Oi.default.shape({dateInput:Oi.default.objectOf(Oi.default.shape({startDate:Oi.default.string,endDate:Oi.default.string})),monthPicker:Oi.default.string,yearPicker:Oi.default.string,prevButton:Oi.default.string,nextButton:Oi.default.string});Object.defineProperty(Cd,"__esModule",{value:!0});Cd.default=void 0;var at=bB(z),be=Vu(na),pB=Qi,Hb=Vu(Bm),Yb=Vu(Wm),Of=ca,jo=Vu(ml),vB=Vu(qP),yB=mB,yt=Eo,_B=Rm,xB=Vu(yl),wB=$m;function Vu(t){return t&&t.__esModule?t:{default:t}}function GP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(GP=function(n){return n?r:e})(t)}function bB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=GP(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,r&&r.set(t,n),n}function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fh.apply(this,arguments)}function Rn(t,e,r){return e=EB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EB(t){var e=DB(t,"string");return typeof e=="symbol"?e:String(e)}function DB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let v_=class hv extends at.PureComponent{constructor(e,r){var n;super(e,r),n=this,Rn(this,"focusToDate",function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.props,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!i.scroll.enabled){if(o&&i.preventSnapRefocus){const h=(0,yt.differenceInCalendarMonths)(s,n.state.focusedDate),g=i.calendarFocus==="forwards"&&h>=0,v=i.calendarFocus==="backwards"&&h<=0;if((g||v)&&Math.abs(h)<i.months)return}n.setState({focusedDate:s});return}const c=(0,yt.differenceInCalendarMonths)(s,i.minDate,n.dateOptions),d=n.list.getVisibleRange();o&&d.includes(c)||(n.isFirstRender=!0,n.list.scrollTo(c),n.setState({focusedDate:s}))}),Rn(this,"updateShownDate",function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.props;const i=s.scroll.enabled?{...s,months:n.list.getVisibleRange().length}:s,o=(0,Of.calcFocusDate)(n.state.focusedDate,i);n.focusToDate(o,i)}),Rn(this,"updatePreview",s=>{if(!s){this.setState({preview:null});return}const i={startDate:s,endDate:s,color:this.props.color};this.setState({preview:i})}),Rn(this,"changeShownDate",function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set";const{focusedDate:o}=n.state,{onShownDateChange:c,minDate:d,maxDate:h}=n.props,g={monthOffset:()=>(0,yt.addMonths)(o,s),setMonth:()=>(0,yt.setMonth)(o,s),setYear:()=>(0,yt.setYear)(o,s),set:()=>s},v=(0,yt.min)([(0,yt.max)([g[i](),d]),h]);n.focusToDate(v,n.props,!1),c&&c(v)}),Rn(this,"handleRangeFocusChange",(s,i)=>{this.props.onRangeFocusChange&&this.props.onRangeFocusChange([s,i])}),Rn(this,"handleScroll",()=>{const{onShownDateChange:s,minDate:i}=this.props,{focusedDate:o}=this.state,{isFirstRender:c}=this,d=this.list.getVisibleRange();if(d[0]===void 0)return;const h=(0,yt.addMonths)(i,d[0]||0);!(0,yt.isSameMonth)(h,o)&&!c&&(this.setState({focusedDate:h}),s&&s(h)),this.isFirstRender=!1}),Rn(this,"renderMonthAndYear",(s,i,o)=>{const{showMonthArrow:c,minDate:d,maxDate:h,showMonthAndYearPickers:g,ariaLabels:v}=o,y=(h||hv.defaultProps.maxDate).getFullYear(),E=(d||hv.defaultProps.minDate).getFullYear(),N=this.styles;return at.default.createElement("div",{onMouseUp:D=>D.stopPropagation(),className:N.monthAndYearWrapper},c?at.default.createElement("button",{type:"button",className:(0,jo.default)(N.nextPrevButton,N.prevButton),onClick:()=>i(-1,"monthOffset"),"aria-label":v.prevButton},at.default.createElement("i",null)):null,g?at.default.createElement("span",{className:N.monthAndYearPickers},at.default.createElement("span",{className:N.monthPicker},at.default.createElement("select",{value:s.getMonth(),onChange:D=>i(D.target.value,"setMonth"),"aria-label":v.monthPicker},this.state.monthNames.map((D,k)=>at.default.createElement("option",{key:k,value:k},D)))),at.default.createElement("span",{className:N.monthAndYearDivider}),at.default.createElement("span",{className:N.yearPicker},at.default.createElement("select",{value:s.getFullYear(),onChange:D=>i(D.target.value,"setYear"),"aria-label":v.yearPicker},new Array(y-E+1).fill(y).map((D,k)=>{const S=D-k;return at.default.createElement("option",{key:S,value:S},S)})))):at.default.createElement("span",{className:N.monthAndYearPickers},this.state.monthNames[s.getMonth()]," ",s.getFullYear()),c?at.default.createElement("button",{type:"button",className:(0,jo.default)(N.nextPrevButton,N.nextButton),onClick:()=>i(1,"monthOffset"),"aria-label":v.nextButton},at.default.createElement("i",null)):null)}),Rn(this,"renderDateDisplay",()=>{const{focusedRange:s,color:i,ranges:o,rangeColors:c,dateDisplayFormat:d,editableDateInputs:h,startDatePlaceholder:g,endDatePlaceholder:v,ariaLabels:y}=this.props,E=c[s[0]]||i,N=this.styles;return at.default.createElement("div",{className:N.dateDisplayWrapper},o.map((D,k)=>D.showDateDisplay===!1||D.disabled&&!D.showDateDisplay?null:at.default.createElement("div",{className:N.dateDisplay,key:k,style:{color:D.color||E}},at.default.createElement(Yb.default,{className:(0,jo.default)(N.dateDisplayItem,{[N.dateDisplayItemActive]:s[0]===k&&s[1]===0}),readOnly:!h,disabled:D.disabled,value:D.startDate,placeholder:g,dateOptions:this.dateOptions,dateDisplayFormat:d,ariaLabel:y.dateInput&&y.dateInput[D.key]&&y.dateInput[D.key].startDate,onChange:this.onDragSelectionEnd,onFocus:()=>this.handleRangeFocusChange(k,0)}),at.default.createElement(Yb.default,{className:(0,jo.default)(N.dateDisplayItem,{[N.dateDisplayItemActive]:s[0]===k&&s[1]===1}),readOnly:!h,disabled:D.disabled,value:D.endDate,placeholder:v,dateOptions:this.dateOptions,dateDisplayFormat:d,ariaLabel:y.dateInput&&y.dateInput[D.key]&&y.dateInput[D.key].endDate,onChange:this.onDragSelectionEnd,onFocus:()=>this.handleRangeFocusChange(k,1)}))))}),Rn(this,"onDragSelectionStart",s=>{const{onChange:i,dragSelectionEnabled:o}=this.props;o?this.setState({drag:{status:!0,range:{startDate:s,endDate:s},disablePreview:!0}}):i&&i(s)}),Rn(this,"onDragSelectionEnd",s=>{const{updateRange:i,displayMode:o,onChange:c,dragSelectionEnabled:d}=this.props;if(!d)return;if(o==="date"||!this.state.drag.status){c&&c(s);return}const h={startDate:this.state.drag.range.startDate,endDate:s};o!=="dateRange"||(0,yt.isSameDay)(h.startDate,s)?this.setState({drag:{status:!1,range:{}}},()=>c&&c(s)):this.setState({drag:{status:!1,range:{}}},()=>{i&&i(h)})}),Rn(this,"onDragSelectionMove",s=>{const{drag:i}=this.state;!i.status||!this.props.dragSelectionEnabled||this.setState({drag:{status:i.status,range:{startDate:i.range.startDate,endDate:s},disablePreview:!0}})}),Rn(this,"estimateMonthSize",(s,i)=>{const{direction:o,minDate:c}=this.props,{scrollArea:d}=this.state;if(i&&(this.listSizeCache=i,i[s]))return i[s];if(o==="horizontal")return d.monthWidth;const h=(0,yt.addMonths)(c,s),{start:g,end:v}=(0,Of.getMonthDisplayRange)(h,this.dateOptions);return(0,yt.differenceInDays)(v,g,this.dateOptions)+1>7*5?d.longMonthHeight:d.monthHeight}),this.dateOptions={locale:e.locale},e.weekStartsOn!==void 0&&(this.dateOptions.weekStartsOn=e.weekStartsOn),this.styles=(0,Of.generateStyles)([xB.default,e.classNames]),this.listSizeCache={},this.isFirstRender=!0,this.state={monthNames:this.getMonthNames(),focusedDate:(0,Of.calcFocusDate)(null,e),drag:{status:!1,range:{startDate:null,endDate:null},disablePreview:!1},scrollArea:this.calcScrollArea(e)}}getMonthNames(){return[...Array(12).keys()].map(e=>this.props.locale.localize.month(e))}calcScrollArea(e){const{direction:r,months:n,scroll:s}=e;if(!s.enabled)return{enabled:!1};const i=s.longMonthHeight||s.monthHeight;return r==="vertical"?{enabled:!0,monthHeight:s.monthHeight||220,longMonthHeight:i||260,calendarWidth:"auto",calendarHeight:(s.calendarHeight||i||240)*n}:{enabled:!0,monthWidth:s.monthWidth||332,calendarWidth:(s.calendarWidth||s.monthWidth||332)*n,monthHeight:i||300,calendarHeight:i||300}}componentDidMount(){this.props.scroll.enabled&&setTimeout(()=>this.focusToDate(this.state.focusedDate))}componentDidUpdate(e){const n={dateRange:"ranges",date:"date"}[this.props.displayMode];this.props[n]!==e[n]&&this.updateShownDate(this.props),(e.locale!==this.props.locale||e.weekStartsOn!==this.props.weekStartsOn)&&(this.dateOptions={locale:this.props.locale},this.props.weekStartsOn!==void 0&&(this.dateOptions.weekStartsOn=this.props.weekStartsOn),this.setState({monthNames:this.getMonthNames()})),(0,yB.shallowEqualObjects)(e.scroll,this.props.scroll)||this.setState({scrollArea:this.calcScrollArea(this.props)})}renderWeekdays(){const e=new Date;return at.default.createElement("div",{className:this.styles.weekDays},(0,yt.eachDayOfInterval)({start:(0,yt.startOfWeek)(e,this.dateOptions),end:(0,yt.endOfWeek)(e,this.dateOptions)}).map((r,n)=>at.default.createElement("span",{className:this.styles.weekDay,key:n},(0,yt.format)(r,this.props.weekdayDisplayFormat,this.dateOptions))))}render(){const{showDateDisplay:e,onPreviewChange:r,scroll:n,direction:s,disabledDates:i,disabledDay:o,maxDate:c,minDate:d,rangeColors:h,color:g,navigatorRenderer:v,className:y,preview:E}=this.props,{scrollArea:N,focusedDate:D}=this.state,k=s==="vertical",S=v||this.renderMonthAndYear,P=this.props.ranges.map((C,R)=>({...C,color:C.color||h[R]||g}));return at.default.createElement("div",{className:(0,jo.default)(this.styles.calendarWrapper,y),onMouseUp:()=>this.setState({drag:{status:!1,range:{}}}),onMouseLeave:()=>{this.setState({drag:{status:!1,range:{}}})}},e&&this.renderDateDisplay(),S(D,this.changeShownDate,this.props),n.enabled?at.default.createElement("div",null,k&&this.renderWeekdays(this.dateOptions),at.default.createElement("div",{className:(0,jo.default)(this.styles.infiniteMonths,k?this.styles.monthsVertical:this.styles.monthsHorizontal),onMouseLeave:()=>r&&r(),style:{width:N.calendarWidth+11,height:N.calendarHeight+11},onScroll:this.handleScroll},at.default.createElement(vB.default,{length:(0,yt.differenceInCalendarMonths)((0,yt.endOfMonth)(c),(0,yt.addDays)((0,yt.startOfMonth)(d),-1),this.dateOptions),treshold:500,type:"variable",ref:C=>this.list=C,itemSizeEstimator:this.estimateMonthSize,axis:k?"y":"x",itemRenderer:(C,R)=>{const Y=(0,yt.addMonths)(d,C);return at.default.createElement(Hb.default,Fh({},this.props,{onPreviewChange:r||this.updatePreview,preview:E||this.state.preview,ranges:P,key:R,drag:this.state.drag,dateOptions:this.dateOptions,disabledDates:i,disabledDay:o,month:Y,onDragSelectionStart:this.onDragSelectionStart,onDragSelectionEnd:this.onDragSelectionEnd,onDragSelectionMove:this.onDragSelectionMove,onMouseLeave:()=>r&&r(),styles:this.styles,style:k?{height:this.estimateMonthSize(C)}:{height:N.monthHeight,width:this.estimateMonthSize(C)},showMonthName:!0,showWeekDays:!k}))}}))):at.default.createElement("div",{className:(0,jo.default)(this.styles.months,k?this.styles.monthsVertical:this.styles.monthsHorizontal)},new Array(this.props.months).fill(null).map((C,R)=>{let Y=(0,yt.addMonths)(this.state.focusedDate,R);return this.props.calendarFocus==="backwards"&&(Y=(0,yt.subMonths)(this.state.focusedDate,this.props.months-1-R)),at.default.createElement(Hb.default,Fh({},this.props,{onPreviewChange:r||this.updatePreview,preview:E||this.state.preview,ranges:P,key:R,drag:this.state.drag,dateOptions:this.dateOptions,disabledDates:i,disabledDay:o,month:Y,onDragSelectionStart:this.onDragSelectionStart,onDragSelectionEnd:this.onDragSelectionEnd,onDragSelectionMove:this.onDragSelectionMove,onMouseLeave:()=>r&&r(),styles:this.styles,showWeekDays:!k||R===0,showMonthName:!k||R>0}))})))}};v_.defaultProps={showMonthArrow:!0,showMonthAndYearPickers:!0,disabledDates:[],disabledDay:()=>{},classNames:{},locale:_B.enUS,ranges:[],focusedRange:[0,0],dateDisplayFormat:"MMM d, yyyy",monthDisplayFormat:"MMM yyyy",weekdayDisplayFormat:"E",dayDisplayFormat:"d",showDateDisplay:!0,showPreview:!0,displayMode:"date",months:1,color:"#3d91ff",scroll:{enabled:!1},direction:"vertical",maxDate:(0,yt.addYears)(new Date,20),minDate:(0,yt.addYears)(new Date,-100),rangeColors:["#3d91ff","#3ecf8e","#fed14c"],startDatePlaceholder:"Early",endDatePlaceholder:"Continuous",editableDateInputs:!1,dragSelectionEnabled:!0,fixedHeight:!1,calendarFocus:"forwards",preventSnapRefocus:!1,ariaLabels:{}};v_.propTypes={showMonthArrow:be.default.bool,showMonthAndYearPickers:be.default.bool,disabledDates:be.default.array,disabledDay:be.default.func,minDate:be.default.object,maxDate:be.default.object,date:be.default.object,onChange:be.default.func,onPreviewChange:be.default.func,onRangeFocusChange:be.default.func,classNames:be.default.object,locale:be.default.object,shownDate:be.default.object,onShownDateChange:be.default.func,ranges:be.default.arrayOf(pB.rangeShape),preview:be.default.shape({startDate:be.default.object,endDate:be.default.object,color:be.default.string}),dateDisplayFormat:be.default.string,monthDisplayFormat:be.default.string,weekdayDisplayFormat:be.default.string,weekStartsOn:be.default.number,dayDisplayFormat:be.default.string,focusedRange:be.default.arrayOf(be.default.number),initialFocusedRange:be.default.arrayOf(be.default.number),months:be.default.number,className:be.default.string,showDateDisplay:be.default.bool,showPreview:be.default.bool,displayMode:be.default.oneOf(["dateRange","date"]),color:be.default.string,updateRange:be.default.func,scroll:be.default.shape({enabled:be.default.bool,monthHeight:be.default.number,longMonthHeight:be.default.number,monthWidth:be.default.number,calendarWidth:be.default.number,calendarHeight:be.default.number}),direction:be.default.oneOf(["vertical","horizontal"]),startDatePlaceholder:be.default.string,endDatePlaceholder:be.default.string,navigatorRenderer:be.default.func,rangeColors:be.default.arrayOf(be.default.string),editableDateInputs:be.default.bool,dragSelectionEnabled:be.default.bool,fixedHeight:be.default.bool,calendarFocus:be.default.string,preventSnapRefocus:be.default.bool,ariaLabels:wB.ariaLabelsShape};Cd.default=v_;Object.defineProperty(Id,"__esModule",{value:!0});Id.default=void 0;var qb=IB(z),Ul=Hm(na),KP=Hm(Cd),TB=Qi,tp=ca,$s=Eo,SB=Hm(ml),PB=Hm(yl);function Hm(t){return t&&t.__esModule?t:{default:t}}function QP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(QP=function(n){return n?r:e})(t)}function IB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=QP(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,r&&r.set(t,n),n}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mv.apply(this,arguments)}function Nf(t,e,r){return e=CB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CB(t){var e=OB(t,"string");return typeof e=="symbol"?e:String(e)}function OB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class y_ extends qb.Component{constructor(e,r){var n;super(e,r),n=this,Nf(this,"calcNewSelection",function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const o=n.props.focusedRange||n.state.focusedRange,{ranges:c,onChange:d,maxDate:h,moveRangeOnFirstSelection:g,retainEndDateOnFirstSelection:v,disabledDates:y}=n.props,E=o[0],N=c[E];if(!N||!d)return{};let{startDate:D,endDate:k}=N;const S=new Date;let P;if(!i)D=s.startDate,k=s.endDate;else if(o[1]===0){const Y=(0,$s.differenceInCalendarDays)(k||S,D),q=()=>g?(0,$s.addDays)(s,Y):v?!k||(0,$s.isBefore)(s,k)?k:s:s||S;D=s,k=q(),h&&(k=(0,$s.min)([k,h])),P=[o[0],1]}else k=s;let C=o[1]===0;(0,$s.isBefore)(k,D)&&(C=!C,[D,k]=[k,D]);const R=y.filter(Y=>(0,$s.isWithinInterval)(Y,{start:D,end:k}));return R.length>0&&(C?D=(0,$s.addDays)((0,$s.max)(R),1):k=(0,$s.addDays)((0,$s.min)(R),-1)),P||(P=[(0,tp.findNextRangeIndex)(n.props.ranges,o[0]),0]),{wasValid:!(R.length>0),range:{startDate:D,endDate:k},nextFocusRange:P}}),Nf(this,"setSelection",(s,i)=>{const{onChange:o,ranges:c,onRangeFocusChange:d}=this.props,g=(this.props.focusedRange||this.state.focusedRange)[0],v=c[g];if(!v)return;const y=this.calcNewSelection(s,i);o({[v.key||`range${g+1}`]:{...v,...y.range}}),this.setState({focusedRange:y.nextFocusRange,preview:null}),d&&d(y.nextFocusRange)}),Nf(this,"handleRangeFocusChange",s=>{this.setState({focusedRange:s}),this.props.onRangeFocusChange&&this.props.onRangeFocusChange(s)}),Nf(this,"updatePreview",s=>{var h;if(!s){this.setState({preview:null});return}const{rangeColors:i,ranges:o}=this.props,c=this.props.focusedRange||this.state.focusedRange,d=((h=o[c[0]])==null?void 0:h.color)||i[c[0]]||d;this.setState({preview:{...s.range,color:d}})}),this.state={focusedRange:e.initialFocusedRange||[(0,tp.findNextRangeIndex)(e.ranges),0],preview:null},this.styles=(0,tp.generateStyles)([PB.default,e.classNames])}render(){return qb.default.createElement(KP.default,mv({focusedRange:this.state.focusedRange,onRangeFocusChange:this.handleRangeFocusChange,preview:this.state.preview,onPreviewChange:e=>{this.updatePreview(e?this.calcNewSelection(e):null)}},this.props,{displayMode:"dateRange",className:(0,SB.default)(this.styles.dateRangeWrapper,this.props.className),onChange:this.setSelection,updateRange:e=>this.setSelection(e,!1),ref:e=>{this.calendar=e}}))}}y_.defaultProps={classNames:{},ranges:[],moveRangeOnFirstSelection:!1,retainEndDateOnFirstSelection:!1,rangeColors:["#3d91ff","#3ecf8e","#fed14c"],disabledDates:[]};y_.propTypes={...KP.default.propTypes,onChange:Ul.default.func,onRangeFocusChange:Ul.default.func,className:Ul.default.string,ranges:Ul.default.arrayOf(TB.rangeShape),moveRangeOnFirstSelection:Ul.default.bool,retainEndDateOnFirstSelection:Ul.default.bool};Id.default=y_;var Ym={},Bd={},go={};Object.defineProperty(go,"__esModule",{value:!0});go.createStaticRanges=XP;go.defaultStaticRanges=go.defaultInputRanges=void 0;var ht=Eo;const tr={startOfWeek:(0,ht.startOfWeek)(new Date),endOfWeek:(0,ht.endOfWeek)(new Date),startOfLastWeek:(0,ht.startOfWeek)((0,ht.addDays)(new Date,-7)),endOfLastWeek:(0,ht.endOfWeek)((0,ht.addDays)(new Date,-7)),startOfToday:(0,ht.startOfDay)(new Date),endOfToday:(0,ht.endOfDay)(new Date),startOfYesterday:(0,ht.startOfDay)((0,ht.addDays)(new Date,-1)),endOfYesterday:(0,ht.endOfDay)((0,ht.addDays)(new Date,-1)),startOfMonth:(0,ht.startOfMonth)(new Date),endOfMonth:(0,ht.endOfMonth)(new Date),startOfLastMonth:(0,ht.startOfMonth)((0,ht.addMonths)(new Date,-1)),endOfLastMonth:(0,ht.endOfMonth)((0,ht.addMonths)(new Date,-1))},NB={range:{},isSelected(t){const e=this.range();return(0,ht.isSameDay)(t.startDate,e.startDate)&&(0,ht.isSameDay)(t.endDate,e.endDate)}};function XP(t){return t.map(e=>({...NB,...e}))}go.defaultStaticRanges=XP([{label:"Today",range:()=>({startDate:tr.startOfToday,endDate:tr.endOfToday})},{label:"Yesterday",range:()=>({startDate:tr.startOfYesterday,endDate:tr.endOfYesterday})},{label:"This Week",range:()=>({startDate:tr.startOfWeek,endDate:tr.endOfWeek})},{label:"Last Week",range:()=>({startDate:tr.startOfLastWeek,endDate:tr.endOfLastWeek})},{label:"This Month",range:()=>({startDate:tr.startOfMonth,endDate:tr.endOfMonth})},{label:"Last Month",range:()=>({startDate:tr.startOfLastMonth,endDate:tr.endOfLastMonth})}]);go.defaultInputRanges=[{label:"days up to today",range(t){return{startDate:(0,ht.addDays)(tr.startOfToday,(Math.max(Number(t),1)-1)*-1),endDate:tr.endOfToday}},getCurrentValue(t){return(0,ht.isSameDay)(t.endDate,tr.endOfToday)?t.startDate?(0,ht.differenceInCalendarDays)(tr.endOfToday,t.startDate)+1:"":"-"}},{label:"days starting today",range(t){const e=new Date;return{startDate:e,endDate:(0,ht.addDays)(e,Math.max(Number(t),1)-1)}},getCurrentValue(t){return(0,ht.isSameDay)(t.startDate,tr.startOfToday)?t.endDate?(0,ht.differenceInCalendarDays)(t.endDate,tr.startOfToday)+1:"":"-"}}];var qm={};Object.defineProperty(qm,"__esModule",{value:!0});qm.default=void 0;var jf=MB(z),Xr=jB(na);function jB(t){return t&&t.__esModule?t:{default:t}}function JP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(JP=function(n){return n?r:e})(t)}function MB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=JP(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,r&&r.set(t,n),n}function RB(t,e,r){return e=AB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AB(t){var e=FB(t,"string");return typeof e=="symbol"?e:String(e)}function FB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Gb=0,Kb=99999;class __ extends jf.Component{constructor(e,r){super(e,r),RB(this,"onChange",n=>{const{onChange:s}=this.props;let i=parseInt(n.target.value,10);i=isNaN(i)?0:Math.max(Math.min(Kb,i),Gb),s(i)})}shouldComponentUpdate(e){const{value:r,label:n,placeholder:s}=this.props;return r!==e.value||n!==e.label||s!==e.placeholder}render(){const{label:e,placeholder:r,value:n,styles:s,onBlur:i,onFocus:o}=this.props;return jf.default.createElement("div",{className:s.inputRange},jf.default.createElement("input",{className:s.inputRangeInput,placeholder:r,value:n,min:Gb,max:Kb,onChange:this.onChange,onFocus:o,onBlur:i}),jf.default.createElement("span",{className:s.inputRangeLabel},e))}}__.propTypes={value:Xr.default.oneOfType([Xr.default.string,Xr.default.number]),label:Xr.default.oneOfType([Xr.default.element,Xr.default.node]).isRequired,placeholder:Xr.default.string,styles:Xr.default.shape({inputRange:Xr.default.string,inputRangeInput:Xr.default.string,inputRangeLabel:Xr.default.string}).isRequired,onBlur:Xr.default.func.isRequired,onFocus:Xr.default.func.isRequired,onChange:Xr.default.func.isRequired};__.defaultProps={value:"",placeholder:"-"};qm.default=__;Object.defineProperty(Bd,"__esModule",{value:!0});Bd.default=void 0;var Mo=VB(z),hn=Gm(na),Ro=Gm(yl),Qb=go,kB=Qi,LB=Gm(qm),Xb=Gm(ml);function Gm(t){return t&&t.__esModule?t:{default:t}}function ZP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(ZP=function(n){return n?r:e})(t)}function VB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=ZP(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,r&&r.set(t,n),n}function zB(t,e,r){return e=UB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UB(t){var e=BB(t,"string");return typeof e=="symbol"?e:String(e)}function BB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class x_ extends Mo.Component{constructor(e){super(e),zB(this,"handleRangeChange",r=>{const{onChange:n,ranges:s,focusedRange:i}=this.props,o=s[i[0]];!n||!o||n({[o.key||`range${i[0]+1}`]:{...o,...r}})}),this.state={rangeOffset:0,focusedInput:-1}}getRangeOptionValue(e){const{ranges:r=[],focusedRange:n=[]}=this.props;if(typeof e.getCurrentValue!="function")return"";const s=r[n[0]]||{};return e.getCurrentValue(s)||""}getSelectedRange(e,r){const n=e.findIndex(i=>!i.startDate||!i.endDate||i.disabled?!1:r.isSelected(i));return{selectedRange:e[n],focusedRangeIndex:n}}render(){const{headerContent:e,footerContent:r,onPreviewChange:n,inputRanges:s,staticRanges:i,ranges:o,renderStaticRangeLabel:c,rangeColors:d,className:h}=this.props;return Mo.default.createElement("div",{className:(0,Xb.default)(Ro.default.definedRangesWrapper,h)},e,Mo.default.createElement("div",{className:Ro.default.staticRanges},i.map((g,v)=>{const{selectedRange:y,focusedRangeIndex:E}=this.getSelectedRange(o,g);let N;return g.hasCustomRendering?N=c(g):N=g.label,Mo.default.createElement("button",{type:"button",className:(0,Xb.default)(Ro.default.staticRange,{[Ro.default.staticRangeSelected]:!!y}),style:{color:y?y.color||d[E]:null},key:v,onClick:()=>this.handleRangeChange(g.range(this.props)),onFocus:()=>n&&n(g.range(this.props)),onMouseOver:()=>n&&n(g.range(this.props)),onMouseLeave:()=>{n&&n()}},Mo.default.createElement("span",{tabIndex:-1,className:Ro.default.staticRangeLabel},N))})),Mo.default.createElement("div",{className:Ro.default.inputRanges},s.map((g,v)=>Mo.default.createElement(LB.default,{key:v,styles:Ro.default,label:g.label,onFocus:()=>this.setState({focusedInput:v,rangeOffset:0}),onBlur:()=>this.setState({rangeOffset:0}),onChange:y=>this.handleRangeChange(g.range(y,this.props)),value:this.getRangeOptionValue(g)}))),r)}}x_.propTypes={inputRanges:hn.default.array,staticRanges:hn.default.array,ranges:hn.default.arrayOf(kB.rangeShape),focusedRange:hn.default.arrayOf(hn.default.number),onPreviewChange:hn.default.func,onChange:hn.default.func,footerContent:hn.default.any,headerContent:hn.default.any,rangeColors:hn.default.arrayOf(hn.default.string),className:hn.default.string,renderStaticRangeLabel:hn.default.func};x_.defaultProps={inputRanges:Qb.defaultInputRanges,staticRanges:Qb.defaultStaticRanges,ranges:[],rangeColors:["#3d91ff","#3ecf8e","#fed14c"],focusedRange:[0,0]};Bd.default=x_;Object.defineProperty(Ym,"__esModule",{value:!0});Ym.default=void 0;var Mf=YB(z),WB=Wd(na),eI=Wd(Id),tI=Wd(Bd),Jb=ca,$B=Wd(ml),HB=Wd(yl);function Wd(t){return t&&t.__esModule?t:{default:t}}function rI(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(rI=function(n){return n?r:e})(t)}function YB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=rI(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,r&&r.set(t,n),n}function kh(){return kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kh.apply(this,arguments)}class w_ extends Mf.Component{constructor(e){super(e),this.state={focusedRange:[(0,Jb.findNextRangeIndex)(e.ranges),0]},this.styles=(0,Jb.generateStyles)([HB.default,e.classNames])}render(){const{focusedRange:e}=this.state;return Mf.default.createElement("div",{className:(0,$B.default)(this.styles.dateRangePickerWrapper,this.props.className)},Mf.default.createElement(tI.default,kh({focusedRange:e,onPreviewChange:r=>this.dateRange.updatePreview(r?this.dateRange.calcNewSelection(r,typeof r=="string"):null)},this.props,{range:this.props.ranges[e[0]],className:void 0})),Mf.default.createElement(eI.default,kh({onRangeFocusChange:r=>this.setState({focusedRange:r}),focusedRange:e},this.props,{ref:r=>this.dateRange=r,className:void 0})))}}w_.defaultProps={};w_.propTypes={...eI.default.propTypes,...tI.default.propTypes,className:WB.default.string};Ym.default=w_;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Calendar",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"DateRange",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"DateRangePicker",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"DefinedRange",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"createStaticRanges",{enumerable:!0,get:function(){return i.createStaticRanges}}),Object.defineProperty(t,"defaultInputRanges",{enumerable:!0,get:function(){return i.defaultInputRanges}}),Object.defineProperty(t,"defaultStaticRanges",{enumerable:!0,get:function(){return i.defaultStaticRanges}});var e=o(Id),r=o(Cd),n=o(Ym),s=o(Bd),i=go;function o(c){return c&&c.__esModule?c:{default:c}}})(M0);var qB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KB=(t,e)=>{const r=z.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:c,...d},h)=>z.createElement("svg",{ref:h,...qB,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${GB(t)}`,...d},[...e.map(([g,v])=>z.createElement(g,v)),...(Array.isArray(c)?c:[c])||[]]));return r.displayName=`${t}`,r};var qe=KB;const nI=qe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),sI=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),rp=qe("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]),Vo=qe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),QB=qe("Bus",[["path",{d:"M19 17h2l.64-2.54c.24-.959.24-1.962 0-2.92l-1.07-4.27A3 3 0 0 0 17.66 5H4a2 2 0 0 0-2 2v10h2",key:"wfsdqh"}],["path",{d:"M14 17H9",key:"o2noo5"}],["circle",{cx:"6.5",cy:"17.5",r:"2.5",key:"gc8oob"}],["circle",{cx:"16.5",cy:"17.5",r:"2.5",key:"4btu0q"}]]),Wc=qe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),zo=qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),XB=qe("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),$c=qe("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),iI=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),JB=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Km=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Uo=qe("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),qs=qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Rf=qe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Zb=qe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),e1=qe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),t1=qe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ZB=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Xi=qe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Af=qe("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),aI=qe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),np=qe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Ri=qe("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),Cc=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),eW=qe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),r1=qe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Ai=qe("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]),tW=qe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),su=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ff=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),rW=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),nW=qe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),gn=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var oI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n1=zn.createContext&&zn.createContext(oI),sW=["attr","size","title"];function iW(t,e){if(t==null)return{};var r=aW(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lh.apply(this,arguments)}function s1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Vh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(r),!0).forEach(function(n){oW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oW(t,e,r){return e=lW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lW(t){var e=uW(t,"string");return typeof e=="symbol"?e:e+""}function uW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lI(t){return t&&t.map((e,r)=>zn.createElement(e.tag,Vh({key:r},e.attr),lI(e.child)))}function nn(t){return e=>zn.createElement(cW,Lh({attr:Vh({},t.attr)},e),lI(t.child))}function cW(t){var e=r=>{var{attr:n,size:s,title:i}=t,o=iW(t,sW),c=s||r.size||"1em",d;return r.className&&(d=r.className),t.className&&(d=(d?d+" ":"")+t.className),zn.createElement("svg",Lh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:d,style:Vh(Vh({color:t.color||r.color},r.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&zn.createElement("title",null,i),t.children)};return n1!==void 0?zn.createElement(n1.Consumer,null,r=>e(r)):e(oI)}function zh(t){return nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"},child:[]}]})(t)}function dW(t){return nn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(t)}function fW(t){return nn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function Hc(t){return nn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 96v256c0 51.815-61.624 96-130.022 96l62.98 49.721C386.905 502.417 383.562 512 376 512H72c-7.578 0-10.892-9.594-4.957-14.279L130.022 448C61.82 448 0 403.954 0 352V96C0 42.981 64 0 128 0h192c65 0 128 42.981 128 96zM200 232V120c0-13.255-10.745-24-24-24H72c-13.255 0-24 10.745-24 24v112c0 13.255 10.745 24 24 24h104c13.255 0 24-10.745 24-24zm200 0V120c0-13.255-10.745-24-24-24H272c-13.255 0-24 10.745-24 24v112c0 13.255 10.745 24 24 24h104c13.255 0 24-10.745 24-24zm-48 56c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm-256 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(t)}function Bo(t){return nn({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}function Zo(t){return nn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M208 96c26.5 0 48-21.5 48-48S234.5 0 208 0s-48 21.5-48 48 21.5 48 48 48zm94.5 149.1l-23.3-11.8-9.7-29.4c-14.7-44.6-55.7-75.8-102.2-75.9-36-.1-55.9 10.1-93.3 25.2-21.6 8.7-39.3 25.2-49.7 46.2L17.6 213c-7.8 15.8-1.5 35 14.2 42.9 15.6 7.9 34.6 1.5 42.5-14.3L81 228c3.5-7 9.3-12.5 16.5-15.4l26.8-10.8-15.2 60.7c-5.2 20.8.4 42.9 14.9 58.8l59.9 65.4c7.2 7.9 12.3 17.4 14.9 27.7l18.3 73.3c4.3 17.1 21.7 27.6 38.8 23.3 17.1-4.3 27.6-21.7 23.3-38.8l-22.2-89c-2.6-10.3-7.7-19.9-14.9-27.7l-45.5-49.7 17.2-68.7 5.5 16.5c5.3 16.1 16.7 29.4 31.7 37l23.3 11.8c15.6 7.9 34.6 1.5 42.5-14.3 7.7-15.7 1.4-35.1-14.3-43zM73.6 385.8c-3.2 8.1-8 15.4-14.2 21.5l-50 50.1c-12.5 12.5-12.5 32.8 0 45.3s32.7 12.5 45.2 0l59.4-59.4c6.1-6.1 10.9-13.4 14.2-21.5l13.5-33.8c-55.3-60.3-38.7-41.8-47.4-53.7l-20.7 51.5z"},child:[]}]})(t)}function hW(t){return nn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 192c0 87.4-117 243-168.3 307.2c-12.3 15.3-35.1 15.3-47.4 0C117 435 0 279.4 0 192C0 86 86 0 192 0S384 86 384 192z"},child:[]}]})(t)}function mW(t){return nn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"},child:[]}]})(t)}function i1(t){return nn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function a1(t){return nn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}function o1(t){return nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm90.5 224H272v74.5c0 8.8-7.2 16-16 16-4.4 0-8.4-1.8-11.3-4.7-2.9-2.9-4.7-6.9-4.7-11.3V272h-74.5c-4.4 0-8.4-1.8-11.3-4.7-2.9-2.9-4.7-6.9-4.7-11.3 0-8.8 7.2-16 16-16H240v-74.5c0-8.8 7.2-16 16-16s16 7.2 16 16V240h74.5c8.8 0 16 7.2 16 16s-7.2 16-16 16z"},child:[]}]})(t)}function gW(t){return nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(t)}function pW(t){return nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(t)}function vW(t){return nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"g",attr:{fillOpacity:".9"},child:[{tag:"path",attr:{d:"M255.8 48C141 48 48 141.2 48 256s93 208 207.8 208c115 0 208.2-93.2 208.2-208S370.8 48 255.8 48zm.2 374.4c-91.9 0-166.4-74.5-166.4-166.4S164.1 89.6 256 89.6 422.4 164.1 422.4 256 347.9 422.4 256 422.4z"},child:[]},{tag:"path",attr:{d:"M266.4 152h-31.2v124.8l109.2 65.5 15.6-25.6-93.6-55.5V152z"},child:[]}]}]})(t)}var l1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},yW=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],o=t[r++],c=t[r++],d=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},cI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,g=i>>2,v=(i&3)<<4|c>>4;let y=(c&15)<<2|h>>6,E=h&63;d||(E=64,o||(y=64)),n.push(r[g],r[v],r[y],r[E])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],c=s<t.length?r[t.charAt(s)]:0;++s;const h=s<t.length?r[t.charAt(s)]:64;++s;const v=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||c==null||h==null||v==null)throw new _W;const y=i<<2|c>>4;if(n.push(y),h!==64){const E=c<<4&240|h>>2;if(n.push(E),v!==64){const N=h<<6&192|v;n.push(N)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _W extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xW=function(t){const e=uI(t);return cI.encodeByteArray(e,!0)},Uh=function(t){return xW(t).replace(/\./g,"")},dI=function(t){try{return cI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW=()=>wW().__FIREBASE_DEFAULTS__,EW=()=>{if(typeof process>"u"||typeof l1>"u")return;const t=l1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dI(t[1]);return e&&JSON.parse(e)},Qm=()=>{try{return bW()||EW()||DW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fI=t=>{var e,r;return(r=(e=Qm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},TW=t=>{const e=fI(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},hI=()=>{var t;return(t=Qm())===null||t===void 0?void 0:t.config},mI=t=>{var e;return(e=Qm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uh(JSON.stringify(r)),Uh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())}function CW(){var t;const e=(t=Qm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NW(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MW(){const t=Or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RW(){return!CW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AW(){try{return typeof indexedDB=="object"}catch{return!1}}function FW(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW="FirebaseError";class da extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=kW,Object.setPrototypeOf(this,da.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$d.prototype.create)}}class $d{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?LW(i,n):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new da(s,c,n)}}function LW(t,e){return t.replace(VW,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const VW=/\{\$([^}]+)}/g;function zW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bh(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],o=e[s];if(u1(i)&&u1(o)){if(!Bh(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function u1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function UW(t,e){const r=new BW(t,e);return r.subscribe.bind(r)}class BW{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");WW(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=sp),s.error===void 0&&(s.error=sp),s.complete===void 0&&(s.complete=sp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WW(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function sp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){return t&&t._delegate?t._delegate:t}class ol{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new SW;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YW(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);n===c&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:HW(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HW(t){return t===Wo?void 0:t}function YW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new $W(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const GW={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},KW=We.INFO,QW={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},XW=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=QW[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class b_{constructor(e){this.name=e,this._logLevel=KW,this._logHandler=XW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const JW=(t,e)=>e.some(r=>t instanceof r);let c1,d1;function ZW(){return c1||(c1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e$(){return d1||(d1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gI=new WeakMap,gv=new WeakMap,pI=new WeakMap,ip=new WeakMap,E_=new WeakMap;function t$(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(lo(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&gI.set(r,t)}).catch(()=>{}),E_.set(e,t),e}function r$(t){if(gv.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});gv.set(t,e)}let pv={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return gv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pI.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return lo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function n$(t){pv=t(pv)}function s$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(ap(this),e,...r);return pI.set(n,e.sort?e.sort():[e]),lo(n)}:e$().includes(t)?function(...e){return t.apply(ap(this),e),lo(gI.get(this))}:function(...e){return lo(t.apply(ap(this),e))}}function i$(t){return typeof t=="function"?s$(t):(t instanceof IDBTransaction&&r$(t),JW(t,ZW())?new Proxy(t,pv):t)}function lo(t){if(t instanceof IDBRequest)return t$(t);if(ip.has(t))return ip.get(t);const e=i$(t);return e!==t&&(ip.set(t,e),E_.set(e,t)),e}const ap=t=>E_.get(t);function a$(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=lo(o);return n&&o.addEventListener("upgradeneeded",d=>{n(lo(o.result),d.oldVersion,d.newVersion,lo(o.transaction),d)}),r&&o.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{i&&d.addEventListener("close",()=>i()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const o$=["get","getKey","getAll","getAllKeys","count"],l$=["put","add","delete","clear"],op=new Map;function f1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(op.get(e))return op.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=l$.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||o$.includes(r)))return;const i=async function(o,...c){const d=this.transaction(o,s?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[r](...c),s&&d.done]))[0]};return op.set(e,i),i}n$(t=>({...t,get:(e,r,n)=>f1(e,r)||t.get(e,r,n),has:(e,r)=>!!f1(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(c$(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function c$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vv="@firebase/app",h1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new b_("@firebase/app"),d$="@firebase/app-compat",f$="@firebase/analytics-compat",h$="@firebase/analytics",m$="@firebase/app-check-compat",g$="@firebase/app-check",p$="@firebase/auth",v$="@firebase/auth-compat",y$="@firebase/database",_$="@firebase/data-connect",x$="@firebase/database-compat",w$="@firebase/functions",b$="@firebase/functions-compat",E$="@firebase/installations",D$="@firebase/installations-compat",T$="@firebase/messaging",S$="@firebase/messaging-compat",P$="@firebase/performance",I$="@firebase/performance-compat",C$="@firebase/remote-config",O$="@firebase/remote-config-compat",N$="@firebase/storage",j$="@firebase/storage-compat",M$="@firebase/firestore",R$="@firebase/vertexai-preview",A$="@firebase/firestore-compat",F$="firebase",k$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="[DEFAULT]",L$={[vv]:"fire-core",[d$]:"fire-core-compat",[h$]:"fire-analytics",[f$]:"fire-analytics-compat",[g$]:"fire-app-check",[m$]:"fire-app-check-compat",[p$]:"fire-auth",[v$]:"fire-auth-compat",[y$]:"fire-rtdb",[_$]:"fire-data-connect",[x$]:"fire-rtdb-compat",[w$]:"fire-fn",[b$]:"fire-fn-compat",[E$]:"fire-iid",[D$]:"fire-iid-compat",[T$]:"fire-fcm",[S$]:"fire-fcm-compat",[P$]:"fire-perf",[I$]:"fire-perf-compat",[C$]:"fire-rc",[O$]:"fire-rc-compat",[N$]:"fire-gcs",[j$]:"fire-gcs-compat",[M$]:"fire-fst",[A$]:"fire-fst-compat",[R$]:"fire-vertex","fire-js":"fire-js",[F$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new Map,V$=new Map,_v=new Map;function m1(t,e){try{t.container.addComponent(e)}catch(r){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function bu(t){const e=t.name;if(_v.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;_v.set(e,t);for(const r of Wh.values())m1(r,t);for(const r of V$.values())m1(r,t);return!0}function D_(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function zi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new $d("app","Firebase",z$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=k$;function vI(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:yv,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw uo.create("bad-app-name",{appName:String(s)});if(r||(r=hI()),!r)throw uo.create("no-options");const i=Wh.get(s);if(i){if(Bh(r,i.options)&&Bh(n,i.config))return i;throw uo.create("duplicate-app",{appName:s})}const o=new qW(s);for(const d of _v.values())o.addComponent(d);const c=new U$(r,n,o);return Wh.set(s,c),c}function yI(t=yv){const e=Wh.get(t);if(!e&&t===yv&&hI())return vI();if(!e)throw uo.create("no-app",{appName:t});return e}function co(t,e,r){var n;let s=(n=L$[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const c=[`Unable to register library "${s}" with version "${e}":`];i&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(c.join(" "));return}bu(new ol(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$="firebase-heartbeat-database",W$=1,md="firebase-heartbeat-store";let lp=null;function _I(){return lp||(lp=a$(B$,W$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(md)}catch(r){console.warn(r)}}}}).catch(t=>{throw uo.create("idb-open",{originalErrorMessage:t.message})})),lp}async function $$(t){try{const r=(await _I()).transaction(md),n=await r.objectStore(md).get(xI(t));return await r.done,n}catch(e){if(e instanceof da)Ji.warn(e.message);else{const r=uo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(r.message)}}}async function g1(t,e){try{const n=(await _I()).transaction(md,"readwrite");await n.objectStore(md).put(e,xI(t)),await n.done}catch(r){if(r instanceof da)Ji.warn(r.message);else{const n=uo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ji.warn(n.message)}}}function xI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=1024,Y$=30*24*60*60*1e3;class q${constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new K$(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=p1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=Y$}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ji.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=p1(),{heartbeatsToSend:n,unsentEntries:s}=G$(this._heartbeatsCache.heartbeats),i=Uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Ji.warn(r),""}}}function p1(){return new Date().toISOString().substring(0,10)}function G$(t,e=H$){const r=[];let n=t.slice();for(const s of t){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),v1(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),v1(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class K${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AW()?FW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await $$(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return g1(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return g1(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function v1(t){return Uh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t){bu(new ol("platform-logger",e=>new u$(e),"PRIVATE")),bu(new ol("heartbeat",e=>new q$(e),"PRIVATE")),co(vv,h1,t),co(vv,h1,"esm2017"),co("fire-js","")}Q$("");function T_(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function wI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X$=wI,bI=new $d("auth","Firebase",wI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new b_("@firebase/auth");function J$(t,...e){$h.logLevel<=We.WARN&&$h.warn(`Auth (${zu}): ${t}`,...e)}function rh(t,...e){$h.logLevel<=We.ERROR&&$h.error(`Auth (${zu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,...e){throw P_(t,...e)}function vs(t,...e){return P_(t,...e)}function S_(t,e,r){const n=Object.assign(Object.assign({},X$()),{[e]:r});return new $d("auth","Firebase",n).create(e,{appName:t.name})}function el(t){return S_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z$(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&ei(t,"argument-error"),S_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function P_(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return bI.create(t,...e)}function Se(t,e,...r){if(!t)throw P_(e,...r)}function Ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rh(e),new Error(e)}function Zi(t,e){t||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eH(){return y1()==="http:"||y1()==="https:"}function y1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eH()||NW()||"connection"in navigator)?navigator.onLine:!0}function rH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,r){this.shortDelay=e,this.longDelay=r,Zi(r>e,"Short delay should be less than long delay!"),this.isMobile=IW()||jW()}get(){return tH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){Zi(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH=new Yd(3e4,6e4);function C_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Uu(t,e,r,n,s={}){return DI(t,s,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const c=Hd(Object.assign({key:t.config.apiKey},o)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},i);return OW()||(h.referrerPolicy="no-referrer"),EI.fetch()(TI(t,t.config.apiHost,r,c),h)})}async function DI(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},nH),e);try{const s=new aH(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw kf(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw kf(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw kf(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw kf(t,"user-disabled",o);const g=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw S_(t,g,h);ei(t,g)}}catch(s){if(s instanceof da)throw s;ei(t,"network-request-failed",{message:String(s)})}}async function iH(t,e,r,n,s={}){const i=await Uu(t,e,r,n,s);return"mfaPendingCredential"in i&&ei(t,"multi-factor-auth-required",{_serverResponse:i}),i}function TI(t,e,r,n){const s=`${e}${r}?${n}`;return t.config.emulator?I_(t.config,s):`${t.config.apiScheme}://${s}`}class aH{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(vs(this.auth,"network-request-failed")),sH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kf(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=vs(t,e,n);return s.customData._tokenResponse=r,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oH(t,e){return Uu(t,"POST","/v1/accounts:delete",e)}async function SI(t,e){return Uu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lH(t,e=!1){const r=xn(t),n=await r.getIdToken(e),s=O_(n);Se(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:Yc(up(s.auth_time)),issuedAtTime:Yc(up(s.iat)),expirationTime:Yc(up(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function up(t){return Number(t)*1e3}function O_(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const s=dI(r);return s?JSON.parse(s):(rh("Failed to decode base64 JWT payload"),null)}catch(s){return rh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _1(t){const e=O_(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof da&&uH(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function uH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yc(this.lastLoginAt),this.creationTime=Yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(t){var e;const r=t.auth,n=await t.getIdToken(),s=await gd(t,SI(r,{idToken:n}));Se(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?PI(i.providerUserInfo):[],c=fH(t.providerData,o),d=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),g=d?h:!1,v={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new wv(i.createdAt,i.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function dH(t){const e=xn(t);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fH(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function PI(t){return t.map(e=>{var{providerId:r}=e,n=T_(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hH(t,e){const r=await DI(t,{},async()=>{const n=Hd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=TI(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",EI.fetch()(o,{method:"POST",headers:c,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function mH(t,e){return Uu(t,"POST","/v2/accounts:revokeToken",C_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const r=_1(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await hH(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,o=new du;return n&&(Se(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(Se(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Se(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new du,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bi{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=T_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await gd(this,this.stsTokenManager.getToken(this.auth,e));return Se(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return lH(this,e)}reload(){return dH(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Hh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zi(this.auth.app))return Promise.reject(el(this.auth));const e=await this.getIdToken();return await gd(this,oH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,o,c,d,h,g;const v=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(s=r.email)!==null&&s!==void 0?s:void 0,E=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,N=(o=r.photoURL)!==null&&o!==void 0?o:void 0,D=(c=r.tenantId)!==null&&c!==void 0?c:void 0,k=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,S=(h=r.createdAt)!==null&&h!==void 0?h:void 0,P=(g=r.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:C,emailVerified:R,isAnonymous:Y,providerData:q,stsTokenManager:T}=r;Se(C&&T,e,"internal-error");const b=du.fromJSON(this.name,T);Se(typeof C=="string",e,"internal-error"),Ba(v,e.name),Ba(y,e.name),Se(typeof R=="boolean",e,"internal-error"),Se(typeof Y=="boolean",e,"internal-error"),Ba(E,e.name),Ba(N,e.name),Ba(D,e.name),Ba(k,e.name),Ba(S,e.name),Ba(P,e.name);const I=new Bi({uid:C,auth:e,email:y,emailVerified:R,displayName:v,isAnonymous:Y,photoURL:N,phoneNumber:E,tenantId:D,stsTokenManager:b,createdAt:S,lastLoginAt:P});return q&&Array.isArray(q)&&(I.providerData=q.map(j=>Object.assign({},j))),k&&(I._redirectEventId=k),I}static async _fromIdTokenResponse(e,r,n=!1){const s=new du;s.updateFromServerResponse(r);const i=new Bi({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Hh(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Se(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?PI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new du;c.updateFromIdToken(n);const d=new Bi({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new wv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=new Map;function Wi(t){Zi(t instanceof Function,"Expected a class definition");let e=x1.get(t);return e?(Zi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}II.type="NONE";const w1=II;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t,e,r){return`firebase:${t}:${e}:${r}`}class fu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=nh(this.userKey,s.apiKey,i),this.fullPersistenceKey=nh("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new fu(Wi(w1),e,n);const s=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Wi(w1);const o=nh(n,e.config.apiKey,e.name);let c=null;for(const h of r)try{const g=await h._get(o);if(g){const v=Bi._fromJSON(e,g);h!==i&&(c=v),i=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new fu(i,e,n):(i=d[0],c&&await i._set(o,c.toJSON()),await Promise.all(r.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new fu(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RI(e))return"Blackberry";if(AI(e))return"Webos";if(OI(e))return"Safari";if((e.includes("chrome/")||NI(e))&&!e.includes("edge/"))return"Chrome";if(MI(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function CI(t=Or()){return/firefox\//i.test(t)}function OI(t=Or()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NI(t=Or()){return/crios\//i.test(t)}function jI(t=Or()){return/iemobile/i.test(t)}function MI(t=Or()){return/android/i.test(t)}function RI(t=Or()){return/blackberry/i.test(t)}function AI(t=Or()){return/webos/i.test(t)}function N_(t=Or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gH(t=Or()){var e;return N_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pH(){return MW()&&document.documentMode===10}function FI(t=Or()){return N_(t)||MI(t)||AI(t)||RI(t)||/windows phone/i.test(t)||jI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t,e=[]){let r;switch(t){case"Browser":r=b1(Or());break;case"Worker":r=`${b1(Or())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${zu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,c)=>{try{const d=e(i);o(d)}catch(d){c(d)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yH(t,e={}){return Uu(t,"GET","/v2/passwordPolicy",C_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=6;class xH{constructor(e){var r,n,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:_H,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,o,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(i=d.containsUppercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E1(this),this.idTokenSubscription=new E1(this),this.beforeStateQueue=new vH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Wi(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await fu.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await SI(this,{idToken:e}),n=await Bi._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(zi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&(d!=null&&d.user)&&(s=d.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zi(this.app))return Promise.reject(el(this));const r=e?xn(e):null;return r&&Se(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zi(this.app)?Promise.reject(el(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zi(this.app)?Promise.reject(el(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yH(this),r=new xH(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $d("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await mH(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Wi(e)||this._popupRedirectResolver;Se(r,this,"argument-error"),this.redirectPersistenceManager=await fu.create(this,[Wi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,s);return()=>{o=!0,d()}}else{const d=e.addObserver(r);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&J$(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Xm(t){return xn(t)}class E1{constructor(e){this.auth=e,this.observer=null,this.addObserver=UW(r=>this.observer=r)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bH(t){j_=t}function EH(t){return j_.loadJS(t)}function DH(){return j_.gapiScript}function TH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SH(t,e){const r=D_(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Bh(i,e??{}))return s;ei(s,"already-initialized")}return r.initialize({options:e})}function PH(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function IH(t,e,r){const n=Xm(t);Se(n._canInitEmulator,n,"emulator-config-failed"),Se(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=LI(e),{host:o,port:c}=CH(e),d=c===null?"":`:${c}`;n.config.emulator={url:`${i}//${o}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),OH()}function LI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CH(t){const e=LI(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:D1(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:D1(o)}}}function D1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OH(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,r){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t,e){return iH(t,"POST","/v1/accounts:signInWithIdp",C_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH="http://localhost";class ll extends VI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ll(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ei("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=T_(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new ll(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return hu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,hu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,hu(e,r)}buildRequest(){const e={requestUri:NH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Hd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends M_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends qd{constructor(){super("facebook.com")}static credential(e){return ll._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qa.credential(e.oauthAccessToken)}catch{return null}}}qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";qa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends qd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ll._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Fi.credential(r,n)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends qd{constructor(){super("github.com")}static credential(e){return ll._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ga.credential(e.oauthAccessToken)}catch{return null}}}Ga.GITHUB_SIGN_IN_METHOD="github.com";Ga.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends qd{constructor(){super("twitter.com")}static credential(e,r){return ll._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ka.credential(r,n)}catch{return null}}}Ka.TWITTER_SIGN_IN_METHOD="twitter.com";Ka.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await Bi._fromIdTokenResponse(e,n,s),o=T1(n);return new Eu({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=T1(n);return new Eu({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function T1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends da{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new Yh(e,r,n,s)}}function zI(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(t,i,e,n):i})}async function jH(t,e,r=!1){const n=await gd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Eu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MH(t,e,r=!1){const{auth:n}=t;if(zi(n.app))return Promise.reject(el(n));const s="reauthenticate";try{const i=await gd(t,zI(n,s,e,t),r);Se(i.idToken,n,"internal-error");const o=O_(i.idToken);Se(o,n,"internal-error");const{sub:c}=o;return Se(t.uid===c,n,"user-mismatch"),Eu._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ei(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RH(t,e,r=!1){if(zi(t.app))return Promise.reject(el(t));const n="signIn",s=await zI(t,n,e),i=await Eu._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}function AH(t,e,r,n){return xn(t).onIdTokenChanged(e,r,n)}function FH(t,e,r){return xn(t).beforeAuthStateChanged(e,r)}function kH(t,e,r,n){return xn(t).onAuthStateChanged(e,r,n)}function LH(t){return xn(t).signOut()}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=1e3,zH=10;class BI extends UI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);pH()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,zH):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},VH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}BI.type="LOCAL";const UH=BI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI extends UI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}WI.type="SESSION";const $I=WI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new Jm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const c=Array.from(o).map(async h=>h(r.origin,i)),d=await BH(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,d)=>{const h=R_("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(v){const y=v;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(g),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(y.data.response);break;default:clearTimeout(g),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return window}function $H(t){Qs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function HH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qH(){return HI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="firebaseLocalStorageDb",GH=1,Gh="firebaseLocalStorage",qI="fbase_key";class Gd{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Zm(t,e){return t.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function KH(){const t=indexedDB.deleteDatabase(YI);return new Gd(t).toPromise()}function bv(){const t=indexedDB.open(YI,GH);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Gh,{keyPath:qI})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Gh)?e(n):(n.close(),await KH(),e(await bv()))})})}async function S1(t,e,r){const n=Zm(t,!0).put({[qI]:e,value:r});return new Gd(n).toPromise()}async function QH(t,e){const r=Zm(t,!1).get(e),n=await new Gd(r).toPromise();return n===void 0?null:n.value}function P1(t,e){const r=Zm(t,!0).delete(e);return new Gd(r).toPromise()}const XH=800,JH=3;class GI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bv(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>JH)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jm._getInstance(qH()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await HH(),!this.activeServiceWorker)return;this.sender=new WH(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bv();return await S1(e,qh,"1"),await P1(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>S1(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>QH(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>P1(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Zm(s,!1).getAll();return new Gd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GI.type="LOCAL";const ZH=GI;new Yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t,e){return e?Wi(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_ extends VI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return hu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return hu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function eY(t){return RH(t.auth,new A_(t),t.bypassAuthState)}function tY(t){const{auth:e,user:r}=t;return Se(r,e,"internal-error"),MH(r,new A_(t),t.bypassAuthState)}async function rY(t){const{auth:e,user:r}=t;return Se(r,e,"internal-error"),jH(r,new A_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eY;case"linkViaPopup":case"linkViaRedirect":return rY;case"reauthViaPopup":case"reauthViaRedirect":return tY;default:ei(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nY=new Yd(2e3,1e4);async function sY(t,e,r){if(zi(t.app))return Promise.reject(vs(t,"operation-not-supported-in-this-environment"));const n=Xm(t);Z$(t,e,M_);const s=KI(n,r);return new Ko(n,"signInViaPopup",e,s).executeNotNull()}class Ko extends QI{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const e=R_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nY.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iY="pendingRedirect",sh=new Map;class aY extends QI{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const n=await oY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oY(t,e){const r=cY(e),n=uY(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function lY(t,e){sh.set(t._key(),e)}function uY(t){return Wi(t._redirectPersistence)}function cY(t){return nh(iY,t.config.apiKey,t.name)}async function dY(t,e,r=!1){if(zi(t.app))return Promise.reject(el(t));const n=Xm(t),s=KI(n,e),o=await new aY(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY=10*60*1e3;class hY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mY(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!XI(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(vs(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fY&&this.cachedEventUids.clear(),this.cachedEventUids.has(I1(e))}saveEventToCache(e){this.cachedEventUids.add(I1(e)),this.lastProcessedEventTime=Date.now()}}function I1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gY(t,e={}){return Uu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vY=/^https?/;async function yY(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gY(t);for(const r of e)try{if(_Y(r))return}catch{}ei(t,"unauthorized-domain")}function _Y(t){const e=xv(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!vY.test(r))return!1;if(pY.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY=new Yd(3e4,6e4);function C1(){const t=Qs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function wY(t){return new Promise((e,r)=>{var n,s,i;function o(){C1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C1(),r(vs(t,"network-request-failed"))},timeout:xY.get()})}if(!((s=(n=Qs().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Qs().gapi)===null||i===void 0)&&i.load)o();else{const c=TH("iframefcb");return Qs()[c]=()=>{gapi.load?o():r(vs(t,"network-request-failed"))},EH(`${DH()}?onload=${c}`).catch(d=>r(d))}}).catch(e=>{throw ih=null,e})}let ih=null;function bY(t){return ih=ih||wY(t),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY=new Yd(5e3,15e3),DY="__/auth/iframe",TY="emulator/auth/iframe",SY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IY(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?I_(e,TY):`https://${t.config.authDomain}/${DY}`,n={apiKey:e.apiKey,appName:t.name,v:zu},s=PY.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Hd(n).slice(1)}`}async function CY(t){const e=await bY(t),r=Qs().gapi;return Se(r,t,"internal-error"),e.open({where:document.body,url:IY(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SY,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=vs(t,"network-request-failed"),c=Qs().setTimeout(()=>{i(o)},EY.get());function d(){Qs().clearTimeout(c),s(n)}n.ping(d).then(d,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NY=500,jY=600,MY="_blank",RY="http://localhost";class O1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AY(t,e,r,n=NY,s=jY){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},OY),{width:n.toString(),height:s.toString(),top:i,left:o}),h=Or().toLowerCase();r&&(c=NI(h)?MY:r),CI(h)&&(e=e||RY,d.scrollbars="yes");const g=Object.entries(d).reduce((y,[E,N])=>`${y}${E}=${N},`,"");if(gH(h)&&c!=="_self")return FY(e||"",c),new O1(null);const v=window.open(e||"",c,g);Se(v,t,"popup-blocked");try{v.focus()}catch{}return new O1(v)}function FY(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY="__/auth/handler",LY="emulator/auth/handler",VY=encodeURIComponent("fac");async function N1(t,e,r,n,s,i){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:zu,eventId:s};if(e instanceof M_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zW(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))o[g]=v}if(e instanceof qd){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(o.scopes=g.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const d=await t._getAppCheckToken(),h=d?`#${VY}=${encodeURIComponent(d)}`:"";return`${zY(t)}?${Hd(c).slice(1)}${h}`}function zY({config:t}){return t.emulator?I_(t,LY):`https://${t.authDomain}/${kY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="webStorageSupport";class UY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$I,this._completeRedirectFn=dY,this._overrideRedirectResult=lY}async _openPopup(e,r,n,s){var i;Zi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await N1(e,r,n,xv(),s);return AY(e,o,R_())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await N1(e,r,n,xv(),s);return $H(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(Zi(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await CY(e),n=new hY(e);return r.register("authEvent",s=>(Se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(cp,{type:cp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[cp];o!==void 0&&r(!!o),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=yY(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return FI()||OI()||N_()}}const BY=UY;var j1="@firebase/auth",M1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Y(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HY(t){bu(new ol("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;Se(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kI(t)},h=new wH(n,s,i,d);return PH(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),bu(new ol("auth-internal",e=>{const r=Xm(e.getProvider("auth").getImmediate());return(n=>new WY(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(j1,M1,$Y(t)),co(j1,M1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YY=5*60,qY=mI("authIdTokenMaxAge")||YY;let R1=null;const GY=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>qY)return;const s=r==null?void 0:r.token;R1!==s&&(R1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function KY(t=yI()){const e=D_(t,"auth");if(e.isInitialized())return e.getImmediate();const r=SH(t,{popupRedirectResolver:BY,persistence:[ZH,UH,$I]}),n=mI("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=GY(i.toString());FH(r,o,()=>o(r.currentUser)),AH(r,c=>o(c))}}const s=fI("auth");return s&&IH(r,`http://${s}`),r}function QY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bH({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=vs("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",QY().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HY("Browser");var A1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tl,JI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,b){function I(){}I.prototype=b.prototype,T.D=b.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(j,M,V){for(var O=Array(arguments.length-2),et=2;et<arguments.length;et++)O[et-2]=arguments[et];return b.prototype[M].apply(j,O)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,b,I){I||(I=0);var j=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)j[M]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(M=0;16>M;++M)j[M]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=T.g[0],I=T.g[1],M=T.g[2];var V=T.g[3],O=b+(V^I&(M^V))+j[0]+3614090360&4294967295;b=I+(O<<7&4294967295|O>>>25),O=V+(M^b&(I^M))+j[1]+3905402710&4294967295,V=b+(O<<12&4294967295|O>>>20),O=M+(I^V&(b^I))+j[2]+606105819&4294967295,M=V+(O<<17&4294967295|O>>>15),O=I+(b^M&(V^b))+j[3]+3250441966&4294967295,I=M+(O<<22&4294967295|O>>>10),O=b+(V^I&(M^V))+j[4]+4118548399&4294967295,b=I+(O<<7&4294967295|O>>>25),O=V+(M^b&(I^M))+j[5]+1200080426&4294967295,V=b+(O<<12&4294967295|O>>>20),O=M+(I^V&(b^I))+j[6]+2821735955&4294967295,M=V+(O<<17&4294967295|O>>>15),O=I+(b^M&(V^b))+j[7]+4249261313&4294967295,I=M+(O<<22&4294967295|O>>>10),O=b+(V^I&(M^V))+j[8]+1770035416&4294967295,b=I+(O<<7&4294967295|O>>>25),O=V+(M^b&(I^M))+j[9]+2336552879&4294967295,V=b+(O<<12&4294967295|O>>>20),O=M+(I^V&(b^I))+j[10]+4294925233&4294967295,M=V+(O<<17&4294967295|O>>>15),O=I+(b^M&(V^b))+j[11]+2304563134&4294967295,I=M+(O<<22&4294967295|O>>>10),O=b+(V^I&(M^V))+j[12]+1804603682&4294967295,b=I+(O<<7&4294967295|O>>>25),O=V+(M^b&(I^M))+j[13]+4254626195&4294967295,V=b+(O<<12&4294967295|O>>>20),O=M+(I^V&(b^I))+j[14]+2792965006&4294967295,M=V+(O<<17&4294967295|O>>>15),O=I+(b^M&(V^b))+j[15]+1236535329&4294967295,I=M+(O<<22&4294967295|O>>>10),O=b+(M^V&(I^M))+j[1]+4129170786&4294967295,b=I+(O<<5&4294967295|O>>>27),O=V+(I^M&(b^I))+j[6]+3225465664&4294967295,V=b+(O<<9&4294967295|O>>>23),O=M+(b^I&(V^b))+j[11]+643717713&4294967295,M=V+(O<<14&4294967295|O>>>18),O=I+(V^b&(M^V))+j[0]+3921069994&4294967295,I=M+(O<<20&4294967295|O>>>12),O=b+(M^V&(I^M))+j[5]+3593408605&4294967295,b=I+(O<<5&4294967295|O>>>27),O=V+(I^M&(b^I))+j[10]+38016083&4294967295,V=b+(O<<9&4294967295|O>>>23),O=M+(b^I&(V^b))+j[15]+3634488961&4294967295,M=V+(O<<14&4294967295|O>>>18),O=I+(V^b&(M^V))+j[4]+3889429448&4294967295,I=M+(O<<20&4294967295|O>>>12),O=b+(M^V&(I^M))+j[9]+568446438&4294967295,b=I+(O<<5&4294967295|O>>>27),O=V+(I^M&(b^I))+j[14]+3275163606&4294967295,V=b+(O<<9&4294967295|O>>>23),O=M+(b^I&(V^b))+j[3]+4107603335&4294967295,M=V+(O<<14&4294967295|O>>>18),O=I+(V^b&(M^V))+j[8]+1163531501&4294967295,I=M+(O<<20&4294967295|O>>>12),O=b+(M^V&(I^M))+j[13]+2850285829&4294967295,b=I+(O<<5&4294967295|O>>>27),O=V+(I^M&(b^I))+j[2]+4243563512&4294967295,V=b+(O<<9&4294967295|O>>>23),O=M+(b^I&(V^b))+j[7]+1735328473&4294967295,M=V+(O<<14&4294967295|O>>>18),O=I+(V^b&(M^V))+j[12]+2368359562&4294967295,I=M+(O<<20&4294967295|O>>>12),O=b+(I^M^V)+j[5]+4294588738&4294967295,b=I+(O<<4&4294967295|O>>>28),O=V+(b^I^M)+j[8]+2272392833&4294967295,V=b+(O<<11&4294967295|O>>>21),O=M+(V^b^I)+j[11]+1839030562&4294967295,M=V+(O<<16&4294967295|O>>>16),O=I+(M^V^b)+j[14]+4259657740&4294967295,I=M+(O<<23&4294967295|O>>>9),O=b+(I^M^V)+j[1]+2763975236&4294967295,b=I+(O<<4&4294967295|O>>>28),O=V+(b^I^M)+j[4]+1272893353&4294967295,V=b+(O<<11&4294967295|O>>>21),O=M+(V^b^I)+j[7]+4139469664&4294967295,M=V+(O<<16&4294967295|O>>>16),O=I+(M^V^b)+j[10]+3200236656&4294967295,I=M+(O<<23&4294967295|O>>>9),O=b+(I^M^V)+j[13]+681279174&4294967295,b=I+(O<<4&4294967295|O>>>28),O=V+(b^I^M)+j[0]+3936430074&4294967295,V=b+(O<<11&4294967295|O>>>21),O=M+(V^b^I)+j[3]+3572445317&4294967295,M=V+(O<<16&4294967295|O>>>16),O=I+(M^V^b)+j[6]+76029189&4294967295,I=M+(O<<23&4294967295|O>>>9),O=b+(I^M^V)+j[9]+3654602809&4294967295,b=I+(O<<4&4294967295|O>>>28),O=V+(b^I^M)+j[12]+3873151461&4294967295,V=b+(O<<11&4294967295|O>>>21),O=M+(V^b^I)+j[15]+530742520&4294967295,M=V+(O<<16&4294967295|O>>>16),O=I+(M^V^b)+j[2]+3299628645&4294967295,I=M+(O<<23&4294967295|O>>>9),O=b+(M^(I|~V))+j[0]+4096336452&4294967295,b=I+(O<<6&4294967295|O>>>26),O=V+(I^(b|~M))+j[7]+1126891415&4294967295,V=b+(O<<10&4294967295|O>>>22),O=M+(b^(V|~I))+j[14]+2878612391&4294967295,M=V+(O<<15&4294967295|O>>>17),O=I+(V^(M|~b))+j[5]+4237533241&4294967295,I=M+(O<<21&4294967295|O>>>11),O=b+(M^(I|~V))+j[12]+1700485571&4294967295,b=I+(O<<6&4294967295|O>>>26),O=V+(I^(b|~M))+j[3]+2399980690&4294967295,V=b+(O<<10&4294967295|O>>>22),O=M+(b^(V|~I))+j[10]+4293915773&4294967295,M=V+(O<<15&4294967295|O>>>17),O=I+(V^(M|~b))+j[1]+2240044497&4294967295,I=M+(O<<21&4294967295|O>>>11),O=b+(M^(I|~V))+j[8]+1873313359&4294967295,b=I+(O<<6&4294967295|O>>>26),O=V+(I^(b|~M))+j[15]+4264355552&4294967295,V=b+(O<<10&4294967295|O>>>22),O=M+(b^(V|~I))+j[6]+2734768916&4294967295,M=V+(O<<15&4294967295|O>>>17),O=I+(V^(M|~b))+j[13]+1309151649&4294967295,I=M+(O<<21&4294967295|O>>>11),O=b+(M^(I|~V))+j[4]+4149444226&4294967295,b=I+(O<<6&4294967295|O>>>26),O=V+(I^(b|~M))+j[11]+3174756917&4294967295,V=b+(O<<10&4294967295|O>>>22),O=M+(b^(V|~I))+j[2]+718787259&4294967295,M=V+(O<<15&4294967295|O>>>17),O=I+(V^(M|~b))+j[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,T.g[2]=T.g[2]+M&4294967295,T.g[3]=T.g[3]+V&4294967295}n.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var I=b-this.blockSize,j=this.B,M=this.h,V=0;V<b;){if(M==0)for(;V<=I;)s(this,T,V),V+=this.blockSize;if(typeof T=="string"){for(;V<b;)if(j[M++]=T.charCodeAt(V++),M==this.blockSize){s(this,j),M=0;break}}else for(;V<b;)if(j[M++]=T[V++],M==this.blockSize){s(this,j),M=0;break}}this.h=M,this.o+=b},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var I=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=I&255,I/=256;for(this.u(T),T=Array(16),b=I=0;4>b;++b)for(var j=0;32>j;j+=8)T[I++]=this.g[b]>>>j&255;return T};function i(T,b){var I=c;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=b(T)}function o(T,b){this.h=b;for(var I=[],j=!0,M=T.length-1;0<=M;M--){var V=T[M]|0;j&&V==b||(I[M]=V,j=!1)}this.g=I}var c={};function d(T){return-128<=T&&128>T?i(T,function(b){return new o([b|0],0>b?-1:0)}):new o([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return v;if(0>T)return k(h(-T));for(var b=[],I=1,j=0;T>=I;j++)b[j]=T/I|0,I*=4294967296;return new o(b,0)}function g(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return k(g(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=h(Math.pow(b,8)),j=v,M=0;M<T.length;M+=8){var V=Math.min(8,T.length-M),O=parseInt(T.substring(M,M+V),b);8>V?(V=h(Math.pow(b,V)),j=j.j(V).add(h(O))):(j=j.j(I),j=j.add(h(O)))}return j}var v=d(0),y=d(1),E=d(16777216);t=o.prototype,t.m=function(){if(D(this))return-k(this).m();for(var T=0,b=1,I=0;I<this.g.length;I++){var j=this.i(I);T+=(0<=j?j:4294967296+j)*b,b*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N(this))return"0";if(D(this))return"-"+k(this).toString(T);for(var b=h(Math.pow(T,6)),I=this,j="";;){var M=R(I,b).g;I=S(I,M.j(b));var V=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=M,N(I))return V+j;for(;6>V.length;)V="0"+V;j=V+j}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function N(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function D(T){return T.h==-1}t.l=function(T){return T=S(this,T),D(T)?-1:N(T)?0:1};function k(T){for(var b=T.g.length,I=[],j=0;j<b;j++)I[j]=~T.g[j];return new o(I,~T.h).add(y)}t.abs=function(){return D(this)?k(this):this},t.add=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],j=0,M=0;M<=b;M++){var V=j+(this.i(M)&65535)+(T.i(M)&65535),O=(V>>>16)+(this.i(M)>>>16)+(T.i(M)>>>16);j=O>>>16,V&=65535,O&=65535,I[M]=O<<16|V}return new o(I,I[I.length-1]&-2147483648?-1:0)};function S(T,b){return T.add(k(b))}t.j=function(T){if(N(this)||N(T))return v;if(D(this))return D(T)?k(this).j(k(T)):k(k(this).j(T));if(D(T))return k(this.j(k(T)));if(0>this.l(E)&&0>T.l(E))return h(this.m()*T.m());for(var b=this.g.length+T.g.length,I=[],j=0;j<2*b;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(var M=0;M<T.g.length;M++){var V=this.i(j)>>>16,O=this.i(j)&65535,et=T.i(M)>>>16,tt=T.i(M)&65535;I[2*j+2*M]+=O*tt,P(I,2*j+2*M),I[2*j+2*M+1]+=V*tt,P(I,2*j+2*M+1),I[2*j+2*M+1]+=O*et,P(I,2*j+2*M+1),I[2*j+2*M+2]+=V*et,P(I,2*j+2*M+2)}for(j=0;j<b;j++)I[j]=I[2*j+1]<<16|I[2*j];for(j=b;j<2*b;j++)I[j]=0;return new o(I,0)};function P(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function C(T,b){this.g=T,this.h=b}function R(T,b){if(N(b))throw Error("division by zero");if(N(T))return new C(v,v);if(D(T))return b=R(k(T),b),new C(k(b.g),k(b.h));if(D(b))return b=R(T,k(b)),new C(k(b.g),b.h);if(30<T.g.length){if(D(T)||D(b))throw Error("slowDivide_ only works with positive integers.");for(var I=y,j=b;0>=j.l(T);)I=Y(I),j=Y(j);var M=q(I,1),V=q(j,1);for(j=q(j,2),I=q(I,2);!N(j);){var O=V.add(j);0>=O.l(T)&&(M=M.add(I),V=O),j=q(j,1),I=q(I,1)}return b=S(T,M.j(b)),new C(M,b)}for(M=v;0<=T.l(b);){for(I=Math.max(1,Math.floor(T.m()/b.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),V=h(I),O=V.j(b);D(O)||0<O.l(T);)I-=j,V=h(I),O=V.j(b);N(V)&&(V=y),M=M.add(V),T=S(T,O)}return new C(M,T)}t.A=function(T){return R(this,T).h},t.and=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],j=0;j<b;j++)I[j]=this.i(j)&T.i(j);return new o(I,this.h&T.h)},t.or=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],j=0;j<b;j++)I[j]=this.i(j)|T.i(j);return new o(I,this.h|T.h)},t.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],j=0;j<b;j++)I[j]=this.i(j)^T.i(j);return new o(I,this.h^T.h)};function Y(T){for(var b=T.g.length+1,I=[],j=0;j<b;j++)I[j]=T.i(j)<<1|T.i(j-1)>>>31;return new o(I,T.h)}function q(T,b){var I=b>>5;b%=32;for(var j=T.g.length-I,M=[],V=0;V<j;V++)M[V]=0<b?T.i(V+I)>>>b|T.i(V+I+1)<<32-b:T.i(V+I);return new o(M,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,JI=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=g,tl=o}).apply(typeof A1<"u"?A1:typeof self<"u"?self:typeof window<"u"?window:{});var Lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZI,Oc,eC,ah,Ev,tC,rC,nC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,p){return l==Array.prototype||l==Object.prototype||(l[m]=p.value),l};function r(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lf=="object"&&Lf];for(var m=0;m<l.length;++m){var p=l[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var n=r(this);function s(l,m){if(m)e:{var p=n;l=l.split(".");for(var w=0;w<l.length-1;w++){var U=l[w];if(!(U in p))break e;p=p[U]}l=l[l.length-1],w=p[l],m=m(w),m!=w&&m!=null&&e(p,l,{configurable:!0,writable:!0,value:m})}}function i(l,m){l instanceof String&&(l+="");var p=0,w=!1,U={next:function(){if(!w&&p<l.length){var $=p++;return{value:m($,l[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(l){return l||function(){return i(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function d(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function h(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function g(l,m,p){return l.call.apply(l.bind,arguments)}function v(l,m,p){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,w),l.apply(m,U)}}return function(){return l.apply(m,arguments)}}function y(l,m,p){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,y.apply(null,arguments)}function E(l,m){var p=Array.prototype.slice.call(arguments,1);return function(){var w=p.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function N(l,m){function p(){}p.prototype=m.prototype,l.aa=m.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(w,U,$){for(var ne=Array(arguments.length-2),He=2;He<arguments.length;He++)ne[He-2]=arguments[He];return m.prototype[U].apply(w,ne)}}function D(l){const m=l.length;if(0<m){const p=Array(m);for(let w=0;w<m;w++)p[w]=l[w];return p}return[]}function k(l,m){for(let p=1;p<arguments.length;p++){const w=arguments[p];if(d(w)){const U=l.length||0,$=w.length||0;l.length=U+$;for(let ne=0;ne<$;ne++)l[U+ne]=w[ne]}else l.push(w)}}class S{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function P(l){return/^[\s\xa0]*$/.test(l)}function C(){var l=c.navigator;return l&&(l=l.userAgent)?l:""}function R(l){return R[" "](l),l}R[" "]=function(){};var Y=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function q(l,m,p){for(const w in l)m.call(p,l[w],w,l)}function T(l,m){for(const p in l)m.call(void 0,l[p],p,l)}function b(l){const m={};for(const p in l)m[p]=l[p];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(l,m){let p,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(p in w)l[p]=w[p];for(let $=0;$<I.length;$++)p=I[$],Object.prototype.hasOwnProperty.call(w,p)&&(l[p]=w[p])}}function M(l){var m=1;l=l.split(":");const p=[];for(;0<m&&l.length;)p.push(l.shift()),m--;return l.length&&p.push(l.join(":")),p}function V(l){c.setTimeout(()=>{throw l},0)}function O(){var l=de;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class et{constructor(){this.h=this.g=null}add(m,p){const w=tt.get();w.set(m,p),this.h?this.h.next=w:this.g=w,this.h=w}}var tt=new S(()=>new le,l=>l.reset());class le{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,Z=!1,de=new et,ce=()=>{const l=c.Promise.resolve(void 0);Oe=()=>{l.then(De)}};var De=()=>{for(var l;l=O();){try{l.h.call(l.g)}catch(p){V(p)}var m=tt;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}Z=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var B=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};c.addEventListener("test",p,m),c.removeEventListener("test",p,m)}catch{}return l}();function F(l,m){if(G.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(Y){e:{try{R(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=l.fromElement:p=="mouseout"&&(m=l.toElement);this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:K[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&F.aa.h.call(this)}}N(F,G);var K={2:"touch",3:"pen",4:"mouse"};F.prototype.h=function(){F.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),ge=0;function pe(l,m,p,w,U){this.listener=l,this.proxy=null,this.src=m,this.type=p,this.capture=!!w,this.ha=U,this.key=++ge,this.da=this.fa=!1}function ve(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Te(l){this.src=l,this.g={},this.h=0}Te.prototype.add=function(l,m,p,w,U){var $=l.toString();l=this.g[$],l||(l=this.g[$]=[],this.h++);var ne=Ne(l,m,w,U);return-1<ne?(m=l[ne],p||(m.fa=!1)):(m=new pe(m,this.src,$,!!w,U),m.fa=p,l.push(m)),m};function Re(l,m){var p=m.type;if(p in l.g){var w=l.g[p],U=Array.prototype.indexOf.call(w,m,void 0),$;($=0<=U)&&Array.prototype.splice.call(w,U,1),$&&(ve(m),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Ne(l,m,p,w){for(var U=0;U<l.length;++U){var $=l[U];if(!$.da&&$.listener==m&&$.capture==!!p&&$.ha==w)return U}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),lt={};function xt(l,m,p,w,U){if(Array.isArray(m)){for(var $=0;$<m.length;$++)xt(l,m[$],p,w,U);return null}return p=ws(p),l&&l[ae]?l.K(m,p,h(w)?!!w.capture:!1,U):Ht(l,m,p,!1,w,U)}function Ht(l,m,p,w,U,$){if(!m)throw Error("Invalid event type");var ne=h(U)?!!U.capture:!!U,He=En(l);if(He||(l[Ae]=He=new Te(l)),p=He.add(m,p,w,ne,$),p.proxy)return p;if(w=Br(),p.proxy=w,w.src=l,w.listener=p,l.addEventListener)B||(U=ne),U===void 0&&(U=!1),l.addEventListener(m.toString(),w,U);else if(l.attachEvent)l.attachEvent(Nr(m.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Br(){function l(p){return m.call(l.src,l.listener,p)}const m=sn;return l}function xs(l,m,p,w,U){if(Array.isArray(m))for(var $=0;$<m.length;$++)xs(l,m[$],p,w,U);else w=h(w)?!!w.capture:!!w,p=ws(p),l&&l[ae]?(l=l.i,m=String(m).toString(),m in l.g&&($=l.g[m],p=Ne($,p,w,U),-1<p&&(ve($[p]),Array.prototype.splice.call($,p,1),$.length==0&&(delete l.g[m],l.h--)))):l&&(l=En(l))&&(m=l.g[m.toString()],l=-1,m&&(l=Ne(m,p,w,U)),(p=-1<l?m[l]:null)&&Wr(p))}function Wr(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[ae])Re(m.i,l);else{var p=l.type,w=l.proxy;m.removeEventListener?m.removeEventListener(p,w,l.capture):m.detachEvent?m.detachEvent(Nr(p),w):m.addListener&&m.removeListener&&m.removeListener(w),(p=En(m))?(Re(p,l),p.h==0&&(p.src=null,m[Ae]=null)):ve(l)}}}function Nr(l){return l in lt?lt[l]:lt[l]="on"+l}function sn(l,m){if(l.da)l=!0;else{m=new F(m,this);var p=l.listener,w=l.ha||l.src;l.fa&&Wr(l),l=p.call(w,m)}return l}function En(l){return l=l[Ae],l instanceof Te?l:null}var $r="__closure_events_fn_"+(1e9*Math.random()>>>0);function ws(l){return typeof l=="function"?l:(l[$r]||(l[$r]=function(m){return l.handleEvent(m)}),l[$r])}function wt(){J.call(this),this.i=new Te(this),this.M=this,this.F=null}N(wt,J),wt.prototype[ae]=!0,wt.prototype.removeEventListener=function(l,m,p,w){xs(this,l,m,p,w)};function ft(l,m){var p,w=l.F;if(w)for(p=[];w;w=w.F)p.push(w);if(l=l.M,w=m.type||m,typeof m=="string")m=new G(m,l);else if(m instanceof G)m.target=m.target||l;else{var U=m;m=new G(w,l),j(m,U)}if(U=!0,p)for(var $=p.length-1;0<=$;$--){var ne=m.g=p[$];U=an(ne,w,!0,m)&&U}if(ne=m.g=l,U=an(ne,w,!0,m)&&U,U=an(ne,w,!1,m)&&U,p)for($=0;$<p.length;$++)ne=m.g=p[$],U=an(ne,w,!1,m)&&U}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var p=l.g[m],w=0;w<p.length;w++)ve(p[w]);delete l.g[m],l.h--}}this.F=null},wt.prototype.K=function(l,m,p,w){return this.i.add(String(l),m,!1,p,w)},wt.prototype.L=function(l,m,p,w){return this.i.add(String(l),m,!0,p,w)};function an(l,m,p,w){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,$=0;$<m.length;++$){var ne=m[$];if(ne&&!ne.da&&ne.capture==p){var He=ne.listener,Dt=ne.ha||ne.src;ne.fa&&Re(l.i,ne),U=He.call(Dt,w)!==!1&&U}}return U&&!w.defaultPrevented}function ha(l,m,p){if(typeof l=="function")p&&(l=y(l,p));else if(l&&typeof l.handleEvent=="function")l=y(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:c.setTimeout(l,m||0)}function $n(l){l.g=ha(()=>{l.g=null,l.i&&(l.i=!1,$n(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class bs extends J{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$n(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(l){J.call(this),this.h=l,this.g={}}N(jr,J);var on=[];function Es(l){q(l.g,function(m,p){this.g.hasOwnProperty(p)&&Wr(m)},l),l.g={}}jr.prototype.N=function(){jr.aa.N.call(this),Es(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=c.JSON.stringify,ai=c.JSON.parse,Ds=class{stringify(l){return c.JSON.stringify(l,void 0)}parse(l){return c.JSON.parse(l,void 0)}};function Hn(){}Hn.prototype.h=null;function ma(l){return l.h||(l.h=l.i())}function Yn(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tn(){G.call(this,"d")}N(Tn,G);function oi(){G.call(this,"c")}N(oi,G);var Hr={},ga=null;function Sn(){return ga=ga||new wt}Hr.La="serverreachability";function pa(l){G.call(this,Hr.La,l)}N(pa,G);function ln(l){const m=Sn();ft(m,new pa(m))}Hr.STAT_EVENT="statevent";function Gn(l,m){G.call(this,Hr.STAT_EVENT,l),this.stat=m}N(Gn,G);function Ot(l){const m=Sn();ft(m,new Gn(m,l))}Hr.Ma="timingevent";function va(l,m){G.call(this,Hr.Ma,l),this.size=m}N(va,G);function pr(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){l()},m)}function Kn(){this.g=!0}Kn.prototype.xa=function(){this.g=!1};function ya(l,m,p,w,U,$){l.info(function(){if(l.g)if($)for(var ne="",He=$.split("&"),Dt=0;Dt<He.length;Dt++){var Fe=He[Dt].split("=");if(1<Fe.length){var Ge=Fe[0];Fe=Fe[1];var Le=Ge.split("_");ne=2<=Le.length&&Le[1]=="type"?ne+(Ge+"="+Fe+"&"):ne+(Ge+"=redacted&")}}else ne=null;else ne=$;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+m+`
`+p+`
`+ne})}function li(l,m,p,w,U,$,ne){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+m+`
`+p+`
`+$+" "+ne})}function Yr(l,m,p,w){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+_a(l,p)+(w?" "+w:"")})}function ui(l,m){l.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function _a(l,m){if(!l.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var w=p[l];if(!(2>w.length)){var U=w[1];if(Array.isArray(U)&&!(1>U.length)){var $=U[0];if($!="noop"&&$!="stop"&&$!="close")for(var ne=1;ne<U.length;ne++)U[ne]=""}}}}return Dn(p)}catch{return m}}var Qn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ts;function qr(){}N(qr,Hn),qr.prototype.g=function(){return new XMLHttpRequest},qr.prototype.i=function(){return{}},Ts=new qr;function vr(l,m,p,w){this.j=l,this.i=m,this.l=p,this.R=w||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Ss={},Jn={};function di(l,m,p){l.L=1,l.v=es(Rr(m)),l.m=p,l.P=!0,Ps(l,null)}function Ps(l,m){l.F=Date.now(),Ue(l),l.A=Rr(l.v);var p=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),yi(p.i,"t",w),l.C=0,p=l.j.J,l.h=new Xn,l.g=Nt(l.j,p?m:null,!l.m),0<l.O&&(l.M=new bs(y(l.Y,l,l.g),l.O)),m=l.U,p=l.g,w=l.ca;var U="readystatechange";Array.isArray(U)||(U&&(on[0]=U.toString()),U=on);for(var $=0;$<U.length;$++){var ne=xt(p,U[$],w||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),ln(),ya(l.i,l.u,l.A,l.l,l.R,l.m)}vr.prototype.ca=function(l){l=l.target;const m=this.M;m&&Ar(l)==3?m.j():this.Y(l)},vr.prototype.Y=function(l){try{if(l==this.g)e:{const Le=Ar(this.g);var m=this.g.Ba();const xr=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||wi(this.g)))){this.J||Le!=4||m==7||(m==8||0>=xr?ln(3):ln(2)),Yt(this);var p=this.g.Z();this.X=p;t:if(fi(this)){var w=wi(this.g);l="";var U=w.length,$=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),_e(this);var ne="";break t}this.h.i=new c.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,l+=this.h.i.decode(w[m],{stream:!($&&m==U-1)});w.length=0,this.h.g+=l,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=p==200,li(this.i,this.u,this.A,this.l,this.R,Le,p),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Dt=this.g;if((He=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(He)){var Fe=He;break t}}Fe=null}if(p=Fe)Yr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,p);else{this.o=!1,this.s=3,Ot(12),Zt(this),_e(this);break e}}if(this.P){p=!0;let er;for(;!this.J&&this.C<ne.length;)if(er=xa(this,ne),er==Jn){Le==4&&(this.s=4,Ot(14),p=!1),Yr(this.i,this.l,null,"[Incomplete Response]");break}else if(er==Ss){this.s=4,Ot(15),Yr(this.i,this.l,ne,"[Invalid Chunk]"),p=!1;break}else Yr(this.i,this.l,er,null),Is(this,er);if(fi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||ne.length!=0||this.h.h||(this.s=1,Ot(16),p=!1),this.o=this.o&&p,!p)Yr(this.i,this.l,ne,"[Invalid Chunked Response]"),Zt(this),_e(this);else if(0<ne.length&&!this.W){this.W=!0;var Ge=this.j;Ge.g==this&&Ge.ba&&!Ge.M&&(Ge.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),as(Ge),Ge.M=!0,Ot(11))}}else Yr(this.i,this.l,ne,null),Is(this,ne);Le==4&&Zt(this),this.o&&!this.J&&(Le==4?Fr(this.j,this):(this.o=!1,Ue(this)))}else Io(this.g),p==400&&0<ne.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Zt(this),_e(this)}}}catch{}finally{}};function fi(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function xa(l,m){var p=l.C,w=m.indexOf(`
`,p);return w==-1?Jn:(p=Number(m.substring(p,w)),isNaN(p)?Ss:(w+=1,w+p>m.length?Jn:(m=m.slice(w,w+p),l.C=w+p,m)))}vr.prototype.cancel=function(){this.J=!0,Zt(this)};function Ue(l){l.S=Date.now()+l.I,Gr(l,l.I)}function Gr(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=pr(y(l.ba,l),m)}function Yt(l){l.B&&(c.clearTimeout(l.B),l.B=null)}vr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ui(this.i,this.A),this.L!=2&&(ln(),Ot(17)),Zt(this),this.s=2,_e(this)):Gr(this,this.S-l)};function _e(l){l.j.G==0||l.J||Fr(l.j,l)}function Zt(l){Yt(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,Es(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function Is(l,m){try{var p=l.j;if(p.G!=0&&(p.g==l||he(p.h,l))){if(!l.K&&he(p.h,l)&&p.G==3){try{var w=p.Da.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)ct(p),ss(p);else break e;ar(p),Ot(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=pr(y(p.Za,p),6e3));if(1>=wa(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else At(p,11)}else if((l.K||p.g==l)&&ct(p),!P(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let Fe=U[m];if(p.T=Fe[0],Fe=Fe[1],p.G==2)if(Fe[0]=="c"){p.K=Fe[1],p.ia=Fe[2];const Ge=Fe[3];Ge!=null&&(p.la=Ge,p.j.info("VER="+p.la));const Le=Fe[4];Le!=null&&(p.Aa=Le,p.j.info("SVER="+p.Aa));const xr=Fe[5];xr!=null&&typeof xr=="number"&&0<xr&&(w=1.5*xr,p.L=w,p.j.info("backChannelRequestTimeoutMs_="+w)),w=p;const er=l.g;if(er){const zs=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var $=w.h;$.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ut($,$.h),$.h=null))}if(w.D){const Pi=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;Pi&&(w.ya=Pi,$e(w.I,w.D,Pi))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),w=p;var ne=l;if(w.qa=Si(w,w.J?w.ia:null,w.W),ne.K){Ze(w.h,ne);var He=ne,Dt=w.L;Dt&&(He.I=Dt),He.B&&(Yt(He),Ue(He)),w.g=ne}else dn(w);0<p.i.length&&Ls(p)}else Fe[0]!="stop"&&Fe[0]!="close"||At(p,7);else p.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?At(p,7):bi(p):Fe[0]!="noop"&&p.l&&p.l.ta(Fe),p.v=0)}}ln(4)}catch{}}var hi=class{constructor(l,m){this.g=l,this.map=m}};function Cs(l){this.l=l||10,c.PerformanceNavigationTiming?(l=c.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Os(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function wa(l){return l.h?1:l.g?l.g.size:0}function he(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function ut(l,m){l.g?l.g.add(m):l.h=m}function Ze(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}Cs.prototype.cancel=function(){if(this.i=Ut(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ut(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const p of l.g.values())m=m.concat(p.D);return m}return D(l.i)}function Pn(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(d(l)){for(var m=[],p=l.length,w=0;w<p;w++)m.push(l[w]);return m}m=[],p=0;for(w in l)m[p++]=l[w];return m}function ba(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(d(l)||typeof l=="string"){var m=[];l=l.length;for(var p=0;p<l;p++)m.push(p);return m}m=[],p=0;for(const w in l)m[p++]=w;return m}}}function Ns(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(d(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var p=ba(l),w=Pn(l),U=w.length,$=0;$<U;$++)m.call(void 0,w[$],p&&p[$],l)}var mi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(l,m){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var w=l[p].indexOf("="),U=null;if(0<=w){var $=l[p].substring(0,w);U=l[p].substring(w+1)}else $=l[p];m($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Mr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Mr){this.h=l.h,In(this,l.j),this.o=l.o,this.g=l.g,Zn(this,l.s),this.l=l.l;var m=l.i,p=new On;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),js(this,p),this.m=l.m}else l&&(m=String(l).match(mi))?(this.h=!1,In(this,m[1]||"",!0),this.o=yr(m[2]||""),this.g=yr(m[3]||"",!0),Zn(this,m[4]),this.l=yr(m[5]||"",!0),js(this,m[6]||"",!0),this.m=yr(m[7]||"")):(this.h=!1,this.i=new On(null,this.h))}Mr.prototype.toString=function(){var l=[],m=this.j;m&&l.push(Cn(m,Ms,!0),":");var p=this.g;return(p||m=="file")&&(l.push("//"),(m=this.o)&&l.push(Cn(m,Ms,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Cn(p,p.charAt(0)=="/"?Rs:Da,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Cn(p,pi)),l.join("")};function Rr(l){return new Mr(l)}function In(l,m,p){l.j=p?yr(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function Zn(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function js(l,m,p){m instanceof On?(l.i=m,gt(l.i,l.h)):(p||(m=Cn(m,To)),l.i=new On(m,l.h))}function $e(l,m,p){l.i.set(m,p)}function es(l){return $e(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function yr(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Cn(l,m,p){return typeof l=="string"?(l=encodeURI(l).replace(m,gi),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function gi(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ms=/[#\/\?@]/g,Da=/[#\?:]/g,Rs=/[#\?]/g,To=/[#\?@]/g,pi=/#/g;function On(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function ir(l){l.g||(l.g=new Map,l.h=0,l.i&&Ea(l.i,function(m,p){l.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}t=On.prototype,t.add=function(l,m){ir(this),this.i=null,l=Kr(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(m),this.h+=1,this};function vi(l,m){ir(l),m=Kr(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function As(l,m){return ir(l),m=Kr(l,m),l.g.has(m)}t.forEach=function(l,m){ir(this),this.g.forEach(function(p,w){p.forEach(function(U){l.call(m,U,w,this)},this)},this)},t.na=function(){ir(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let w=0;w<m.length;w++){const U=l[w];for(let $=0;$<U.length;$++)p.push(m[w])}return p},t.V=function(l){ir(this);let m=[];if(typeof l=="string")As(this,l)&&(m=m.concat(this.g.get(Kr(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)m=m.concat(l[p])}return m},t.set=function(l,m){return ir(this),this.i=null,l=Kr(this,l),As(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},t.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function yi(l,m,p){vi(l,m),0<p.length&&(l.i=null,l.g.set(Kr(l,m),D(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var w=m[p];const $=encodeURIComponent(String(w)),ne=this.V(w);for(w=0;w<ne.length;w++){var U=$;ne[w]!==""&&(U+="="+encodeURIComponent(String(ne[w]))),l.push(U)}}return this.i=l.join("&")};function Kr(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function gt(l,m){m&&!l.j&&(ir(l),l.i=null,l.g.forEach(function(p,w){var U=w.toLowerCase();w!=U&&(vi(this,w),yi(this,U,p))},l)),l.j=m}function _r(l,m){const p=new Kn;if(c.Image){const w=new Image;w.onload=E(Qr,p,"TestLoadImage: loaded",!0,m,w),w.onerror=E(Qr,p,"TestLoadImage: error",!1,m,w),w.onabort=E(Qr,p,"TestLoadImage: abort",!1,m,w),w.ontimeout=E(Qr,p,"TestLoadImage: timeout",!1,m,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else m(!1)}function Ta(l,m){const p=new Kn,w=new AbortController,U=setTimeout(()=>{w.abort(),Qr(p,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:w.signal}).then($=>{clearTimeout(U),$.ok?Qr(p,"TestPingServer: ok",!0,m):Qr(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Qr(p,"TestPingServer: error",!1,m)})}function Qr(l,m,p,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(p)}catch{}}function Fs(){this.g=new Ds}function Sa(l,m,p){const w=p||"";try{Ns(l,function(U,$){let ne=U;h(U)&&(ne=Dn(U)),m.push(w+$+"="+encodeURIComponent(ne))})}catch(U){throw m.push(w+"type="+encodeURIComponent("_badmap")),U}}function un(l){this.l=l.Ub||null,this.j=l.eb||!1}N(un,Hn),un.prototype.g=function(){return new ts(this.l,this.j)},un.prototype.i=function(l){return function(){return l}}({});function ts(l,m){wt.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ts,wt),t=ts.prototype,t.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,Nn(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||c).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rs(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Nn(this)),this.g&&(this.readyState=3,Nn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_i(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function _i(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?rs(this):Nn(this),this.readyState==3&&_i(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,rs(this))},t.Qa=function(l){this.g&&(this.response=l,rs(this))},t.ga=function(){this.g&&rs(this)};function rs(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Nn(l)}t.setRequestHeader=function(l,m){this.u.append(l,m)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=m.next();return l.join(`\r
`)};function Nn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Pa(l){let m="";return q(l,function(p,w){m+=w,m+=":",m+=p,m+=`\r
`}),m}function cn(l,m,p){e:{for(w in p){var w=!1;break e}w=!0}w||(p=Pa(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):$e(l,m,p))}function it(l){wt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(it,wt);var So=/^https?$/i,Po=["POST","PUT"];t=it.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,m,p,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ts.g(),this.v=this.o?ma(this.o):ma(Ts),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch($){Ia(this,$);return}if(l=p||"",p=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)p.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())p.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(p.keys()).find($=>$.toLowerCase()=="content-type"),U=c.FormData&&l instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Po,m,void 0))||w||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ne]of p)this.g.setRequestHeader($,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(l),this.u=!1}catch($){Ia(this,$)}};function Ia(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,xi(l),ks(l)}function xi(l){l.A||(l.A=!0,ft(l,"complete"),ft(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ft(this,"complete"),ft(this,"abort"),ks(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ks(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},t.bb=function(){Ca(this)};function Ca(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Ar(l)!=4||l.Z()!=2)){if(l.u&&Ar(l)==4)ha(l.Ea,0,l);else if(ft(l,"readystatechange"),Ar(l)==4){l.h=!1;try{const ne=l.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var p;if(!(p=m)){var w;if(w=ne===0){var U=String(l.D).match(mi)[1]||null;!U&&c.self&&c.self.location&&(U=c.self.location.protocol.slice(0,-1)),w=!So.test(U?U.toLowerCase():"")}p=w}if(p)ft(l,"complete"),ft(l,"success");else{l.m=6;try{var $=2<Ar(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",xi(l)}}finally{ks(l)}}}}function ks(l,m){if(l.g){Oa(l);const p=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||ft(l,"ready");try{p.onreadystatechange=w}catch{}}}function Oa(l){l.I&&(c.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Ar(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),ai(m)}};function wi(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Io(l){const m={};l=(l.g&&2<=Ar(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(P(l[w]))continue;var p=M(l[w]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const $=m[U]||[];m[U]=$,$.push(p)}T(m,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(l,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||m}function Na(l){this.Aa=0,this.i=[],this.j=new Kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,l),this.cb=ns("retryDelaySeedMs",1e4,l),this.Wa=ns("forwardChannelMaxRetries",2,l),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Cs(l&&l.concurrentRequestLimit),this.Da=new Fs,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Na.prototype,t.la=8,t.G=1,t.connect=function(l,m,p,w){Ot(0),this.W=l,this.H=m||{},p&&w!==void 0&&(this.H.OSID=p,this.H.OAID=w),this.F=this.X,this.I=Si(this,null,this.W),Ls(this)};function bi(l){if(Ei(l),l.G==3){var m=l.U++,p=Rr(l.I);if($e(p,"SID",l.K),$e(p,"RID",m),$e(p,"TYPE","terminate"),is(l,p),m=new vr(l,l.j,m),m.L=2,m.v=es(Rr(p)),p=!1,c.navigator&&c.navigator.sendBeacon)try{p=c.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&c.Image&&(new Image().src=m.v,p=!0),p||(m.g=Nt(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ue(m)}Ti(l)}function ss(l){l.g&&(as(l),l.g.cancel(),l.g=null)}function Ei(l){ss(l),l.u&&(c.clearTimeout(l.u),l.u=null),ct(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&c.clearTimeout(l.s),l.s=null)}function Ls(l){if(!Os(l.h)&&!l.s){l.s=!0;var m=l.Ga;Oe||ce(),Z||(Oe(),Z=!0),de.add(m,l),l.B=0}}function Co(l,m){return wa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=pr(y(l.Ga,l,m),jn(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const U=new vr(this,this.j,l);let $=this.o;if(this.S&&($?($=b($),j($,this.S)):$=this.S),this.m!==null||this.O||(U.H=$,$=null),this.P)e:{for(var m=0,p=0;p<this.i.length;p++){t:{var w=this.i[p];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,4096<m){m=p;break e}if(m===4096||p===this.i.length-1){m=p+1;break e}}m=1e3}else m=1e3;m=Di(this,U,m),p=Rr(this.I),$e(p,"RID",l),$e(p,"CVER",22),this.D&&$e(p,"X-HTTP-Session-Id",this.D),is(this,p),$&&(this.O?m="headers="+encodeURIComponent(String(Pa($)))+"&"+m:this.m&&cn(p,this.m,$)),ut(this.h,U),this.Ua&&$e(p,"TYPE","init"),this.P?($e(p,"$req",m),$e(p,"SID","null"),U.T=!0,di(U,p,null)):di(U,p,m),this.G=2}}else this.G==3&&(l?ja(this,l):this.i.length==0||Os(this.h)||ja(this))};function ja(l,m){var p;m?p=m.l:p=l.U++;const w=Rr(l.I);$e(w,"SID",l.K),$e(w,"RID",p),$e(w,"AID",l.T),is(l,w),l.m&&l.o&&cn(w,l.m,l.o),p=new vr(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),m&&(l.i=m.D.concat(l.i)),m=Di(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ut(l.h,p),di(p,w,m)}function is(l,m){l.H&&q(l.H,function(p,w){$e(m,w,p)}),l.l&&Ns({},function(p,w){$e(m,w,p)})}function Di(l,m,p){p=Math.min(l.i.length,p);var w=l.l?y(l.l.Na,l.l,l):null;e:{var U=l.i;let $=-1;for(;;){const ne=["count="+p];$==-1?0<p?($=U[0].g,ne.push("ofs="+$)):$=0:ne.push("ofs="+$);let He=!0;for(let Dt=0;Dt<p;Dt++){let Fe=U[Dt].g;const Ge=U[Dt].map;if(Fe-=$,0>Fe)$=Math.max(0,U[Dt].g-100),He=!1;else try{Sa(Ge,ne,"req"+Fe+"_")}catch{w&&w(Ge)}}if(He){w=ne.join("&");break e}}}return l=l.i.splice(0,p),m.D=l,w}function dn(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;Oe||ce(),Z||(Oe(),Z=!0),de.add(m,l),l.v=0}}function ar(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=pr(y(l.Fa,l),jn(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Vs(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=pr(y(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),ss(this),Vs(this))};function as(l){l.A!=null&&(c.clearTimeout(l.A),l.A=null)}function Vs(l){l.g=new vr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=Rr(l.qa);$e(m,"RID","rpc"),$e(m,"SID",l.K),$e(m,"AID",l.T),$e(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&$e(m,"TO",l.ja),$e(m,"TYPE","xmlhttp"),is(l,m),l.m&&l.o&&cn(m,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=es(Rr(m)),p.m=null,p.P=!0,Ps(p,l)}t.Za=function(){this.C!=null&&(this.C=null,ss(this),ar(this),Ot(19))};function ct(l){l.C!=null&&(c.clearTimeout(l.C),l.C=null)}function Fr(l,m){var p=null;if(l.g==m){ct(l),as(l),l.g=null;var w=2}else if(he(l.h,m))p=m.D,Ze(l.h,m),w=1;else return;if(l.G!=0){if(m.o)if(w==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=l.B;w=Sn(),ft(w,new va(w,p)),Ls(l)}else dn(l);else if(U=m.s,U==3||U==0&&0<m.X||!(w==1&&Co(l,m)||w==2&&ar(l)))switch(p&&0<p.length&&(m=l.h,m.i=m.i.concat(p)),U){case 1:At(l,5);break;case 4:At(l,10);break;case 3:At(l,6);break;default:At(l,2)}}}function jn(l,m){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*m}function At(l,m){if(l.j.info("Error code "+m),m==2){var p=y(l.fb,l),w=l.Xa;const U=!w;w=new Mr(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||In(w,"https"),es(w),U?_r(w.toString(),p):Ta(w.toString(),p)}else Ot(2);l.G=0,l.l&&l.l.sa(m),Ti(l),Ei(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Ti(l){if(l.G=0,l.ka=[],l.l){const m=Ut(l.h);(m.length!=0||l.i.length!=0)&&(k(l.ka,m),k(l.ka,l.i),l.h.i.length=0,D(l.i),l.i.length=0),l.l.ra()}}function Si(l,m,p){var w=p instanceof Mr?Rr(p):new Mr(p);if(w.g!="")m&&(w.g=m+"."+w.g),Zn(w,w.s);else{var U=c.location;w=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var $=new Mr(null);w&&In($,w),m&&($.g=m),U&&Zn($,U),p&&($.l=p),w=$}return p=l.D,m=l.ya,p&&m&&$e(w,p,m),$e(w,"VER",l.la),is(l,w),w}function Nt(l,m,p){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new it(new un({eb:p})):new it(l.pa),m.Ha(l.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function os(){}t=os.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ls(){}ls.prototype.g=function(l,m){return new Ft(l,m)};function Ft(l,m){wt.call(this),this.g=new Na(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!P(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!P(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new pt(this)}N(Ft,wt),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){bi(this.g)},Ft.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Dn(l),l=p);m.i.push(new hi(m.Ya++,l)),m.G==3&&Ls(m)},Ft.prototype.N=function(){this.g.l=null,delete this.j,bi(this.g),delete this.g,Ft.aa.N.call(this)};function Ma(l){Tn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const p in m){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}N(Ma,Tn);function Ra(){oi.call(this),this.status=1}N(Ra,oi);function pt(l){this.g=l}N(pt,os),pt.prototype.ua=function(){ft(this.g,"a")},pt.prototype.ta=function(l){ft(this.g,new Ma(l))},pt.prototype.sa=function(l){ft(this.g,new Ra)},pt.prototype.ra=function(){ft(this.g,"b")},ls.prototype.createWebChannel=ls.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,nC=function(){return new ls},rC=function(){return Sn()},tC=Hr,Ev={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qn.NO_ERROR=0,Qn.TIMEOUT=8,Qn.HTTP_ERROR=6,ah=Qn,ci.COMPLETE="complete",eC=ci,Yn.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Oc=Yn,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,ZI=it}).apply(typeof Lf<"u"?Lf:typeof self<"u"?self:typeof window<"u"?window:{});const F1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dr.UNAUTHENTICATED=new Dr(null),Dr.GOOGLE_CREDENTIALS=new Dr("google-credentials-uid"),Dr.FIRST_PARTY=new Dr("first-party-uid"),Dr.MOCK_USER=new Dr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new b_("@firebase/firestore");function Dc(){return ul.logLevel}function ye(t,...e){if(ul.logLevel<=We.DEBUG){const r=e.map(F_);ul.debug(`Firestore (${Bu}): ${t}`,...r)}}function ea(t,...e){if(ul.logLevel<=We.ERROR){const r=e.map(F_);ul.error(`Firestore (${Bu}): ${t}`,...r)}}function Du(t,...e){if(ul.logLevel<=We.WARN){const r=e.map(F_);ul.warn(`Firestore (${Bu}): ${t}`,...r)}}function F_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t="Unexpected state"){const e=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: `+t;throw ea(e),new Error(e)}function nt(t,e){t||Pe()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends da{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Dr.UNAUTHENTICATED))}shutdown(){}}class JY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ZY{constructor(e){this.t=e,this.currentUser=Dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){nt(this.o===void 0);let n=this.i;const s=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let i=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const d=i;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hi)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(nt(typeof n.accessToken=="string"),new sC(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new Dr(e)}}class eq{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Dr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tq{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new eq(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nq{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){nt(this.o===void 0);const n=i=>{i.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ye("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(nt(typeof r.token=="string"),this.R=r.token,new rq(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=sq(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%e.length))}return n}}function Je(t,e){return t<e?-1:t>e?1:0}function Tu(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new xe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new xe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new xe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Qt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Qt(0,0))}static max(){return new Ie(new Qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,r,n){r===void 0?r=0:r>e.length&&Pe(),n===void 0?n=e.length-r:n>e.length-r&&Pe(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return pd.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof pd?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=e.get(s),o=r.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Et extends pd{construct(e,r,n){return new Et(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new xe(ee.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new Et(r)}static emptyPath(){return new Et([])}}const iq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends pd{construct(e,r,n){return new cr(e,r,n)}static isValidIdentifier(e){return iq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new cr(["__name__"])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new xe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new xe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new xe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(n+=c,s++):(i(),s++)}if(i(),o)throw new xe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(r)}static emptyPath(){return new cr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Et.fromString(e))}static fromName(e){return new Ee(Et.fromString(e).popFirst(5))}static empty(){return new Ee(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Et.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Et(e.slice()))}}function aq(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(n===1e9?new Qt(r+1,0):new Qt(r,n));return new po(s,Ee.empty(),e)}function oq(t){return new po(t.readTime,t.key,-1)}class po{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new po(Ie.min(),Ee.empty(),-1)}static max(){return new po(Ie.max(),Ee.empty(),-1)}}function lq(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ee.comparator(t.documentKey,e.documentKey),r!==0?r:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==uq)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new te((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof te?r:te.resolve(r)}catch(r){return te.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):te.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):te.reject(r)}static resolve(e){return new te((r,n)=>{r(e)})}static reject(e){return new te((r,n)=>{n(e)})}static waitFor(e){return new te((r,n)=>{let s=0,i=0,o=!1;e.forEach(c=>{++s,c.next(()=>{++i,o&&i===s&&r()},d=>n(d))}),o=!0,i===s&&r()})}static or(e){let r=te.resolve(!1);for(const n of e)r=r.next(s=>s?te.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,i)=>{n.push(r.call(this,s,i))}),this.waitFor(n)}static mapArray(e,r){return new te((n,s)=>{const i=e.length,o=new Array(i);let c=0;for(let d=0;d<i;d++){const h=d;r(e[h]).next(g=>{o[h]=g,++c,c===i&&n(o)},g=>s(g))}})}static doWhile(e,r){return new te((n,s)=>{const i=()=>{e()===!0?r().next(()=>{i()},s):n()};i()})}}function dq(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Qd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}k_.oe=-1;function eg(t){return t==null}function Kh(t){return t===0&&1/t==-1/0}function fq(t){return typeof t=="number"&&Number.isInteger(t)&&!Kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Wu(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function aC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,r){this.comparator=e,this.root=r||ur.EMPTY}insert(e,r){return new Ct(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vf(this.root,e,this.comparator,!0)}}class Vf{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ur{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??ur.RED,this.left=s??ur.EMPTY,this.right=i??ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new ur(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return ur.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,r,n,s,i){return this}insert(e,r,n){return new ur(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new L1(this.data.getIterator())}getIteratorFrom(e){return new L1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof fr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new fr(this.comparator);return r.data=e,r}}class L1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new ms([])}unionWith(e){let r=new fr(cr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ms(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Tu(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new oC("Invalid base64 string: "+i):i}}(e);return new mr(r)}static fromUint8Array(e){const r=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new mr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const hq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(nt(!!t),typeof t=="string"){let e=0;const r=hq.exec(t);if(nt(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cl(t){return typeof t=="string"?mr.fromBase64String(t):mr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function V_(t){const e=t.mapValue.fields.__previous_value__;return L_(e)?V_(e):e}function vd(t){const e=vo(t.mapValue.fields.__local_write_time__.timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e,r,n,s,i,o,c,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h}}class yd{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new yd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof yd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf={mapValue:{}};function dl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?L_(t)?4:pq(t)?9007199254740991:gq(t)?10:11:Pe()}function ti(t,e){if(t===e)return!0;const r=dl(t);if(r!==dl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vd(t).isEqual(vd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=vo(s.timestampValue),c=vo(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return cl(s.bytesValue).isEqual(cl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Vt(s.geoPointValue.latitude)===Vt(i.geoPointValue.latitude)&&Vt(s.geoPointValue.longitude)===Vt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Vt(s.integerValue)===Vt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Vt(s.doubleValue),c=Vt(i.doubleValue);return o===c?Kh(o)===Kh(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Tu(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(k1(o)!==k1(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!ti(o[d],c[d])))return!1;return!0}(t,e);default:return Pe()}}function _d(t,e){return(t.values||[]).find(r=>ti(r,e))!==void 0}function Su(t,e){if(t===e)return 0;const r=dl(t),n=dl(e);if(r!==n)return Je(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(i,o){const c=Vt(i.integerValue||i.doubleValue),d=Vt(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return V1(t.timestampValue,e.timestampValue);case 4:return V1(vd(t),vd(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return function(i,o){const c=cl(i),d=cl(o);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),d=o.split("/");for(let h=0;h<c.length&&h<d.length;h++){const g=Je(c[h],d[h]);if(g!==0)return g}return Je(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const c=Je(Vt(i.latitude),Vt(o.latitude));return c!==0?c:Je(Vt(i.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return z1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var c,d,h,g;const v=i.fields||{},y=o.fields||{},E=(c=v.value)===null||c===void 0?void 0:c.arrayValue,N=(d=y.value)===null||d===void 0?void 0:d.arrayValue,D=Je(((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0,((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0);return D!==0?D:z1(E,N)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===zf.mapValue&&o===zf.mapValue)return 0;if(i===zf.mapValue)return 1;if(o===zf.mapValue)return-1;const c=i.fields||{},d=Object.keys(c),h=o.fields||{},g=Object.keys(h);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const y=Je(d[v],g[v]);if(y!==0)return y;const E=Su(c[d[v]],h[g[v]]);if(E!==0)return E}return Je(d.length,g.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function V1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const r=vo(t),n=vo(e),s=Je(r.seconds,n.seconds);return s!==0?s:Je(r.nanos,n.nanos)}function z1(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=Su(r[s],n[s]);if(i)return i}return Je(r.length,n.length)}function Pu(t){return Dv(t)}function Dv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=vo(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return cl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ee.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=Dv(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const o of n)i?i=!1:s+=",",s+=`${o}:${Dv(r.fields[o])}`;return s+"}"}(t.mapValue):Pe()}function Tv(t){return!!t&&"integerValue"in t}function z_(t){return!!t&&"arrayValue"in t}function U1(t){return!!t&&"nullValue"in t}function B1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oh(t){return!!t&&"mapValue"in t}function gq(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wu(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=qc(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=qc(t.arrayValue.values[r]);return e}return Object.assign({},t)}function pq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!oh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=qc(r)}setAll(e){let r=cr.emptyPath(),n={},s=[];e.forEach((o,c)=>{if(!r.isImmediateParentOf(c)){const d=this.getFieldsMap(r);this.applyChanges(d,n,s),n={},s=[],r=c.popLast()}o?n[c.lastSegment()]=qc(o):s.push(c.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());oh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];oh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){Wu(r,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new Ln(qc(this.value))}}function lC(t){const e=[];return Wu(t.fields,(r,n)=>{const s=new cr([r]);if(oh(n)){const i=lC(n.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new ms(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,r,n,s,i,o,c){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Ir(e,0,Ie.min(),Ie.min(),Ie.min(),Ln.empty(),0)}static newFoundDocument(e,r,n,s){return new Ir(e,1,r,Ie.min(),n,s,0)}static newNoDocument(e,r){return new Ir(e,2,r,Ie.min(),Ie.min(),Ln.empty(),0)}static newUnknownDocument(e,r){return new Ir(e,3,r,Ie.min(),Ie.min(),Ln.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,r){this.position=e,this.inclusive=r}}function W1(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?n=Ee.comparator(Ee.fromName(o.referenceValue),r.key):n=Su(o,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function $1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ti(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,r="asc"){this.field=e,this.dir=r}}function vq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{}class Gt extends uC{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new _q(e,r,n):r==="array-contains"?new bq(e,n):r==="in"?new Eq(e,n):r==="not-in"?new Dq(e,n):r==="array-contains-any"?new Tq(e,n):new Gt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new xq(e,n):new wq(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Su(r,this.value)):r!==null&&dl(this.value)===dl(r)&&this.matchesComparison(Su(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends uC{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new ri(e,r)}matches(e){return cC(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function cC(t){return t.op==="and"}function dC(t){return yq(t)&&cC(t)}function yq(t){for(const e of t.filters)if(e instanceof ri)return!1;return!0}function Sv(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+Pu(t.value);if(dC(t))return t.filters.map(e=>Sv(e)).join(",");{const e=t.filters.map(r=>Sv(r)).join(",");return`${t.op}(${e})`}}function fC(t,e){return t instanceof Gt?function(n,s){return s instanceof Gt&&n.op===s.op&&n.field.isEqual(s.field)&&ti(n.value,s.value)}(t,e):t instanceof ri?function(n,s){return s instanceof ri&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,o,c)=>i&&fC(o,s.filters[c]),!0):!1}(t,e):void Pe()}function hC(t){return t instanceof Gt?function(r){return`${r.field.canonicalString()} ${r.op} ${Pu(r.value)}`}(t):t instanceof ri?function(r){return r.op.toString()+" {"+r.getFilters().map(hC).join(" ,")+"}"}(t):"Filter"}class _q extends Gt{constructor(e,r,n){super(e,r,n),this.key=Ee.fromName(n.referenceValue)}matches(e){const r=Ee.comparator(e.key,this.key);return this.matchesComparison(r)}}class xq extends Gt{constructor(e,r){super(e,"in",r),this.keys=mC("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class wq extends Gt{constructor(e,r){super(e,"not-in",r),this.keys=mC("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function mC(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ee.fromName(n.referenceValue))}class bq extends Gt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return z_(r)&&_d(r.arrayValue,this.value)}}class Eq extends Gt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&_d(this.value.arrayValue,r)}}class Dq extends Gt{constructor(e,r){super(e,"not-in",r)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!_d(this.value.arrayValue,r)}}class Tq extends Gt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!z_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>_d(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e,r=null,n=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.ue=null}}function H1(t,e=null,r=[],n=[],s=null,i=null,o=null){return new Sq(t,e,r,n,s,i,o)}function U_(t){const e=Ce(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Sv(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),eg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Pu(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Pu(n)).join(",")),e.ue=r}return e.ue}function B_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!vq(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!fC(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$1(t.startAt,e.startAt)&&$1(t.endAt,e.endAt)}function Pv(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,r=null,n=[],s=[],i=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Pq(t,e,r,n,s,i,o,c){return new tg(t,e,r,n,s,i,o,c)}function W_(t){return new tg(t)}function Y1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Iq(t){return t.collectionGroup!==null}function Gc(t){const e=Ce(t);if(e.ce===null){e.ce=[];const r=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new fr(cr.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Xh(i,n))}),r.has(cr.keyField().canonicalString())||e.ce.push(new Xh(cr.keyField(),n))}return e.ce}function Xs(t){const e=Ce(t);return e.le||(e.le=Cq(e,Gc(t))),e.le}function Cq(t,e){if(t.limitType==="F")return H1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Xh(s.field,i)});const r=t.endAt?new Qh(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Qh(t.startAt.position,t.startAt.inclusive):null;return H1(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Iv(t,e,r){return new tg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function rg(t,e){return B_(Xs(t),Xs(e))&&t.limitType===e.limitType}function gC(t){return`${U_(Xs(t))}|lt:${t.limitType}`}function Bl(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>hC(s)).join(", ")}]`),eg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>Pu(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>Pu(s)).join(",")),`Target(${n})`}(Xs(t))}; limitType=${t.limitType})`}function ng(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ee.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of Gc(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,c,d){const h=W1(o,c,d);return o.inclusive?h<=0:h<0}(n.startAt,Gc(n),s)||n.endAt&&!function(o,c,d){const h=W1(o,c,d);return o.inclusive?h>=0:h>0}(n.endAt,Gc(n),s))}(t,e)}function Oq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pC(t){return(e,r)=>{let n=!1;for(const s of Gc(t)){const i=Nq(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function Nq(t,e,r){const n=t.field.isKeyField()?Ee.comparator(e.key,r.key):function(i,o,c){const d=o.data.field(i),h=c.data.field(i);return d!==null&&h!==null?Su(d,h):Pe()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wu(this.inner,(r,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return aC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=new Ct(Ee.comparator);function ta(){return jq}const vC=new Ct(Ee.comparator);function Nc(...t){let e=vC;for(const r of t)e=e.insert(r.key,r);return e}function yC(t){let e=vC;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Qo(){return Kc()}function _C(){return Kc()}function Kc(){return new $u(t=>t.toString(),(t,e)=>t.isEqual(e))}const Mq=new Ct(Ee.comparator),Rq=new fr(Ee.comparator);function Be(...t){let e=Rq;for(const r of t)e=e.add(r);return e}const Aq=new fr(Je);function Fq(){return Aq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function xC(t){return{integerValue:""+t}}function kq(t,e){return fq(e)?xC(e):$_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this._=void 0}}function Lq(t,e,r){return t instanceof xd?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&L_(i)&&(i=V_(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(r,e):t instanceof wd?bC(t,e):t instanceof bd?EC(t,e):function(s,i){const o=wC(s,i),c=q1(o)+q1(s.Pe);return Tv(o)&&Tv(s.Pe)?xC(c):$_(s.serializer,c)}(t,e)}function Vq(t,e,r){return t instanceof wd?bC(t,e):t instanceof bd?EC(t,e):r}function wC(t,e){return t instanceof Jh?function(n){return Tv(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class xd extends sg{}class wd extends sg{constructor(e){super(),this.elements=e}}function bC(t,e){const r=DC(e);for(const n of t.elements)r.some(s=>ti(s,n))||r.push(n);return{arrayValue:{values:r}}}class bd extends sg{constructor(e){super(),this.elements=e}}function EC(t,e){let r=DC(e);for(const n of t.elements)r=r.filter(s=>!ti(s,n));return{arrayValue:{values:r}}}class Jh extends sg{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function q1(t){return Vt(t.integerValue||t.doubleValue)}function DC(t){return z_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e,r){this.field=e,this.transform=r}}function Uq(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof wd&&s instanceof wd||n instanceof bd&&s instanceof bd?Tu(n.elements,s.elements,ti):n instanceof Jh&&s instanceof Jh?ti(n.Pe,s.Pe):n instanceof xd&&s instanceof xd}(t.transform,e.transform)}class Bq{constructor(e,r){this.version=e,this.transformResults=r}}class Js{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Js}static exists(e){return new Js(void 0,e)}static updateTime(e){return new Js(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ig{}function TC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new H_(t.key,Js.none()):new Xd(t.key,t.data,Js.none());{const r=t.data,n=Ln.empty();let s=new fr(cr.comparator);for(let i of e.fields)if(!s.has(i)){let o=r.field(i);o===null&&i.length>1&&(i=i.popLast(),o=r.field(i)),o===null?n.delete(i):n.set(i,o),s=s.add(i)}return new _l(t.key,n,new ms(s.toArray()),Js.none())}}function Wq(t,e,r){t instanceof Xd?function(s,i,o){const c=s.value.clone(),d=K1(s.fieldTransforms,i,o.transformResults);c.setAll(d),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):t instanceof _l?function(s,i,o){if(!lh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=K1(s.fieldTransforms,i,o.transformResults),d=i.data;d.setAll(SC(s)),d.setAll(c),i.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(t,e,r):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Qc(t,e,r,n){return t instanceof Xd?function(i,o,c,d){if(!lh(i.precondition,o))return c;const h=i.value.clone(),g=Q1(i.fieldTransforms,d,o);return h.setAll(g),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,r,n):t instanceof _l?function(i,o,c,d){if(!lh(i.precondition,o))return c;const h=Q1(i.fieldTransforms,d,o),g=o.data;return g.setAll(SC(i)),g.setAll(h),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(v=>v.field))}(t,e,r,n):function(i,o,c){return lh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,r)}function $q(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=wC(n.transform,s||null);i!=null&&(r===null&&(r=Ln.empty()),r.set(n.field,i))}return r||null}function G1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Tu(n,s,(i,o)=>Uq(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xd extends ig{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class _l extends ig{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function SC(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function K1(t,e,r){const n=new Map;nt(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],o=i.transform,c=e.data.field(i.field);n.set(i.field,Vq(o,c,r[s]))}return n}function Q1(t,e,r){const n=new Map;for(const s of t){const i=s.transform,o=r.data.field(s.field);n.set(s.field,Lq(i,o,e))}return n}class H_ extends ig{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hq extends ig{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Wq(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Qc(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Qc(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=_C();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=r.has(s.key)?null:c;const d=TC(o,c);d!==null&&n.set(s.key,d),o.isValidDocument()||o.convertToNoDocument(Ie.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Be())}isEqual(e){return this.batchId===e.batchId&&Tu(this.mutations,e.mutations,(r,n)=>G1(r,n))&&Tu(this.baseMutations,e.baseMutations,(r,n)=>G1(r,n))}}class Y_{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){nt(e.mutations.length===n.length);let s=function(){return Mq}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,n[o].version);return new Y_(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Ye;function Kq(t){switch(t){default:return Pe();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function PC(t){if(t===void 0)return ea("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Bt.OK:return ee.OK;case Bt.CANCELLED:return ee.CANCELLED;case Bt.UNKNOWN:return ee.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ee.INTERNAL;case Bt.UNAVAILABLE:return ee.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ee.NOT_FOUND;case Bt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Bt.ABORTED:return ee.ABORTED;case Bt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Bt.DATA_LOSS:return ee.DATA_LOSS;default:return Pe()}}(Ye=Bt||(Bt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=new tl([4294967295,4294967295],0);function X1(t){const e=Qq().encode(t),r=new JI;return r.update(e),new Uint8Array(r.digest())}function J1(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new tl([r,n],0),new tl([s,i],0)]}class q_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new jc(`Invalid padding: ${r}`);if(n<0)throw new jc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new jc(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=tl.fromNumber(this.Ie)}Ee(e,r,n){let s=e.add(r.multiply(tl.fromNumber(n)));return s.compare(Xq)===1&&(s=new tl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=X1(e),[n,s]=J1(r);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);if(!this.de(o))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new q_(i,s,r);return n.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;const r=X1(e),[n,s]=J1(r);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,Jd.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new ag(Ie.min(),s,new Ct(Je),ta(),Be())}}class Jd{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Jd(n,r,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,r,n,s){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=s}}class IC{constructor(e,r){this.targetId=e,this.me=r}}class CC{constructor(e,r,n=mr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class Z1{constructor(){this.fe=0,this.ge=tE(),this.pe=mr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Be(),r=Be(),n=Be();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:Pe()}}),new Jd(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=tE()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Jq{constructor(e){this.Le=e,this.Be=new Map,this.ke=ta(),this.qe=eE(),this.Qe=new Ct(Je)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Pe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,s)=>{this.ze(s)&&r(s)})}He(e){const r=e.targetId,n=e.me.count,s=this.Je(r);if(s){const i=s.target;if(Pv(i))if(n===0){const o=new Ee(i.path);this.Ue(r,o,Ir.newNoDocument(o,Ie.min()))}else nt(n===1);else{const o=this.Ye(r);if(o!==n){const c=this.Ze(e),d=c?this.Xe(c,e,o):1;if(d!==0){this.je(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,h)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let o,c;try{o=cl(n).toUint8Array()}catch(d){if(d instanceof oC)return Du("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new q_(o,s,i)}catch(d){return Du(d instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ie===0?null:c}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let s=0;return n.forEach(i=>{const o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.Ue(r,i,null),s++)}),s}rt(e){const r=new Map;this.Be.forEach((i,o)=>{const c=this.Je(o);if(c){if(i.current&&Pv(c.target)){const d=new Ee(c.target.path);this.ke.get(d)!==null||this.it(o,d)||this.Ue(o,d,Ir.newNoDocument(d,e))}i.be&&(r.set(o,i.ve()),i.Ce())}});let n=Be();this.qe.forEach((i,o)=>{let c=!0;o.forEachWhile(d=>{const h=this.Je(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new ag(e,r,this.Qe,this.ke,n);return this.ke=ta(),this.qe=eE(),this.Qe=new Ct(Je),s}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,r)?s.Fe(r,1):s.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Z1,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new fr(Je),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||ye("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Z1),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function eE(){return new Ct(Ee.comparator)}function tE(){return new Ct(Ee.comparator)}const Zq={asc:"ASCENDING",desc:"DESCENDING"},eG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tG={and:"AND",or:"OR"};class rG{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Cv(t,e){return t.useProto3Json||eg(e)?e:{value:e}}function Zh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nG(t,e){return Zh(t,e.toTimestamp())}function Zs(t){return nt(!!t),Ie.fromTimestamp(function(r){const n=vo(r);return new Qt(n.seconds,n.nanos)}(t))}function G_(t,e){return Ov(t,e).canonicalString()}function Ov(t,e){const r=function(s){return new Et(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function NC(t){const e=Et.fromString(t);return nt(FC(e)),e}function Nv(t,e){return G_(t.databaseId,e.path)}function dp(t,e){const r=NC(e);if(r.get(1)!==t.databaseId.projectId)throw new xe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new xe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ee(MC(r))}function jC(t,e){return G_(t.databaseId,e)}function sG(t){const e=NC(t);return e.length===4?Et.emptyPath():MC(e)}function jv(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MC(t){return nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rE(t,e,r){return{name:Nv(t,e),fields:r.value.mapValue.fields}}function iG(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,g){return h.useProto3Json?(nt(g===void 0||typeof g=="string"),mr.fromBase64String(g||"")):(nt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),mr.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){const g=h.code===void 0?ee.UNKNOWN:PC(h.code);return new xe(g,h.message||"")}(o);r=new CC(n,s,i,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=dp(t,n.document.name),i=Zs(n.document.updateTime),o=n.document.createTime?Zs(n.document.createTime):Ie.min(),c=new Ln({mapValue:{fields:n.document.fields}}),d=Ir.newFoundDocument(s,i,o,c),h=n.targetIds||[],g=n.removedTargetIds||[];r=new uh(h,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=dp(t,n.document),i=n.readTime?Zs(n.readTime):Ie.min(),o=Ir.newNoDocument(s,i),c=n.removedTargetIds||[];r=new uh([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=dp(t,n.document),i=n.removedTargetIds||[];r=new uh([],i,s,null)}else{if(!("filter"in e))return Pe();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,o=new Gq(s,i),c=n.targetId;r=new IC(c,o)}}return r}function aG(t,e){let r;if(e instanceof Xd)r={update:rE(t,e.key,e.value)};else if(e instanceof H_)r={delete:Nv(t,e.key)};else if(e instanceof _l)r={update:rE(t,e.key,e.data),updateMask:gG(e.fieldMask)};else{if(!(e instanceof Hq))return Pe();r={verify:Nv(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,o){const c=o.transform;if(c instanceof xd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof bd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Jh)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw Pe()}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:nG(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Pe()}(t,e.precondition)),r}function oG(t,e){return t&&t.length>0?(nt(e!==void 0),t.map(r=>function(s,i){let o=s.updateTime?Zs(s.updateTime):Zs(i);return o.isEqual(Ie.min())&&(o=Zs(i)),new Bq(o,s.transformResults||[])}(r,e))):[]}function lG(t,e){return{documents:[jC(t,e.path)]}}function uG(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=jC(t,s);const i=function(h){if(h.length!==0)return AC(ri.create(h,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(g=>function(y){return{field:Wl(y.field),direction:fG(y.dir)}}(g))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const c=Cv(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:r,parent:s}}function cG(t){let e=sG(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){nt(n===1);const g=r.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let i=[];r.where&&(i=function(v){const y=RC(v);return y instanceof ri&&dC(y)?y.getFilters():[y]}(r.where));let o=[];r.orderBy&&(o=function(v){return v.map(y=>function(N){return new Xh($l(N.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(y))}(r.orderBy));let c=null;r.limit&&(c=function(v){let y;return y=typeof v=="object"?v.value:v,eg(y)?null:y}(r.limit));let d=null;r.startAt&&(d=function(v){const y=!!v.before,E=v.values||[];return new Qh(E,y)}(r.startAt));let h=null;return r.endAt&&(h=function(v){const y=!v.before,E=v.values||[];return new Qh(E,y)}(r.endAt)),Pq(e,s,o,i,c,"F",d,h)}function dG(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function RC(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=$l(r.unaryFilter.field);return Gt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=$l(r.unaryFilter.field);return Gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$l(r.unaryFilter.field);return Gt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$l(r.unaryFilter.field);return Gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):t.fieldFilter!==void 0?function(r){return Gt.create($l(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ri.create(r.compositeFilter.filters.map(n=>RC(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe()}}(r.compositeFilter.op))}(t):Pe()}function fG(t){return Zq[t]}function hG(t){return eG[t]}function mG(t){return tG[t]}function Wl(t){return{fieldPath:t.canonicalString()}}function $l(t){return cr.fromServerFormat(t.fieldPath)}function AC(t){return t instanceof Gt?function(r){if(r.op==="=="){if(B1(r.value))return{unaryFilter:{field:Wl(r.field),op:"IS_NAN"}};if(U1(r.value))return{unaryFilter:{field:Wl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(B1(r.value))return{unaryFilter:{field:Wl(r.field),op:"IS_NOT_NAN"}};if(U1(r.value))return{unaryFilter:{field:Wl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wl(r.field),op:hG(r.op),value:r.value}}}(t):t instanceof ri?function(r){const n=r.getFilters().map(s=>AC(s));return n.length===1?n[0]:{compositeFilter:{op:mG(r.op),filters:n}}}(t):Pe()}function gG(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function FC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,r,n,s,i=Ie.min(),o=Ie.min(),c=mr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e){this.ct=e}}function vG(t){const e=cG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Iv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(){this.un=new _G}addToCollectionParentIndex(e,r){return this.un.add(r),te.resolve()}getCollectionParents(e,r){return te.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return te.resolve()}deleteFieldIndex(e,r){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,r){return te.resolve()}getDocumentsMatchingTarget(e,r){return te.resolve(null)}getIndexType(e,r){return te.resolve(0)}getFieldIndexes(e,r){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,r){return te.resolve(po.min())}getMinOffsetFromCollectionGroup(e,r){return te.resolve(po.min())}updateCollectionGroup(e,r,n){return te.resolve()}updateIndexEntries(e,r){return te.resolve()}}class _G{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new fr(Et.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new fr(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Iu(0)}static kn(){return new Iu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(){this.changes=new $u(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ir.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?te.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&Qc(n.mutation,s,ms.empty(),Qt.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Be()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Be()){const s=Qo();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(i=>{let o=Nc();return i.forEach((c,d)=>{o=o.insert(c,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Qo();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Be()))}populateOverlays(e,r,n){const s=[];return n.forEach(i=>{r.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,c)=>{r.set(o,c)})})}computeViews(e,r,n,s){let i=ta();const o=Kc(),c=function(){return Kc()}();return r.forEach((d,h)=>{const g=n.get(h.key);s.has(h.key)&&(g===void 0||g.mutation instanceof _l)?i=i.insert(h.key,h):g!==void 0?(o.set(h.key,g.mutation.getFieldMask()),Qc(g.mutation,h,g.mutation.getFieldMask(),Qt.now())):o.set(h.key,ms.empty())}),this.recalculateAndSaveOverlays(e,i).next(d=>(d.forEach((h,g)=>o.set(h,g)),r.forEach((h,g)=>{var v;return c.set(h,new wG(g,(v=o.get(h))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,r){const n=Kc();let s=new Ct((o,c)=>o-c),i=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const c of o)c.keys().forEach(d=>{const h=r.get(d);if(h===null)return;let g=n.get(d)||ms.empty();g=c.applyToLocalView(h,g),n.set(d,g);const v=(s.get(c.batchId)||Be()).add(d);s=s.insert(c.batchId,v)})}).next(()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,g=d.value,v=_C();g.forEach(y=>{if(!i.has(y)){const E=TC(r.get(y),n.get(y));E!==null&&v.set(y,E),i=i.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,v))}return te.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(o){return Ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Iq(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):te.resolve(Qo());let c=-1,d=i;return o.next(h=>te.forEach(h,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),i.get(g)?te.resolve():this.remoteDocumentCache.getEntry(e,g).next(y=>{d=d.insert(g,y)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,d,h,Be())).next(g=>({batchId:c,changes:yC(g)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ee(r)).next(n=>{let s=Nc();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let o=Nc();return this.indexManager.getCollectionParents(e,i).next(c=>te.forEach(c,d=>{const h=function(v,y){return new tg(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(r,d.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,n,s).next(g=>{g.forEach((v,y)=>{o=o.insert(v,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s))).next(o=>{i.forEach((d,h)=>{const g=h.getKey();o.get(g)===null&&(o=o.insert(g,Ir.newInvalidDocument(g)))});let c=Nc();return o.forEach((d,h)=>{const g=i.get(d);g!==void 0&&Qc(g.mutation,h,ms.empty(),Qt.now()),ng(r,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return te.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:Zs(s.createTime)}}(r)),te.resolve()}getNamedQuery(e,r){return te.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(s){return{name:s.name,query:vG(s.bundledQuery),readTime:Zs(s.readTime)}}(r)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(){this.overlays=new Ct(Ee.comparator),this.Ir=new Map}getOverlay(e,r){return te.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Qo();return te.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,i)=>{this.ht(e,r,i)}),te.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),te.resolve()}getOverlaysForCollection(e,r,n){const s=Qo(),i=r.length+1,o=new Ee(r.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===i&&d.largestBatchId>n&&s.set(d.getKey(),d)}return te.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new Ct((h,g)=>h-g);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let g=i.get(h.largestBatchId);g===null&&(g=Qo(),i=i.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const c=Qo(),d=i.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,g)=>c.set(h,g)),!(c.size()>=s)););return te.resolve(c)}ht(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new qq(r,n));let i=this.Ir.get(r);i===void 0&&(i=Be(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(){this.sessionToken=mr.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.Tr=new fr(rr.Er),this.dr=new fr(rr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new rr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new rr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Ee(new Et([])),n=new rr(r,e),s=new rr(r,e+1),i=[];return this.dr.forEachInRange([n,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ee(new Et([])),n=new rr(r,e),s=new rr(r,e+1);let i=Be();return this.dr.forEachInRange([n,s],o=>{i=i.add(o.key)}),i}containsKey(e){const r=new rr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class rr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ee.comparator(e.key,r.key)||Je(e.wr,r.wr)}static Ar(e,r){return Je(e.wr,r.wr)||Ee.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new fr(rr.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Yq(i,r,n,s);this.mutationQueue.push(o);for(const c of s)this.br=this.br.add(new rr(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return te.resolve(o)}lookupMutationBatch(e,r){return te.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.vr(n),i=s<0?0:s;return te.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new rr(r,0),s=new rr(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,s],o=>{const c=this.Dr(o.wr);i.push(c)}),te.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new fr(Je);return r.forEach(s=>{const i=new rr(s,0),o=new rr(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],c=>{n=n.add(c.wr)})}),te.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;Ee.isDocumentKey(i)||(i=i.child(""));const o=new rr(new Ee(i),0);let c=new fr(Je);return this.br.forEachWhile(d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===s&&(c=c.add(d.wr)),!0)},o),te.resolve(this.Cr(c))}Cr(e){const r=[];return e.forEach(n=>{const s=this.Dr(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){nt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return te.forEach(r.mutations,s=>{const i=new rr(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new rr(r,0),s=this.br.firstAfterOrEqual(n);return te.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e){this.Mr=e,this.docs=function(){return new Ct(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return te.resolve(n?n.document.mutableCopy():Ir.newInvalidDocument(r))}getEntries(e,r){let n=ta();return r.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():Ir.newInvalidDocument(s))}),te.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=ta();const o=r.path,c=new Ee(o.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:g}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||lq(oq(g),n)<=0||(s.has(g.key)||ng(r,g))&&(i=i.insert(g.key,g.mutableCopy()))}return te.resolve(i)}getAllFromCollectionGroup(e,r,n,s){Pe()}Or(e,r){return te.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new IG(this)}getSize(e){return te.resolve(this.size)}}class IG extends xG{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.cr.addEntry(e,s)):this.cr.removeEntry(n)}),te.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e){this.persistence=e,this.Nr=new $u(r=>U_(r),B_),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new K_,this.targetCount=0,this.kr=Iu.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,s)=>r(s)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),te.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Iu(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,te.resolve()}updateTargetData(e,r){return this.Kn(r),te.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),te.waitFor(i).next(()=>s)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return te.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),te.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),te.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),te.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return te.resolve(n)}containsKey(e,r){return te.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e,r){this.qr={},this.overlays={},this.Qr=new k_(0),this.Kr=!1,this.Kr=!0,this.$r=new TG,this.referenceDelegate=e(this),this.Ur=new CG(this),this.indexManager=new yG,this.remoteDocumentCache=function(s){return new PG(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new pG(r),this.Gr=new EG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new DG,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new SG(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){ye("MemoryPersistence","Starting transaction:",e);const s=new NG(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,r){return te.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class NG extends cq{constructor(e){super(),this.currentSequenceNumber=e}}class Q_{constructor(e){this.persistence=e,this.Jr=new K_,this.Yr=null}static Zr(e){return new Q_(e)}get Xr(){if(this.Yr)return this.Yr;throw Pe()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),te.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),te.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),te.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,n=>{const s=Ee.fromPath(n);return this.ei(e,s).next(i=>{i||r.removeEntry(s,Ie.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return te.or([()=>te.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=s}static Wi(e,r){let n=Be(),s=Be();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new X_(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RW()?8:dq(Or())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.Yi(e,r).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,r,s,n).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new jG;return this.Xi(e,r,o).next(c=>{if(i.result=c,this.zi)return this.es(e,r,o,c.size)})}).next(()=>i.result)}es(e,r,n,s){return n.documentReadCount<this.ji?(Dc()<=We.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Bl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(Dc()<=We.DEBUG&&ye("QueryEngine","Query:",Bl(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(Dc()<=We.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Bl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xs(r))):te.resolve())}Yi(e,r){if(Y1(r))return te.resolve(null);let n=Xs(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=Iv(r,null,"F"),n=Xs(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const o=Be(...i);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const h=this.ts(r,c);return this.ns(r,h,o,d.readTime)?this.Yi(e,Iv(r,null,"F")):this.rs(e,h,r,d)}))})))}Zi(e,r,n,s){return Y1(r)||s.isEqual(Ie.min())?te.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const o=this.ts(r,i);return this.ns(r,o,n,s)?te.resolve(null):(Dc()<=We.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bl(r)),this.rs(e,o,r,aq(s,-1)).next(c=>c))})}ts(e,r){let n=new fr(pC(e));return r.forEach((s,i)=>{ng(e,i)&&(n=n.add(i))}),n}ns(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,r,n){return Dc()<=We.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Bl(r)),this.Ji.getDocumentsMatchingQuery(e,r,po.min(),n)}rs(e,r,n,s){return this.Ji.getDocumentsMatchingQuery(e,n,s).next(i=>(r.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e,r,n,s){this.persistence=e,this.ss=r,this.serializer=s,this.os=new Ct(Je),this._s=new $u(i=>U_(i),B_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bG(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function AG(t,e,r,n){return new RG(t,e,r,n)}async function kC(t,e){const r=Ce(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const o=[],c=[];let d=Be();for(const h of s){o.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}for(const h of i){c.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}return r.localDocuments.getDocuments(n,d).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:c}))})})}function FG(t,e){const r=Ce(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return function(c,d,h,g){const v=h.batch,y=v.keys();let E=te.resolve();return y.forEach(N=>{E=E.next(()=>g.getEntry(d,N)).next(D=>{const k=h.docVersions.get(N);nt(k!==null),D.version.compareTo(k)<0&&(v.applyToRemoteDocument(D,h),D.isValidDocument()&&(D.setReadTime(h.commitVersion),g.addEntry(D)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(d,v))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=Be();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function LC(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function kG(t,e){const r=Ce(t),n=e.snapshotVersion;let s=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});s=r.os;const c=[];e.targetChanges.forEach((g,v)=>{const y=s.get(v);if(!y)return;c.push(r.Ur.removeMatchingKeys(i,g.removedDocuments,v).next(()=>r.Ur.addMatchingKeys(i,g.addedDocuments,v)));let E=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(mr.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,n)),s=s.insert(v,E),function(D,k,S){return D.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(y,E,g)&&c.push(r.Ur.updateTargetData(i,E))});let d=ta(),h=Be();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(i,g))}),c.push(LG(i,o,e.documentUpdates).next(g=>{d=g.Ps,h=g.Is})),!n.isEqual(Ie.min())){const g=r.Ur.getLastRemoteSnapshotVersion(i).next(v=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));c.push(g)}return te.waitFor(c).next(()=>o.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,d,h)).next(()=>d)}).then(i=>(r.os=s,i))}function LG(t,e,r){let n=Be(),s=Be();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let o=ta();return r.forEach((c,d)=>{const h=i.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Ie.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):ye("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{Ps:o,Is:s}})}function VG(t,e){const r=Ce(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function zG(t,e){const r=Ce(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Ur.getTargetData(n,e).next(i=>i?(s=i,te.resolve(s)):r.Ur.allocateTargetId(n).next(o=>(s=new Ja(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Mv(t,e,r){const n=Ce(t),s=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,o=>n.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Qd(o))throw o;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(s.target)}function nE(t,e,r){const n=Ce(t);let s=Ie.min(),i=Be();return n.persistence.runTransaction("Execute query","readwrite",o=>function(d,h,g){const v=Ce(d),y=v._s.get(g);return y!==void 0?te.resolve(v.os.get(y)):v.Ur.getTargetData(h,g)}(n,o,Xs(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,c.targetId).next(d=>{i=d})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?s:Ie.min(),r?i:Be())).next(c=>(UG(n,Oq(e),c),{documents:c,Ts:i})))}function UG(t,e,r){let n=t.us.get(e)||Ie.min();r.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.us.set(e,n)}class sE{constructor(){this.activeTargetIds=Fq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BG{constructor(){this.so=new sE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sE,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf=null;function fp(){return Uf===null?Uf=function(){return 268435456+Math.round(2147483648*Math.random())}():Uf++,"0x"+Uf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $G={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="WebChannelConnection";class YG extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(r,n,s,i,o){const c=fp(),d=this.xo(r,n.toUriEncodedString());ye("RestConnection",`Sending RPC '${r}' ${c}:`,d,s);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,i,o),this.No(r,d,h,s).then(g=>(ye("RestConnection",`Received RPC '${r}' ${c}: `,g),g),g=>{throw Du("RestConnection",`RPC '${r}' ${c} failed with error: `,g,"url: ",d,"request:",s),g})}Lo(r,n,s,i,o,c){return this.Mo(r,n,s,i,o)}Oo(r,n,s){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>r[o]=i),s&&s.headers.forEach((i,o)=>r[o]=i)}xo(r,n){const s=$G[r];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,s){const i=fp();return new Promise((o,c)=>{const d=new ZI;d.setWithCredentials(!0),d.listenOnce(eC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ah.NO_ERROR:const g=d.getResponseJson();ye(Er,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(g)),o(g);break;case ah.TIMEOUT:ye(Er,`RPC '${e}' ${i} timed out`),c(new xe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const v=d.getStatus();if(ye(Er,`RPC '${e}' ${i} failed with status:`,v,"response text:",d.getResponseText()),v>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y==null?void 0:y.error;if(E&&E.status&&E.message){const N=function(k){const S=k.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(S)>=0?S:ee.UNKNOWN}(E.status);c(new xe(N,E.message))}else c(new xe(ee.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new xe(ee.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{ye(Er,`RPC '${e}' ${i} completed.`)}});const h=JSON.stringify(s);ye(Er,`RPC '${e}' ${i} sending request:`,s),d.send(r,"POST",h,n,15)})}Bo(e,r,n){const s=fp(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=nC(),c=rC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const g=i.join("");ye(Er,`Creating RPC '${e}' stream ${s}: ${g}`,d);const v=o.createWebChannel(g,d);let y=!1,E=!1;const N=new HG({Io:k=>{E?ye(Er,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(y||(ye(Er,`Opening RPC '${e}' stream ${s} transport.`),v.open(),y=!0),ye(Er,`RPC '${e}' stream ${s} sending:`,k),v.send(k))},To:()=>v.close()}),D=(k,S,P)=>{k.listen(S,C=>{try{P(C)}catch(R){setTimeout(()=>{throw R},0)}})};return D(v,Oc.EventType.OPEN,()=>{E||(ye(Er,`RPC '${e}' stream ${s} transport opened.`),N.yo())}),D(v,Oc.EventType.CLOSE,()=>{E||(E=!0,ye(Er,`RPC '${e}' stream ${s} transport closed`),N.So())}),D(v,Oc.EventType.ERROR,k=>{E||(E=!0,Du(Er,`RPC '${e}' stream ${s} transport errored:`,k),N.So(new xe(ee.UNAVAILABLE,"The operation could not be completed")))}),D(v,Oc.EventType.MESSAGE,k=>{var S;if(!E){const P=k.data[0];nt(!!P);const C=P,R=C.error||((S=C[0])===null||S===void 0?void 0:S.error);if(R){ye(Er,`RPC '${e}' stream ${s} received error:`,R);const Y=R.status;let q=function(I){const j=Bt[I];if(j!==void 0)return PC(j)}(Y),T=R.message;q===void 0&&(q=ee.INTERNAL,T="Unknown error status: "+Y+" with message "+R.message),E=!0,N.So(new xe(q,T)),v.close()}else ye(Er,`RPC '${e}' stream ${s} received:`,P),N.bo(P)}}),D(c,tC.STAT_EVENT,k=>{k.stat===Ev.PROXY?ye(Er,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Ev.NOPROXY&&ye(Er,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}}function hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t){return new rG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,r,n=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,r-n);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,r,n,s,i,o,c,d){this.ui=e,this.Ho=n,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new VC(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ee.RESOURCE_EXHAUSTED?(ea(r.toString()),ea("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===r&&this.P_(n,s)},n=>{e(()=>{const s=new xe(ee.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qG extends zC{constructor(e,r,n,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=iG(this.serializer,e),n=function(i){if(!("targetChange"in i))return Ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ie.min():o.readTime?Zs(o.readTime):Ie.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=jv(this.serializer),r.addTarget=function(i,o){let c;const d=o.target;if(c=Pv(d)?{documents:lG(i,d)}:{query:uG(i,d)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=OC(i,o.resumeToken);const h=Cv(i,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(Ie.min())>0){c.readTime=Zh(i,o.snapshotVersion.toTimestamp());const h=Cv(i,o.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const n=dG(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=jv(this.serializer),r.removeTarget=e,this.a_(r)}}class GG extends zC{constructor(e,r,n,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return nt(!!e.streamToken),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=oG(e.writeResults,e.commitTime),n=Zs(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=jv(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>aG(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG extends class{}{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new xe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Ov(r,n),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(ee.UNKNOWN,i.toString())})}Lo(e,r,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Ov(r,n),s,o,c,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ee.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class QG{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ea(r),this.D_=!1):ye("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{n.enqueueAndForget(async()=>{xl(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(d){const h=Ce(d);h.L_.add(4),await Zd(h),h.q_.set("Unknown"),h.L_.delete(4),await lg(h)}(this))})}),this.q_=new QG(n,s)}}async function lg(t){if(xl(t))for(const e of t.B_)await e(!0)}async function Zd(t){for(const e of t.B_)await e(!1)}function UC(t,e){const r=Ce(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),tx(r)?ex(r):Hu(r).r_()&&Z_(r,e))}function J_(t,e){const r=Ce(t),n=Hu(r);r.N_.delete(e),n.r_()&&BC(r,e),r.N_.size===0&&(n.r_()?n.o_():xl(r)&&r.q_.set("Unknown"))}function Z_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Hu(t).A_(e)}function BC(t,e){t.Q_.xe(e),Hu(t).R_(e)}function ex(t){t.Q_=new Jq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Hu(t).start(),t.q_.v_()}function tx(t){return xl(t)&&!Hu(t).n_()&&t.N_.size>0}function xl(t){return Ce(t).L_.size===0}function WC(t){t.Q_=void 0}async function JG(t){t.q_.set("Online")}async function ZG(t){t.N_.forEach((e,r)=>{Z_(t,e)})}async function eK(t,e){WC(t),tx(t)?(t.q_.M_(e),ex(t)):t.q_.set("Unknown")}async function tK(t,e,r){if(t.q_.set("Online"),e instanceof CC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const c of i.targetIds)s.N_.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.N_.delete(c),s.Q_.removeTarget(c))}(t,e)}catch(n){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await em(t,n)}else if(e instanceof uh?t.Q_.Ke(e):e instanceof IC?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ie.min()))try{const n=await LC(t.localStore);r.compareTo(n)>=0&&await function(i,o){const c=i.Q_.rt(o);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const g=i.N_.get(h);g&&i.N_.set(h,g.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach((d,h)=>{const g=i.N_.get(d);if(!g)return;i.N_.set(d,g.withResumeToken(mr.EMPTY_BYTE_STRING,g.snapshotVersion)),BC(i,d);const v=new Ja(g.target,d,h,g.sequenceNumber);Z_(i,v)}),i.remoteSyncer.applyRemoteEvent(c)}(t,r)}catch(n){ye("RemoteStore","Failed to raise snapshot:",n),await em(t,n)}}async function em(t,e,r){if(!Qd(e))throw e;t.L_.add(1),await Zd(t),t.q_.set("Offline"),r||(r=()=>LC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await lg(t)})}function $C(t,e){return e().catch(r=>em(t,r,e))}async function ug(t){const e=Ce(t),r=yo(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;rK(e);)try{const s=await VG(e.localStore,n);if(s===null){e.O_.length===0&&r.o_();break}n=s.batchId,nK(e,s)}catch(s){await em(e,s)}HC(e)&&YC(e)}function rK(t){return xl(t)&&t.O_.length<10}function nK(t,e){t.O_.push(e);const r=yo(t);r.r_()&&r.V_&&r.m_(e.mutations)}function HC(t){return xl(t)&&!yo(t).n_()&&t.O_.length>0}function YC(t){yo(t).start()}async function sK(t){yo(t).p_()}async function iK(t){const e=yo(t);for(const r of t.O_)e.m_(r.mutations)}async function aK(t,e,r){const n=t.O_.shift(),s=Y_.from(n,e,r);await $C(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ug(t)}async function oK(t,e){e&&yo(t).V_&&await async function(n,s){if(function(o){return Kq(o)&&o!==ee.ABORTED}(s.code)){const i=n.O_.shift();yo(n).s_(),await $C(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ug(n)}}(t,e),HC(t)&&YC(t)}async function aE(t,e){const r=Ce(t);r.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const n=xl(r);r.L_.add(3),await Zd(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await lg(r)}async function lK(t,e){const r=Ce(t);e?(r.L_.delete(2),await lg(r)):e||(r.L_.add(2),await Zd(r),r.q_.set("Unknown"))}function Hu(t){return t.K_||(t.K_=function(r,n,s){const i=Ce(r);return i.w_(),new qG(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:JG.bind(null,t),Ro:ZG.bind(null,t),mo:eK.bind(null,t),d_:tK.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),tx(t)?ex(t):t.q_.set("Unknown")):(await t.K_.stop(),WC(t))})),t.K_}function yo(t){return t.U_||(t.U_=function(r,n,s){const i=Ce(r);return i.w_(),new GG(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:sK.bind(null,t),mo:oK.bind(null,t),f_:iK.bind(null,t),g_:aK.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ug(t)):(await t.U_.stop(),t.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const o=Date.now()+n,c=new rx(e,r,o,s,i);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nx(t,e){if(ea("AsyncQueue",`${e}: ${t}`),Qd(t))return new xe(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ee.comparator(r.key,n.key):(r,n)=>Ee.comparator(r.key,n.key),this.keyedMap=Nc(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new mu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof mu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new mu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.W_=new Ct(Ee.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Pe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Cu{constructor(e,r,n,s,i,o,c,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,s,i){const o=[];return r.forEach(c=>{o.push({type:0,doc:c})}),new Cu(e,r,mu.emptySet(r),o,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class cK{constructor(){this.queries=lE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const s=Ce(r),i=s.queries;s.queries=lE(),i.forEach((o,c)=>{for(const d of c.j_)d.onError(n)})})(this,new xe(ee.ABORTED,"Firestore shutting down"))}}function lE(){return new $u(t=>gC(t),rg)}async function qC(t,e){const r=Ce(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.H_()&&e.J_()&&(n=2):(i=new uK,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(s,!0);break;case 1:i.z_=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(o){const c=nx(o,`Initialization of query '${Bl(e.query)}' failed`);return void e.onError(c)}r.queries.set(s,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&sx(r)}async function GC(t,e){const r=Ce(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function dK(t,e){const r=Ce(t);let n=!1;for(const s of e){const i=s.query,o=r.queries.get(i);if(o){for(const c of o.j_)c.X_(s)&&(n=!0);o.z_=s}}n&&sx(r)}function fK(t,e,r){const n=Ce(t),s=n.queries.get(e);if(s)for(const i of s.j_)i.onError(r);n.queries.delete(e)}function sx(t){t.Y_.forEach(e=>{e.next()})}var Rv,uE;(uE=Rv||(Rv={})).ea="default",uE.Cache="cache";class KC{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Cu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Rv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.key=e}}class XC{constructor(e){this.key=e}}class hK{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Be(),this.mutatedKeys=Be(),this.Aa=pC(e),this.Ra=new mu(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new oE,s=r?r.Ra:this.Ra;let i=r?r.mutatedKeys:this.mutatedKeys,o=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,v)=>{const y=s.get(g),E=ng(this.query,v)?v:null,N=!!y&&this.mutatedKeys.has(y.key),D=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let k=!1;y&&E?y.data.isEqual(E.data)?N!==D&&(n.track({type:3,doc:E}),k=!0):this.ga(y,E)||(n.track({type:2,doc:E}),k=!0,(d&&this.Aa(E,d)>0||h&&this.Aa(E,h)<0)&&(c=!0)):!y&&E?(n.track({type:0,doc:E}),k=!0):y&&!E&&(n.track({type:1,doc:y}),k=!0,(d||h)&&(c=!0)),k&&(E?(o=o.add(E),i=D?i.add(g):i.delete(g)):(o=o.delete(g),i=i.delete(g)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const g=this.query.limitType==="F"?o.last():o.first();o=o.delete(g.key),i=i.delete(g.key),n.track({type:1,doc:g})}return{Ra:o,fa:n,ns:c,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((g,v)=>function(E,N){const D=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return D(E)-D(N)}(g.type,v.type)||this.Aa(g.doc,v.doc)),this.pa(n),s=s!=null&&s;const c=r&&!s?this.ya():[],d=this.da.size===0&&this.current&&!s?1:0,h=d!==this.Ea;return this.Ea=d,o.length!==0||h?{snapshot:new Cu(this.query,e.Ra,i,o,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new oE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Be(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new XC(n))}),this.da.forEach(n=>{e.has(n)||r.push(new QC(n))}),r}ba(e){this.Ta=e.Ts,this.da=Be();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Cu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class mK{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class gK{constructor(e){this.key=e,this.va=!1}}class pK{constructor(e,r,n,s,i,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new $u(c=>gC(c),rg),this.Ma=new Map,this.xa=new Set,this.Oa=new Ct(Ee.comparator),this.Na=new Map,this.La=new K_,this.Ba={},this.ka=new Map,this.qa=Iu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function vK(t,e,r=!0){const n=nO(t);let s;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await JC(n,e,r,!0),s}async function yK(t,e){const r=nO(t);await JC(r,e,!0,!1)}async function JC(t,e,r,n){const s=await zG(t.localStore,Xs(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,r);let c;return n&&(c=await _K(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&r&&UC(t.remoteStore,s),c}async function _K(t,e,r,n,s){t.Ka=(v,y,E)=>async function(D,k,S,P){let C=k.view.ma(S);C.ns&&(C=await nE(D.localStore,k.query,!1).then(({documents:T})=>k.view.ma(T,C)));const R=P&&P.targetChanges.get(k.targetId),Y=P&&P.targetMismatches.get(k.targetId)!=null,q=k.view.applyChanges(C,D.isPrimaryClient,R,Y);return dE(D,k.targetId,q.wa),q.snapshot}(t,v,y,E);const i=await nE(t.localStore,e,!0),o=new hK(e,i.Ts),c=o.ma(i.documents),d=Jd.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),h=o.applyChanges(c,t.isPrimaryClient,d);dE(t,r,h.wa);const g=new mK(e,r,o);return t.Fa.set(e,g),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),h.snapshot}async function xK(t,e,r){const n=Ce(t),s=n.Fa.get(e),i=n.Ma.get(s.targetId);if(i.length>1)return n.Ma.set(s.targetId,i.filter(o=>!rg(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Mv(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&J_(n.remoteStore,s.targetId),Av(n,s.targetId)}).catch(Kd)):(Av(n,s.targetId),await Mv(n.localStore,s.targetId,!0))}async function wK(t,e){const r=Ce(t),n=r.Fa.get(e),s=r.Ma.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),J_(r.remoteStore,n.targetId))}async function bK(t,e,r){const n=CK(t);try{const s=await function(o,c){const d=Ce(o),h=Qt.now(),g=c.reduce((E,N)=>E.add(N.key),Be());let v,y;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let N=ta(),D=Be();return d.cs.getEntries(E,g).next(k=>{N=k,N.forEach((S,P)=>{P.isValidDocument()||(D=D.add(S))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,N)).next(k=>{v=k;const S=[];for(const P of c){const C=$q(P,v.get(P.key).overlayedDocument);C!=null&&S.push(new _l(P.key,C,lC(C.value.mapValue),Js.exists(!0)))}return d.mutationQueue.addMutationBatch(E,h,S,c)}).next(k=>{y=k;const S=k.applyToLocalDocumentSet(v,D);return d.documentOverlayCache.saveOverlays(E,k.batchId,S)})}).then(()=>({batchId:y.batchId,changes:yC(v)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(o,c,d){let h=o.Ba[o.currentUser.toKey()];h||(h=new Ct(Je)),h=h.insert(c,d),o.Ba[o.currentUser.toKey()]=h}(n,s.batchId,r),await ef(n,s.changes),await ug(n.remoteStore)}catch(s){const i=nx(s,"Failed to persist write");r.reject(i)}}async function ZC(t,e){const r=Ce(t);try{const n=await kG(r.localStore,e);e.targetChanges.forEach((s,i)=>{const o=r.Na.get(i);o&&(nt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?nt(o.va):s.removedDocuments.size>0&&(nt(o.va),o.va=!1))}),await ef(r,n,e)}catch(n){await Kd(n)}}function cE(t,e,r){const n=Ce(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.Fa.forEach((i,o)=>{const c=o.view.Z_(e);c.snapshot&&s.push(c.snapshot)}),function(o,c){const d=Ce(o);d.onlineState=c;let h=!1;d.queries.forEach((g,v)=>{for(const y of v.j_)y.Z_(c)&&(h=!0)}),h&&sx(d)}(n.eventManager,e),s.length&&n.Ca.d_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function EK(t,e,r){const n=Ce(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Na.get(e),i=s&&s.key;if(i){let o=new Ct(Ee.comparator);o=o.insert(i,Ir.newNoDocument(i,Ie.min()));const c=Be().add(i),d=new ag(Ie.min(),new Map,new Ct(Je),o,c);await ZC(n,d),n.Oa=n.Oa.remove(i),n.Na.delete(e),ix(n)}else await Mv(n.localStore,e,!1).then(()=>Av(n,e,r)).catch(Kd)}async function DK(t,e){const r=Ce(t),n=e.batch.batchId;try{const s=await FG(r.localStore,e);tO(r,n,null),eO(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await ef(r,s)}catch(s){await Kd(s)}}async function TK(t,e,r){const n=Ce(t);try{const s=await function(o,c){const d=Ce(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return d.mutationQueue.lookupMutationBatch(h,c).next(v=>(nt(v!==null),g=v.keys(),d.mutationQueue.removeMutationBatch(h,v))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>d.localDocuments.getDocuments(h,g))})}(n.localStore,e);tO(n,e,r),eO(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await ef(n,s)}catch(s){await Kd(s)}}function eO(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function tO(t,e,r){const n=Ce(t);let s=n.Ba[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Ba[n.currentUser.toKey()]=s}}function Av(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||rO(t,n)})}function rO(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(J_(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),ix(t))}function dE(t,e,r){for(const n of r)n instanceof QC?(t.La.addReference(n.key,e),SK(t,n)):n instanceof XC?(ye("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||rO(t,n.key)):Pe()}function SK(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(ye("SyncEngine","New document in limbo: "+r),t.xa.add(n),ix(t))}function ix(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Ee(Et.fromString(e)),n=t.qa.next();t.Na.set(n,new gK(r)),t.Oa=t.Oa.insert(r,n),UC(t.remoteStore,new Ja(Xs(W_(r.path)),n,"TargetPurposeLimboResolution",k_.oe))}}async function ef(t,e,r){const n=Ce(t),s=[],i=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((c,d)=>{o.push(n.Ka(d,e,r).then(h=>{var g;if((h||r)&&n.isPrimaryClient){const v=h?!h.fromCache:(g=r==null?void 0:r.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;n.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(h){s.push(h);const v=X_.Wi(d.targetId,h);i.push(v)}}))}),await Promise.all(o),n.Ca.d_(s),await async function(d,h){const g=Ce(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>te.forEach(h,y=>te.forEach(y.$i,E=>g.persistence.referenceDelegate.addReference(v,y.targetId,E)).next(()=>te.forEach(y.Ui,E=>g.persistence.referenceDelegate.removeReference(v,y.targetId,E)))))}catch(v){if(!Qd(v))throw v;ye("LocalStore","Failed to update sequence numbers: "+v)}for(const v of h){const y=v.targetId;if(!v.fromCache){const E=g.os.get(y),N=E.snapshotVersion,D=E.withLastLimboFreeSnapshotVersion(N);g.os=g.os.insert(y,D)}}}(n.localStore,i))}async function PK(t,e){const r=Ce(t);if(!r.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const n=await kC(r.localStore,e);r.currentUser=e,function(i,o){i.ka.forEach(c=>{c.forEach(d=>{d.reject(new xe(ee.CANCELLED,o))})}),i.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await ef(r,n.hs)}}function IK(t,e){const r=Ce(t),n=r.Na.get(e);if(n&&n.va)return Be().add(n.key);{let s=Be();const i=r.Ma.get(e);if(!i)return s;for(const o of i){const c=r.Fa.get(o);s=s.unionWith(c.view.Va)}return s}}function nO(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EK.bind(null,e),e.Ca.d_=dK.bind(null,e.eventManager),e.Ca.$a=fK.bind(null,e.eventManager),e}function CK(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TK.bind(null,e),e}class tm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=og(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return AG(this.persistence,new MG,e.initialUser,this.serializer)}Ga(e){return new OG(Q_.Zr,this.serializer)}Wa(e){return new BG}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tm.provider={build:()=>new tm};class Fv{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>cE(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=PK.bind(null,this.syncEngine),await lK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cK}()}createDatastore(e){const r=og(e.databaseInfo.databaseId),n=function(i){return new YG(i)}(e.databaseInfo);return function(i,o,c,d){return new KG(i,o,c,d)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,i,o,c){return new XG(n,s,i,o,c)}(this.localStore,this.datastore,e.asyncQueue,r=>cE(this.syncEngine,r,0),function(){return iE.D()?new iE:new WG}())}createSyncEngine(e,r){return function(s,i,o,c,d,h,g){const v=new pK(s,i,o,c,d,h);return g&&(v.Qa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const i=Ce(s);ye("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Zd(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Fv.provider={build:()=>new Fv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ea("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=Dr.UNAUTHENTICATED,this.clientId=iC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async o=>{ye("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ye("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=nx(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function mp(t,e){t.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await kC(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fE(t,e){t.asyncQueue.verifyOperationInProgress();const r=await NK(t);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>aE(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>aE(e.remoteStore,s)),t._onlineComponents=e}async function NK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await mp(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;Du("Error using user provided cache. Falling back to memory cache: "+r),await mp(t,new tm)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await mp(t,new tm);return t._offlineComponents}async function iO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await fE(t,t._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await fE(t,new Fv))),t._onlineComponents}function jK(t){return iO(t).then(e=>e.syncEngine)}async function aO(t){const e=await iO(t),r=e.eventManager;return r.onListen=vK.bind(null,e.syncEngine),r.onUnlisten=xK.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=yK.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=wK.bind(null,e.syncEngine),r}function MK(t,e,r={}){const n=new Hi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,c,d,h){const g=new sO({next:y=>{g.Za(),o.enqueueAndForget(()=>GC(i,v));const E=y.docs.has(c);!E&&y.fromCache?h.reject(new xe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&y.fromCache&&d&&d.source==="server"?h.reject(new xe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),v=new KC(W_(c.path),g,{includeMetadataChanges:!0,_a:!0});return qC(i,v)}(await aO(t),t.asyncQueue,e,r,n)),n.promise}function RK(t,e,r={}){const n=new Hi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,c,d,h){const g=new sO({next:y=>{g.Za(),o.enqueueAndForget(()=>GC(i,v)),y.fromCache&&d.source==="server"?h.reject(new xe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),v=new KC(c,g,{includeMetadataChanges:!0,_a:!0});return qC(i,v)}(await aO(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t,e,r){if(!r)throw new xe(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AK(t,e,r,n){if(e===!0&&n===!0)throw new xe(ee.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function mE(t){if(!Ee.isDocumentKey(t))throw new xe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gE(t){if(Ee.isDocumentKey(t))throw new xe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ax(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe()}function _o(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ax(t);throw new xe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oO((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new xe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new xe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new xe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cg{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pE(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new XY;switch(n.type){case"firstParty":return new tq(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new xe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=hE.get(r);n&&(ye("ComponentProvider","Removing Datastore"),hE.delete(r),n.terminate())}(this),Promise.resolve()}}function FK(t,e,r,n={}){var s;const i=(t=_o(t,cg))._getSettings(),o=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Du("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),n.mockUserToken){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=Dr.MOCK_USER;else{c=PW(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new xe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Dr(h)}t._authCredentials=new JY(new sC(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new dg(this.firestore,e,this._query)}}class yn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class fo extends dg{constructor(e,r,n){super(e,r,W_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new Ee(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function Ou(t,e,...r){if(t=xn(t),lO("collection","path",e),t instanceof cg){const n=Et.fromString(e,...r);return gE(n),new fo(t,null,n)}{if(!(t instanceof yn||t instanceof fo))throw new xe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Et.fromString(e,...r));return gE(n),new fo(t.firestore,null,n)}}function Rt(t,e,...r){if(t=xn(t),arguments.length===1&&(e=iC.newId()),lO("doc","path",e),t instanceof cg){const n=Et.fromString(e,...r);return mE(n),new yn(t,null,new Ee(n))}{if(!(t instanceof yn||t instanceof fo))throw new xe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Et.fromString(e,...r));return mE(n),new yn(t.firestore,t instanceof fo?t.converter:null,new Ee(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new VC(this,"async_queue_retry"),this.Vu=()=>{const n=hp();n&&ye("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=hp();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=hp();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Hi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Qd(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const s=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(n);throw ea("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const s=rx.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Pe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class tf extends cg{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new vE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vE(e),this._firestoreClient=void 0,await e}}}function kK(t,e){const r=typeof t=="object"?t:yI(),n=typeof t=="string"?t:"(default)",s=D_(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=TW("firestore");i&&FK(s,...i)}return s}function ox(t){if(t._terminated)throw new xe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LK(t),t._firestoreClient}function LK(t){var e,r,n;const s=t._freezeSettings(),i=function(c,d,h,g){return new mq(c,d,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,oO(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new OK(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nu(mr.fromBase64String(e))}catch(r){throw new xe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Nu(mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new xe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new xe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new xe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VK=/^__.*__$/;class zK{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new _l(e,this.data,this.fieldMask,r,this.fieldTransforms):new Xd(e,this.data,r,this.fieldTransforms)}}function uO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class fx{constructor(e,r,n,s,i,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new fx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.Ou(e),s}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(uO(this.Cu)&&VK.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class UK{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||og(e)}Qu(e,r,n,s=!1){return new fx({Cu:e,methodName:r,qu:n,path:cr.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BK(t){const e=t._freezeSettings(),r=og(t._databaseId);return new UK(t._databaseId,!!e.ignoreUndefinedProperties,r)}function WK(t,e,r,n,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,r,s);hO("Data must be an object, but it was:",o,n);const c=dO(n,o);let d,h;if(i.merge)d=new ms(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const g=[];for(const v of i.mergeFields){const y=$K(e,v,r);if(!o.contains(y))throw new xe(ee.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);YK(g,y)||g.push(y)}d=new ms(g),h=o.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,h=o.fieldTransforms;return new zK(new Ln(c),d,h)}class hx extends ux{_toFieldTransform(e){return new zq(e.path,new xd)}isEqual(e){return e instanceof hx}}function cO(t,e){if(fO(t=xn(t)))return hO("Unsupported field value:",e,t),dO(t,e);if(t instanceof ux)return function(n,s){if(!uO(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,s){const i=[];let o=0;for(const c of n){let d=cO(c,s.Lu(o));d==null&&(d={nullValue:"NULL_VALUE"}),i.push(d),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=xn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return kq(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Qt.fromDate(n);return{timestampValue:Zh(s.serializer,i)}}if(n instanceof Qt){const i=new Qt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Zh(s.serializer,i)}}if(n instanceof cx)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Nu)return{bytesValue:OC(s.serializer,n._byteString)};if(n instanceof yn){const i=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:G_(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof dx)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.Bu("VectorValues must only contain numeric values.");return $_(c.serializer,d)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${ax(n)}`)}(t,e)}function dO(t,e){const r={};return aC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wu(t,(n,s)=>{const i=cO(s,e.Mu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function fO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof cx||t instanceof Nu||t instanceof yn||t instanceof ux||t instanceof dx)}function hO(t,e,r){if(!fO(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=ax(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function $K(t,e,r){if((e=xn(e))instanceof lx)return e._internalPath;if(typeof e=="string")return mO(t,e);throw rm("Field path arguments must be of type string or ",t,!1,void 0,r)}const HK=new RegExp("[~\\*/\\[\\]]");function mO(t,e,r){if(e.search(HK)>=0)throw rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new lx(...e.split("."))._internalPath}catch{throw rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function rm(t,e,r,n,s){const i=n&&!n.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(i||o)&&(d+=" (found",i&&(d+=` in field ${n}`),o&&(d+=` in document ${s}`),d+=")"),new xe(ee.INVALID_ARGUMENT,c+t+d)}function YK(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(pO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class qK extends gO{data(){return super.data()}}function pO(t,e){return typeof e=="string"?mO(t,e):e instanceof lx?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KK{convertValue(e,r="none"){switch(dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Wu(e,(s,i)=>{n[s]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(o=>Vt(o.doubleValue));return new dx(i)}convertGeoPoint(e){return new cx(Vt(e.latitude),Vt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=V_(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(vd(e));default:return null}}convertTimestamp(e){const r=vo(e);return new Qt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Et.fromString(e);nt(FC(n));const s=new yd(n.get(1),n.get(3)),i=new Ee(n.popFirst(5));return s.isEqual(r)||ea(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QK(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vO extends gO{constructor(e,r,n,s,i,o){super(e,r,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(pO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class ch extends vO{data(e={}){return super.data(e)}}class XK{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new Mc(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new ch(this._firestore,this._userDataWriter,n.key,n,new Mc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new xe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(c=>{const d=new ch(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Mc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const d=new ch(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Mc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,g=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),g=o.indexOf(c.doc.key)),{type:JK(c.type),doc:d,oldIndex:h,newIndex:g}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function JK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t){t=_o(t,yn);const e=_o(t.firestore,tf);return MK(ox(e),t._key).then(r=>ZK(e,t,r))}class yO extends KK{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,r)}}function ju(t){t=_o(t,dg);const e=_o(t.firestore,tf),r=ox(e),n=new yO(e);return GK(t._query),RK(r,t._query).then(s=>new XK(e,n,t,s))}function Tr(t,e,r){t=_o(t,yn);const n=_o(t.firestore,tf),s=QK(t.converter,e,r);return _O(n,[WK(BK(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Js.none())])}function rf(t){return _O(_o(t.firestore,tf),[new H_(t._key,Js.none())])}function _O(t,e){return function(n,s){const i=new Hi;return n.asyncQueue.enqueueAndForget(async()=>bK(await jK(n),s,i)),i.promise}(ox(t),e)}function ZK(t,e,r){const n=r.docs.get(e._key),s=new yO(t);return new vO(t,s,e._key,n,new Mc(r.hasPendingWrites,r.fromCache),e.converter)}function Sr(){return new hx("serverTimestamp")}(function(e,r=!0){(function(s){Bu=s})(zu),bu(new ol("firestore",(n,{instanceIdentifier:s,options:i})=>{const o=n.getProvider("app").getImmediate(),c=new tf(new ZY(n.getProvider("auth-internal")),new nq(n.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new xe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yd(h.options.projectId,g)}(o,s),o);return i=Object.assign({useFetchStreams:r},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),co(F1,"4.7.3",e),co(F1,"4.7.3","esm2017")})();var eQ="firebase",tQ="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(eQ,tQ,"app");const rQ={apiKey:"AIzaSyCHmU0EO6DOV8Vr30TdWwRhDuiVm2_JtZg",authDomain:"travel-planner-f39cd.firebaseapp.com",projectId:"travel-planner-f39cd",storageBucket:"travel-planner-f39cd.firebasestorage.app",messagingSenderId:"468788845614",appId:"1:468788845614:web:8e628a48c20ce6c9da53bf"},xO=vI(rQ),gp=KY(xO),nQ=new Fi,ot=kK(xO),wO=z.createContext({}),fa=()=>{const t=z.useContext(wO);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},sQ=({children:t})=>{const[e,r]=z.useState(null),[n,s]=z.useState(!0),[i,o]=z.useState(null),c=async v=>{try{const y=await nm(Rt(ot,"users",v,"profile","migration"));if(y.exists()&&y.data().completed){console.log("Data already migrated for this user");return}console.log("Starting localStorage migration...");const E=localStorage.getItem("travelPlanner_trips"),N=localStorage.getItem("travelPlanner_currentTrip"),D=localStorage.getItem("travelPlanner_dailyPlans"),k=localStorage.getItem("travelPlanner_flights"),S=localStorage.getItem("travelPlanner_expenses");if(E||D||k||S){const P=E?JSON.parse(E):[],C=D?JSON.parse(D):[],R=k?JSON.parse(k):[],Y=S?JSON.parse(S):[],q=N?JSON.parse(N):null;for(const T of P)await Tr(Rt(ot,"users",v,"trips",T.id.toString()),{...T,createdAt:Sr()});q&&await Tr(Rt(ot,"users",v,"profile","currentTrip"),{tripId:q.id,updatedAt:Sr()});for(const T of C)await Tr(Rt(ot,"users",v,"dailyPlans",T.id.toString()),{...T,createdAt:Sr()});for(const T of R)await Tr(Rt(ot,"users",v,"flights",T.id.toString()),{...T,createdAt:Sr()});for(const T of Y)await Tr(Rt(ot,"users",v,"expenses",T.id.toString()),{...T,createdAt:Sr()});console.log("Migration completed successfully!")}await Tr(Rt(ot,"users",v,"profile","migration"),{completed:!0,migratedAt:Sr()})}catch(y){throw console.error("Error migrating localStorage data:",y),y}},d=async()=>{try{o(null),s(!0);const v=await sY(gp,nQ),y=v.user,E=Rt(ot,"users",y.uid,"profile","info");(await nm(E)).exists()?await Tr(E,{lastLoginAt:Sr()},{merge:!0}):(await Tr(E,{email:y.email,displayName:y.displayName,photoURL:y.photoURL,createdAt:Sr()}),await c(y.uid));try{typeof window<"u"&&localStorage.setItem("showSetupOnLogin","1")}catch(D){console.warn("Could not set showSetupOnLogin flag in localStorage",D)}return v}catch(v){throw console.error("Error signing in with Google:",v),o(v.message),v}finally{s(!1)}},h=async()=>{try{o(null),await LH(gp)}catch(v){throw console.error("Error signing out:",v),o(v.message),v}};z.useEffect(()=>kH(gp,y=>{r(y),s(!1)}),[]);const g={currentUser:e,loading:n,error:i,signInWithGoogle:d,signOut:h};return u.jsx(wO.Provider,{value:g,children:t})},mx=()=>{const{currentUser:t}=fa(),[e,r]=z.useState([]),[n,s]=z.useState(!0),[i,o]=z.useState(null);z.useEffect(()=>{if(!t){r([]),s(!1);return}c()},[t]);const c=async()=>{try{s(!0);const g=Ou(ot,"users",t.uid,"trips"),y=(await ju(g)).docs.map(E=>({...E.data(),id:parseInt(E.id)}));r(y),o(null)}catch(g){console.error("Error loading trips:",g),o(g.message)}finally{s(!1)}};return{trips:e,loading:n,error:i,saveTrip:async g=>{try{await Tr(Rt(ot,"users",t.uid,"trips",g.id.toString()),{...g,updatedAt:Sr()}),await c()}catch(v){throw console.error("Error saving trip:",v),v}},deleteTrip:async g=>{try{await rf(Rt(ot,"users",t.uid,"trips",g.toString())),await c()}catch(v){throw console.error("Error deleting trip:",v),v}},reloadTrips:c}},gx=()=>{const{currentUser:t}=fa(),[e,r]=z.useState(null),[n,s]=z.useState(!0);z.useEffect(()=>{if(!t){r(null),s(!1);return}i()},[t]);const i=async()=>{try{s(!0);const c=Rt(ot,"users",t.uid,"profile","currentTrip"),d=await nm(c);if(d.exists()){const h=d.data().tripId;if(!h){r(null);return}const g=Rt(ot,"users",t.uid,"trips",h.toString()),v=await nm(g);v.exists()?r({...v.data(),id:parseInt(v.id)}):r(null)}else r(null)}catch(c){console.error("Error loading current trip:",c),r(null)}finally{s(!1)}};return{currentTrip:e,loading:n,saveCurrentTrip:async c=>{try{await Tr(Rt(ot,"users",t.uid,"profile","currentTrip"),{tripId:c.id,updatedAt:Sr()}),r(c)}catch(d){throw console.error("Error saving current trip:",d),d}},reloadCurrentTrip:i}},iQ=()=>{const{currentUser:t}=fa(),[e,r]=z.useState([]),[n,s]=z.useState(!0);z.useEffect(()=>{if(!t){r([]),s(!1);return}i()},[t]);const i=async()=>{try{s(!0);const d=Ou(ot,"users",t.uid,"flights"),g=(await ju(d)).docs.map(v=>({...v.data(),id:parseInt(v.id)}));r(g)}catch(d){console.error("Error loading flights:",d)}finally{s(!1)}};return{flights:e,loading:n,saveFlight:async d=>{try{await Tr(Rt(ot,"users",t.uid,"flights",d.id.toString()),{...d,updatedAt:Sr()}),await i()}catch(h){throw console.error("Error saving flight:",h),h}},deleteFlight:async d=>{try{await rf(Rt(ot,"users",t.uid,"flights",d.toString())),await i()}catch(h){throw console.error("Error deleting flight:",h),h}},setFlights:r,reloadFlights:i}},aQ=()=>{const{currentUser:t}=fa(),[e,r]=z.useState([]),[n,s]=z.useState(!0);z.useEffect(()=>{if(!t){r([]),s(!1);return}i()},[t]);const i=async()=>{try{s(!0);const d=Ou(ot,"users",t.uid,"hotels"),g=(await ju(d)).docs.map(v=>({...v.data(),id:parseInt(v.id)}));r(g)}catch(d){console.error("Error loading hotels:",d)}finally{s(!1)}};return{hotels:e,loading:n,saveHotel:async d=>{try{await Tr(Rt(ot,"users",t.uid,"hotels",d.id.toString()),{...d,updatedAt:Sr()}),await i()}catch(h){throw console.error("Error saving hotel:",h),h}},deleteHotel:async d=>{try{await rf(Rt(ot,"users",t.uid,"hotels",d.toString())),await i()}catch(h){throw console.error("Error deleting hotel:",h),h}},setHotels:r,reloadHotels:i}},bO=()=>{const{currentUser:t}=fa(),[e,r]=z.useState([]),[n,s]=z.useState(!0);z.useEffect(()=>{if(!t){r([]),s(!1);return}i()},[t]);const i=async()=>{try{s(!0);const h=Ou(ot,"users",t.uid,"dailyPlans"),v=(await ju(h)).docs.map(y=>({...y.data(),id:parseInt(y.id)}));v.sort((y,E)=>new Date(y.date)-new Date(E.date)),r(v)}catch(h){console.error("Error loading daily plans:",h)}finally{s(!1)}};return{dailyPlans:e,loading:n,saveDailyPlan:async h=>{try{await Tr(Rt(ot,"users",t.uid,"dailyPlans",h.id.toString()),{...h,updatedAt:Sr()})}catch(g){throw console.error("Error saving daily plan:",g),g}},saveDailyPlans:async h=>{try{const g=h.map(v=>Tr(Rt(ot,"users",t.uid,"dailyPlans",v.id.toString()),{...v,updatedAt:Sr()}));await Promise.all(g)}catch(g){throw console.error("Error saving daily plans:",g),g}},replaceDailyPlans:async h=>{try{const g=Ou(ot,"users",t.uid,"dailyPlans"),v=await ju(g),y=new Set(h.map(D=>D.id.toString())),E=v.docs.filter(D=>!y.has(D.id)).map(D=>rf(D.ref)),N=h.map(D=>Tr(Rt(ot,"users",t.uid,"dailyPlans",D.id.toString()),{...D,updatedAt:Sr()}));await Promise.all([...E,...N]),await i()}catch(g){throw console.error("Error replacing daily plans:",g),g}},setDailyPlans:r,reloadDailyPlans:i}},EO=()=>{const{currentUser:t}=fa(),[e,r]=z.useState([]),[n,s]=z.useState(!0);z.useEffect(()=>{if(!t){r([]),s(!1);return}i()},[t]);const i=async()=>{try{s(!0);const d=Ou(ot,"users",t.uid,"expenses"),g=(await ju(d)).docs.map(v=>({...v.data(),id:parseInt(v.id)}));r(g)}catch(d){console.error("Error loading expenses:",d)}finally{s(!1)}};return{expenses:e,loading:n,saveExpense:async d=>{try{await Tr(Rt(ot,"users",t.uid,"expenses",d.id.toString()),{...d,updatedAt:Sr()}),await i()}catch(h){throw console.error("Error saving expense:",h),h}},deleteExpense:async d=>{try{await rf(Rt(ot,"users",t.uid,"expenses",d.toString())),await i()}catch(h){throw console.error("Error deleting expense:",h),h}},setExpenses:r,reloadExpenses:i}},kv={Switzerland:["Zurich","Geneva","Basel","Lausanne","Bern","Winterthur","Lucerne","St. Gallen","Lugano","Biel/Bienne","Thun","Kniz","La Chaux-de-Fonds","Schaffhausen","Fribourg","Vernier","Chur","Neuchtel","Uster","Sion","Emmen","Zug","Yverdon-les-Bains","Kriens","Rapperswil-Jona","Dbendorf","Montreux","Frauenfeld","Dietikon","Wetzikon","Interlaken","Zermatt","Grindelwald","Lauterbrunnen","Wengen","Murren","Locarno","Ascona","Bellinzona","Davos","St. Moritz","Arosa","Engelberg","Andermatt"],Italy:["Rome","Milan","Naples","Turin","Palermo","Genoa","Bologna","Florence","Bari","Catania","Venice","Verona","Messina","Padua","Trieste","Brescia","Taranto","Prato","Parma","Modena","Reggio Calabria","Reggio Emilia","Perugia","Livorno","Ravenna","Cagliari","Foggia","Rimini","Salerno","Ferrara","Sassari","Latina","Giugliano in Campania","Monza","Syracuse","Pescara","Bergamo","Forl","Trento","Vicenza","Terni","Bolzano","Novara","Piacenza","Ancona","Andria","Arezzo","Udine","Cesena","Lecce","Pisa","Siena","Lucca","Como","La Spezia","Varese","Sorrento","Amalfi","Positano","Capri","Portofino","Cinque Terre","Matera","Assisi","Siracusa","Taormina","Pompeii","Pienza","San Gimignano","Orvieto"],France:["Paris","Marseille","Lyon","Toulouse","Nice","Nantes","Strasbourg","Montpellier","Bordeaux","Lille","Rennes","Reims","Le Havre","Saint-tienne","Toulon","Grenoble","Dijon","Angers","Nmes","Villeurbanne","Saint-Denis","Le Mans","Aix-en-Provence","Clermont-Ferrand","Brest","Tours","Amiens","Limoges","Annecy","Perpignan","Boulogne-Billancourt","Metz","Besanon","Orlans","Saint-Denis","Argenteuil","Rouen","Mulhouse","Montreuil","Caen","Nancy","Avignon","Cannes","Antibes","Saint-Tropez","Monaco","Versailles","Colmar","Chamonix","Annecy","Carcassonne","Arles","Aix-les-Bains","Menton","Grasse","Saint-Malo","La Rochelle","Biarritz","Lourdes","Mont-Saint-Michel","Giverny","Fontainebleau","Chartres","Beaune","pernay","Reims","Troyes"]},oQ=(t=null)=>!t||t.length===0?Object.entries(kv).flatMap(([e,r])=>r.map(n=>({city:n,country:e}))):Object.entries(kv).filter(([e])=>t.includes(e)).flatMap(([e,r])=>r.map(n=>({city:n,country:e}))),yE=(t,e=400)=>{if(!t||t.length===0)return null;const r=t[0];return r.createMediaUrl?r.createMediaUrl({maxHeight:e,maxWidth:e}):r.getURI?r.getURI({maxHeight:e,maxWidth:e}):r.getUrl?r.getUrl({maxWidth:e,maxHeight:e}):null},DO=(t,e="")=>{const r={EUR:"",USD:"$",GBP:"",CHF:"CHF",BRL:"R$",CAD:"$",AUD:"$",JPY:""};return t?r[t]||t:e},Hl=t=>{if(!t)return"";const e=String(t).toUpperCase(),r=e.match(/\b(USD|EUR|GBP|CHF|BRL|CAD|AUD|JPY|CNY|MXN|ARS|CLP|INR)\b/);return r?r[1]:e.includes("R$")?"BRL":e.includes("CHF")?"CHF":e.includes("")?"EUR":e.includes("")?"GBP":e.includes("$")?"USD":""},or=t=>{if(typeof t=="number")return Number.isFinite(t)?t:0;if(!t)return 0;const e=String(t).replace(/[^0-9.,-]/g,"").trim();if(!e)return 0;const r=e.includes(","),n=e.includes(".");let s=e;if(r&&!n)s=e.replace(/\./g,"").replace(",",".");else if(r&&n){const o=e.lastIndexOf(","),c=e.lastIndexOf(".");o>c?s=e.replace(/\./g,"").replace(",","."):s=e.replace(/,/g,"")}else s=e;const i=parseFloat(s);return Number.isFinite(i)?i:0},lQ=(t="")=>{const e=String(t).split(",").map(n=>n.trim()).filter(Boolean),r=e.length;return{city:r>=3?e[r-3]:"",state:r>=2?e[r-2]:"",country:r>=1?e[r-1]:""}},Bf=(t={})=>{const e=lQ(t.address||"");return{city:t.city||e.city||"",state:t.state||e.state||"",country:t.country||e.country||""}},_E=(t=[])=>{const e=i=>{const o=t.find(c=>i.every(d=>{var h;return(h=c.types)==null?void 0:h.includes(d)}));return(o==null?void 0:o.longText)||(o==null?void 0:o.long_name)||""},r=e(["locality"])||e(["postal_town"])||e(["administrative_area_level_2"]),n=e(["administrative_area_level_1"]),s=e(["country"]);return{city:r,state:n,country:s}},Ao=t=>{if(!t)return"";const e=String(t);if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const r=new Date(e);return Number.isNaN(r.getTime())?e:formatDateLocal(r)},xE={EUR:1,USD:.92,GBP:1.17,CHF:1.03,BRL:.18,CAD:.67,AUD:.61,JPY:.0061},pp=(t,e)=>{const r=e||Hl(t)||"",n=or(t);if(n>0){const s=DO(r,""),i=`${n.toFixed(2)}`;return`${s}${i}${r?` ${r}`:""}`.trim()}return t||""},uQ=(t,e=16,r="")=>{switch(t){case"restaurant":return u.jsx(Bo,{size:e,className:r});case"cafe":return u.jsx(Uo,{size:e,className:r});case"activity":return u.jsx(zo,{size:e,className:r});case"note":return u.jsx(Ai,{size:e,className:r});default:return u.jsx(Vo,{size:e,className:r})}},Wf=t=>t&&t!=="place",Ho=t=>{if(!t||typeof t!="string")return"";const[e,r]=t.split(":"),n=parseInt(e,10);return Number.isNaN(n)||!r?t:`${n}:${r.padStart(2,"0")}`},wE=(t,e)=>{const r=Ho(t),n=Ho(e);return r&&n?`${r} - ${n}`:""},bE=t=>{if(!t||typeof t!="string"||!t.includes(":"))return{hour:0,minute:0};const[e,r]=t.split(":").map(Number);return{hour:Number.isNaN(e)?0:e,minute:Number.isNaN(r)?0:r}},EE=(t,e)=>{const r=String(Math.max(0,Math.min(23,t))).padStart(2,"0"),n=String(Math.max(0,Math.min(59,e))).padStart(2,"0");return`${r}:${n}`},vp=(t=[])=>{const e={walking:0,car:0,transit:0,plane:0};return t.forEach(r=>{const n=parseFloat(r.distance||0);if(!Number.isFinite(n)||n<=0)return;const s=r.transportMode;if(s==="car"){e.car+=n;return}if(s==="transit"||s==="bus"||s==="metro"||s==="train"){e.transit+=n;return}if(s==="plane"){e.plane+=n;return}s==="walking"&&(e.walking+=n)}),e.all=Object.values(e).reduce((r,n)=>typeof n=="number"?r+n:r,0),e},DE=({initialTrip:t=null,onExitTrip:e=()=>{},onEnterDayMode:r=()=>{}})=>{var Il,Cl,Ol,Nl,jl,Ml,Rl;const{currentUser:n,signOut:s}=fa(),{saveTrip:i}=mx(),{currentTrip:o,saveCurrentTrip:c}=gx(),{flights:d,loading:h,saveFlight:g,deleteFlight:v}=iQ(),{hotels:y,saveHotel:E,deleteHotel:N}=aQ(),{dailyPlans:D,loading:k,saveDailyPlans:S,replaceDailyPlans:P,setDailyPlans:C}=bO(),{expenses:R,loading:Y,saveExpense:q,deleteExpense:T}=EO(),[b,I]=z.useState("itinerary"),[j,M]=z.useState(!1),[V,O]=z.useState(!1),[et,tt]=z.useState(!1),[le,Oe]=z.useState(null),[Z,de]=z.useState(!1),[ce,De]=z.useState(null),[J,G]=z.useState(null),[B,F]=z.useState({top:0,left:0}),[K,ae]=z.useState(null),[ge,pe]=z.useState(null),[ve,Te]=z.useState(null),[Re,Ne]=z.useState({top:0,left:0}),[Ae,lt]=z.useState("AIzaSyBFY-pyT3UnUN5bWc_G82xltZ7bqxInCo0"),xt="8ceaca4f71482b3a74e1f404".trim(),[Ht,Br]=z.useState(!1),[xs,Wr]=z.useState(!1),[Nr,sn]=z.useState(""),[En,$r]=z.useState([]),[ws,wt]=z.useState(!1),[ft,an]=z.useState(null),[ha,$n]=z.useState(!1),[bs,jr]=z.useState(null),[on,Es]=z.useState({}),[Dn,ai]=z.useState(""),[Ds,Hn]=z.useState(""),[ma,Yn]=z.useState(!1),[qn,Tn]=z.useState(!1),[oi,Hr]=z.useState(!1),[ga,Sn]=z.useState(!1),[pa,ln]=z.useState(!1),[Gn,Ot]=z.useState([{startDate:new Date,endDate:new Date,key:"selection"}]),[va,pr]=z.useState(!1),[Kn,ya]=z.useState(!1),li=z.useRef(null),Yr=z.useRef(null),ui=z.useRef(null),_a=z.useRef(null),Qn=z.useRef(null),ci=z.useRef(null),Ts=z.useRef(new Map),qr=z.useRef(new Map),[vr,Xn]=z.useState(null),[Ss,Jn]=z.useState(null),[di,Ps]=z.useState(!1),[fi,xa]=z.useState(""),[Ue,Gr]=z.useState({name:"",startDate:"",endDate:""}),Yt=(Ae||"AIzaSyBFY-pyT3UnUN5bWc_G82xltZ7bqxInCo0").trim(),_e=z.useMemo(()=>D.find(f=>f.id===le),[D,le]),Zt=z.useMemo(()=>{if(!_e)return[];const f=Ao(_e.date);return d.filter(x=>{const _=Ao(x.departureDate||x.date),A=Ao(x.arrivalDate);return _===f||A===f})},[d,_e]),Is=f=>{const x=_a.current;if(!x)return;const _=x.clientWidth*.8;x.scrollBy({left:f==="left"?-_:_,behavior:"smooth"})},hi=z.useMemo(()=>{const f=((_e==null?void 0:_e.places)||[]).map(_=>({id:_.id,address:_.address,location:_.location?{lat:_.location.lat,lng:_.location.lng}:null,transportMode:_.transportMode})),x=Zt.map(_=>({id:_.id,from:_.from,to:_.to}));return JSON.stringify({day:_e==null?void 0:_e.id,placesKey:f,flightsKey:x})},[_e,Zt]),Cs=f=>{var A,L,W;if(!f)return;const x=_e==null?void 0:_e.places.findIndex(X=>X.id===f);if(x===-1||x===void 0)return;Nt||os(!0);const _=Fr.current[x];if(_&&((L=(A=window.google)==null?void 0:A.maps)!=null&&L.event)){window.google.maps.event.trigger(_,"click");const X=_.position||(typeof _.getPosition=="function"?_.getPosition():null);X&&((W=ct.current)!=null&&W.panTo)&&ct.current.panTo(X),Xn(null)}else Xn({placeId:f,markerIndex:x})},Os=(f,x)=>`${f}-${x.toLowerCase()}`,wa=f=>{var W,X,se;if(!f)return;Nt||os(!0);const x=f.to?"Arrival":f.from?"Departure":null,_=f.from?"Departure":null,A=Os(f.id,x)||(_?Os(f.id,_):null);if(!A)return;const L=qr.current.get(A);if(L&&((X=(W=window.google)==null?void 0:W.maps)!=null&&X.event)){window.google.maps.event.trigger(L,"click");const a=L.position||(typeof L.getPosition=="function"?L.getPosition():null);a&&((se=ct.current)!=null&&se.panTo)&&ct.current.panTo(a),Jn(null)}else Jn(A)};z.useEffect(()=>{!o&&t&&c(t).catch(f=>{console.error("Failed to save initial trip from TravelPlanner:",f)})},[t,o,c]),z.useEffect(()=>{const f="AIzaSyBFY-pyT3UnUN5bWc_G82xltZ7bqxInCo0".trim();f&&f!==Ae&&lt(f)},[Ae]),z.useEffect(()=>{const f=x=>{Yr.current&&!Yr.current.contains(x.target)&&de(!1)};return Z&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[Z]),z.useEffect(()=>{const f=x=>{ui.current&&!ui.current.contains(x.target)&&jr(null)};return bs!==null&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[bs]),z.useEffect(()=>{if(!ve)return;const f=x=>{const _=typeof x.composedPath=="function"?x.composedPath():[],A=Qn.current,L=ci.current,W=A&&(A.contains(x.target)||_.includes(A)),X=L&&(L.contains(x.target)||_.includes(L));W||X||Te(null)};return document.addEventListener("pointerdown",f),()=>document.removeEventListener("pointerdown",f)},[ve]),z.useEffect(()=>{var f,x,_;if(le&&_e&&!on[le]){const A=((f=_e.places)==null?void 0:f.length)||0,L=vp(_e.places),W=L.all||0,X=((x=_e.places)==null?void 0:x.reduce((H,oe)=>H+parseFloat(oe.transportTime||0),0))||0,se=((_=_e.places)==null?void 0:_.reduce((H,oe)=>H+(parseFloat(oe.cost||0)||0),0))||0,a=R.filter(H=>H.dayId===le).reduce((H,oe)=>H+(parseFloat(oe.amount||0)||0),0)||0,ue=se+a;Es(H=>({...H,[le]:{totalStops:A,totalDistance:W,totalTime:X,totalCost:ue,distanceByMode:L}}))}},[le,_e,on,R]),z.useEffect(()=>{var W;if(!le||!_e)return;const f=((W=_e.places)==null?void 0:W.reduce((X,se)=>X+(parseFloat(se.cost||0)||0),0))||0,x=vp(_e.places),_=x.all||0,A=R.filter(X=>X.dayId===le).reduce((X,se)=>X+(parseFloat(se.amount||0)||0),0)||0,L=f+A;Es(X=>{const se=X[le];return!se||se.totalCost===L&&se.totalDistance===_?X:{...X,[le]:{...se,totalCost:L,totalDistance:_,distanceByMode:x}}})},[R,le,_e]),z.useEffect(()=>{const f=setTimeout(()=>{var x,_;if(le&&_e){const A=((x=_e.places)==null?void 0:x.length)||0,L=vp(_e.places),W=L.all||0,X=((_=_e.places)==null?void 0:_.reduce((se,a)=>se+parseFloat(a.transportTime||0),0))||0;Es(se=>({...se,[le]:{...se[le],totalStops:A,totalDistance:W,totalTime:X,distanceByMode:L}}))}},3e3);return()=>clearTimeout(f)},[le,_e,_e==null?void 0:_e.places]),z.useEffect(()=>{o&&D.length===0&&!k&&(async()=>{const x=[],_=Le(o.startDate),A=Le(o.endDate);let L=new Date(_),W=1;for(;L<=A;){const X=Ge(L);x.push({id:W++,date:X,title:"",city:"",country:"",places:[]}),L.setDate(L.getDate()+1)}try{await P(x),x.length>0&&Oe(x[0].id)}catch(X){console.error("Failed to generate daily plans:",X)}})()},[o,D.length,k]),z.useEffect(()=>{D&&D.length>0&&!le&&Oe(D[0].id)},[D,le]),z.useEffect(()=>{var se,a;if(!o||k||D.length===0)return;const f=Le(o.startDate),x=Le(o.endDate),_=Ge(f),A=Ge(x),L=Math.floor((x-f)/(1e3*60*60*24))+1,W=(se=D[0])==null?void 0:se.date,X=(a=D[D.length-1])==null?void 0:a.date;if(W!==_||X!==A||D.length!==L){const ue=new Map(D.map(Me=>[Me.date,Me])),H=[];let oe=new Date(f),je=1;for(;oe<=x;){const Me=Ge(oe),Ve=ue.get(Me);H.push({id:je++,date:Me,title:(Ve==null?void 0:Ve.title)||"",city:(Ve==null?void 0:Ve.city)||"",country:(Ve==null?void 0:Ve.country)||"",places:(Ve==null?void 0:Ve.places)||[]}),oe.setDate(oe.getDate()+1)}P(H).then(()=>{H.length>0&&Oe(H[0].id)}).catch(Me=>{console.error("Failed to realign daily plans with trip dates:",Me)})}},[o,k,D]);const[he,ut]=z.useState({airline:"",flightNumber:"",from:"",to:"",departureDate:"",arrivalDate:"",date:"",departureTime:"",arrivalTime:"",bookingRef:"",price:"",priceCurrency:"USD",isRoundTrip:!1,returnDate:"",returnDepartureTime:"",returnArrivalTime:""}),[Ze,Ut]=z.useState({name:"",address:"",city:"",state:"",country:"",checkIn:"",checkOut:"",price:"",priceCurrency:"USD"}),[Pn,ba]=z.useState("manual"),[Ns,mi]=z.useState(null),[Ea,Mr]=z.useState(""),[Rr,In]=z.useState(!1),[Zn,js]=z.useState(""),[$e,es]=z.useState(null),[yr,Cn]=z.useState("manual"),[gi,Ms]=z.useState(null),[Da,Rs]=z.useState(""),[To,pi]=z.useState(!1),[On,ir]=z.useState(""),[vi,As]=z.useState([]),[yi,Kr]=z.useState({name:"",address:"",placeId:"",location:null,city:"",state:"",country:"",photoUrl:"",notes:"",transportMode:"walking",transportTime:"",distance:"",startTime:"",endTime:"",priority:0,metroStation:"",metroLine:"",visited:!1}),[gt,_r]=z.useState({description:"",amount:"",category:"food",date:"",city:"",country:"",currency:"USD"}),[Ta,Qr]=z.useState("category"),[Fs,Sa]=z.useState("EUR"),un=(f={})=>{const x=xr(f.departureDate||f.date||""),_=xr(f.arrivalDate||""),A=xr(f.date||f.departureDate||"");return{airline:f.airline||"",flightNumber:f.flightNumber||"",from:f.from||"",to:f.to||"",departureDate:x,arrivalDate:_,date:A,departureTime:f.departureTime||"",arrivalTime:f.arrivalTime||"",bookingRef:f.bookingRef||"",price:f.price||f.value||"",priceCurrency:f.priceCurrency||f.currency||Hl(f.price||f.value)||"USD",segments:f.segments||[]}},ts=f=>new Promise((x,_)=>{const A=new FileReader;A.onload=()=>{const L=A.result;if(typeof L=="string"){const[,W]=L.split(",");x(W||"")}else _(new Error("Unsupported file encoding"))},A.onerror=()=>_(new Error("Unable to read file. Please try again.")),A.readAsDataURL(f)}),_i=(f="")=>{try{return JSON.parse(f)}catch{const _=f.match(/{[\s\S]*}/);if(_)try{return JSON.parse(_[0])}catch(A){console.error("Gemini JSON parse failed:",A)}}return null},rs=async({base64Data:f,mimeType:x})=>{var H,oe,je,Me;const _="AIzaSyAOPK1oEj4SrtvBfYRw904Pwv85UX_2tWI".trim();if(!_)throw new Error("Add VITE_GEMINI_API_KEY in your env to enable file/image extraction with Gemini.");const A="gemini-2.5-flash-lite".trim(),L="v1".trim(),X=await fetch(`https://generativelanguage.googleapis.com/${L}/models/${A}:generateContent?key=${_}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:'Extract flight details from this ticket. Support round trips. Return ONLY a JSON object. Keys: airline, flightNumber, bookingRef, price, priceCurrency. Include "segments" as an array; each segment object must have from, to, departureDate (YYYY-MM-DD), arrivalDate (YYYY-MM-DD), departureTime (24h HH:MM), arrivalTime (24h HH:MM). If it is round trip, include two segments (outbound first, return second). Use empty strings when data is missing.'},{inline_data:{mime_type:x||"application/octet-stream",data:f}}]}]})});if(!X.ok){const Ve=await X.text();throw new Error(`Gemini request failed (${X.status}): ${Ve||"Unknown error"}`)}const a=((Me=(je=(oe=(H=(await X.json()).candidates)==null?void 0:H[0])==null?void 0:oe.content)==null?void 0:je.parts)==null?void 0:Me.map(Ve=>Ve.text||"").join(`
`))||"",ue=_i(a);if(!ue)throw new Error("Gemini responded but no flight details were parsed.");return un(ue)},Nn=async f=>{var x;if(f){mi({name:f.name,type:f.type||"unknown",size:f.size}),js(""),In(!0),(x=f.type)!=null&&x.startsWith("image/")?Mr(URL.createObjectURL(f)):Mr("");try{const _=await ts(f),A=await rs({base64Data:_,mimeType:f.type}),L=Array.isArray(A.segments)?A.segments:[];if(L.length>=2){const W=un({...A,...L[0]}),X=un({...A,...L[1]});ut(se=>({...se,...W,isRoundTrip:!0,returnDate:X.departureDate||X.date||"",returnDepartureTime:X.departureTime||"",returnArrivalTime:X.arrivalTime||"",to:W.to||X.from||se.to,from:W.from||se.from}))}else{const W=un(A);ut(X=>({...X,...W,isRoundTrip:!1,returnDate:"",returnDepartureTime:"",returnArrivalTime:""}))}}catch(_){console.error("Flight extraction failed:",_),js(_.message||"Unable to extract details. Please fill the form manually.")}finally{In(!1)}}},Pa=async f=>{var A;if(Pn!=="image")return;const x=(A=f.clipboardData)==null?void 0:A.items;if(!x)return;const _=Array.from(x).find(L=>L.type.startsWith("image/"));if(_){f.preventDefault();const L=_.getAsFile();L&&await Nn(L)}},cn=()=>{ut({airline:"",flightNumber:"",from:"",to:"",departureDate:"",arrivalDate:"",date:"",departureTime:"",arrivalTime:"",bookingRef:"",price:"",priceCurrency:"USD",isRoundTrip:!1,returnDate:"",returnDepartureTime:"",returnArrivalTime:""}),mi(null),Mr(""),js(""),In(!1),ba("manual"),es(null)},it=async()=>{try{if($e){const A={id:$e,...he,date:he.departureDate||he.date||""};await g(A),cn(),M(!1);return}const f=Date.now(),x={id:f,...he,date:he.departureDate||he.date||"",groupId:he.isRoundTrip?f:null,leg:"outbound"},_=he.isRoundTrip&&he.returnDate?{...he,id:f+1,airline:he.airline,flightNumber:`${he.flightNumber||""}`.trim()?`${he.flightNumber}-R`:"",from:he.to,to:he.from,departureDate:he.returnDate,arrivalDate:he.returnDate,date:he.returnDate,departureTime:he.returnDepartureTime,arrivalTime:he.returnArrivalTime,bookingRef:he.bookingRef,price:"",priceCurrency:he.priceCurrency,groupId:f,leg:"return"}:null;await g(x),_&&await g(_),cn(),M(!1)}catch(f){console.error("Failed to add flight:",f),alert("Failed to add flight. Please try again.")}},So=async f=>{try{await N(f)}catch(x){console.error("Failed to delete hotel:",x)}},Po=(f={})=>{const x=[],_=(W,X)=>{if(!X)return;const se=String(X).trim();se&&x.push({label:W,value:se})},A=f.total||f.totalPrice||f.total_price||f.totalAmount||f.total_amount||f.totalWithTaxes||f.total_with_taxes||f.grandTotal||f.subtotal||f.price||f.value||"";_("Total",f.total||f.totalPrice||f.total_price||f.totalWithTaxes||f.total_with_taxes||f.grandTotal),_("Subtotal",f.subtotal),_("Nightly",f.nightlyRate||f.nightly_rate),_("Fees",f.fees||f.fee),_("Taxes",f.taxes||f.tax),_("Deposit",f.deposit),_("Other",f.price||f.value),Array.isArray(f.amounts)&&f.amounts.forEach(W=>{W&&W.value&&_(W.label||"Amount",W.value)});const L=f.priceCurrency||f.currency||Hl(A||f.price||f.value)||"USD";return{name:f.name||f.hotelName||"",address:f.address||"",city:f.city||"",state:f.state||"",country:f.country||"",checkIn:xr(f.checkIn||f.checkInDate||""),checkOut:xr(f.checkOut||f.checkOutDate||""),price:A,priceCurrency:L,amounts:x}},Ia=async({base64Data:f,mimeType:x})=>{var H,oe,je,Me;const _="AIzaSyAOPK1oEj4SrtvBfYRw904Pwv85UX_2tWI".trim();if(!_)throw new Error("Add VITE_GEMINI_API_KEY in your env to enable file/image extraction with Gemini.");const A="gemini-2.5-flash-lite".trim(),L="v1".trim(),X=await fetch(`https://generativelanguage.googleapis.com/${L}/models/${A}:generateContent?key=${_}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"Extract hotel booking details. Return ONLY a JSON object with keys: name (hotel name), address, city, state, country, checkIn (YYYY-MM-DD), checkOut (YYYY-MM-DD), total (overall total amount including taxes/fees), priceCurrency (3-letter ISO), and amounts (array of {label,value} for any monetary values you see such as total, grand total, subtotal, nightly, fees, taxes, deposits). Prefer the overall total even if individual fees/taxes are listed. Use empty strings when missing."},{inline_data:{mime_type:x||"application/octet-stream",data:f}}]}]})});if(!X.ok){const Ve=await X.text();throw new Error(`Gemini request failed (${X.status}): ${Ve||"Unknown error"}`)}const a=((Me=(je=(oe=(H=(await X.json()).candidates)==null?void 0:H[0])==null?void 0:oe.content)==null?void 0:je.parts)==null?void 0:Me.map(Ve=>Ve.text||"").join(`
`))||"",ue=_i(a);if(!ue)throw new Error("Gemini responded but no hotel details were parsed.");return Po(ue)},xi=async f=>{var x;if(f){Ms({name:f.name,type:f.type||"unknown",size:f.size}),ir(""),pi(!0),As([]),(x=f.type)!=null&&x.startsWith("image/")?Rs(URL.createObjectURL(f)):Rs("");try{const _=await ts(f),A=await Ia({base64Data:_,mimeType:f.type});As(A.amounts||[]),Ut(L=>({...L,...A}))}catch(_){console.error("Hotel extraction failed:",_),ir(_.message||"Unable to extract hotel details. Please fill manually.")}finally{pi(!1)}}},Ca=()=>{Ms(null),Rs(""),ir(""),As([]),Ut({name:"",address:"",city:"",state:"",country:"",checkIn:"",checkOut:"",price:"",priceCurrency:"USD"})},ks=async f=>{var A;if(yr!=="image")return;const x=(A=f.clipboardData)==null?void 0:A.items;if(!x)return;const _=Array.from(x).find(L=>L.type.startsWith("image/"));if(_){f.preventDefault();const L=_.getAsFile();L&&await xi(L)}},Oa=async()=>{const f={id:Date.now(),...Ze};try{await E(f),Ut({name:"",address:"",city:"",state:"",country:"",checkIn:"",checkOut:"",price:"",priceCurrency:"USD"}),Ms(null),Rs(""),ir(""),pi(!1),Cn("manual"),O(!1)}catch(x){console.error("Failed to add hotel:",x),alert("Failed to add hotel. Please try again.")}},Ar=async()=>{const f={id:Date.now(),...gt};try{await q(f),_r({description:"",amount:"",category:"food",date:"",city:"",country:"",currency:"USD"}),ai(""),Hn(""),tt(!1)}catch(x){console.error("Failed to add expense:",x),alert("Failed to add expense. Please try again.")}},wi=(f,x)=>{const _=D.map(A=>A.id===f?{...A,places:A.places.filter(L=>L.id!==x)}:A);C(_)},Io=(f,x,_)=>{an({dayId:x,placeId:_}),$n(!0),f.dataTransfer.effectAllowed="move",f.stopPropagation()},ns=f=>{f.preventDefault(),f.dataTransfer.dropEffect="move"},Na=()=>{an(null),setTimeout(()=>$n(!1),100)},bi=async(f,x,_)=>{if(f.preventDefault(),f.stopPropagation(),!ft||ft.placeId===_){an(null),setTimeout(()=>$n(!1),100);return}const A=D.map(W=>{if(W.id===x){const X=[...W.places],se=X.findIndex(ue=>ue.id===ft.placeId),a=X.findIndex(ue=>ue.id===_);if(se!==-1&&a!==-1){const[ue]=X.splice(se,1);X.splice(a,0,ue)}return{...W,places:X}}return W});C(A),an(null),setTimeout(()=>$n(!1),100);const L=A.find(W=>W.id===x);if(L&&L.places.length>1){const W=await Promise.all(A.map(async X=>{if(X.id===x){const se=await Promise.all(X.places.map(async(a,ue)=>{if(ue===0)return a;const H=X.places[ue-1];if(H.coordinates&&a.coordinates)try{const oe=await dn(H.coordinates,a.coordinates,a.transportMode||"walking");return{...a,distance:oe.distance,transportTime:oe.time}}catch(oe){return console.error("Error recalculating distance:",oe),a}return a}));return{...X,places:se}}return X}));C(W)}},ss=(f,x,_,A,L=!0)=>{const W=_==="start"?"startTime":_==="end"?"endTime":_,X=D.map(se=>({...se,places:se.places.map(a=>a.id===x&&se.id===f?{...a,[W]:A}:a)}));C(X),L&&Te(null)},Ei=(f,x,_)=>{if(_){ci.current=_;const A=_.getBoundingClientRect(),L=220,W=170,X=A.top,se=window.innerHeight-A.bottom;let a=A.bottom+6;se<L&&X>L&&(a=A.top-L-6);const ue=Math.max(8,Math.min(window.innerWidth-W-8,A.left));Ne({top:a,left:ue})}Te({placeId:f,field:x})},Ls=(f,x,_)=>{const A=D.map(L=>{if(L.id===f){const W=L.places.map(X=>X.id===x?{...X,priority:_}:X);return{...L,places:W}}return L});C(A)},Co=async(f,x,_)=>{const A=D.find(ue=>ue.id===f);if(!A)return;const L=A.places.findIndex(ue=>ue.id===x);if(L<=0)return;const W=A.places[L],X=A.places[L-1];l(null);let se=D.map(ue=>ue.id===f?{...ue,places:ue.places.map(H=>H.id===x?{...H,transportMode:_,distance:"",transportTime:"",isAutoCalculated:!1}:H)}:ue),a={distance:"",time:"",error:null};Yt&&X.address&&W.address&&(_==="plane"?a={distance:"",time:"",error:null,isAutoCalculated:!1}:_==="transit"||_==="bus"?(a=await dn(X.address,W.address,"transit"),(a.error||!a.distance&&!a.time)&&(a=await dn(X.address,W.address,"car"))):a=await dn(X.address,W.address,_)),(a.distance||a.time)&&(se=se.map(ue=>ue.id===f?{...ue,places:ue.places.map(H=>H.id===x?{...H,distance:a.distance,transportTime:a.time,isAutoCalculated:a.isAutoCalculated||!1}:H)}:ue)),C(se)},ja=async f=>{try{await v(f)}catch(x){console.error("Failed to delete flight:",x),alert("Failed to delete flight. Please try again.")}},is=async f=>{try{await T(f)}catch(x){console.error("Failed to delete expense:",x),alert("Failed to delete expense. Please try again.")}},Di=f=>f&&typeof f=="object"&&typeof f.lat=="number"&&typeof f.lng=="number"?new window.google.maps.LatLng(f.lat,f.lng):f,dn=async(f,x,_)=>{if(!Yt)return{distance:"",time:"",error:"API key not set"};Wr(!0);try{await w();const L={walking:"WALKING",transit:"TRANSIT",car:"DRIVING",plane:"DRIVING",metro:"TRANSIT",bus:"TRANSIT",train:"TRANSIT",other:"DRIVING"}[_]||"WALKING";console.log("Travel mode mapping:",_,"->",L);const W=await new Promise((X,se)=>{var oe;if(!((oe=window.google)!=null&&oe.maps))return se(new Error("Google Maps not loaded"));const a=new window.google.maps.DistanceMatrixService,ue=Di(f),H=Di(x);a.getDistanceMatrix({origins:[ue],destinations:[H],travelMode:L},(je,Me)=>{if(Me==="OK"&&je.rows[0].elements[0].status==="OK"){const Ve=je.rows[0].elements[0],jt=(Ve.distance.value/1e3).toFixed(1),kt=Math.round(Ve.duration.value/60);X({distance:jt,time:kt,error:null,isAutoCalculated:!0})}else se(new Error("Could not calculate route"))})});return Wr(!1),W}catch(A){return Wr(!1),{distance:"",time:"",error:A.message}}},[ar,as]=z.useState(typeof window<"u"&&!!((Il=window.google)!=null&&Il.maps)),Vs=z.useRef(null),ct=z.useRef(null),Fr=z.useRef([]),jn=z.useRef([]),At=z.useRef(null),Ti=z.useRef(null),Si=z.useRef(!1),[Nt,os]=z.useState(!0),[ls,Ft]=z.useState(!1),[Ma,Ra]=z.useState(!1),[pt,l]=z.useState(null),[m,p]=z.useState(null),w=()=>{var f;return ar&&((f=window.google)!=null&&f.maps)?Promise.resolve():new Promise((x,_)=>{let A=0;const L=setInterval(()=>{var W;(W=window.google)!=null&&W.maps?(clearInterval(L),as(!0),x()):A++>30&&(clearInterval(L),_(new Error("Google Maps failed to load")))},200)})},U=async f=>{var x,_;if(!Yt||!f||f.length<3){$r([]);return}wt(!0);try{await w();const A=!!((_=(x=window.google.maps.places)==null?void 0:x.AutocompleteSuggestion)!=null&&_.fetchAutocompleteSuggestions);let L=[];if(A){const{suggestions:W}=await window.google.maps.places.AutocompleteSuggestion.fetchAutocompleteSuggestions({input:f,includedPrimaryTypes:["tourist_attraction","museum","restaurant","park","point_of_interest"]});L=await Promise.all(W.map(async X=>{var ue,H,oe,je,Me,Ve;const se=X.placePrediction,a={place_id:se.placeId,description:((ue=se.text)==null?void 0:ue.toString())||"",structured_formatting:{main_text:((oe=(H=se.structuredFormat)==null?void 0:H.mainText)==null?void 0:oe.toString())||((je=se.text)==null?void 0:je.toString())||"",secondary_text:((Ve=(Me=se.structuredFormat)==null?void 0:Me.secondaryText)==null?void 0:Ve.toString())||""}};try{const jt=new window.google.maps.places.Place({id:se.placeId});await jt.fetchFields({fields:["photos"]});const kt=yE(jt.photos,160);return{...a,photoUrl:kt}}catch(jt){return console.warn("Failed to fetch photo for suggestion",se.placeId,jt),a}}))}else{const W=new window.google.maps.places.AutocompleteService;L=(await new Promise((se,a)=>{W.getPlacePredictions({input:f,types:["tourist_attraction","restaurant","park","point_of_interest"]},(ue,H)=>{H===window.google.maps.places.PlacesServiceStatus.OK&&ue?se(ue):H===window.google.maps.places.PlacesServiceStatus.ZERO_RESULTS?se([]):a(new Error(H))})})).map(se=>{var a,ue;return{place_id:se.place_id,description:se.description||"",structured_formatting:{main_text:((a=se.structured_formatting)==null?void 0:a.main_text)||se.description||"",secondary_text:((ue=se.structured_formatting)==null?void 0:ue.secondary_text)||""}}})}$r(L),wt(!1)}catch(A){console.error("Place autocomplete failed:",A),$r([]),wt(!1)}},$=async f=>{var x,_;try{await w();const A=!!((x=window.google.maps.places)!=null&&x.Place);let L=null;if(A){const a=new window.google.maps.places.Place({id:f.place_id});await a.fetchFields({fields:["displayName","formattedAddress","location","addressComponents","photos"]});const ue=yE(a.photos,600),H=_E(a.addressComponents||[]);L={name:a.displayName||Nr,address:a.formattedAddress||Nr,placeId:f.place_id,location:a.location?{lat:a.location.lat(),lng:a.location.lng()}:null,city:H.city||"",state:H.state||"",country:H.country||"",photoUrl:ue||"",notes:"",transportMode:"walking",transportTime:"",distance:"",startTime:"",endTime:"",type:ce||"place"}}else{const a=new window.google.maps.places.PlacesService(document.createElement("div")),ue=await new Promise((Me,Ve)=>{a.getDetails({placeId:f.place_id,fields:["name","formatted_address","geometry","photos","address_component"]},(jt,kt)=>{kt===window.google.maps.places.PlacesServiceStatus.OK&&jt?Me(jt):Ve(new Error(kt))})}),H=ue.photos&&ue.photos.length>0?ue.photos[0].getUrl({maxWidth:600,maxHeight:600}):"",oe=(ue.address_components||[]).map(Me=>({longText:Me.long_name,types:Me.types||[]})),je=_E(oe);L={name:ue.name||Nr,address:ue.formatted_address||Nr,placeId:f.place_id,location:(_=ue.geometry)!=null&&_.location?{lat:ue.geometry.location.lat(),lng:ue.geometry.location.lng()}:null,city:je.city||"",state:je.state||"",country:je.country||"",photoUrl:H,notes:"",transportMode:"walking",transportTime:"",distance:"",startTime:"",endTime:"",type:ce||"place"}}const W=D.find(a=>a.id===le);let X={...L};if(W&&W.places.length>0&&Yt){const a=W.places[W.places.length-1],ue=await dn(a.location||a.address,L.location||L.address,"walking");let H="walking";!ue.error&&ue.distance&&parseFloat(ue.distance)>=1&&(H="transit");const oe=await dn(a.location||a.address,L.location||L.address,H);oe.error||(X={...L,transportMode:H,distance:oe.distance,transportTime:oe.time,isAutoCalculated:oe.isAutoCalculated||!1})}const se=D.map(a=>a.id===le?{...a,places:[...a.places,{id:Date.now(),...X}]}:a);C(se),Kr({name:"",address:"",placeId:"",location:null,city:"",state:"",country:"",photoUrl:"",notes:"",transportMode:"walking",transportTime:"",distance:"",startTime:"",endTime:""}),sn(""),$r([]),De(null)}catch(A){console.error("Failed to get place details:",A)}};z.useEffect(()=>{if(!Yt)return;if(window.google&&window.google.maps){as(!0);return}const f="google-maps-js";if(document.getElementById(f))return;const x=document.createElement("script");x.id=f,x.src=`https://maps.googleapis.com/maps/api/js?key=${Yt}&libraries=places,marker`,x.async=!0,x.defer=!0,x.onload=()=>as(!0),x.onerror=()=>console.error("Failed to load Google Maps script"),document.head.appendChild(x)},[Yt]),z.useEffect(()=>{if(!ar)return;const f="hide-gm-close-button";if(document.getElementById(f))return;const x=document.createElement("style");x.id=f,x.innerHTML=".gm-ui-hover-effect { display: none !important; }",document.head.appendChild(x)},[ar]),z.useEffect(()=>{if(!(!Nt||!ar||!Vs.current))try{ct.current=new window.google.maps.Map(Vs.current,{center:{lat:46.8182,lng:8.2275},zoom:7,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,mapId:xt||void 0}),ct.current.addListener("click",()=>{At.current&&(At.current.close(),At.current=null)})}catch(f){console.error("Error creating map instance:",f)}},[Nt,ar]),z.useEffect(()=>{Nt||(Fr.current.forEach(f=>{f&&typeof f.setMap=="function"?f.setMap(null):f&&(f.map=null)}),Fr.current=[],jn.current.forEach(f=>f.setMap(null)),jn.current=[])},[Nt]),z.useEffect(()=>{var ue;if(!Nt||!ar||!ct.current||(Fr.current.forEach(H=>{typeof H.setMap=="function"?H.setMap(null):H.map=null}),Fr.current=[],jn.current.forEach(H=>H.setMap(null)),jn.current=[],qr.current.forEach(H=>{typeof H.setMap=="function"?H.setMap(null):H&&(H.map=null)}),qr.current=new Map,!_e||!((ue=_e.places)!=null&&ue.length)&&Zt.length===0))return;const f=new window.google.maps.LatLngBounds;let x=!1;Ft(!0);const _=new window.google.maps.Geocoder,A=H=>{if(!H)return Promise.resolve(null);const oe=String(H).trim(),je=oe.toUpperCase(),Me=new Set;Me.add(oe),Me.add(`${oe} airport`),Me.add(`${oe} international airport`),Me.add(je),je.length===3&&(Me.add(`${je} airport`),Me.add(`${je} international airport`));const Ve=jt=>{if(!jt.length)return Promise.resolve(null);const[kt,...Mn]=jt,Ii=kt.toLowerCase(),us=Ts.current.get(Ii);return us?Promise.resolve(new window.google.maps.LatLng(us.lat,us.lng)):new Promise(Ci=>{_.geocode({address:kt},(nf,sf)=>{if(x)return Ci(null);if(sf==="OK"&&nf[0]){const tc=nf[0].geometry.location,rc={lat:tc.lat(),lng:tc.lng()};Ts.current.set(Ii,rc),Ci(new window.google.maps.LatLng(rc.lat,rc.lng))}else Ci(null)})}).then(Ci=>Ci||Ve(Mn))};return Ve([...Me])},L=(H,oe)=>new Promise(je=>{const Me=H.location&&typeof H.location.lat=="number"&&typeof H.location.lng=="number"?new window.google.maps.LatLng(H.location.lat,H.location.lng):null,Ve=kt=>{var vx,yx,_x;const Mn="M384 192c0 87.4-117 243-168.3 307.2c-12.3 15.3-35.1 15.3-47.4 0C117 435 0 279.4 0 192C0 86 86 0 192 0S384 86 384 192z",Ii=!!xt&&((_x=(yx=(vx=window.google)==null?void 0:vx.maps)==null?void 0:yx.marker)==null?void 0:_x.AdvancedMarkerElement);let us;if(Ii){const fn=document.createElement("div");fn.style.position="relative",fn.style.width="40px",fn.style.height="52px",fn.style.display="flex",fn.style.alignItems="center",fn.style.justifyContent="center";const Aa=document.createElementNS("http://www.w3.org/2000/svg","svg");Aa.setAttribute("viewBox","0 0 384 512"),Aa.setAttribute("width","40"),Aa.setAttribute("height","52");const fg=document.createElementNS("http://www.w3.org/2000/svg","path");fg.setAttribute("d",Mn),fg.setAttribute("fill","#FF6B6B"),Aa.appendChild(fg),fn.appendChild(Aa);const Us=document.createElement("div");Us.textContent=`${oe+1}`,Us.style.position="absolute",Us.style.top="16px",Us.style.left="50%",Us.style.transform="translateX(-50%)",Us.style.color="white",Us.style.fontWeight="700",Us.style.fontSize="13px",Us.style.textShadow="0 1px 4px rgba(0,0,0,0.35)",fn.appendChild(Us),us=new window.google.maps.marker.AdvancedMarkerElement({map:ct.current,position:kt,title:H.name||H.address||"Place",content:fn})}else{const fn=`<svg xmlns="http://www.w3.org/2000/svg" width="40" height="52" viewBox="0 0 384 512"><path fill="%23FF6B6B" d="${Mn}"/></svg>`,Aa=`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(fn)}`;us=new window.google.maps.Marker({map:ct.current,position:kt,title:H.name||H.address||"Place",icon:{url:Aa,scaledSize:new window.google.maps.Size(32,44),anchor:new window.google.maps.Point(16,44),labelOrigin:new window.google.maps.Point(16,18)},label:{text:`${oe+1}`,color:"white",fontSize:"12px",fontWeight:"bold"}})}const Ci=fn=>({place:"",restaurant:"",cafe:"",activity:"",note:""})[fn]||"",nf={walking:"",transit:"",car:"",plane:""},sf=H.priority?"".repeat(Math.min(5,H.priority)):"",tc=H.address||H.name?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(H.address||H.name)}`:"",rc=`
          <div style="max-width:300px;font-family:system-ui,-apple-system,sans-serif;color:#1f2937;">
            ${H.photoUrl?`
              <div style="overflow:hidden;border-radius:12px;margin-bottom:10px;box-shadow:0 8px 20px rgba(0,0,0,0.08);position:relative;">
                <img src="${H.photoUrl}" alt="${H.name||"Place photo"}" style="width:100%;height:170px;object-fit:cover;display:block;" />
                ${H.type?`<span style="position:absolute;left:10px;top:10px;padding:4px 10px;border-radius:999px;background:rgba(0,0,0,0.55);color:#fff;font-size:11px;display:inline-flex;align-items:center;gap:6px;">${Ci(H.type)} ${H.type.charAt(0).toUpperCase()+H.type.slice(1)}</span>`:""}
              </div>
            `:""}
            <div style="display:flex;align-items:flex-start;gap:8px;margin-bottom:8px;">
              <span style="font-size:18px;">${Ci(H.type)}</span>
              <div style="flex:1;">
                <strong style="font-size:15px;color:#111827;display:block;">${H.name||"Place"}</strong>
            ${H.address?`<div style="color:#6b7280;font-size:12px;margin-top:2px;line-height:1.4;">${H.address}</div>`:""}
          </div>
          ${sf?`<div style="background:#fff4e5;border:1px solid #fde68a;padding:4px 8px;border-radius:8px;font-size:11px;white-space:nowrap;">${sf}</div>`:""}
        </div>
        <div style="display:flex;flex-wrap:wrap;gap:6px;margin-top:6px;font-size:11px;">
          ${H.visitTime?`<div style="background:#f3f4f6;padding:4px 8px;border-radius:6px;"> ${H.visitTime}</div>`:""}
          ${H.startTime&&H.endTime?`<div style="background:#eef2ff;padding:4px 8px;border-radius:6px;"> ${wE(H.startTime,H.endTime)}</div>`:""}
          ${H.cost?`<div style="background:#f3f4f6;padding:4px 8px;border-radius:6px;"> ${H.cost} ${DO(H.currency)}</div>`:""}
          ${H.transportMode||H.distance||H.transportTime?`
            <div style="background:#e0f2fe;padding:4px 8px;border-radius:6px;display:flex;align-items:center;gap:6px;">
              <span>${nf[H.transportMode]||""}</span>
              <span style="color:#0f172a;">
                    ${H.transportMode?H.transportMode.charAt(0).toUpperCase()+H.transportMode.slice(1):"Route"}
                    ${H.distance?`  ${H.distance} km`:""}${H.transportTime?`  ${H.transportTime} min`:""}
                  </span>
                </div>
              `:""}
            </div>
            ${H.notes?`<div style="margin-top:10px;padding:10px;background:#f9fafb;border-radius:10px;font-size:12px;color:#4b5563;line-height:1.4;">${H.notes}</div>`:""}
            ${tc?`<a href="${tc}" target="_blank" rel="noopener noreferrer" style="display:inline-block;margin-top:10px;font-size:12px;color:#2563eb;text-decoration:none;">Open in Google Maps </a>`:""}
          </div>
        `,px=new window.google.maps.InfoWindow({content:rc});us.addListener("click",()=>{At.current&&At.current.close(),px.open({anchor:us,map:ct.current}),At.current=px}),Fr.current.push(us),f.extend(kt),je(kt)};if(Me){Ve(Me);return}const jt=H.address||H.name;if(!jt)return je(null);A(jt).then(kt=>{if(x||!kt)return je(null);Ve(kt)})}),W=Zt.flatMap(H=>{const oe=[];return H.from&&oe.push({airport:H.from,label:"Departure",flightId:H.id}),H.to&&oe.push({airport:H.to,label:"Arrival",flightId:H.id}),oe}),X=({airport:H,label:oe,flightId:je})=>new Promise(Me=>{const Ve=H.toLowerCase().includes("airport")?H:`${H} airport`;A(Ve).then(jt=>{if(x||!jt)return Me(null);const kt='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="%230b6559" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2.5 19h19"/><path d="M17 14.5V19"/><path d="M5 10L2 7.5"/><path d="M22 7.5L19 10"/><path d="M7.5 11l.5 8"/><path d="M16 19.5V11"/><path d="M12 19.5V3l3 2v4l7 2-1 3-6-1.5V19"/></svg>',Mn=new window.google.maps.Marker({map:ct.current,position:jt,title:`${oe} Airport: ${H}`,icon:{url:`data:image/svg+xml;utf-8,${encodeURIComponent(kt)}`,scaledSize:new window.google.maps.Size(28,28),anchor:new window.google.maps.Point(14,20)},label:{text:oe==="Departure"?"DEP":"ARR",color:"#0b6559",fontSize:"11px",fontWeight:"700"}}),Ii=new window.google.maps.InfoWindow({content:`<div style="font-family:system-ui,-apple-system,sans-serif;font-size:12px;color:#1f2937;"><strong>${oe} Airport</strong><div style="color:#4b5563;">${H}</div></div>`});Mn.addListener("click",()=>{At.current&&At.current.close(),Ii.open({anchor:Mn,map:ct.current}),At.current=Ii}),qr.current.set(Os(je,oe),Mn),Fr.current.push(Mn),f.extend(jt),Me(jt)})}),se=Promise.all((_e.places||[]).map((H,oe)=>L(H,oe))),a=Promise.all(W.map(H=>X(H)));return Promise.all([se,a]).then(([H])=>{if(x)return;const oe=H.filter(je=>je!==null);if(oe.length>1)for(let je=0;je<oe.length-1;je++){const Me=_e.places[je+1],jt={walking:"WALKING",transit:"TRANSIT",car:"DRIVING",plane:"DRIVING",metro:"TRANSIT",bus:"TRANSIT",train:"TRANSIT",other:"DRIVING"}[Me.transportMode]||"WALKING",kt=new window.google.maps.DirectionsService,Mn=new window.google.maps.DirectionsRenderer({map:ct.current,suppressMarkers:!0,polylineOptions:{strokeColor:"#4ECDC4",strokeWeight:3,strokeOpacity:.7}});kt.route({origin:oe[je],destination:oe[je+1],travelMode:jt},(Ii,us)=>{us==="OK"&&!x&&(Mn.setDirections(Ii),jn.current.push(Mn))})}Ft(!1),f.isEmpty()||ct.current.fitBounds(f)}).catch(()=>Ft(!1)),()=>{x=!0}},[Nt,ar,hi]),z.useEffect(()=>{var _,A,L;if(!vr||!Nt)return;const f=_e==null?void 0:_e.places.findIndex(W=>W.id===vr.placeId);if(f===-1||f===void 0){Xn(null);return}const x=Fr.current[f];if(x&&((A=(_=window.google)==null?void 0:_.maps)!=null&&A.event)){window.google.maps.event.trigger(x,"click");const W=x.position||(typeof x.getPosition=="function"?x.getPosition():null);W&&((L=ct.current)!=null&&L.panTo)&&ct.current.panTo(W),Xn(null)}},[vr,Nt,_e,hi]),z.useEffect(()=>{var x,_,A;if(!Ss||!Nt)return;const f=qr.current.get(Ss);if(f&&((_=(x=window.google)==null?void 0:x.maps)!=null&&_.event)){window.google.maps.event.trigger(f,"click");const L=f.position||(typeof f.getPosition=="function"?f.getPosition():null);L&&((A=ct.current)!=null&&A.panTo)&&ct.current.panTo(L),Jn(null)}},[Ss,Nt,hi]),z.useEffect(()=>{if(!pt)return;const f=()=>{l(null)};return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[pt]),z.useEffect(()=>{if(D.length>0&&n&&!k){const f=JSON.stringify(D);if(Ti.current===f)return;const x=setTimeout(async()=>{Si.current=!0,Ti.current=f;try{await S(D)}catch(_){console.error("Failed to save daily plans:",_)}finally{setTimeout(()=>{Si.current=!1},100)}},3e3);return()=>clearTimeout(x)}},[D,n,k]),z.useEffect(()=>{d.length>=0},[d]),z.useEffect(()=>{R.length>=0},[R]);const ne=f=>{if(!f||f.length<1)return[];const x=f.toLowerCase();return oQ(o==null?void 0:o.countries).filter(({city:A})=>A.toLowerCase().includes(x)).slice(0,10)},He=f=>{if(!f||f.length<1)return[];const x=f.toLowerCase();return(o!=null&&o.countries&&o.countries.length>0?o.countries:Object.keys(kv)).filter(A=>A.toLowerCase().includes(x))},Dt=()=>{Gr({...Ue,name:o.name}),Sn(!0)},Fe=()=>{Gr({...Ue,startDate:o.startDate,endDate:o.endDate});const f=o!=null&&o.startDate?Le(o.startDate):new Date,x=o!=null&&o.endDate?Le(o.endDate):new Date;Ot([{startDate:f,endDate:x,key:"selection"}]),ln(!0)},Ge=f=>{const x=f.getFullYear(),_=String(f.getMonth()+1).padStart(2,"0"),A=String(f.getDate()).padStart(2,"0");return`${x}-${_}-${A}`},Le=f=>{if(!f)return new Date;if(f instanceof Date)return new Date(f.getFullYear(),f.getMonth(),f.getDate());if(typeof f=="string"){const[x,_,A]=f.split("-").map(Number);if(!Number.isNaN(x)&&!Number.isNaN(_)&&!Number.isNaN(A))return new Date(x,_-1,A)}return new Date(f)},xr=f=>{if(!f)return"";const x=String(f).trim();if(/\d{4}/.test(x)){const oe=new Date(x);return Number.isNaN(oe.getTime())?x:Ge(oe)}const _=x.split(/[-/]/).map(Number);if(_.length<2)return x;const[A,L]=_;if(Number.isNaN(A)||Number.isNaN(L))return x;let W=A,X=L;A>12&&L<=12?(X=A,W=L):L>12&&A<=12&&(W=A,X=L);const se=new Date,a=se.getFullYear(),ue=[a-1,a,a+1].map(oe=>new Date(oe,(W||1)-1,X||1)).filter(oe=>!Number.isNaN(oe.getTime()));if(!ue.length)return x;const H=ue.reduce((oe,je)=>{const Me=Math.abs(je.getTime()-se.getTime());return Me<oe.diff?{date:je,diff:Me}:oe},{date:ue[0],diff:Math.abs(ue[0].getTime()-se.getTime())}).date;return Ge(H)},er=async()=>{if(Ue.name.trim()&&o)try{const f={...o,name:Ue.name};await i(f),await c(f)}catch(f){console.error("Failed to save trip name:",f),alert("Failed to save trip name. Please try again.")}Sn(!1)},zs=async()=>{var A;ln(!1);const f=Gn&&Gn[0]?Gn[0]:null,x=f&&f.startDate?Ge(new Date(f.startDate)):Ue.startDate,_=f&&f.endDate?Ge(new Date(f.endDate)):Ue.endDate;if(x&&_&&o)try{const L={...o,startDate:x,endDate:_};if(await i(L),await c(L),x!==o.startDate||_!==o.endDate){const W=[],X=Le(x),se=Le(_);let a=new Date(X),ue=1;for(;a<=se;){const H=Ge(a),oe=D.find(je=>je.date===H);W.push({id:ue++,date:H,title:(oe==null?void 0:oe.title)||"",city:(oe==null?void 0:oe.city)||"",country:(oe==null?void 0:oe.country)||"",places:(oe==null?void 0:oe.places)||[]}),a.setDate(a.getDate()+1)}await P(W),Oe((A=W[0])==null?void 0:A.id)}}catch(L){console.error("Failed to save trip dates:",L),alert("Failed to save trip dates. Please try again.")}},Pi=f=>{xa(f),Ps(!0)},wl=()=>{const f=D.map(x=>x.id===le?{...x,title:fi}:x);C(f),Ps(!1)},Yu=async()=>{var f;if(o)try{const x={...o,name:Ue.name,startDate:Ue.startDate,endDate:Ue.endDate};if(await i(x),await c(x),Ue.startDate!==o.startDate||Ue.endDate!==o.endDate){const _=[],A=Le(Ue.startDate),L=Le(Ue.endDate);let W=new Date(A),X=1;for(;W<=L;){const se=Ge(W),a=D.find(ue=>ue.date===se);_.push({id:X++,date:se,title:(a==null?void 0:a.title)||"",city:(a==null?void 0:a.city)||"",country:(a==null?void 0:a.country)||"",places:(a==null?void 0:a.places)||[]}),W.setDate(W.getDate()+1)}await P(_),Oe((f=_[0])==null?void 0:f.id)}Hr(!1)}catch(x){console.error("Failed to save trip:",x),alert("Failed to save trip. Please try again.")}},Tt=(f,x)=>{const _=(x||Fs||"EUR").toUpperCase(),A=(Fs||"EUR").toUpperCase(),L=xE[_]||1,W=xE[A]||1;return f*L/W},bl=f=>`${f.toFixed(2)}`,El=(f,x=14)=>{switch(f){case"food":return u.jsx(nW,{size:x,className:"text-[#F7B731]"});case"accommodation":return u.jsx(rp,{size:x,className:"text-[#4ECDC4]"});case"transportation":return u.jsx(QB,{size:x,className:"text-[#FF6B6B]"});case"activities":return u.jsx(tW,{size:x,className:"text-[#45AAF2]"});case"shopping":return u.jsx(eW,{size:x,className:"text-[#9B59B6]"});case"places":return u.jsx(Xi,{size:x,className:"text-[#1B7F79]"});default:return u.jsx(qs,{size:x,className:"text-gray-500"})}};z.useEffect(()=>{const f=x=>{li.current&&!li.current.contains(x.target)&&pr(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const Dl=()=>{const f=new Map;let x=0;return d.forEach(_=>{const A=or(_.price);A&&(_.groupId?f.has(_.groupId)||(f.set(_.groupId,!0),x+=Tt(A,_.priceCurrency||"EUR")):x+=Tt(A,_.priceCurrency||"EUR"))}),x},Tl=()=>y.reduce((f,x)=>f+Tt(or(x.price),x.priceCurrency||"EUR"),0),Sl=()=>D.reduce((f,x)=>f+x.places.reduce((_,A)=>_+Tt(or(A.cost),A.currency||"EUR"),0),0),qu=()=>R.reduce((f,x)=>f+Tt(parseFloat(x.amount||0),x.currency||"EUR"),0)+Dl()+Sl()+Tl(),Pl=()=>{const f=qu();return bl(f)},Gu=()=>{const f={};R.forEach(L=>{f[L.category]=(f[L.category]||0)+Tt(parseFloat(L.amount||0),L.currency||"EUR")});const x=Dl();x>0&&(f.flights=x);const _=Sl();_>0&&(f.places=_);const A=Tl();return A>0&&(f.hotels=A),f},Ku=()=>{const f={};return R.forEach(x=>{x.city&&(f[x.city]=(f[x.city]||0)+Tt(parseFloat(x.amount||0),x.currency||"EUR"))}),D.forEach(x=>{x.places.forEach(_=>{const A=Bf(_);A.city&&(f[A.city]=(f[A.city]||0)+Tt(or(_.cost),_.currency||"EUR"))})}),y.forEach(x=>{x.city&&(f[x.city]=(f[x.city]||0)+Tt(or(x.price),x.priceCurrency||"EUR"))}),f},Qu=()=>{const f={};return R.forEach(x=>{x.country&&(f[x.country]=(f[x.country]||0)+Tt(parseFloat(x.amount||0),x.currency||"EUR"))}),D.forEach(x=>{x.places.forEach(_=>{const A=Bf(_);A.country&&(f[A.country]=(f[A.country]||0)+Tt(or(_.cost),_.currency||"EUR"))})}),y.forEach(x=>{x.country&&(f[x.country]=(f[x.country]||0)+Tt(or(x.price),x.priceCurrency||"EUR"))}),f},Xu=()=>{const f={};return R.forEach(x=>{const _=Ao(x.date);_&&(f[_]=(f[_]||0)+Tt(parseFloat(x.amount||0),x.currency||"EUR"))}),D.forEach(x=>{const _=x.places.reduce((L,W)=>L+Tt(or(W.cost),W.currency||"EUR"),0),A=Ao(x.date);A&&(f[A]=(f[A]||0)+_)}),d.forEach(x=>{const _=Ao(x.departureDate||x.date);_&&(f[_]=(f[_]||0)+Tt(or(x.price),x.priceCurrency||"EUR"))}),y.forEach(x=>{const _=Ao(x.checkIn);_&&(f[_]=(f[_]||0)+Tt(or(x.price),x.priceCurrency||"EUR"))}),f},Ju=()=>{const f={};return R.forEach(x=>{x.state&&(f[x.state]=(f[x.state]||0)+Tt(parseFloat(x.amount||0),x.currency||"EUR"))}),D.forEach(x=>{x.places.forEach(_=>{const A=Bf(_);A.state&&(f[A.state]=(f[A.state]||0)+Tt(or(_.cost),_.currency||"EUR"))})}),y.forEach(x=>{x.state&&(f[x.state]=(f[x.state]||0)+Tt(or(x.price),x.priceCurrency||"EUR"))}),f},Zu=f=>{switch(f){case"day":return Object.entries(Xu()).map(([x,_])=>({label:x,value:_}));case"city":return Object.entries(Ku()).map(([x,_])=>({label:x,value:_}));case"state":return Object.entries(Ju()).map(([x,_])=>({label:x,value:_}));case"country":return Object.entries(Qu()).map(([x,_])=>({label:x,value:_}));case"category":default:return Object.entries(Gu()).map(([x,_])=>({label:x,value:_}))}},ec=f=>{const x=Zu(f);if(!x.length)return null;const _=[...x].sort((L,W)=>{if(f==="day"){const X=new Date(L.label),se=new Date(W.label);return!Number.isNaN(X.getTime())&&!Number.isNaN(se.getTime())?X-se:String(L.label).localeCompare(String(W.label))}return W.value-L.value}),A=Math.max(..._.map(L=>L.value));return u.jsx("div",{className:"space-y-2",children:_.map(({label:L,value:W})=>{const X=A===0?0:W/A*100,se=(()=>{if(f!=="day")return L||"Unspecified";if(!L)return"Unspecified";const a=new Date(L);return Number.isNaN(a.getTime())?L:a.toLocaleDateString()})();return u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-32 text-sm text-gray-700 truncate",children:se}),u.jsx("div",{className:"flex-1 bg-gray-100 rounded-full h-2.5 overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-[#4ECDC4] to-[#44A08D]",style:{width:`${X}%`}})}),u.jsx("div",{className:"text-sm font-semibold text-gray-800 whitespace-nowrap",children:bl(W)})]},`${f}-${L}`)})})};return u.jsx("div",{className:"min-h-screen bg-[#F8F9FA] p-2 sm:p-4",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx("div",{className:"rounded-2xl border border-gray-100 bg-white shadow-md p-4 sm:p-6 mb-4 sm:mb-6",children:u.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center gap-3 mb-2",children:[u.jsx("span",{className:"h-10 w-10 rounded-full bg-[#FF6B6B] flex items-center justify-center text-white shadow-sm",children:u.jsx(Xi,{className:"text-white",size:20})}),u.jsx("span",{children:"Travel Planner"})]}),o&&u.jsxs("div",{className:"space-y-2",children:[ga?u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("input",{type:"text",value:Ue.name,onChange:f=>Gr({...Ue,name:f.target.value}),onBlur:er,onKeyDown:f=>{f.key==="Enter"&&er(),f.key==="Escape"&&Sn(!1)},autoFocus:!0,className:"px-3 py-1 rounded border border-gray-200 bg-white text-lg font-medium flex-1 outline-none focus:border-[#FF6B6B]"})}):u.jsx("div",{onClick:Dt,className:"cursor-pointer hover:bg-gray-50 px-3 py-1 rounded transition-colors inline-block",children:u.jsx("span",{className:"text-lg font-medium text-gray-900",children:o.name})}),u.jsx("div",{className:"hidden sm:block",children:pa?u.jsx("div",{className:"mt-2 flex justify-start",children:u.jsxs("div",{className:"inline-block bg-white border-2 border-gray-200 rounded-xl shadow-lg p-4",children:[u.jsx(M0.DateRange,{ranges:Gn,onChange:f=>{const x=f.selection;Ot([x]),Gr({...Ue,startDate:Ge(new Date(x.startDate)),endDate:Ge(new Date(x.endDate))})},months:2,direction:"horizontal",showDateDisplay:!1,rangeColors:["#FF6B6B"],className:"rounded-xl"}),u.jsxs("div",{className:"flex gap-2 mt-3",children:[u.jsx("button",{onClick:zs,className:"px-3 py-2 bg-[#FF6B6B] text-white rounded-lg text-sm hover:bg-[#E85555] transition-colors",children:"Save"}),u.jsx("button",{onClick:()=>ln(!1),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})}):u.jsx("div",{onClick:Fe,className:"cursor-pointer hover:bg-white/20 px-3 py-1 rounded transition-colors inline-block",children:u.jsxs("span",{className:"text-sm text-gray-600",children:[Le(o.startDate).toLocaleDateString()," - ",Le(o.endDate).toLocaleDateString()]})})})]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-3 w-full sm:w-auto",children:[u.jsxs("div",{className:"flex gap-2 items-center self-end",children:[u.jsx("button",{onClick:async()=>{try{await c({id:null,name:null,startDate:null,endDate:null,countries:[]}),e()}catch(f){console.error("Failed to go back to trip setup:",f)}},className:"w-10 h-10 rounded-full border border-gray-200 bg-white text-gray-600 hover:text-[#FF6B6B] hover:border-[#FF6B6B]/40 flex items-center justify-center transition-colors shadow-sm",title:"Back to trip setup",children:u.jsx(sI,{size:20})}),u.jsxs("button",{onClick:r,className:"px-4 py-2 bg-white rounded-full flex items-center gap-2 transition-all hover:shadow-md border border-gray-200 text-gray-700 hover:text-[#FF6B6B] hover:border-[#FF6B6B]/40",title:"Switch to Day Mode",children:[u.jsx(Wc,{size:18}),u.jsx("span",{className:"text-gray-800 font-medium text-sm hidden sm:inline",children:"Day Mode"})]}),n&&u.jsxs("div",{className:"relative",ref:li,children:[u.jsx("button",{onClick:()=>pr(f=>!f),className:"w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center focus:outline-none border border-gray-100",title:n.displayName||n.email,children:n.photoURL?u.jsx("img",{src:n.photoURL,alt:n.displayName,className:"w-10 h-10 rounded-full object-cover border-2 border-white/50"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-700 font-medium border-2 border-white",children:(n.displayName||n.email||"U")[0].toUpperCase()})}),va&&u.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border rounded-lg shadow-lg z-50",children:[u.jsxs("div",{className:"px-3 py-2 border-b",children:[u.jsx("div",{className:"text-sm font-medium text-gray-800",children:n.displayName||"Account"}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n.email})]}),u.jsxs("button",{onClick:()=>{Br(!0),pr(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2",children:[u.jsx(Af,{size:16,className:"text-gray-600"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Setup API"})]}),u.jsxs("button",{onClick:()=>{ya(!0),pr(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2",children:[u.jsx(rW,{size:16,className:"text-gray-600"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Account Settings"})]}),u.jsxs("button",{onClick:async()=>{pr(!1);try{await c({id:null,name:null,startDate:null,endDate:null,countries:[]}),e()}catch(f){console.error("Failed to start new trip:",f),alert("Failed to start new trip. Please try again.")}},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2 border-t",children:[u.jsx(Cc,{size:16,className:"text-gray-600"}),u.jsx("span",{className:"text-sm text-gray-700",children:"Start New Trip"})]}),u.jsxs("button",{onClick:async()=>{pr(!1),window.confirm("Are you sure you want to sign out?")&&await s()},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2 text-red-600 border-t",children:[u.jsx(ZB,{size:16}),u.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-[#4ECDC4]/10 text-[#1B7F79] border border-[#4ECDC4]/30 rounded-full px-3 py-1 text-sm font-semibold self-end",children:[u.jsx(qs,{size:14}),u.jsx("span",{children:"Total Expenses"}),u.jsx("span",{children:Pl()}),u.jsxs("select",{value:Fs,onChange:f=>Sa(f.target.value),className:"bg-transparent border border-transparent text-[#0b6559] text-xs font-semibold focus:outline-none cursor-pointer rounded",children:[u.jsx("option",{value:"EUR",children:"EUR"}),u.jsx("option",{value:"USD",children:"USD"}),u.jsx("option",{value:"GBP",children:"GBP"}),u.jsx("option",{value:"CHF",children:"CHF"}),u.jsx("option",{value:"BRL",children:"BRL"}),u.jsx("option",{value:"CAD",children:"CAD"}),u.jsx("option",{value:"AUD",children:"AUD"}),u.jsx("option",{value:"JPY",children:"JPY"})]})]})]})]})}),u.jsx("div",{className:"bg-white rounded-2xl shadow-lg mb-4 sm:mb-6",children:u.jsxs("div",{className:"flex border-b overflow-x-auto",children:[u.jsxs("button",{onClick:()=>I("itinerary"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${b==="itinerary"?"border-b-3 border-[#FF6B6B] text-[#FF6B6B]":"text-gray-600 hover:text-[#FF6B6B]"}`,children:[u.jsx(Wc,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:"Daily Plans"}),u.jsx("span",{className:"sm:hidden",children:"Plans"})]}),u.jsxs("button",{onClick:()=>I("flights"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${b==="flights"?"border-b-3 border-[#4ECDC4] text-[#4ECDC4]":"text-gray-600 hover:text-[#4ECDC4]"}`,children:[u.jsx(Ri,{size:20}),u.jsx("span",{children:"Flights"})]}),u.jsxs("button",{onClick:()=>I("hotels"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${b==="hotels"?"border-b-3 border-[#26DE81] text-[#26DE81]":"text-gray-600 hover:text-[#26DE81]"}`,children:[u.jsx(rp,{size:20}),u.jsx("span",{children:"Hotels"})]}),u.jsxs("button",{onClick:()=>I("expenses"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${b==="expenses"?"border-b-3 border-[#FFE66D] text-[#F7B731]":"text-gray-600 hover:text-[#F7B731]"}`,children:[u.jsx(qs,{size:20}),u.jsx("span",{children:"Expenses"})]})]})}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-3 sm:p-6",children:[b==="itinerary"&&u.jsxs("div",{className:`grid gap-4 items-start ${Nt?"grid-cols-1 lg:grid-cols-[60%_40%]":"grid-cols-1"}`,children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-full bg-[#FF6B6B] flex items-center justify-center text-white shadow-sm",children:u.jsx(Wc,{size:18,className:"text-white"})}),u.jsxs("div",{className:"flex flex-col leading-tight",children:[u.jsx("span",{className:"text-base font-semibold text-gray-800",children:"Itinerary"}),u.jsx("span",{className:"text-xs text-gray-500",children:"Your daily plan"})]})]}),u.jsx("button",{onClick:()=>os(f=>!f),className:"h-10 w-10 flex items-center justify-center rounded-full border border-gray-200 text-gray-600 hover:text-[#4ECDC4] hover:border-[#4ECDC4]/40 bg-white shadow-sm transition-all hover:-translate-y-0.5",title:Nt?"Hide Map":"Show Map",children:u.jsx(dW,{size:18})})]}),u.jsx("div",{className:"border-t border-gray-100 px-3 py-3 bg-white/60",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>Is("left"),className:"h-10 w-10 flex items-center justify-center rounded-full border border-gray-200 text-gray-600 hover:text-[#FF6B6B] hover:border-[#FF6B6B]/40 bg-white shadow-sm transition-all hover:-translate-y-0.5",title:"Previous days",children:u.jsx(gW,{size:18})}),u.jsx("div",{className:"relative flex-1 overflow-hidden",children:u.jsx("div",{ref:_a,className:"flex items-center gap-2 px-2 scroll-smooth overflow-x-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:D.map((f,x)=>u.jsxs("button",{onClick:()=>Oe(f.id),className:`flex-shrink-0 px-3.5 py-2 rounded-xl text-sm font-semibold transition-all shadow-sm ${le===f.id?"bg-[#FF6B6B] text-white shadow-md scale-[1.03]":"bg-white border border-gray-200 text-gray-700 hover:border-[#FF6B6B]/40 hover:text-[#FF6B6B] hover:-translate-y-0.5"}`,children:[u.jsx("div",{className:"text-[11px] uppercase tracking-wide",children:Le(f.date).toLocaleDateString("en-US",{weekday:"short"})}),u.jsx("div",{className:"text-xs text-gray-600",children:Le(f.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},f.id))})}),u.jsx("button",{onClick:()=>Is("right"),className:"h-10 w-10 flex items-center justify-center rounded-full border border-gray-200 text-gray-600 hover:text-[#FF6B6B] hover:border-[#FF6B6B]/40 bg-white shadow-sm transition-all hover:-translate-y-0.5",title:"Next days",children:u.jsx(pW,{size:18})})]})})]}),_e&&u.jsxs("div",{className:"rounded-2xl border border-gray-100 shadow-md overflow-visible bg-white",children:[u.jsx("div",{className:"p-4 sm:p-5 border-b border-gray-100 bg-white",children:u.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"hidden sm:block w-1 self-stretch bg-[#FF6B6B] rounded-full opacity-80"}),u.jsxs("div",{className:"flex flex-col gap-1",children:[di?u.jsx("input",{type:"text",value:fi,onChange:f=>xa(f.target.value),onBlur:wl,onKeyDown:f=>{f.key==="Enter"&&wl(),f.key==="Escape"&&Ps(!1)},autoFocus:!0,placeholder:`Day ${D.findIndex(f=>f.id===le)+1}`,className:"w-full px-3 py-2 rounded-lg bg-white/90 border border-[#FF6B6B]/30 text-lg font-semibold text-[#FF6B6B] outline-none shadow-sm"}):u.jsx("div",{onClick:()=>Pi(_e.title),className:"w-full px-0 py-1 rounded cursor-pointer text-lg font-semibold text-[#FF6B6B] hover:text-[#E85A5A] transition-colors",children:_e.title||`Day ${D.findIndex(f=>f.id===le)+1}`}),u.jsx("div",{className:"text-xs uppercase tracking-[0.08em] text-gray-500",children:Le(_e.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-700 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-1 bg-white/70 px-3 py-1.5 rounded-full border border-gray-100 shadow-sm",title:"Total stops",children:[u.jsx(fW,{className:"text-[#FF6B6B]",size:14}),u.jsx("span",{className:"font-semibold",children:((Cl=on[le])==null?void 0:Cl.totalStops)??0})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white/70 px-3 py-1.5 rounded-full border border-gray-100 shadow-sm",title:"Walking distance",children:[u.jsx(Zo,{className:"text-[#4ECDC4]",size:14}),u.jsxs("span",{className:"font-semibold",children:[(((Nl=(Ol=on[le])==null?void 0:Ol.distanceByMode)==null?void 0:Nl.walking)??0).toFixed(1)," km"]})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white/70 px-3 py-1.5 rounded-full border border-gray-100 shadow-sm",title:"Estimated total time",children:[u.jsx("span",{children:""}),u.jsxs("span",{className:"font-semibold",children:[((jl=on[le])==null?void 0:jl.totalTime)??0," min"]})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white/70 px-3 py-1.5 rounded-full border border-gray-100 shadow-sm",title:"Expected daily cost",children:[u.jsx("span",{children:""}),u.jsxs("span",{className:"font-semibold",children:["",(((Ml=on[le])==null?void 0:Ml.totalCost)??0).toFixed(2)]})]})]})]})}),u.jsxs("div",{className:"space-y-3 p-3 sm:p-5 bg-white",children:[Zt.length>0&&u.jsx("div",{className:"space-y-2",children:Zt.map(f=>{const x=wE(f.departureTime,f.arrivalTime)||Ho(f.departureTime)||Ho(f.arrivalTime)||"Time TBA",_=f.from&&f.to?`${f.from}  ${f.to}`:f.from||f.to||"Flight";return u.jsxs("div",{onClick:()=>wa(f),className:"rounded-xl bg-white border border-gray-200 shadow-sm px-3 py-2 flex items-center justify-between cursor-pointer hover:shadow-md hover:-translate-y-0.5 transition-all",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("div",{className:"w-9 h-9 rounded-lg bg-[#4ECDC4]/10 flex items-center justify-center text-[#0b6559]",children:u.jsx(Ri,{size:16})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:_}),f.flightNumber&&u.jsx("p",{className:"text-[11px] text-gray-600 truncate",children:f.flightNumber})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm font-bold text-[#0b6559] leading-tight",children:x}),f.airline&&u.jsx("div",{className:"text-[11px] text-gray-500",children:f.airline})]})]},`flight-${f.id}`)})}),_e.places.map((f,x)=>u.jsxs(zn.Fragment,{children:[!f.visited&&x>0&&u.jsxs("div",{className:"relative py-1",children:[u.jsx("div",{className:"ml-[2.9rem] flex justify-start",children:u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:_=>{_.stopPropagation(),l((pt==null?void 0:pt.dayId)===le&&(pt==null?void 0:pt.placeId)===f.id?null:{dayId:le,placeId:f.id})},className:"flex items-center gap-1 px-2.5 py-1 rounded-full bg-[#4ECDC4]/8 hover:bg-[#4ECDC4]/12 border border-[#4ECDC4]/25 hover:border-[#4ECDC4]/35 shadow-sm transition-all cursor-pointer text-[11px]",children:[f.transportMode==="walking"&&u.jsx(Zo,{size:14,className:"text-[#4ECDC4]"}),f.transportMode==="car"&&u.jsx(zh,{size:14,className:"text-[#4ECDC4]"}),f.transportMode==="transit"&&u.jsx(Hc,{size:14,className:"text-[#4ECDC4]"}),f.transportMode==="plane"&&u.jsx(Ri,{size:14,className:"text-[#4ECDC4]"}),(f.transportMode==="bus"||f.transportMode==="metro"||f.transportMode==="train")&&u.jsx(Hc,{size:14,className:"text-[#4ECDC4]"}),!f.isAutoCalculated&&(m==null?void 0:m.dayId)===le&&(m==null?void 0:m.placeId)===f.id&&(m==null?void 0:m.field)==="time"?u.jsx("input",{type:"number",value:m.value,onChange:_=>p({...m,value:_.target.value}),onBlur:()=>{const _=D.map(A=>({...A,places:A.places.map(L=>L.id===f.id&&A.id===le?{...L,transportTime:m.value,isAutoCalculated:!1}:L)}));C(_),p(null)},onKeyDown:_=>{_.key==="Enter"&&_.target.blur(),_.key==="Escape"&&p(null),_.stopPropagation()},onClick:_=>_.stopPropagation(),autoFocus:!0,className:"w-10 px-1 font-semibold text-gray-700 bg-white rounded border border-[#4ECDC4] outline-none"}):u.jsxs("span",{onClick:_=>{f.isAutoCalculated||(_.stopPropagation(),p({dayId:le,placeId:f.id,field:"time",value:f.transportTime||""}))},className:`font-semibold ${f.isAutoCalculated?"text-gray-700":"text-gray-600"}`,children:[f.transportTime||"--"," min"]}),u.jsx("span",{className:"text-gray-400",children:"|"}),!f.isAutoCalculated&&(m==null?void 0:m.dayId)===le&&(m==null?void 0:m.placeId)===f.id&&(m==null?void 0:m.field)==="distance"?u.jsx("input",{type:"number",step:"0.1",value:m.value,onChange:_=>p({...m,value:_.target.value}),onBlur:()=>{const _=D.map(A=>({...A,places:A.places.map(L=>L.id===f.id&&A.id===le?{...L,distance:m.value,isAutoCalculated:!1}:L)}));C(_),p(null)},onKeyDown:_=>{_.key==="Enter"&&_.target.blur(),_.key==="Escape"&&p(null),_.stopPropagation()},onClick:_=>_.stopPropagation(),autoFocus:!0,className:"w-10 px-1 font-semibold text-gray-700 bg-white rounded border border-[#4ECDC4] outline-none"}):u.jsx("span",{onClick:_=>{f.isAutoCalculated||(_.stopPropagation(),p({dayId:le,placeId:f.id,field:"distance",value:f.distance||""}))},className:`font-semibold ${f.isAutoCalculated?"text-gray-700":"text-gray-600"}`,children:f.distance?`${f.distance} km`:f.transportTime?"-- km":"--"}),u.jsx(iI,{size:12,className:"text-gray-400"})]}),(pt==null?void 0:pt.dayId)===le&&(pt==null?void 0:pt.placeId)===f.id&&u.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 z-50 min-w-[140px]",children:["walking","car","transit","plane"].map((_,A,L)=>u.jsxs("button",{type:"button",onClick:W=>{W.preventDefault(),W.stopPropagation(),Co(le,f.id,_)},className:`w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-50 transition-colors ${f.transportMode===_?"bg-[#4ECDC4]/10":""} ${A===0?"rounded-t-lg":""} ${A===L.length-1?"rounded-b-lg":""}`,children:[_==="walking"&&u.jsx(Zo,{size:16,className:"text-[#4ECDC4]"}),_==="car"&&u.jsx(zh,{size:16,className:"text-[#4ECDC4]"}),_==="transit"&&u.jsx(Hc,{size:16,className:"text-[#4ECDC4]"}),_==="plane"&&u.jsx(Ri,{size:16,className:"text-[#4ECDC4]"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:_==="transit"?"Transport":_.charAt(0).toUpperCase()+_.slice(1)})]},_))})]})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:u.jsx("button",{onClick:_=>{_.stopPropagation(),jr(bs===x?null:x)},className:"text-teal-500 hover:text-teal-600 transition-colors cursor-pointer pointer-events-auto",title:"Add place here",children:u.jsx(o1,{size:28})})})]}),x>0&&bs===x&&u.jsxs("div",{className:"my-2",ref:ui,children:[!ce&&u.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 z-20 w-56 bg-white rounded-xl shadow-2xl border border-gray-200 p-2",children:[u.jsxs("button",{onClick:_=>{_.stopPropagation(),De("place")},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600",children:u.jsx(Vo,{size:14})}),u.jsx("div",{className:"text-left",children:u.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Place / Attraction"})})]}),u.jsxs("button",{onClick:_=>{_.stopPropagation(),De("restaurant")},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center text-orange-600",children:u.jsx(Bo,{size:13})}),u.jsx("div",{className:"text-left",children:u.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Restaurant"})})]}),u.jsxs("button",{onClick:_=>{_.stopPropagation(),De("cafe")},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-100 flex items-center justify-center text-amber-700",children:u.jsx(Uo,{size:14})}),u.jsx("div",{className:"text-left",children:u.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Caf / Bar"})})]}),u.jsxs("button",{onClick:_=>{_.stopPropagation(),De("activity")},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-100 flex items-center justify-center text-green-600",children:u.jsx(zo,{size:14})}),u.jsx("div",{className:"text-left",children:u.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Activity"})})]}),u.jsxs("button",{onClick:_=>{_.stopPropagation(),De("note")},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600",children:u.jsx(Ai,{size:14})}),u.jsx("div",{className:"text-left",children:u.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Note"})})]})]}),ce&&u.jsx("div",{className:"p-3 border-2 border-dashed border-blue-300 rounded-lg bg-blue-50",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex-shrink-0",children:[ce==="place"&&u.jsx("div",{className:"w-6 h-6 rounded-lg bg-blue-500 flex items-center justify-center",children:u.jsx(Vo,{size:12,className:"text-white"})}),ce==="restaurant"&&u.jsx("div",{className:"w-6 h-6 rounded-lg bg-orange-500 flex items-center justify-center",children:u.jsx(Bo,{size:10,className:"text-white"})}),ce==="cafe"&&u.jsx("div",{className:"w-6 h-6 rounded-lg bg-amber-600 flex items-center justify-center",children:u.jsx(Uo,{size:12,className:"text-white"})}),ce==="activity"&&u.jsx("div",{className:"w-6 h-6 rounded-lg bg-green-500 flex items-center justify-center",children:u.jsx(zo,{size:12,className:"text-white"})}),ce==="note"&&u.jsx("div",{className:"w-6 h-6 rounded-lg bg-purple-500 flex items-center justify-center",children:u.jsx(Ai,{size:12,className:"text-white"})})]}),u.jsx("input",{type:"text",placeholder:"Type name and press Enter...",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm focus:border-blue-500 focus:outline-none",onKeyDown:_=>{if(_.key==="Enter"&&_.target.value.trim()){const A={id:Date.now(),name:_.target.value.trim(),type:ce,address:"",notes:"",visited:!1,transportMode:"walking",transportTime:"",distance:"",startTime:"",endTime:"",priority:0},L=D.map(W=>{if(W.id===le){const X=[...W.places];return X.splice(x,0,A),{...W,places:X}}return W});C(L),jr(null),De(null),_.target.value=""}else _.key==="Escape"&&(jr(null),De(null))},onClick:_=>_.stopPropagation(),autoFocus:!0}),u.jsx("button",{onClick:_=>{_.stopPropagation(),jr(null),De(null)},className:"p-1 text-gray-400 hover:text-gray-600 flex-shrink-0",children:u.jsx(gn,{size:14})})]})})]}),u.jsxs("div",{className:"flex items-stretch gap-3 group relative",children:[!Wf(f.type)&&u.jsxs("div",{className:"flex-shrink-0 w-10 flex flex-col items-center relative",children:[u.jsx("div",{className:"w-9 h-9 flex items-center justify-center mb-2",children:u.jsxs("div",{className:"relative w-9 h-9 flex items-center justify-center text-[#FF6B6B] drop-shadow-sm",children:[u.jsx(hW,{size:30}),u.jsx("span",{className:"absolute text-[13px] font-bold text-white top-1.5",children:x+1})]})}),!f.visited&&u.jsx("button",{onMouseDown:_=>_.preventDefault(),className:"absolute left-1/2 -translate-x-1/2 -translate-y-1/2 top-1/2 opacity-0 group-hover:opacity-100 transition-opacity",title:"Drag to reorder",children:u.jsx(i1,{size:18,className:"text-gray-400 cursor-grab active:cursor-grabbing"})})]}),Wf(f.type)&&u.jsx("div",{className:"flex-shrink-0 w-10 flex items-center justify-center",children:!f.visited&&u.jsx("button",{onMouseDown:_=>_.preventDefault(),className:"opacity-60 hover:opacity-100 transition-opacity text-gray-400 hover:text-gray-600",title:"Drag to reorder",children:u.jsx(i1,{size:16})})}),u.jsx("div",{draggable:!f.visited&&(ve==null?void 0:ve.placeId)!==f.id,onDragStart:_=>Io(_,le,f.id),onDragOver:ns,onDrop:_=>bi(_,le,f.id),onDragEnd:Na,onClick:()=>{ha||Cs(f.id)},className:`flex-1 transition-all ring-1 ring-transparent ${Wf(f.type)?`rounded-xl bg-white border border-gray-200 shadow-sm hover:shadow-md hover:-translate-y-0.5 px-3 py-2 ${f.visited?"opacity-80":""}`:`relative rounded-2xl overflow-visible ${f.visited?"bg-gray-50 border border-gray-200":"bg-white/90 border border-gray-100 shadow-sm hover:shadow-lg hover:-translate-y-0.5 hover:ring-[#FF6B6B]/15 cursor-move"}`} ${(ft==null?void 0:ft.placeId)===f.id?"opacity-50":""}`,children:Wf(f.type)?u.jsxs("div",{className:"relative flex items-center gap-2 pr-14",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("div",{className:"w-9 h-9 rounded-lg bg-gray-100 flex items-center justify-center text-gray-700",children:uQ(f.type,16,"text-gray-700")}),u.jsx("div",{className:"min-w-0",children:u.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:f.name||"Item"})})]}),u.jsxs("div",{className:"absolute top-1.5 right-1 flex items-center gap-1",children:[u.jsx("button",{onClick:_=>{_.stopPropagation(),Cs(f.id)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Show on map",children:u.jsx(Af,{size:16})}),u.jsx("button",{onClick:_=>{_.stopPropagation(),wi(le,f.id)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg",children:u.jsx(su,{size:16})})]}),u.jsx("div",{className:"mt-1 flex items-center gap-1.5 text-xs text-gray-700",children:u.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-white border border-gray-200 rounded-md shadow-sm",children:[u.jsx(a1,{size:14,className:"text-gray-500"}),u.jsx("input",{type:"text",inputMode:"decimal",value:f.cost||"",onChange:_=>{const A=D.map(L=>({...L,places:L.places.map(W=>W.id===f.id&&L.id===le?{...W,cost:_.target.value}:W)}));C(A)},onClick:_=>_.stopPropagation(),className:"w-14 px-2 py-1 border border-gray-100 rounded bg-slate-50 text-[11px] font-semibold text-gray-800 focus:border-[#4ECDC4] focus:ring-1 focus:ring-[#4ECDC4] focus:outline-none",placeholder:"25.00"}),u.jsxs("button",{onClick:_=>{_.stopPropagation();const A=_.currentTarget.getBoundingClientRect();F({top:A.bottom+8,left:A.right-180}),G(J===f.id?null:f.id)},className:"px-2 py-1 text-gray-700 hover:text-[#0b6559] hover:border-[#4ECDC4] transition-colors cursor-pointer text-[11px] font-semibold border border-gray-100 rounded bg-white",children:[(f.currency||"EUR")==="EUR"&&"",(f.currency||"EUR")==="USD"&&"$",(f.currency||"EUR")==="GBP"&&"",(f.currency||"EUR")==="CHF"&&"CHF",(f.currency||"EUR")==="BRL"&&"R$"]})]})})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"p-4 sm:p-5 bg-gradient-to-br from-white via-white to-[#FFE66D]/10",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0",children:f.photoUrl?u.jsxs("div",{className:"relative w-24 h-24 rounded-2xl overflow-hidden shadow-md border border-gray-100",children:[u.jsx("img",{src:f.photoUrl,alt:f.name,className:"w-full h-full object-cover",loading:"lazy"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent"}),f.type&&f.type!=="place"&&u.jsx("div",{className:"absolute bottom-1 left-1",children:u.jsxs("div",{className:"w-8 h-8 rounded-lg bg-white/90 backdrop-blur flex items-center justify-center shadow",children:[f.type==="restaurant"&&u.jsx(Bo,{size:14,className:"text-orange-500"}),f.type==="cafe"&&u.jsx(Uo,{size:16,className:"text-amber-600"}),f.type==="activity"&&u.jsx(zo,{size:16,className:"text-green-500"}),f.type==="note"&&u.jsx(Ai,{size:16,className:"text-purple-500"})]})})]}):u.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-[#FF6B6B] to-[#FFE66D] flex items-center justify-center shadow-sm text-white",children:[f.type==="place"&&u.jsx(Vo,{size:18,className:"text-white"}),f.type==="restaurant"&&u.jsx(Bo,{size:15,className:"text-white"}),f.type==="cafe"&&u.jsx(Uo,{size:17,className:"text-white"}),f.type==="activity"&&u.jsx(zo,{size:17,className:"text-white"}),f.type==="note"&&u.jsx(Ai,{size:17,className:"text-white"}),!f.type&&u.jsx(Vo,{size:18,className:"text-white"})]})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[u.jsx("h4",{className:"font-bold text-base sm:text-lg text-gray-900",children:f.name}),u.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(_=>{const A=f.priority||0,L=_<=A;return u.jsx("button",{onClick:W=>{W.stopPropagation(),Ls(le,f.id,_)},className:"transition-all hover:scale-110",title:`Priority: ${_}/5`,children:u.jsx(mW,{className:L?"text-yellow-500":"text-gray-300",size:16})},_)})})]}),u.jsx("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:f.visited&&u.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 text-[11px] rounded-full bg-[#ecfdf3] text-[#166534] border border-[#bbf7d0] shadow-sm font-semibold",children:[" ",u.jsx("span",{className:"tracking-tight",children:"Completed"})]})}),u.jsxs("div",{className:"relative -mt-1",children:[K===f.id&&u.jsxs("div",{className:"flex items-center gap-1 mb-1 p-1 bg-gray-50 border border-gray-200 rounded flex-wrap",onMouseDown:_=>_.preventDefault(),onClick:_=>_.stopPropagation(),children:[u.jsx("button",{onMouseDown:_=>{_.preventDefault(),document.execCommand("bold",!1,null)},className:"px-2 py-1 hover:bg-gray-200 rounded text-xs font-bold",title:"Bold",children:"B"}),u.jsx("button",{onMouseDown:_=>{_.preventDefault(),document.execCommand("italic",!1,null)},className:"px-2 py-1 hover:bg-gray-200 rounded text-xs italic",title:"Italic",children:"I"}),u.jsx("span",{className:"text-gray-300",children:"|"}),u.jsxs("select",{onMouseDown:_=>_.preventDefault(),onChange:_=>{document.execCommand("fontName",!1,_.target.value),_.target.value=""},className:"px-1 py-1 text-xs border border-gray-300 rounded hover:bg-gray-200",title:"Font",children:[u.jsx("option",{value:"",children:"Font"}),u.jsx("option",{value:"Arial",children:"Arial"}),u.jsx("option",{value:"Courier New",children:"Courier"}),u.jsx("option",{value:"Georgia",children:"Georgia"}),u.jsx("option",{value:"Times New Roman",children:"Times"}),u.jsx("option",{value:"Verdana",children:"Verdana"}),u.jsx("option",{value:"Comic Sans MS",children:"Comic Sans"})]}),u.jsx("input",{type:"color",onMouseDown:_=>_.preventDefault(),onChange:_=>{document.execCommand("foreColor",!1,_.target.value)},className:"w-6 h-6 border border-gray-300 rounded cursor-pointer",title:"Text Color"}),u.jsx("input",{type:"color",onMouseDown:_=>_.preventDefault(),onChange:_=>{document.execCommand("backColor",!1,_.target.value)},className:"w-6 h-6 border border-gray-300 rounded cursor-pointer",title:"Background Color"}),u.jsx("span",{className:"text-gray-300",children:"|"}),u.jsx("button",{onMouseDown:_=>_.preventDefault(),onClick:_=>{_.stopPropagation(),pe(ge===f.id?null:f.id)},className:"px-2 py-1 hover:bg-gray-200 rounded text-xs",title:"Add Emoji",children:""}),ge===f.id&&u.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded shadow-lg p-2 z-10 flex flex-wrap gap-1 max-w-[200px]",onMouseDown:_=>_.preventDefault(),children:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(_=>u.jsx("button",{onMouseDown:A=>{A.preventDefault(),document.execCommand("insertText",!1,_),pe(null)},className:"text-lg hover:bg-gray-100 rounded p-1",children:_},_))})]}),u.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,onFocus:_=>{_.stopPropagation(),ae(f.id)},onBlur:_=>{setTimeout(()=>{ae(null),pe(null)},200);const A=D.map(L=>({...L,places:L.places.map(W=>W.id===f.id&&L.id===le?{...W,notes:_.currentTarget.innerHTML}:W)}));C(A)},onClick:_=>_.stopPropagation(),onKeyDown:_=>_.stopPropagation(),dangerouslySetInnerHTML:{__html:f.notes||""},"data-placeholder":"Add notes, links and so on...",className:"text-gray-600 text-sm mb-2 px-2 py-1 border border-transparent hover:border-gray-300 focus:border-[#4ECDC4] rounded outline-none min-h-[24px] max-h-[200px] overflow-y-auto transition-all empty:before:content-[attr(data-placeholder)] empty:before:text-gray-400",style:{wordWrap:"break-word",whiteSpace:"pre-wrap"}})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs flex-wrap",children:[u.jsxs("div",{className:"relative flex items-center gap-1",onClick:_=>_.stopPropagation(),onPointerDown:_=>_.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-white border border-gray-200 rounded-md shadow-sm",children:[u.jsx(vW,{size:14,className:"text-gray-600"}),u.jsx("button",{type:"button",onPointerDown:_=>_.stopPropagation(),onDragStart:_=>_.preventDefault(),onClick:_=>{_.stopPropagation(),Ei(f.id,"start",_.currentTarget)},className:"w-14 px-1.5 py-1 border border-gray-100 rounded bg-slate-50 text-[11px] font-semibold text-gray-800 hover:border-[#4ECDC4] focus:outline-none",children:f.startTime?Ho(f.startTime):"Start"}),u.jsx("span",{className:"text-gray-300 text-xs",children:""}),u.jsx("button",{type:"button",onPointerDown:_=>_.stopPropagation(),onDragStart:_=>_.preventDefault(),onClick:_=>{_.stopPropagation(),Ei(f.id,"end",_.currentTarget)},className:"w-14 px-1.5 py-1 border border-gray-100 rounded bg-slate-50 text-[11px] font-semibold text-gray-800 hover:border-[#4ECDC4] focus:outline-none",children:f.endTime?Ho(f.endTime):"End"})]}),(ve==null?void 0:ve.placeId)===f.id&&u.jsxs("div",{ref:Qn,className:"fixed z-30 bg-white border border-gray-200 rounded-lg shadow-lg p-2 flex gap-2",onPointerDown:_=>_.stopPropagation(),style:{top:Re.top,left:Re.left},children:[u.jsx("div",{className:"flex-1 max-h-48 overflow-y-auto border-r border-gray-100 pr-2",children:Array.from({length:24}).map((_,A)=>{const L=bE(ve.field==="start"?f.startTime:f.endTime),W=L.hour===A;return u.jsx("button",{type:"button",onClick:X=>{X.stopPropagation(),ss(le,f.id,ve.field,EE(A,L.minute),!1)},className:`w-full text-left px-3 py-1 text-[11px] rounded hover:bg-gray-50 ${W?"bg-[#4ECDC4]/10 text-[#0b6559] font-semibold":"text-gray-700"}`,children:Ho(`${String(A).padStart(2,"0")}:00`)},A)})}),u.jsx("div",{className:"flex-1 max-h-48 overflow-y-auto",children:[0,15,30,45].map(_=>{const A=bE(ve.field==="start"?f.startTime:f.endTime),L=A.minute===_;return u.jsxs("button",{type:"button",onClick:W=>{W.stopPropagation(),ss(le,f.id,ve.field,EE(A.hour,_),!0)},className:`w-full text-left px-3 py-1 text-[11px] rounded hover:bg-gray-50 ${L?"bg-[#4ECDC4]/10 text-[#0b6559] font-semibold":"text-gray-700"}`,children:[String(_).padStart(2,"0"),"m"]},_)})})]})]}),u.jsx("span",{className:"text-gray-300",children:"|"}),u.jsxs("div",{className:"flex items-center gap-1 relative",children:[u.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-white border border-gray-200 rounded-md shadow-sm",children:[u.jsx(a1,{size:14,className:"text-gray-500"}),u.jsx("input",{type:"text",inputMode:"decimal",value:f.cost||"",onChange:_=>{const A=D.map(L=>({...L,places:L.places.map(W=>W.id===f.id&&L.id===le?{...W,cost:_.target.value}:W)}));C(A)},onClick:_=>_.stopPropagation(),className:"w-14 px-2 py-1 border border-gray-100 rounded bg-slate-50 text-[11px] font-semibold text-gray-800 focus:border-[#4ECDC4] focus:ring-1 focus:ring-[#4ECDC4] focus:outline-none",placeholder:"25.00"}),u.jsxs("button",{onClick:_=>{_.stopPropagation();const A=_.currentTarget.getBoundingClientRect();F({top:A.bottom+8,left:A.right-180}),G(J===f.id?null:f.id)},className:"px-2 py-1 text-gray-700 hover:text-[#0b6559] hover:border-[#4ECDC4] transition-colors cursor-pointer text-[11px] font-semibold border border-gray-100 rounded bg-white",children:[(f.currency||"EUR")==="EUR"&&"",(f.currency||"EUR")==="USD"&&"$",(f.currency||"EUR")==="GBP"&&"",(f.currency||"EUR")==="CHF"&&"CHF",(f.currency||"EUR")==="BRL"&&"R$"]})]}),J===f.id&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-[998]",onClick:()=>G(null)}),u.jsxs("div",{className:"fixed bg-white rounded-lg shadow-2xl border border-gray-200 py-1 z-[999] min-w-[180px]",style:{top:`${B.top}px`,left:`${B.left}px`},onClick:_=>_.stopPropagation(),children:[u.jsxs("button",{onClick:_=>{_.stopPropagation();const A=D.map(L=>({...L,places:L.places.map(W=>W.id===f.id&&L.id===le?{...W,currency:"EUR"}:W)}));C(A),G(null)},className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 transition-colors flex items-center justify-between ${(f.currency||"EUR")==="EUR"?"bg-[#4ECDC4] bg-opacity-10":""}`,children:[u.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:""}),"Euro (EUR)"]}),(f.currency||"EUR")==="EUR"&&u.jsx("span",{className:"text-[#4ECDC4] text-xs",children:""})]}),u.jsxs("button",{onClick:_=>{_.stopPropagation();const A=D.map(L=>({...L,places:L.places.map(W=>W.id===f.id&&L.id===le?{...W,currency:"USD"}:W)}));C(A),G(null)},className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 transition-colors flex items-center justify-between ${(f.currency||"EUR")==="USD"?"bg-[#4ECDC4] bg-opacity-10":""}`,children:[u.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:""}),"US Dollar (USD)"]}),(f.currency||"EUR")==="USD"&&u.jsx("span",{className:"text-[#4ECDC4] text-xs",children:""})]}),u.jsxs("button",{onClick:_=>{_.stopPropagation();const A=D.map(L=>({...L,places:L.places.map(W=>W.id===f.id&&L.id===le?{...W,currency:"GBP"}:W)}));C(A),G(null)},className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 transition-colors flex items-center justify-between ${(f.currency||"EUR")==="GBP"?"bg-[#4ECDC4] bg-opacity-10":""}`,children:[u.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:""}),"British Pound (GBP)"]}),(f.currency||"EUR")==="GBP"&&u.jsx("span",{className:"text-[#4ECDC4] text-xs",children:""})]}),u.jsxs("button",{onClick:_=>{_.stopPropagation();const A=D.map(L=>({...L,places:L.places.map(W=>W.id===f.id&&L.id===le?{...W,currency:"CHF"}:W)}));C(A),G(null)},className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 transition-colors flex items-center justify-between ${(f.currency||"EUR")==="CHF"?"bg-[#4ECDC4] bg-opacity-10":""}`,children:[u.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:""}),"Swiss Franc (CHF)"]}),(f.currency||"EUR")==="CHF"&&u.jsx("span",{className:"text-[#4ECDC4] text-xs",children:""})]}),u.jsxs("button",{onClick:_=>{_.stopPropagation();const A=D.map(L=>({...L,places:L.places.map(W=>W.id===f.id&&L.id===le?{...W,currency:"BRL"}:W)}));C(A),G(null)},className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 transition-colors flex items-center justify-between ${(f.currency||"EUR")==="BRL"?"bg-[#4ECDC4] bg-opacity-10":""}`,children:[u.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:""}),"Brazilian Real (BRL)"]}),(f.currency||"EUR")==="BRL"&&u.jsx("span",{className:"text-[#4ECDC4] text-xs",children:""})]})]})]})]})]})]})]})}),u.jsxs("div",{className:"absolute top-3 right-3 flex gap-1 sm:gap-2 flex-shrink-0",children:[u.jsx("button",{onClick:_=>{_.stopPropagation(),Cs(f.id)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Show on map",children:u.jsx(Af,{size:18})}),u.jsx("button",{onClick:_=>{_.stopPropagation(),wi(le,f.id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:u.jsx(su,{size:18})})]})]})})]})]},f.id))]}),u.jsx("div",{className:"mt-4",children:ce?u.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-4 bg-gray-50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex-shrink-0",children:[ce==="place"&&u.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500 flex items-center justify-center",children:u.jsx(Vo,{size:16,className:"text-white"})}),ce==="restaurant"&&u.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-500 flex items-center justify-center",children:u.jsx(Bo,{size:14,className:"text-white"})}),ce==="cafe"&&u.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-600 flex items-center justify-center",children:u.jsx(Uo,{size:16,className:"text-white"})}),ce==="activity"&&u.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500 flex items-center justify-center",children:u.jsx(zo,{size:16,className:"text-white"})}),ce==="note"&&u.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500 flex items-center justify-center",children:u.jsx(Ai,{size:16,className:"text-white"})})]}),u.jsxs("div",{className:"relative flex-1",children:[u.jsx("input",{type:"text",placeholder:"Search for a place...",value:Nr||yi.name,onChange:f=>{sn(f.target.value),Kr({...yi,name:f.target.value}),U(f.target.value)},className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-[#4ECDC4] focus:outline-none bg-white"}),Yt&&En.length>0&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border-2 border-gray-200 rounded-lg shadow-lg divide-y max-h-60 overflow-y-auto",children:En.map(f=>{var x,_,A;return u.jsx("button",{onClick:()=>$(f),className:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors",children:u.jsxs("div",{className:"flex items-center gap-3",children:[f.photoUrl&&u.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:u.jsx("img",{src:f.photoUrl,alt:((x=f.structured_formatting)==null?void 0:x.main_text)||f.description,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-sm",children:((_=f.structured_formatting)==null?void 0:_.main_text)||f.description}),u.jsx("div",{className:"text-xs text-gray-500",children:((A=f.structured_formatting)==null?void 0:A.secondary_text)||"Google Places"})]})]})},f.place_id)})}),ws&&u.jsx("div",{className:"absolute right-3 top-3 text-sm text-gray-400",children:"Searching..."})]}),u.jsx("button",{onClick:()=>{De(null),Kr({name:"",address:"",placeId:"",location:null,notes:"",transportMode:"walking",transportTime:"",distance:"",startTime:"",endTime:""}),sn(""),$r([])},className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:u.jsx(gn,{size:20})})]})}):u.jsxs("div",{className:"relative",ref:Yr,children:[u.jsx("button",{onClick:()=>de(!Z),className:"w-full flex items-center justify-center text-teal-500 hover:text-teal-600 transition-colors cursor-pointer",title:"Add to This Day",children:u.jsx(o1,{size:28})}),Z&&u.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 z-10 w-64 mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 p-2",children:[u.jsxs("button",{onClick:()=>{De("place"),de(!1)},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600",children:u.jsx(Vo,{size:16})}),u.jsx("div",{className:"text-left",children:u.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Place / Attraction"})})]}),u.jsxs("button",{onClick:()=>{De("restaurant"),de(!1)},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center text-orange-600",children:u.jsx(Bo,{size:14})}),u.jsx("div",{className:"text-left",children:u.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Restaurant"})})]}),u.jsxs("button",{onClick:()=>{De("cafe"),de(!1)},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-100 flex items-center justify-center text-amber-700",children:u.jsx(Uo,{size:16})}),u.jsx("div",{className:"text-left",children:u.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Caf / Bar"})})]}),u.jsxs("button",{onClick:()=>{De("activity"),de(!1)},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-100 flex items-center justify-center text-green-600",children:u.jsx(zo,{size:16})}),u.jsx("div",{className:"text-left",children:u.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Activity"})})]}),u.jsxs("button",{onClick:()=>{De("note"),de(!1)},className:"w-full px-2.5 py-1.5 hover:bg-gray-50 transition-colors flex items-center gap-2 rounded-lg",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600",children:u.jsx(Ai,{size:16})}),u.jsx("div",{className:"text-left",children:u.jsx("div",{className:"font-semibold text-sm text-gray-900 leading-tight",children:"Note"})})]})]})]})})]})]}),Nt&&u.jsxs("div",{className:"bg-white border rounded-2xl shadow-md p-3 sm:p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Af,{size:18,className:"text-[#4ECDC4]"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Day Map"}),u.jsx("p",{className:"text-xs text-gray-500",children:_e?Le(_e.date).toLocaleDateString():"Select a day to view pins"})]})]}),u.jsx("button",{onClick:()=>os(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",title:"Hide map",children:u.jsx(gn,{size:16})})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{ref:Vs,className:"w-full h-96 sm:h-[500px] lg:h-[600px] xl:h-[700px] rounded-xl overflow-hidden bg-gray-100"}),!Yt&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50",children:u.jsx("div",{className:"p-4 text-sm text-gray-500 bg-white rounded-lg border border-dashed",children:"Google Maps integration active"})}),Yt&&!ar&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50",children:u.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"Loading map..."})}),ls&&u.jsx("div",{className:"absolute inset-0 bg-white/60 flex items-center justify-center text-sm text-gray-600",children:"Mapping your stops..."}),ar&&!((Rl=_e==null?void 0:_e.places)!=null&&Rl.length)&&!ls&&!Ma&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("div",{className:"relative p-4 text-sm text-gray-500 bg-white/90 rounded-lg border border-dashed backdrop-blur-sm pointer-events-auto",children:["Add places to this day to see pins here.",u.jsx("button",{onClick:()=>Ra(!0),className:"absolute -top-2 -right-2 p-1 bg-white rounded-full shadow-md hover:bg-gray-100 transition-colors",title:"Dismiss",children:u.jsx(gn,{size:14,className:"text-gray-600"})})]})})]})]})]}),b==="hotels"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Hotels"}),u.jsxs("button",{onClick:()=>O(!0),className:"px-4 py-2 bg-gradient-to-r from-[#26DE81] to-[#1ABC9C] text-white rounded-xl hover:shadow-lg transition-all hover:scale-[1.02] flex items-center gap-2 font-medium",children:[u.jsx(Cc,{size:20}),"Add Hotel"]})]}),y.length===0?u.jsxs("div",{className:"text-center py-12 text-gray-500",children:[u.jsx(rp,{size:48,className:"mx-auto mb-4 opacity-50 text-[#26DE81]"}),u.jsx("p",{children:'No hotels added yet. Click "Add Hotel" to get started.'})]}):u.jsx("div",{className:"space-y-3",children:y.map(f=>u.jsx("div",{className:"border-2 border-gray-100 rounded-xl p-4 hover:shadow-lg hover:border-[#26DE81]/30 transition-all",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("span",{className:"font-bold text-lg",children:f.name||"Hotel"}),f.price&&u.jsx("span",{className:"text-sm font-semibold text-[#1B7F79]",children:pp(f.price,f.priceCurrency||"USD")})]}),u.jsxs("div",{className:"text-sm text-gray-700 flex gap-3 flex-wrap",children:[f.address&&u.jsxs("span",{children:[" ",f.address]}),f.city&&u.jsxs("span",{children:[" ",f.city]}),f.state&&u.jsxs("span",{children:[" ",f.state]}),f.country&&u.jsxs("span",{children:[" ",f.country]})]}),u.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[f.checkIn?`Check-in: ${f.checkIn}`:"Check-in not set","  ",f.checkOut?` Check-out: ${f.checkOut}`:""]})]}),u.jsx("button",{onClick:()=>So(f.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:u.jsx(su,{size:18})})]})},f.id))}),V&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-5 max-w-3xl w-full max-h-[92vh] overflow-y-auto border border-gray-100",children:[u.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.12em] text-[#1B7F79] font-semibold",children:"Hotels"}),u.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Add Hotel"})]}),u.jsx("button",{onClick:()=>{O(!1)},className:"p-2 rounded-full hover:bg-gray-100 text-gray-500",children:u.jsx(gn,{size:18})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"grid sm:grid-cols-3 gap-2 bg-gray-50 border border-gray-200 rounded-xl p-2",children:[{key:"manual",label:"Manual",icon:u.jsx(np,{size:16})},{key:"pdf",label:"PDF",icon:u.jsx(Rf,{size:16}),ai:!0},{key:"image",label:"Image",icon:u.jsx(e1,{size:16}),ai:!0}].map(f=>u.jsxs("button",{onClick:()=>Cn(f.key),className:`flex items-center justify-center gap-2 px-3 py-2 rounded-lg border text-sm transition-all ${yr===f.key?"border-[#4ECDC4] bg-white shadow-sm text-[#1B7F79]":"border-transparent bg-gray-50 hover:border-gray-200 text-gray-700"}`,children:[f.icon,u.jsxs("span",{className:"flex items-center gap-1",children:[f.label,f.ai&&u.jsx(r1,{size:14,className:"text-[#4ECDC4]"})]})]},f.key))}),yr!=="manual"&&u.jsxs("div",{className:"border border-gray-200 rounded-xl p-3 space-y-3 bg-gray-50",onPaste:yr==="image"?ks:void 0,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[u.jsx(Ff,{size:16,className:"text-[#4ECDC4]"}),u.jsx("span",{children:yr==="pdf"?"Upload booking PDF":"Upload or paste booking image"})]}),u.jsx("span",{className:"text-xs text-gray-500",children:"Cmd/Ctrl + V to paste"})]}),u.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white border rounded-lg cursor-pointer hover:border-[#4ECDC4] transition-colors text-sm",children:[u.jsx(Ff,{size:14}),u.jsx("span",{children:"Select file"}),u.jsx("input",{type:"file",accept:yr==="pdf"?"application/pdf":"image/*",className:"hidden",onChange:f=>{var x;return xi(((x=f.target.files)==null?void 0:x[0])||null)}})]}),gi&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[u.jsx(Rf,{size:14,className:"text-[#4ECDC4]"}),u.jsx("span",{children:gi.name}),u.jsxs("span",{className:"text-gray-400",children:["(",gi.type,")"]}),u.jsx("button",{type:"button",onClick:Ca,className:"ml-1 inline-flex items-center justify-center rounded-full border border-red-200 text-red-500 hover:bg-red-50 w-6 h-6",title:"Remove file",children:u.jsx(gn,{size:12})})]}),vi.length>0&&!Ze.price&&u.jsxs("div",{className:"border border-amber-200 bg-amber-50 rounded-lg p-3 space-y-2",children:[u.jsx("div",{className:"text-sm font-semibold text-amber-800",children:"Pick the total"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:vi.map((f,x)=>u.jsxs("button",{type:"button",onClick:()=>Ut(_=>({..._,price:f.value,priceCurrency:Hl(f.value)||_.priceCurrency})),className:"px-3 py-1.5 rounded-lg border border-amber-200 bg-white text-sm text-amber-800 hover:border-amber-300 hover:-translate-y-0.5 transition-all shadow-sm",children:[f.label?`${f.label}: `:"",f.value]},`${f.label}-${x}`))}),u.jsx("div",{className:"text-xs text-amber-700",children:"We couldn't identify a single total; please choose the correct amount."})]}),Da&&u.jsx("div",{className:"rounded-lg overflow-hidden border bg-white",children:u.jsx("img",{src:Da,alt:"Hotel booking preview",className:"max-h-48 w-full object-contain"})}),To&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#1B7F79]",children:[u.jsx(t1,{size:14,className:"animate-spin"}),"Extracting details..."]}),On&&u.jsx("div",{className:"text-sm text-red-600",children:On})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsx("input",{type:"text",placeholder:"Hotel name *",value:Ze.name,onChange:f=>Ut({...Ze,name:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),u.jsx("input",{type:"text",placeholder:"Address",value:Ze.address,onChange:f=>Ut({...Ze,address:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),u.jsx("input",{type:"text",placeholder:"City",value:Ze.city,onChange:f=>Ut({...Ze,city:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),u.jsx("input",{type:"text",placeholder:"State",value:Ze.state,onChange:f=>Ut({...Ze,state:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),u.jsx("input",{type:"text",placeholder:"Country",value:Ze.country,onChange:f=>Ut({...Ze,country:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),u.jsx("input",{type:"date",placeholder:"Check-in",value:Ze.checkIn,onChange:f=>Ut({...Ze,checkIn:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),u.jsx("input",{type:"date",placeholder:"Check-out",value:Ze.checkOut,onChange:f=>Ut({...Ze,checkOut:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("input",{type:"text",placeholder:"Price",value:Ze.price,onChange:f=>Ut({...Ze,price:f.target.value,priceCurrency:Hl(f.target.value)||Ze.priceCurrency}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),u.jsxs("select",{value:Ze.priceCurrency,onChange:f=>Ut({...Ze,priceCurrency:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition bg-white",children:[u.jsx("option",{value:"USD",children:"USD"}),u.jsx("option",{value:"EUR",children:"EUR"}),u.jsx("option",{value:"GBP",children:"GBP"}),u.jsx("option",{value:"CHF",children:"CHF"}),u.jsx("option",{value:"BRL",children:"BRL"}),u.jsx("option",{value:"CAD",children:"CAD"}),u.jsx("option",{value:"AUD",children:"AUD"}),u.jsx("option",{value:"JPY",children:"JPY"})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsx("button",{onClick:Oa,disabled:!Ze.name||!Ze.checkIn||!Ze.checkOut,className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#26DE81] to-[#1ABC9C] text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base font-semibold",children:"Save Hotel"}),u.jsx("button",{onClick:()=>O(!1),className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Cancel"})]})]})]})})]}),b==="flights"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Flights"}),u.jsxs("button",{onClick:()=>{cn(),M(!0)},className:"px-4 py-2 bg-gradient-to-r from-[#4ECDC4] to-[#44A08D] text-white rounded-xl hover:shadow-lg transition-all hover:scale-[1.02] flex items-center gap-2 font-medium",children:[u.jsx(Cc,{size:20}),"Add Flight"]})]}),d.length===0?u.jsxs("div",{className:"text-center py-12 text-gray-500",children:[u.jsx(Ri,{size:48,className:"mx-auto mb-4 opacity-50 text-[#4ECDC4]"}),u.jsx("p",{children:'No flights added yet. Click "Add Flight" to get started.'})]}):u.jsx("div",{className:"space-y-3",children:d.map(f=>u.jsx("div",{className:"border-2 border-gray-100 rounded-xl p-4 hover:shadow-lg hover:border-[#4ECDC4]/30 transition-all",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsxs("span",{className:"font-bold text-lg",children:[f.airline," ",f.flightNumber]}),u.jsx("span",{className:"text-sm text-gray-500",children:f.bookingRef})]}),u.jsxs("div",{className:"flex items-center gap-4 text-gray-700",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:f.from}),u.jsx("div",{className:"text-sm",children:f.departureTime})]}),u.jsx(Ri,{size:20,className:"text-[#4ECDC4]"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:f.to}),u.jsx("div",{className:"text-sm",children:f.arrivalTime})]})]}),u.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[(()=>{const x=f.departureDate||f.date,_=f.arrivalDate,A=L=>L?new Date(L).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"";return x&&_&&x!==_?`${A(x)}  ${A(_)}`:x?A(x):"Date not set"})(),pp(f.price,f.priceCurrency)&&u.jsxs("span",{className:"ml-2 inline-flex items-center text-gray-700 font-semibold",children:[" ",pp(f.price,f.priceCurrency)]}),f.groupId&&u.jsxs("div",{className:"mt-1 inline-flex items-center gap-2 px-2 py-1 rounded-full bg-[#4ECDC4]/10 text-[#0b6559] text-xs font-semibold",children:["Round trip",u.jsx("span",{className:"px-2 py-[2px] bg-white/70 rounded border border-[#4ECDC4]/40",children:f.leg==="return"?"Return":"Outbound"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:()=>{ut({airline:f.airline||"",flightNumber:f.flightNumber||"",from:f.from||"",to:f.to||"",departureDate:f.departureDate||f.date||"",arrivalDate:f.arrivalDate||"",date:f.date||"",departureTime:f.departureTime||"",arrivalTime:f.arrivalTime||"",bookingRef:f.bookingRef||"",price:f.price||"",priceCurrency:f.priceCurrency||"USD",isRoundTrip:!1,returnDate:"",returnDepartureTime:"",returnArrivalTime:""}),es(f.id),M(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:u.jsx(np,{size:18})}),u.jsx("button",{onClick:()=>ja(f.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:u.jsx(su,{size:18})})]})]})},f.id))}),j&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-5 max-w-3xl w-full max-h-[92vh] overflow-y-auto border border-gray-100",children:[u.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.12em] text-[#1B7F79] font-semibold",children:"Flights"}),u.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:$e?"Edit Flight":"Add Flight"})]}),u.jsx("button",{onClick:()=>{cn(),M(!1)},className:"p-2 rounded-full hover:bg-gray-100 text-gray-500",children:u.jsx(gn,{size:18})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"grid sm:grid-cols-3 gap-2 bg-gray-50 border border-gray-200 rounded-xl p-2",children:[{key:"manual",label:"Manual",icon:u.jsx(np,{size:16})},{key:"pdf",label:"PDF",icon:u.jsx(Rf,{size:16}),ai:!0},{key:"image",label:"Image",icon:u.jsx(e1,{size:16}),ai:!0}].map(f=>u.jsxs("button",{onClick:()=>ba(f.key),className:`flex items-center justify-center gap-2 px-3 py-2 rounded-lg border text-sm transition-all ${Pn===f.key?"border-[#4ECDC4] bg-white shadow-sm text-[#1B7F79]":"border-transparent bg-gray-50 hover:border-gray-200 text-gray-700"}`,children:[f.icon,u.jsxs("span",{className:"flex items-center gap-1",children:[f.label,f.ai&&u.jsx(r1,{size:14,className:"text-[#4ECDC4]"})]})]},f.key))}),Pn!=="manual"&&u.jsxs("div",{className:"border border-gray-200 rounded-xl p-3 space-y-3 bg-gray-50",onPaste:Pn==="image"?Pa:void 0,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[u.jsx(Ff,{size:16,className:"text-[#4ECDC4]"}),u.jsx("span",{children:Pn==="pdf"?"Upload e-ticket PDF":"Upload or paste ticket image"})]}),u.jsx("span",{className:"text-xs text-gray-500",children:"Cmd/Ctrl + V to paste"})]}),u.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white border rounded-lg cursor-pointer hover:border-[#4ECDC4] transition-colors text-sm",children:[u.jsx(Ff,{size:14}),u.jsx("span",{children:"Select file"}),u.jsx("input",{type:"file",accept:Pn==="pdf"?"application/pdf":"image/*",className:"hidden",onChange:f=>{var x;return Nn(((x=f.target.files)==null?void 0:x[0])||null)}})]}),Ns&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[u.jsx(Rf,{size:14,className:"text-[#4ECDC4]"}),u.jsx("span",{children:Ns.name}),u.jsxs("span",{className:"text-gray-400",children:["(",Ns.type,")"]})]}),Ea&&u.jsx("div",{className:"rounded-lg overflow-hidden border bg-white",children:u.jsx("img",{src:Ea,alt:"Flight ticket preview",className:"max-h-48 w-full object-contain"})}),Rr&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#1B7F79]",children:[u.jsx(t1,{size:14,className:"animate-spin"}),"Extracting details..."]}),Zn&&u.jsx("div",{className:"text-sm text-red-600",children:Zn})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsx("input",{type:"text",placeholder:"Airline *",value:he.airline,onChange:f=>ut({...he,airline:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),u.jsx("input",{type:"text",placeholder:"Flight number *",value:he.flightNumber,onChange:f=>ut({...he,flightNumber:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),u.jsx("input",{type:"text",placeholder:"From (airport) *",value:he.from,onChange:f=>ut({...he,from:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),u.jsx("input",{type:"text",placeholder:"To (airport) *",value:he.to,onChange:f=>ut({...he,to:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),u.jsx("input",{type:"date",value:he.departureDate||he.date,onChange:f=>ut({...he,departureDate:f.target.value,date:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition",placeholder:"Departure date"}),u.jsx("input",{type:"date",value:he.arrivalDate,onChange:f=>ut({...he,arrivalDate:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition",placeholder:"Arrival date"}),u.jsx("input",{type:"text",placeholder:"Booking reference",value:he.bookingRef,onChange:f=>ut({...he,bookingRef:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("input",{type:"text",placeholder:"Price (e.g., USD 350)",value:he.price,onChange:f=>ut({...he,price:f.target.value,priceCurrency:Hl(f.target.value)||he.priceCurrency}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),u.jsxs("select",{value:he.priceCurrency,onChange:f=>ut({...he,priceCurrency:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition bg-white",children:[u.jsx("option",{value:"USD",children:"USD"}),u.jsx("option",{value:"EUR",children:"EUR"}),u.jsx("option",{value:"GBP",children:"GBP"}),u.jsx("option",{value:"CHF",children:"CHF"}),u.jsx("option",{value:"BRL",children:"BRL"}),u.jsx("option",{value:"CAD",children:"CAD"}),u.jsx("option",{value:"AUD",children:"AUD"}),u.jsx("option",{value:"JPY",children:"JPY"})]})]}),u.jsx("input",{type:"time",placeholder:"Departure time",value:he.departureTime,onChange:f=>ut({...he,departureTime:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"}),u.jsx("input",{type:"time",placeholder:"Arrival time",value:he.arrivalTime,onChange:f=>ut({...he,arrivalTime:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition"})]}),u.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-800 mb-3",children:[u.jsx("input",{type:"checkbox",checked:he.isRoundTrip,onChange:f=>ut({...he,isRoundTrip:f.target.checked})}),"Add return flight"]}),he.isRoundTrip&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsx("input",{type:"date",value:he.returnDate,onChange:f=>ut({...he,returnDate:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition",placeholder:"Return date"}),u.jsx("input",{type:"time",value:he.returnDepartureTime,onChange:f=>ut({...he,returnDepartureTime:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition",placeholder:"Return departure"}),u.jsx("input",{type:"time",value:he.returnArrivalTime,onChange:f=>ut({...he,returnArrivalTime:f.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#4ECDC4] focus:border-[#4ECDC4] transition",placeholder:"Return arrival"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsx("button",{onClick:it,disabled:!he.airline||!he.flightNumber||!he.from||!he.to,className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#4ECDC4] to-[#44A08D] text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base font-semibold",children:$e?"Update Flight":"Save Flight"}),u.jsx("button",{onClick:()=>{cn(),M(!1)},className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Cancel"})]})]})]})})]}),b==="expenses"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Expenses"}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{className:"flex items-center gap-2 bg-[#4ECDC4]/10 text-[#1B7F79] border border-[#4ECDC4]/30 rounded-full px-3 py-1 text-sm font-semibold",children:[u.jsx(qs,{size:14}),u.jsx("span",{children:"Total"}),u.jsx("span",{children:Pl()}),u.jsxs("select",{value:Fs,onChange:f=>Sa(f.target.value),className:"bg-transparent outline-none font-semibold text-[#0b6559] text-xs border border-transparent rounded cursor-pointer",children:[u.jsx("option",{value:"EUR",children:"EUR"}),u.jsx("option",{value:"USD",children:"USD"}),u.jsx("option",{value:"GBP",children:"GBP"}),u.jsx("option",{value:"CHF",children:"CHF"}),u.jsx("option",{value:"BRL",children:"BRL"}),u.jsx("option",{value:"CAD",children:"CAD"}),u.jsx("option",{value:"AUD",children:"AUD"}),u.jsx("option",{value:"JPY",children:"JPY"})]})]})}),u.jsxs("button",{onClick:()=>tt(!0),className:"px-4 py-2 bg-gradient-to-r from-[#FFE66D] to-[#FFBE5C] text-gray-800 rounded-xl hover:shadow-lg transition-all hover:scale-[1.02] flex items-center gap-2 font-medium",children:[u.jsx(Cc,{size:20}),"Add Expense"]})]}),u.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl p-4 shadow-sm space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(qs,{size:16,className:"text-[#26DE81]"}),u.jsx("p",{className:"font-semibold text-gray-800",children:"Spending overview"})]}),u.jsx("div",{className:"flex items-center gap-2 text-sm",children:[{key:"category",label:"By category"},{key:"day",label:"By day"},{key:"city",label:"By city"},{key:"state",label:"By state"},{key:"country",label:"By country"}].map(f=>u.jsx("button",{onClick:()=>Qr(f.key),className:`px-3 py-1 rounded-full border text-sm transition ${Ta===f.key?"border-[#4ECDC4] text-[#1B7F79] bg-[#4ECDC4]/10":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:f.label},f.key))})]}),ec(Ta)||u.jsx("p",{className:"text-sm text-gray-500",children:"No expenses yet to summarize."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-semibold text-gray-800",children:"Added expenses"}),R.length===0&&d.filter(f=>or(f.price)>0).length===0?u.jsx("div",{className:"text-sm text-gray-500",children:"No expenses added yet."}):u.jsx("div",{className:"space-y-2",children:(()=>{const f=[],x=new Set;return d.forEach(_=>{const A=or(_.price);if(A){if(_.groupId){if(x.has(_.groupId))return;x.add(_.groupId)}f.push({id:`flight-${_.id}`,description:`${_.airline||"Flight"} ${_.flightNumber||""}`.trim()||"Flight",category:"flight",amount:A,currency:_.priceCurrency||"USD",date:_.departureDate||_.date,city:_.from||"",country:"",leg:_.leg})}}),[...R,...f].sort((_,A)=>new Date(A.date||0)-new Date(_.date||0)).map(_=>u.jsx("div",{className:"border border-gray-200 rounded-lg p-2 bg-white hover:shadow-sm transition",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded-full bg-gray-50 border border-gray-200",children:El(_.category)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"font-semibold text-gray-900 truncate",children:_.description}),u.jsx("span",{className:"px-2 py-[2px] bg-gray-100 text-gray-700 rounded text-[11px] capitalize",children:_.category})]}),u.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[u.jsx("span",{children:_.date?new Date(_.date).toLocaleDateString():"No date"}),_.city&&u.jsxs("span",{children:[" ",_.city]}),_.state&&u.jsxs("span",{children:[" ",_.state]}),_.country&&u.jsxs("span",{children:[" ",_.country]})]})]}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsxs("div",{className:"text-sm font-bold text-[#F7B731]",children:[_.currency||"USD"," $",parseFloat(_.amount||0).toFixed(2)]}),_.category!=="flight"&&_._source!=="place"&&u.jsx("button",{onClick:()=>is(_.id),className:"text-red-600 hover:text-red-700 text-[11px]",children:"Delete"})]})]})},_.id))})()})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"font-semibold text-gray-800",children:"Itinerary costs"}),D.every(f=>f.places.every(x=>!or(x.cost)))?u.jsx("div",{className:"text-sm text-gray-500",children:"No itinerary costs recorded."}):u.jsx("div",{className:"space-y-2",children:D.flatMap(f=>f.places.map(x=>{const _=or(x.cost);if(!_)return null;const A=Bf(x);return{id:`place-${f.id}-${x.id}`,description:x.name||"Place cost",amount:_,currency:x.currency||"EUR",date:f.date,city:A.city,state:A.state,country:A.country}}).filter(Boolean)).sort((f,x)=>new Date(x.date||0)-new Date(f.date||0)).map(f=>u.jsx("div",{className:"border border-gray-200 rounded-lg p-2 bg-white hover:shadow-sm transition",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"flex items-center justify-center w-7 h-7 rounded-full bg-gray-50 border border-gray-200",children:El("places")}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"font-semibold text-gray-900 truncate",children:f.description}),u.jsx("span",{className:"px-2 py-[2px] bg-gray-100 text-gray-700 rounded text-[11px]",children:"Itinerary"})]}),u.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[u.jsx("span",{children:f.date?new Date(f.date).toLocaleDateString():"No date"}),f.city&&u.jsxs("span",{children:[" ",f.city]}),f.state&&u.jsxs("span",{children:[" ",f.state]}),f.country&&u.jsxs("span",{children:[" ",f.country]})]})]}),u.jsx("div",{className:"text-right shrink-0",children:u.jsxs("div",{className:"text-sm font-bold text-[#F7B731]",children:[f.currency||"EUR"," $",parseFloat(f.amount||0).toFixed(2)]})})]})},f.id))})]})]}),et&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Add Expense"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("input",{type:"text",placeholder:"Description *",value:gt.description,onChange:f=>_r({...gt,description:f.target.value}),className:"w-full px-3 py-2 border rounded-lg"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("input",{type:"number",step:"0.01",placeholder:"Amount *",value:gt.amount,onChange:f=>_r({...gt,amount:f.target.value}),className:"px-3 py-2 border rounded-lg"}),u.jsxs("select",{value:gt.currency,onChange:f=>_r({...gt,currency:f.target.value}),className:"px-3 py-2 border rounded-lg",children:[u.jsx("option",{value:"USD",children:"USD"}),u.jsx("option",{value:"EUR",children:"EUR"}),u.jsx("option",{value:"GBP",children:"GBP"}),u.jsx("option",{value:"BRL",children:"BRL"}),u.jsx("option",{value:"CHF",children:"CHF"})]}),u.jsxs("select",{value:gt.category,onChange:f=>_r({...gt,category:f.target.value}),className:"px-3 py-2 border rounded-lg",children:[u.jsx("option",{value:"food",children:"Food & Dining"}),u.jsx("option",{value:"accommodation",children:"Accommodation"}),u.jsx("option",{value:"transportation",children:"Transportation"}),u.jsx("option",{value:"activities",children:"Activities"}),u.jsx("option",{value:"shopping",children:"Shopping"}),u.jsx("option",{value:"other",children:"Other"})]}),u.jsx("input",{type:"date",value:gt.date,onChange:f=>_r({...gt,date:f.target.value}),className:"px-3 py-2 border rounded-lg"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"City",value:Dn||gt.city,onChange:f=>{ai(f.target.value),_r({...gt,city:f.target.value}),Yn(!0)},onFocus:()=>Yn(!0),onBlur:()=>setTimeout(()=>Yn(!1),200),className:"w-full px-3 py-2 border rounded-lg"}),ma&&Dn&&ne(Dn).length>0&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ne(Dn).map(({city:f,country:x},_)=>u.jsxs("button",{onClick:()=>{_r({...gt,city:f,country:x}),ai(""),Yn(!1)},className:"w-full px-3 py-2 text-left hover:bg-indigo-50 flex justify-between items-center",children:[u.jsx("span",{className:"font-medium",children:f}),u.jsx("span",{className:"text-sm text-gray-500",children:x})]},_))})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Country",value:Ds||gt.country,onChange:f=>{Hn(f.target.value),_r({...gt,country:f.target.value}),Tn(!0)},onFocus:()=>Tn(!0),onBlur:()=>setTimeout(()=>Tn(!1),200),className:"w-full px-3 py-2 border rounded-lg"}),qn&&Ds&&He(Ds).length>0&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:He(Ds).map((f,x)=>u.jsx("button",{onClick:()=>{_r({...gt,country:f}),Hn(""),Tn(!1)},className:"w-full px-3 py-2 text-left hover:bg-indigo-50",children:f},x))})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[u.jsx("button",{onClick:Ar,disabled:!gt.description||!gt.amount,className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#FFE66D] to-[#FFBE5C] text-gray-800 rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base font-medium",children:"Add Expense"}),u.jsx("button",{onClick:()=>tt(!1),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Cancel"})]})]})})]}),!1]}),Ht&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Google Maps API Setup"}),u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsx("p",{className:"text-gray-700",children:"To automatically calculate distances and travel times between places, you need a Google Maps API key."}),u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-2 text-sm",children:[u.jsx("p",{className:"font-medium text-blue-900",children:"How to get your API key:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-blue-800",children:[u.jsxs("li",{children:["Go to ",u.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Google Cloud Console"})]}),u.jsx("li",{children:"Create a new project or select an existing one"}),u.jsx("li",{children:'Enable "Distance Matrix API" and "Maps JavaScript API"'}),u.jsx("li",{children:'Go to "Credentials" and create an API key'}),u.jsx("li",{children:"Copy the API key and paste it below"})]})]}),u.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-sm text-yellow-800",children:[u.jsx("p",{className:"font-medium mb-1",children:" Important Notes:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[u.jsx("li",{children:"Google provides $200 free credit per month"}),u.jsx("li",{children:"The API key is stored only in your browser"}),u.jsx("li",{children:"Never share your API key publicly"}),u.jsx("li",{children:"Consider restricting your API key to specific domains"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Maps API Key"}),u.jsx("input",{type:"text",value:Yt,onChange:f=>lt(f.target.value),placeholder:"Enter your API key here",className:"w-full px-3 py-2 border rounded-lg font-mono text-sm"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsx("div",{className:"flex-1 px-4 py-2 text-center text-sm text-gray-500",children:"API key is provided via environment. No need to paste it here."}),u.jsx("button",{onClick:()=>Br(!1),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Close"})]})]})}),Kn&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-md w-full",children:[u.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Account Settings"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),u.jsx("div",{className:"mt-1 text-gray-800",children:(n==null?void 0:n.displayName)||""})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),u.jsx("div",{className:"mt-1 text-gray-800",children:n==null?void 0:n.email})]})]}),u.jsx("div",{className:"mt-6 flex justify-end gap-3",children:u.jsx("button",{onClick:()=>ya(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Close"})})]})}),oi&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full",children:[u.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Edit Trip Details"}),u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Name"}),u.jsx("input",{type:"text",value:Ue.name,onChange:f=>Gr({...Ue,name:f.target.value}),placeholder:"e.g., European Adventure 2026",className:"w-full px-3 py-2 border rounded-lg"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),u.jsx("input",{type:"date",value:Ue.startDate,onChange:f=>Gr({...Ue,startDate:f.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),u.jsx("input",{type:"date",value:Ue.endDate,onChange:f=>Gr({...Ue,endDate:f.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),Ue.startDate!==o.startDate||Ue.endDate!==o.endDate?u.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-sm text-yellow-800",children:[u.jsx("p",{className:"font-medium mb-1",children:" Note about changing dates:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[u.jsx("li",{children:"Your existing daily plans will be preserved where dates match"}),u.jsx("li",{children:"New days will be added if you extend the trip"}),u.jsx("li",{children:"Days outside the new range will be removed"})]})]}):null]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsx("button",{onClick:Yu,disabled:!Ue.name||!Ue.startDate||!Ue.endDate,className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base font-medium",children:"Save Changes"}),u.jsx("button",{onClick:()=>Hr(!1),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Cancel"})]})]})})]})})},cQ=({onBack:t,dayNumber:e,totalDays:r,dayTitle:n,dayDate:s,city:i})=>{const o=c=>new Date(c+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return u.jsx("div",{className:"bg-white border-b-2 border-gray-100 sticky top-0 z-50 shadow-sm",children:u.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[u.jsx(sI,{size:20,className:"text-gray-700"}),u.jsx("span",{className:"font-medium text-gray-700",children:"Planning"})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-sm font-semibold text-[#4ECDC4]",children:["Day ",e," of ",r]}),u.jsx("div",{className:"text-xs text-gray-500",children:o(s)})]})]}),u.jsxs("div",{children:[n&&u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:n}),i&&u.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[u.jsx(Xi,{size:16}),u.jsx("span",{className:"text-sm font-medium",children:i})]}),!n&&!i&&u.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Day ",e]})]})]})})},dQ=({place:t,onMarkVisited:e,onMarkSkipped:r})=>{const n=i=>{switch(i){case"walking":return u.jsx(Zo,{size:20,className:"text-[#4ECDC4]"});case"car":return u.jsx(zh,{size:20,className:"text-[#4ECDC4]"});case"transit":return u.jsx(Hc,{size:20,className:"text-[#4ECDC4]"});case"plane":return u.jsx(Ri,{size:20,className:"text-[#4ECDC4]"});default:return u.jsx(Zo,{size:20,className:"text-[#4ECDC4]"})}},s=()=>{const o=`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(t.address||t.name)}`;window.open(o,"_blank")};return u.jsxs("div",{className:"bg-gradient-to-br from-[#4ECDC4] to-[#44A08D] rounded-2xl shadow-xl p-6 mb-6 mt-6",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-white/80 text-sm font-medium mb-1",children:"NEXT STOP"}),u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:t.name}),t.address&&u.jsxs("div",{className:"flex items-start gap-2 text-white/90 text-sm",children:[u.jsx(Xi,{size:16,className:"mt-0.5 flex-shrink-0"}),u.jsx("span",{children:t.address})]})]})}),u.jsxs("div",{className:"flex items-center gap-4 mb-4 text-white",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[n(t.transportMode),u.jsx("span",{className:"font-medium capitalize",children:t.transportMode==="transit"?"Public Transport":t.transportMode})]}),t.transportTime&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-1 h-1 bg-white/50 rounded-full"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Km,{size:16}),u.jsxs("span",{className:"font-medium",children:[t.transportTime," min"]})]})]}),t.distance&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-1 h-1 bg-white/50 rounded-full"}),u.jsxs("span",{className:"font-medium",children:[t.distance," km"]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("button",{onClick:s,className:"col-span-3 sm:col-span-1 flex items-center justify-center gap-2 px-4 py-3 bg-white text-[#4ECDC4] rounded-xl font-semibold hover:bg-gray-50 transition-all shadow-md",children:[u.jsx(aI,{size:18}),"Navigate"]}),u.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-2 px-4 py-3 bg-white/20 text-white rounded-xl font-semibold hover:bg-white/30 transition-all backdrop-blur-sm border border-white/30",children:[u.jsx($c,{size:18}),"Visited"]}),u.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 px-4 py-3 bg-white/20 text-white rounded-xl font-semibold hover:bg-white/30 transition-all backdrop-blur-sm border border-white/30",children:[u.jsx(gn,{size:18}),"Skip"]})]}),t.notes&&u.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:u.jsx("div",{className:"text-white/90 text-sm",children:t.notes})})]})},fQ=({visited:t,total:e,distance:r,totalDistance:n,time:s,totalTime:i,todayExpenses:o})=>u.jsx("div",{className:"bg-white border-b-2 border-gray-100 shadow-sm",children:u.jsx("div",{className:"max-w-2xl mx-auto px-4 py-4",children:u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(XB,{size:16,className:"text-[#26DE81]"}),u.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Places"})]}),u.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[t,u.jsxs("span",{className:"text-sm text-gray-400",children:["/",e]})]})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(Xi,{size:16,className:"text-[#4ECDC4]"}),u.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Distance"})]}),u.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[r.toFixed(1),u.jsxs("span",{className:"text-sm text-gray-400",children:["/",n.toFixed(1)," km"]})]})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(Km,{size:16,className:"text-[#FF6B6B]"}),u.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Time"})]}),u.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[Math.floor(s),u.jsxs("span",{className:"text-sm text-gray-400",children:["/",Math.floor(i)," min"]})]})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(qs,{size:16,className:"text-[#FFE66D]"}),u.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Spent"})]}),u.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["",o.toFixed(0)]})]})]})})}),hQ=({place:t,index:e,onMarkVisited:r,onMarkSkipped:n,onUpdateActualCost:s})=>{const[i,o]=z.useState(!t.visited&&!t.skipped),[c,d]=z.useState(t.actualCost||""),h=y=>{switch(y){case"walking":return u.jsx(Zo,{size:14,className:"text-[#4ECDC4]"});case"car":return u.jsx(zh,{size:14,className:"text-[#4ECDC4]"});case"transit":return u.jsx(Hc,{size:14,className:"text-[#4ECDC4]"});case"plane":return u.jsx(Ri,{size:14,className:"text-[#4ECDC4]"});default:return u.jsx(Zo,{size:14,className:"text-[#4ECDC4]"})}},g=()=>{const E=`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(t.address||t.name)}`;window.open(E,"_blank")},v=t.visited||t.skipped;return u.jsxs("div",{className:`bg-white rounded-xl shadow-md border-2 transition-all ${t.visited?"border-[#26DE81]/30 bg-gradient-to-r from-[#26DE81]/5 to-transparent":t.skipped?"border-gray-300 bg-gray-50 opacity-60":"border-gray-100 hover:border-[#4ECDC4]/30 hover:shadow-lg"}`,children:[u.jsxs("div",{className:"px-4 py-3 flex items-start justify-between cursor-pointer",onClick:()=>o(!i),children:[u.jsxs("div",{className:"flex-1 flex items-start gap-3",children:[u.jsx("div",{className:"flex-shrink-0",children:t.photoUrl?u.jsxs("div",{className:"relative w-20 h-20 rounded-xl overflow-hidden border border-gray-100 shadow-sm",children:[u.jsx("img",{src:t.photoUrl,alt:t.name,className:"w-full h-full object-cover",loading:"lazy"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent"}),u.jsx("div",{className:"absolute top-1 left-1",children:u.jsx("div",{className:"w-6 h-6 rounded-full bg-white/85 backdrop-blur flex items-center justify-center shadow",children:t.visited?u.jsx($c,{size:12,className:"text-[#26DE81]"}):t.skipped?u.jsx(gn,{size:12,className:"text-gray-500"}):u.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:e+1})})})]}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 text-xs font-bold border",children:t.visited?u.jsx($c,{size:14}):t.skipped?u.jsx(gn,{size:14}):e+1})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:`font-semibold text-base mb-1 ${t.visited?"text-gray-700":t.skipped?"text-gray-500 line-through":"text-gray-900"}`,children:t.name}),!v&&u.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:t.transportMode&&u.jsxs(u.Fragment,{children:[h(t.transportMode),t.transportTime&&u.jsxs("span",{children:[t.transportTime," min"]}),t.distance&&u.jsxs("span",{children:[" ",t.distance," km"]})]})})]})]}),u.jsx("button",{className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:i?u.jsx(JB,{size:20,className:"text-gray-400"}):u.jsx(iI,{size:20,className:"text-gray-400"})})]}),i&&u.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[t.address&&u.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[u.jsx(Xi,{size:14,className:"mt-0.5 text-[#4ECDC4] flex-shrink-0"}),u.jsx("span",{children:t.address})]}),(t.transportMode||t.transportTime||t.distance)&&!v&&u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[t.transportMode&&u.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-[#4ECDC4]/10 rounded-lg",children:[h(t.transportMode),u.jsx("span",{className:"text-gray-700 capitalize",children:t.transportMode==="transit"?"Transit":t.transportMode})]}),t.transportTime&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Km,{size:14,className:"text-gray-400"}),u.jsxs("span",{className:"text-gray-600",children:[t.transportTime," min"]})]}),t.distance&&u.jsxs("span",{className:"text-gray-600",children:[t.distance," km"]})]}),t.notes&&u.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[u.jsx(Ai,{size:14,className:"mt-0.5 text-gray-400 flex-shrink-0"}),u.jsx("span",{children:t.notes})]}),!v&&u.jsxs("div",{className:"bg-[#FFE66D]/10 border-2 border-[#FFE66D]/30 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(qs,{size:14,className:"text-[#F7B731]"}),u.jsx("label",{className:"text-xs font-semibold text-gray-700",children:"Actual Cost (Optional)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600",children:""}),u.jsx("input",{type:"number",step:"0.01",value:c,onChange:y=>d(y.target.value),onBlur:()=>{c!==(t.actualCost||"")&&s(t.id,c)},onClick:y=>y.stopPropagation(),placeholder:t.estimatedCost?`Estimated: ${t.estimatedCost}`:"0.00",className:"flex-1 px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-[#FFE66D] text-sm"})]}),t.estimatedCost&&u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Estimated: ",t.estimatedCost,c&&parseFloat(c)!==parseFloat(t.estimatedCost)&&u.jsx("span",{className:`ml-2 font-medium ${parseFloat(c)>parseFloat(t.estimatedCost)?"text-red-600":"text-green-600"}`,children:parseFloat(c)>parseFloat(t.estimatedCost)?`+${(parseFloat(c)-parseFloat(t.estimatedCost)).toFixed(2)}`:`-${(parseFloat(t.estimatedCost)-parseFloat(c)).toFixed(2)}`})]})]}),v&&t.actualCost&&u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(qs,{size:14,className:"text-[#F7B731]"}),u.jsxs("span",{className:"text-gray-700",children:["Actual Cost: ",u.jsxs("span",{className:"font-semibold",children:["",t.actualCost]})]}),t.estimatedCost&&parseFloat(t.actualCost)!==parseFloat(t.estimatedCost)&&u.jsxs("span",{className:`text-xs ${parseFloat(t.actualCost)>parseFloat(t.estimatedCost)?"text-red-600":"text-green-600"}`,children:["(",parseFloat(t.actualCost)>parseFloat(t.estimatedCost)?"+":"-","",Math.abs(parseFloat(t.actualCost)-parseFloat(t.estimatedCost)).toFixed(2),")"]})]}),!v&&u.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[u.jsxs("button",{onClick:y=>{y.stopPropagation(),g()},className:"flex items-center justify-center gap-1 px-3 py-2 bg-[#4ECDC4] text-white rounded-lg font-medium text-sm hover:bg-[#44A08D] transition-all shadow-sm",children:[u.jsx(aI,{size:14}),"Navigate"]}),u.jsxs("button",{onClick:y=>{y.stopPropagation(),r(t.id)},className:"flex items-center justify-center gap-1 px-3 py-2 bg-[#26DE81] text-white rounded-lg font-medium text-sm hover:bg-[#20bf6b] transition-all shadow-sm",children:[u.jsx($c,{size:14}),"Visited"]}),u.jsxs("button",{onClick:y=>{y.stopPropagation(),n(t.id)},className:"flex items-center justify-center gap-1 px-3 py-2 bg-gray-400 text-white rounded-lg font-medium text-sm hover:bg-gray-500 transition-all shadow-sm",children:[u.jsx(gn,{size:14}),"Skip"]})]}),v&&u.jsxs("div",{className:"pt-2",children:[t.visited&&u.jsx("button",{onClick:y=>{y.stopPropagation(),r(t.id)},className:"text-sm text-gray-500 hover:text-gray-700 font-medium",children:"Undo visited"}),t.skipped&&u.jsx("button",{onClick:y=>{y.stopPropagation(),n(t.id)},className:"text-sm text-gray-500 hover:text-gray-700 font-medium",children:"Undo skip"})]})]})]})},mQ=({places:t,onMarkVisited:e,onMarkSkipped:r,onUpdateActualCost:n})=>!t||t.length===0?u.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center",children:[u.jsx("div",{className:"text-gray-400 text-lg mb-2",children:"No places planned for today"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Add places in the planning mode to see them here"})]}):u.jsx("div",{className:"space-y-3 pb-4",children:t.map((s,i)=>u.jsx(hQ,{place:s,index:i,onMarkVisited:e,onMarkSkipped:r,onUpdateActualCost:n},s.id))}),gQ=({places:t,nextPlaceId:e})=>{const r=z.useRef(null),n=z.useRef(null),s=z.useRef([]),i=z.useRef([]),[o,c]=z.useState(!1),[d,h]=z.useState(null);return z.useEffect(()=>{const g=()=>{window.google&&window.google.maps?c(!0):setTimeout(g,100)};g()},[]),z.useEffect(()=>{if(!(!o||!r.current||n.current))try{const g=new window.google.maps.Map(r.current,{zoom:12,center:{lat:0,lng:0},mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0,zoomControl:!0});n.current=g}catch(g){console.error("Error initializing map:",g),h("Failed to initialize map")}},[o]),z.useEffect(()=>{if(!n.current||!o||!t||t.length===0)return;s.current.forEach(E=>E.setMap(null)),s.current=[],i.current.forEach(E=>E.setMap(null)),i.current=[];const g=new window.google.maps.LatLngBounds,v=t.filter(E=>E.location&&E.location.lat&&E.location.lng);if(v.length===0){h("No locations available for today");return}v.forEach((E,N)=>{const D={lat:parseFloat(E.location.lat),lng:parseFloat(E.location.lng)},k=E.id===e,S=E.visited,P=E.skipped;let C="#4ECDC4",R=(N+1).toString();S?C="#26DE81":P?C="#95a5a6":k&&(C="#FF6B6B");const Y=new window.google.maps.Marker({position:D,map:n.current,title:E.name,label:{text:R,color:"white",fontSize:"12px",fontWeight:"bold"},icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:14,fillColor:C,fillOpacity:1,strokeColor:"white",strokeWeight:2}}),q=new window.google.maps.InfoWindow({content:`
          <div style="padding: 8px;">
            <h3 style="margin: 0 0 4px 0; font-weight: bold; font-size: 14px;">${E.name}</h3>
            ${E.address?`<p style="margin: 0; font-size: 12px; color: #666;">${E.address}</p>`:""}
            ${k?'<p style="margin: 4px 0 0 0; font-size: 12px; color: #FF6B6B; font-weight: bold;"> Next Stop</p>':""}
            ${S?'<p style="margin: 4px 0 0 0; font-size: 12px; color: #26DE81; font-weight: bold;"> Visited</p>':""}
          </div>
        `});Y.addListener("click",()=>{q.open(n.current,Y)}),s.current.push(Y),g.extend(D)});const y={walking:"WALKING",car:"DRIVING",transit:"TRANSIT",plane:"DRIVING"};for(let E=0;E<v.length-1;E++){const N={lat:parseFloat(v[E].location.lat),lng:parseFloat(v[E].location.lng)},D={lat:parseFloat(v[E+1].location.lat),lng:parseFloat(v[E+1].location.lng)},k=v[E+1],S=y[k.transportMode]||"WALKING",P=new window.google.maps.DirectionsService,C=new window.google.maps.DirectionsRenderer({map:n.current,suppressMarkers:!0,polylineOptions:{strokeColor:"#4ECDC4",strokeWeight:3,strokeOpacity:.7}});P.route({origin:N,destination:D,travelMode:S},(R,Y)=>{Y==="OK"&&(C.setDirections(R),i.current.push(C))})}v.length>0&&(n.current.fitBounds(g),v.length===1&&n.current.setZoom(15)),h(null)},[t,e,o]),o?d?u.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center",children:[u.jsx(nI,{size:48,className:"text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 mb-2",children:d}),u.jsx("p",{className:"text-sm text-gray-500",children:"Add locations to places in planning mode"})]}):u.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:[u.jsx("div",{ref:r,className:"w-full h-[500px] sm:h-[600px]"}),u.jsxs("div",{className:"p-4 border-t border-gray-100 flex flex-wrap gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-[#FF6B6B] rounded-full border-2 border-white"}),u.jsx("span",{className:"text-gray-600",children:"Next Stop"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-[#4ECDC4] rounded-full border-2 border-white"}),u.jsx("span",{className:"text-gray-600",children:"Upcoming"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-[#26DE81] rounded-full border-2 border-white"}),u.jsx("span",{className:"text-gray-600",children:"Visited"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 bg-[#95a5a6] rounded-full border-2 border-white"}),u.jsx("span",{className:"text-gray-600",children:"Skipped"})]})]})]}):u.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-[#4ECDC4]/20 border-t-[#4ECDC4] rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading map..."})]})},pQ=({onAddExpense:t,onMarkNextVisited:e,onAddNote:r})=>u.jsxs("div",{className:"fixed bottom-6 right-6 z-40 flex flex-col gap-3",children:[e&&u.jsx("button",{onClick:e,className:"w-14 h-14 bg-[#26DE81] text-white rounded-full shadow-lg hover:shadow-xl hover:scale-110 transition-all flex items-center justify-center",title:"Mark next visited",children:u.jsx($c,{size:24})}),u.jsx("button",{onClick:t,className:"w-14 h-14 bg-gradient-to-r from-[#FFE66D] to-[#F7B731] text-white rounded-full shadow-lg hover:shadow-xl hover:scale-110 transition-all flex items-center justify-center",title:"Add expense",children:u.jsx(qs,{size:24})}),r&&u.jsx("button",{onClick:r,className:"w-14 h-14 bg-[#4ECDC4] text-white rounded-full shadow-lg hover:shadow-xl hover:scale-110 transition-all flex items-center justify-center",title:"Add note",children:u.jsx(Ai,{size:24})})]}),vQ=({onClose:t,onSave:e})=>{const[r,n]=z.useState({description:"",amount:"",category:"food"}),s=[{value:"food",label:"Food",emoji:""},{value:"transport",label:"Transport",emoji:""},{value:"accommodation",label:"Hotel",emoji:""},{value:"activities",label:"Activities",emoji:""},{value:"shopping",label:"Shopping",emoji:""},{value:"other",label:"Other",emoji:""}],i=o=>{if(o.preventDefault(),!r.amount||!r.description.trim()){alert("Please enter amount and description");return}e(r)};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-t-3xl sm:rounded-3xl w-full max-w-md shadow-2xl animate-slide-up",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#FFE66D] to-[#F7B731] rounded-full flex items-center justify-center",children:u.jsx(qs,{size:20,className:"text-white"})}),u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Quick Expense"})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(gn,{size:20,className:"text-gray-600"})})]}),u.jsxs("form",{onSubmit:i,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Amount ()"}),u.jsx("input",{type:"number",step:"0.01",value:r.amount,onChange:o=>n({...r,amount:o.target.value}),placeholder:"0.00",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-[#FFE66D] text-lg font-semibold",autoFocus:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),u.jsx("input",{type:"text",value:r.description,onChange:o=>n({...r,description:o.target.value}),placeholder:"e.g., Lunch at cafe",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-[#FFE66D]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:s.map(o=>u.jsxs("button",{type:"button",onClick:()=>n({...r,category:o.value}),className:`px-3 py-3 rounded-xl border-2 transition-all text-center ${r.category===o.value?"border-[#FFE66D] bg-[#FFE66D]/10 shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[u.jsx("div",{className:"text-2xl mb-1",children:o.emoji}),u.jsx("div",{className:"text-xs font-medium text-gray-700",children:o.label})]},o.value))})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl font-semibold hover:bg-gray-50 transition-all",children:"Cancel"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#FFE66D] to-[#F7B731] text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Add Expense"})]})]})]})})},TE=({onExitDayMode:t})=>{gx();const{dailyPlans:e,saveDailyPlans:r}=bO(),{expenses:n,saveExpense:s}=EO(),[i,o]=z.useState(null),[c,d]=z.useState(!1),[h,g]=z.useState(!1),v=R=>{const Y=R.getFullYear(),q=String(R.getMonth()+1).padStart(2,"0"),T=String(R.getDate()).padStart(2,"0");return`${Y}-${q}-${T}`};z.useEffect(()=>{var R;if(e.length>0&&!i){const Y=v(new Date),q=e.find(T=>T.date===Y);if(q)o(q.id);else{const T=[...e].sort((j,M)=>new Date(j.date)-new Date(M.date)),b=new Date,I=T.find(j=>new Date(j.date)>=b);o(I?I.id:(R=T[T.length-1])==null?void 0:R.id)}}},[e,i]);const y=z.useMemo(()=>e.find(R=>R.id===i),[e,i]),E=z.useMemo(()=>y?[...e].sort((Y,q)=>new Date(Y.date)-new Date(q.date)).findIndex(Y=>Y.id===i)+1:0,[e,i]),N=z.useMemo(()=>y!=null&&y.places?y.places.find(R=>!R.visited&&!R.skipped):null,[y]),D=z.useMemo(()=>{if(!(y!=null&&y.places))return{visited:0,total:0,distance:0,totalDistance:0,time:0,totalTime:0};const R=y.places.length,Y=y.places.filter(M=>M.visited).length,q=y.places.reduce((M,V)=>M+(parseFloat(V.distance)||0),0),T=y.places.reduce((M,V)=>M+(parseFloat(V.transportTime)||0),0),b=y.places.filter(M=>M.visited),I=b.reduce((M,V)=>M+(parseFloat(V.distance)||0),0),j=b.reduce((M,V)=>M+(parseFloat(V.transportTime)||0),0);return{visited:Y,total:R,distance:I,totalDistance:q,time:j,totalTime:T}},[y]),k=async R=>{if(!y)return;const Y=e.map(q=>q.id===i?{...q,places:q.places.map(T=>T.id===R?{...T,visited:!T.visited,visitedAt:T.visited?null:new Date().toISOString()}:T)}:q);try{await r(Y)}catch(q){console.error("Failed to mark place as visited:",q)}},S=async R=>{if(!y)return;const Y=e.map(q=>q.id===i?{...q,places:q.places.map(T=>T.id===R?{...T,skipped:!T.skipped}:T)}:q);try{await r(Y)}catch(q){console.error("Failed to mark place as skipped:",q)}},P=async R=>{try{const Y={id:Date.now(),date:y.date,city:y.city||"",country:y.country||"",...R};await s(Y),d(!1)}catch(Y){console.error("Failed to add expense:",Y),alert("Failed to add expense. Please try again.")}},C=z.useMemo(()=>y?n.filter(R=>R.date===y.date).reduce((R,Y)=>R+(parseFloat(Y.amount)||0),0):0,[n,y]);return y?u.jsxs("div",{className:"min-h-screen bg-[#F8F9FA] pb-24",children:[u.jsx(cQ,{onBack:t,dayNumber:E,totalDays:e.length,dayTitle:y.title,dayDate:y.date,city:y.city}),u.jsx(fQ,{visited:D.visited,total:D.total,distance:D.distance,totalDistance:D.totalDistance,time:D.time,totalTime:D.totalTime,todayExpenses:C}),u.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[N&&u.jsx(dQ,{place:N,onMarkVisited:()=>k(N.id),onMarkSkipped:()=>S(N.id)}),u.jsxs("div",{className:"flex gap-2 mb-4 mt-6",children:[u.jsx("button",{onClick:()=>g(!1),className:`flex-1 py-3 rounded-xl font-semibold transition-all ${h?"bg-white text-gray-600 border-2 border-gray-200":"bg-gradient-to-r from-[#4ECDC4] to-[#44A08D] text-white shadow-md"}`,children:"Timeline"}),u.jsx("button",{onClick:()=>g(!0),className:`flex-1 py-3 rounded-xl font-semibold transition-all ${h?"bg-gradient-to-r from-[#4ECDC4] to-[#44A08D] text-white shadow-md":"bg-white text-gray-600 border-2 border-gray-200"}`,children:"Map"})]}),h?u.jsx(gQ,{places:y.places||[],nextPlaceId:N==null?void 0:N.id}):u.jsx(mQ,{places:y.places||[],onMarkVisited:k,onMarkSkipped:S})]}),u.jsx(pQ,{onAddExpense:()=>d(!0),onMarkNextVisited:N?()=>k(N.id):null}),c&&u.jsx(vQ,{onClose:()=>d(!1),onSave:P})]}):u.jsx("div",{className:"min-h-screen bg-[#F8F9FA] flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-[#4ECDC4]/20 border-t-[#4ECDC4] rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Loading your day..."})]})})},yQ=()=>{const{signInWithGoogle:t,error:e}=fa(),[r,n]=z.useState(!1),[s,i]=z.useState(null),o=async()=>{try{n(!0),i(null),await t()}catch(c){console.error("Sign in error:",c),i(c.message||"Failed to sign in with Google")}finally{n(!1)}};return u.jsx("div",{className:"min-h-screen bg-[#F8F9FA] flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-md w-full",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[u.jsx("div",{className:"bg-gradient-to-br from-[#4ECDC4] to-[#44A08D] p-3 rounded-2xl shadow-lg",children:u.jsx(Ri,{className:"w-8 h-8 text-white"})}),u.jsx("div",{className:"bg-gradient-to-br from-[#FF6B6B] to-[#FF8E53] p-3 rounded-2xl shadow-lg",children:u.jsx(Xi,{className:"w-8 h-8 text-white"})})]}),u.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Travel Planner"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Plan your perfect journey"})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border-2 border-gray-50",children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2 text-center",children:"Welcome!"}),u.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Sign in to access your trips from any device"}),(e||s)&&u.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-red-50/50 border-2 border-red-200 rounded-xl flex items-start gap-3",children:[u.jsx(nI,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-red-800 font-medium",children:"Sign in failed"}),u.jsx("p",{className:"text-sm text-red-600 mt-1",children:s||e})]})]}),u.jsx("button",{onClick:o,disabled:r,className:"w-full bg-white border-2 border-gray-300 hover:border-[#4ECDC4] text-gray-700 font-semibold py-4 px-6 rounded-xl transition-all duration-200 flex items-center justify-center gap-3 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:r?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-[#4ECDC4] rounded-full animate-spin"}),u.jsx("span",{children:"Signing in..."})]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),u.jsx("span",{children:"Continue with Google"})]})}),u.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 mb-4",children:"With your account you can:"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[u.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-[#4ECDC4]/20 to-[#4ECDC4]/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:u.jsx("div",{className:"w-2 h-2 rounded-full bg-[#4ECDC4]"})}),u.jsx("span",{children:"Access your trips from any device"})]}),u.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[u.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-[#FF6B6B]/20 to-[#FF6B6B]/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:u.jsx("div",{className:"w-2 h-2 rounded-full bg-[#FF6B6B]"})}),u.jsx("span",{children:"Never lose your travel data"})]}),u.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[u.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-[#FFE66D]/20 to-[#FFE66D]/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:u.jsx("div",{className:"w-2 h-2 rounded-full bg-[#F7B731]"})}),u.jsx("span",{children:"Plan trips seamlessly across phone and desktop"})]})]})]})]}),u.jsx("p",{className:"text-center text-sm text-gray-600 mt-6",children:"By signing in, you agree to sync your data with Firebase"})]})})},_Q={Switzerland:["Zurich","Geneva","Basel","Lausanne","Bern","Winterthur","Lucerne","St. Gallen","Lugano","Biel/Bienne","Thun","Kniz","La Chaux-de-Fonds","Schaffhausen","Fribourg","Vernier","Chur","Neuchtel","Uster","Sion","Emmen","Zug","Yverdon-les-Bains","Kriens","Rapperswil-Jona","Dbendorf","Montreux","Frauenfeld","Dietikon","Wetzikon","Interlaken","Zermatt","Grindelwald","Lauterbrunnen","Wengen","Murren","Locarno","Ascona","Bellinzona","Davos","St. Moritz","Arosa","Engelberg","Andermatt"],Italy:["Rome","Milan","Naples","Turin","Palermo","Genoa","Bologna","Florence","Bari","Catania","Venice","Verona","Messina","Padua","Trieste","Brescia","Taranto","Prato","Parma","Modena","Reggio Calabria","Reggio Emilia","Perugia","Livorno","Ravenna","Cagliari","Foggia","Rimini","Salerno","Ferrara","Sassari","Latina","Giugliano in Campania","Monza","Syracuse","Pescara","Bergamo","Forl","Trento","Vicenza","Terni","Bolzano","Novara","Piacenza","Ancona","Andria","Arezzo","Udine","Cesena","Lecce","Pisa","Siena","Lucca","Como","La Spezia","Varese","Sorrento","Amalfi","Positano","Capri","Portofino","Cinque Terre","Matera","Assisi","Siracusa","Taormina","Pompeii","Pienza","San Gimignano","Orvieto"],France:["Paris","Marseille","Lyon","Toulouse","Nice","Nantes","Strasbourg","Montpellier","Bordeaux","Lille","Rennes","Reims","Le Havre","Saint-tienne","Toulon","Grenoble","Dijon","Angers","Nmes","Villeurbanne","Saint-Denis","Le Mans","Aix-en-Provence","Clermont-Ferrand","Brest","Tours","Amiens","Limoges","Annecy","Perpignan","Boulogne-Billancourt","Metz","Besanon","Orlans","Saint-Denis","Argenteuil","Rouen","Mulhouse","Montreuil","Caen","Nancy","Avignon","Cannes","Antibes","Saint-Tropez","Monaco","Versailles","Colmar","Chamonix","Annecy","Carcassonne","Arles","Aix-les-Bains","Menton","Grasse","Saint-Malo","La Rochelle","Biarritz","Lourdes","Mont-Saint-Michel","Giverny","Fontainebleau","Chartres","Beaune","pernay","Reims","Troyes"],Spain:["Madrid","Barcelona","Valencia","Seville","Bilbao","Mlaga","Granada"],Portugal:["Lisbon","Porto","Faro","Coimbra","Braga"],Germany:["Berlin","Munich","Hamburg","Frankfurt","Cologne","Stuttgart","Dsseldorf"],Austria:["Vienna","Salzburg","Innsbruck","Graz","Linz"],Netherlands:["Amsterdam","Rotterdam","The Hague","Utrecht","Eindhoven"],Belgium:["Brussels","Antwerp","Ghent","Bruges","Lige"],Greece:["Athens","Thessaloniki","Santorini","Mykonos","Crete","Rhodes"],"United Kingdom":["London","Edinburgh","Manchester","Liverpool","Oxford","Cambridge"],"Czech Republic":["Prague","Brno","esk Krumlov"],Croatia:["Zagreb","Dubrovnik","Split","Pula"],Poland:["Warsaw","Krakow","Gdansk","Wroclaw"],Hungary:["Budapest","Debrecen","Szeged"],"United States":["New York","Los Angeles","Chicago","San Francisco","Miami","Las Vegas"],Canada:["Toronto","Vancouver","Montreal","Quebec City","Calgary"],Japan:["Tokyo","Kyoto","Osaka","Hiroshima","Nara"],"South Korea":["Seoul","Busan","Jeju"],Thailand:["Bangkok","Chiang Mai","Phuket","Pattaya"],Australia:["Sydney","Melbourne","Brisbane","Perth","Adelaide"],"New Zealand":["Auckland","Wellington","Christchurch","Queenstown"],Brazil:["Rio de Janeiro","So Paulo","Salvador","Braslia"],Argentina:["Buenos Aires","Mendoza","Bariloche","Crdoba"],Mexico:["Mexico City","Cancun","Playa del Carmen","Guadalajara"],Egypt:["Cairo","Alexandria","Luxor","Aswan"],"United Arab Emirates":["Dubai","Abu Dhabi","Sharjah"],Turkey:["Istanbul","Ankara","Antalya","Izmir"],Morocco:["Marrakech","Casablanca","Fes","Rabat"],"South Africa":["Cape Town","Johannesburg","Durban","Pretoria"]},SE=({onCreateTrip:t})=>{const{trips:e,loading:r,deleteTrip:n}=mx(),[s,i]=z.useState([]),[o,c]=z.useState(!1),[d,h]=z.useState(""),[g,v]=z.useState([{startDate:new Date,endDate:new Date(Date.now()+7*24*60*60*1e3),key:"selection"}]),[y,E]=z.useState(!1),[N,D]=z.useState(""),[k,S]=z.useState(!1),[P,C]=z.useState(null),[R,Y]=z.useState(!1),[q,T]=z.useState(null),b=z.useRef(null),I=z.useRef(null),M=Object.keys(_Q).filter(B=>!s.includes(B)).filter(B=>B.toLowerCase().includes(d.toLowerCase())),V=B=>{i([...s,B]),h(""),c(!1)},O=B=>{i(s.filter(F=>F!==B))},et=B=>{C(B)},tt=(B,F)=>{B.preventDefault()},le=(B,F)=>{if(B.preventDefault(),P===null||P===F)return;const K=[...s],[ae]=K.splice(P,1);K.splice(F,0,ae),i(K),C(null)},Oe=()=>s.length===0?"":s.length===1?`Trip to ${s[0]}`:s.length===2?`Trip to ${s[0]} & ${s[1]}`:`Trip to ${s.slice(0,-1).join(", ")} & ${s[s.length-1]}`;z.useEffect(()=>{k||D(Oe())},[s,k]),z.useEffect(()=>{const B=F=>{b.current&&!b.current.contains(F.target)&&E(!1)};return y&&document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[y]),z.useEffect(()=>{const B=F=>{I.current&&!I.current.contains(F.target)&&c(!1)};return o&&document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[o]);const Z=B=>{const F=B.getFullYear(),K=String(B.getMonth()+1).padStart(2,"0"),ae=String(B.getDate()).padStart(2,"0");return`${F}-${K}-${ae}`},de=async()=>{if(s.length===0){alert("Please select at least one country");return}if(!N.trim()){alert("Please enter a trip name");return}const B={id:Date.now(),name:N.trim(),startDate:Z(g[0].startDate),endDate:Z(g[0].endDate),countries:s};try{console.log("TripSetup: creating trip",B),await t(B),console.log("TripSetup: onCreateTrip resolved")}catch(F){console.error("Failed to create trip:",F),alert("Failed to create trip. Please try again.")}},ce=async B=>{console.log("TripSetup: selecting existing trip",B),await t(B)},De=B=>{T(B),Y(!0)},J=async()=>{if(q)try{await n(q.id)}catch(B){console.error("Failed to delete trip:",B),alert("Failed to delete trip. Please try again.")}finally{Y(!1),T(null)}},G=e.sort((B,F)=>new Date(F.startDate)-new Date(B.startDate)).slice(0,6);return u.jsxs("div",{className:"min-h-screen bg-[#F8F9FA] flex items-center justify-center p-4",children:[u.jsxs("div",{className:"max-w-2xl w-full",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"inline-block p-4 bg-gradient-to-br from-[#FF6B6B] to-[#FF8E53] rounded-3xl shadow-lg mb-4",children:u.jsx(Xi,{className:"w-12 h-12 text-white"})}),u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Plan Your Adventure"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Tell us where you're going and when"})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6 sm:p-8 border-2 border-gray-50",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-3",children:"Where are you travelling to?"}),u.jsxs("div",{className:"flex flex-wrap gap-3 mb-3",children:[s.map((B,F)=>u.jsxs("div",{draggable:!0,onDragStart:()=>et(F),onDragOver:K=>tt(K),onDrop:K=>le(K,F),className:`flex items-center gap-2 px-5 py-3 bg-gradient-to-r from-[#FF6B6B]/10 to-[#FF8E53]/10 text-[#FF6B6B] rounded-full border-2 border-[#FF6B6B]/20 cursor-move hover:shadow-md hover:border-[#FF6B6B]/40 transition-all ${P===F?"opacity-50 scale-95":""}`,children:[u.jsx(Zb,{size:20,className:"text-[#FF6B6B]/60 flex-shrink-0"}),u.jsx("span",{className:"font-medium text-base",children:B}),u.jsx("button",{onClick:K=>{K.stopPropagation(),O(B)},className:"hover:bg-[#FF6B6B]/20 rounded-full p-1 transition-colors",children:u.jsx(gn,{size:18})})]},B)),u.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-2 px-5 py-3 border-2 border-dashed border-gray-300 hover:border-[#4ECDC4] text-gray-600 hover:text-[#4ECDC4] rounded-full transition-all",children:[u.jsx(Cc,{size:18}),u.jsx("span",{className:"font-medium",children:"Add Country"})]})]}),s.length>1&&u.jsxs("p",{className:"text-xs text-gray-500 mb-3 flex items-center gap-1",children:[u.jsx(Zb,{size:14}),"Drag countries to reorder them"]}),o&&u.jsxs("div",{ref:I,className:"relative mt-2",children:[u.jsx("input",{type:"text",placeholder:"Search countries...",value:d,onChange:B=>h(B.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-[#4ECDC4] transition-colors",autoFocus:!0}),u.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white border-2 border-gray-200 rounded-xl shadow-lg max-h-64 overflow-y-auto",children:M.length>0?M.map(B=>u.jsx("button",{onClick:()=>V(B),className:"w-full px-4 py-3 text-left hover:bg-gradient-to-r hover:from-[#4ECDC4]/10 hover:to-[#4ECDC4]/5 transition-colors border-b border-gray-100 last:border-b-0",children:u.jsx("span",{className:"font-medium",children:B})},B)):u.jsx("div",{className:"px-4 py-3 text-gray-500 text-center",children:"No countries found"})})]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-3",children:"When are you going?"}),u.jsxs("button",{onClick:()=>E(!y),className:"w-full px-4 py-3 bg-gradient-to-r from-[#4ECDC4]/10 to-[#4ECDC4]/5 border-2 border-[#4ECDC4]/30 hover:border-[#4ECDC4] rounded-xl transition-all flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Wc,{className:"text-[#4ECDC4]",size:20}),u.jsxs("span",{className:"font-medium text-gray-700",children:[g[0].startDate.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),"  ",g[0].endDate.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),u.jsxs("span",{className:"text-sm text-gray-500",children:[Math.ceil((g[0].endDate-g[0].startDate)/(1e3*60*60*24))+1," days"]})]}),y&&u.jsx("div",{ref:b,className:"mt-4 flex justify-center",children:u.jsx("div",{className:"inline-block bg-white border-2 border-gray-200 rounded-xl shadow-lg p-4",children:u.jsx(M0.DateRange,{ranges:g,onChange:B=>{const F=B.selection;v([F]),F.startDate&&F.endDate&&F.startDate.getTime()!==F.endDate.getTime()&&E(!1)},months:2,direction:"horizontal",showDateDisplay:!1,rangeColors:["#4ECDC4"],className:"rounded-xl"})})})]}),s.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-3",children:"Trip Name"}),u.jsx("input",{type:"text",value:N,onChange:B=>{D(B.target.value),S(!0)},onBlur:()=>{N.trim()||(D(Oe()),S(!1))},placeholder:"Enter trip name",className:"w-full px-4 py-3 border-2 border-[#FFE66D]/30 bg-gradient-to-r from-[#FFE66D]/10 to-[#FFE66D]/5 rounded-xl focus:outline-none focus:border-[#FFE66D] focus:bg-white transition-colors text-lg font-semibold text-gray-900"})]}),u.jsx("button",{onClick:de,disabled:s.length===0,className:"w-full px-6 py-4 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] text-white rounded-xl font-semibold text-lg hover:shadow-lg transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:"Create My Trip"})]}),!r&&G.length>0&&u.jsxs("div",{className:"mt-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Km,{size:20,className:"text-[#4ECDC4]"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Trips"})]}),u.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Continue planning one of your previous trips"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:G.map(B=>u.jsxs("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl border-2 border-gray-50 hover:border-[#4ECDC4] p-5 text-left transition-all hover:scale-[1.02] group relative",children:[u.jsx("button",{onClick:()=>De(B),className:"absolute top-3 right-3 p-2 rounded-full hover:bg-red-50 text-red-500 transition-colors",title:"Delete trip",children:u.jsx(su,{size:18})}),u.jsxs("button",{onClick:()=>ce(B),className:"w-full text-left",children:[u.jsx("div",{className:"flex items-start justify-between mb-3 pr-6",children:u.jsx("h3",{className:"font-bold text-lg text-gray-900 line-clamp-2 group-hover:text-[#4ECDC4] transition-colors",children:B.name})}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(Wc,{size:14,className:"text-[#4ECDC4]"}),u.jsxs("span",{children:[new Date(B.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(B.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),B.countries&&B.countries.length>0&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Xi,{size:14,className:"text-[#FF6B6B]"}),u.jsxs("div",{className:"flex flex-wrap gap-1",children:[B.countries.slice(0,2).map((F,K)=>u.jsx("span",{className:"text-xs px-2 py-1 bg-gradient-to-r from-[#FF6B6B]/10 to-[#FF8E53]/10 text-[#FF6B6B] rounded-full font-medium",children:F},K)),B.countries.length>2&&u.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-full font-medium",children:["+",B.countries.length-2]})]})]})]}),u.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:u.jsx("span",{className:"text-xs text-[#4ECDC4] font-medium group-hover:underline",children:"Continue Planning "})})]})]},B.id))})]})]}),R&&q&&u.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 px-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-md w-full",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-red-50 flex items-center justify-center",children:u.jsx(su,{className:"text-red-500",size:20})}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Delete trip?"})]}),u.jsxs("p",{className:"text-gray-600 mb-6",children:['"',q.name,'" will be removed from your trips. This action cannot be undone.']}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsx("button",{onClick:J,className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:shadow-lg transition-all",children:"Delete Trip"}),u.jsx("button",{onClick:()=>{Y(!1),T(null)},className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl hover:bg-gray-50 transition-all",children:"Cancel"})]})]})})]})},xQ=()=>{const{currentUser:t,loading:e}=fa(),{currentTrip:r,loading:n,saveCurrentTrip:s}=gx(),{saveTrip:i}=mx(),[o,c]=zn.useState(null),[d,h]=zn.useState(!1),[g,v]=zn.useState("planning");if(e||t&&n)return u.jsx("div",{className:"min-h-screen bg-[#F8F9FA] flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-[#4ECDC4]/20 border-t-[#4ECDC4] rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Loading..."})]})});if(!t)return u.jsx(yQ,{});if(typeof window<"u"&&localStorage.getItem("showSetupOnLogin")==="1"&&!o&&(!r||!r.id)){try{localStorage.removeItem("showSetupOnLogin")}catch(y){console.warn("Could not remove showSetupOnLogin flag",y)}return u.jsx(SE,{onCreateTrip:async y=>{try{await i(y),await s(y),c(y),h(!1)}catch(E){console.error("Failed to create trip:",E),alert("Failed to create trip. Please try again.")}}})}return d||!r||!r.id?o&&!d?g==="planning"?u.jsx(DE,{initialTrip:o,onExitTrip:()=>{c(null),h(!0)},onEnterDayMode:()=>v("dayMode")}):u.jsx(TE,{onExitDayMode:()=>v("planning")}):u.jsx(SE,{onCreateTrip:async y=>{try{console.log("App: onCreateTrip start",y),await i(y),console.log("App: saveTrip completed"),await s(y),console.log("App: saveCurrentTrip completed"),c(y),console.log("App: setCreatedTrip",y),h(!1)}catch(E){console.error("Failed to create trip:",E),alert("Failed to create trip. Please try again.")}}}):g==="planning"?u.jsx(DE,{onExitTrip:()=>{c(null),h(!0)},onEnterDayMode:()=>v("dayMode")}):u.jsx(TE,{onExitDayMode:()=>v("planning")})},Lv=document.getElementById("root"),TO=Lv._reactRoot||yp.createRoot(Lv);Lv._reactRoot=TO;TO.render(u.jsx(zn.StrictMode,{children:u.jsx(sQ,{children:u.jsx(xQ,{})})}));
