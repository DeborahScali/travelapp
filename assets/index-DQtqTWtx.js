var b2=Object.defineProperty;var x2=(t,e,n)=>e in t?b2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ie=(t,e,n)=>x2(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var T2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function P2(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ox={exports:{}},Uf={},Cx={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=Symbol.for("react.element"),D2=Symbol.for("react.portal"),I2=Symbol.for("react.fragment"),O2=Symbol.for("react.strict_mode"),C2=Symbol.for("react.profiler"),M2=Symbol.for("react.provider"),N2=Symbol.for("react.context"),R2=Symbol.for("react.forward_ref"),A2=Symbol.for("react.suspense"),j2=Symbol.for("react.memo"),F2=Symbol.for("react.lazy"),Ry=Symbol.iterator;function L2(t){return t===null||typeof t!="object"?null:(t=Ry&&t[Ry]||t["@@iterator"],typeof t=="function"?t:null)}var Mx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nx=Object.assign,Rx={};function Cl(t,e,n){this.props=t,this.context=e,this.refs=Rx,this.updater=n||Mx}Cl.prototype.isReactComponent={};Cl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ax(){}Ax.prototype=Cl.prototype;function rv(t,e,n){this.props=t,this.context=e,this.refs=Rx,this.updater=n||Mx}var iv=rv.prototype=new Ax;iv.constructor=rv;Nx(iv,Cl.prototype);iv.isPureReactComponent=!0;var Ay=Array.isArray,jx=Object.prototype.hasOwnProperty,sv={current:null},Fx={key:!0,ref:!0,__self:!0,__source:!0};function Lx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jx.call(e,r)&&!Fx.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:fc,type:t,key:s,ref:o,props:i,_owner:sv.current}}function k2(t,e){return{$$typeof:fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function av(t){return typeof t=="object"&&t!==null&&t.$$typeof===fc}function V2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jy=/\/+/g;function Im(t,e){return typeof t=="object"&&t!==null&&t.key!=null?V2(""+t.key):e.toString(36)}function Sd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fc:case D2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Im(o,0):r,Ay(i)?(n="",t!=null&&(n=t.replace(jy,"$&/")+"/"),Sd(i,e,n,"",function(d){return d})):i!=null&&(av(i)&&(i=k2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ay(t))for(var u=0;u<t.length;u++){s=t[u];var c=r+Im(s,u);o+=Sd(s,e,n,c,i)}else if(c=L2(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=r+Im(s,u++),o+=Sd(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hc(t,e,n){if(t==null)return t;var r=[],i=0;return Sd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function z2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var On={current:null},Pd={transition:null},W2={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:Pd,ReactCurrentOwner:sv};function kx(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Hc,forEach:function(t,e,n){Hc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hc(t,function(){e++}),e},toArray:function(t){return Hc(t,function(e){return e})||[]},only:function(t){if(!av(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=Cl;Ne.Fragment=I2;Ne.Profiler=C2;Ne.PureComponent=rv;Ne.StrictMode=O2;Ne.Suspense=A2;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W2;Ne.act=kx;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Nx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)jx.call(e,c)&&!Fx.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:fc,type:t.type,key:i,ref:s,props:r,_owner:o}};Ne.createContext=function(t){return t={$$typeof:N2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:M2,_context:t},t.Consumer=t};Ne.createElement=Lx;Ne.createFactory=function(t){var e=Lx.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:R2,render:t}};Ne.isValidElement=av;Ne.lazy=function(t){return{$$typeof:F2,_payload:{_status:-1,_result:t},_init:z2}};Ne.memo=function(t,e){return{$$typeof:j2,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=Pd.transition;Pd.transition={};try{t()}finally{Pd.transition=e}};Ne.unstable_act=kx;Ne.useCallback=function(t,e){return On.current.useCallback(t,e)};Ne.useContext=function(t){return On.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return On.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return On.current.useEffect(t,e)};Ne.useId=function(){return On.current.useId()};Ne.useImperativeHandle=function(t,e,n){return On.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return On.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return On.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return On.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return On.current.useReducer(t,e,n)};Ne.useRef=function(t){return On.current.useRef(t)};Ne.useState=function(t){return On.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return On.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return On.current.useTransition()};Ne.version="18.3.1";Cx.exports=Ne;var B=Cx.exports;const Fr=S2(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2=B,B2=Symbol.for("react.element"),$2=Symbol.for("react.fragment"),H2=Object.prototype.hasOwnProperty,Y2=U2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q2={key:!0,ref:!0,__self:!0,__source:!0};function Vx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)H2.call(e,r)&&!q2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:B2,type:t,key:s,ref:o,props:i,_owner:Y2.current}}Uf.Fragment=$2;Uf.jsx=Vx;Uf.jsxs=Vx;Ox.exports=Uf;var f=Ox.exports,Fg={},zx={exports:{}},or={},Wx={exports:{}},Ux={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,oe){var ce=Q.length;Q.push(oe);e:for(;0<ce;){var Ce=ce-1>>>1,G=Q[Ce];if(0<i(G,oe))Q[Ce]=oe,Q[ce]=G,ce=Ce;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var oe=Q[0],ce=Q.pop();if(ce!==oe){Q[0]=ce;e:for(var Ce=0,G=Q.length,$=G>>>1;Ce<$;){var k=2*(Ce+1)-1,M=Q[k],W=k+1,ne=Q[W];if(0>i(M,ce))W<G&&0>i(ne,M)?(Q[Ce]=ne,Q[W]=ce,Ce=W):(Q[Ce]=M,Q[k]=ce,Ce=k);else if(W<G&&0>i(ne,ce))Q[Ce]=ne,Q[W]=ce,Ce=W;else break e}}return oe}function i(Q,oe){var ce=Q.sortIndex-oe.sortIndex;return ce!==0?ce:Q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],d=[],m=1,g=null,_=3,E=!1,O=!1,D=!1,A=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Q){for(var oe=n(d);oe!==null;){if(oe.callback===null)r(d);else if(oe.startTime<=Q)r(d),oe.sortIndex=oe.expirationTime,e(c,oe);else break;oe=n(d)}}function j(Q){if(D=!1,C(Q),!O)if(n(c)!==null)O=!0,wt(H);else{var oe=n(d);oe!==null&&Se(j,oe.startTime-Q)}}function H(Q,oe){O=!1,D&&(D=!1,b(w),w=-1),E=!0;var ce=_;try{for(C(oe),g=n(c);g!==null&&(!(g.expirationTime>oe)||Q&&!N());){var Ce=g.callback;if(typeof Ce=="function"){g.callback=null,_=g.priorityLevel;var G=Ce(g.expirationTime<=oe);oe=t.unstable_now(),typeof G=="function"?g.callback=G:g===n(c)&&r(c),C(oe)}else r(c);g=n(c)}if(g!==null)var $=!0;else{var k=n(d);k!==null&&Se(j,k.startTime-oe),$=!1}return $}finally{g=null,_=ce,E=!1}}var q=!1,T=null,w=-1,P=5,x=-1;function N(){return!(t.unstable_now()-x<P)}function F(){if(T!==null){var Q=t.unstable_now();x=Q;var oe=!0;try{oe=T(!0,Q)}finally{oe?I():(q=!1,T=null)}}else q=!1}var I;if(typeof S=="function")I=function(){S(F)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,ze=Re.port2;Re.port1.onmessage=F,I=function(){ze.postMessage(null)}}else I=function(){A(F,0)};function wt(Q){T=Q,q||(q=!0,I())}function Se(Q,oe){w=A(function(){Q(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){O||E||(O=!0,wt(H))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var oe=3;break;default:oe=_}var ce=_;_=oe;try{return Q()}finally{_=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=_;_=Q;try{return oe()}finally{_=ce}},t.unstable_scheduleCallback=function(Q,oe,ce){var Ce=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ce+ce:Ce):ce=Ce,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ce+G,Q={id:m++,callback:oe,priorityLevel:Q,startTime:ce,expirationTime:G,sortIndex:-1},ce>Ce?(Q.sortIndex=ce,e(d,Q),n(c)===null&&Q===n(d)&&(D?(b(w),w=-1):D=!0,Se(j,ce-Ce))):(Q.sortIndex=G,e(c,Q),O||E||(O=!0,wt(H))),Q},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(Q){var oe=_;return function(){var ce=_;_=oe;try{return Q.apply(this,arguments)}finally{_=ce}}}})(Ux);Wx.exports=Ux;var G2=Wx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2=B,sr=G2;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bx=new Set,ku={};function co(t,e){ml(t,e),ml(t+"Capture",e)}function ml(t,e){for(ku[t]=e,t=0;t<e.length;t++)Bx.add(e[t])}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lg=Object.prototype.hasOwnProperty,K2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fy={},Ly={};function X2(t){return Lg.call(Ly,t)?!0:Lg.call(Fy,t)?!1:K2.test(t)?Ly[t]=!0:(Fy[t]=!0,!1)}function J2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Z2(t,e,n,r){if(e===null||typeof e>"u"||J2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new Cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new Cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new Cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new Cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new Cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new Cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new Cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new Cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new Cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ov=/[\-:]([a-z])/g;function lv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ov,lv);on[e]=new Cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ov,lv);on[e]=new Cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ov,lv);on[e]=new Cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new Cn(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new Cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function uv(t,e,n,r){var i=on.hasOwnProperty(e)?on[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Z2(e,n,i,r)&&(n=null),r||i===null?X2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var as=Q2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),Yo=Symbol.for("react.portal"),qo=Symbol.for("react.fragment"),cv=Symbol.for("react.strict_mode"),kg=Symbol.for("react.profiler"),$x=Symbol.for("react.provider"),Hx=Symbol.for("react.context"),dv=Symbol.for("react.forward_ref"),Vg=Symbol.for("react.suspense"),zg=Symbol.for("react.suspense_list"),fv=Symbol.for("react.memo"),Us=Symbol.for("react.lazy"),Yx=Symbol.for("react.offscreen"),ky=Symbol.iterator;function Yl(t){return t===null||typeof t!="object"?null:(t=ky&&t[ky]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,Om;function mu(t){if(Om===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Om=e&&e[1]||""}return`
`+Om+t}var Cm=!1;function Mm(t,e){if(!t||Cm)return"";Cm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=u);break}}}finally{Cm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mu(t):""}function eC(t){switch(t.tag){case 5:return mu(t.type);case 16:return mu("Lazy");case 13:return mu("Suspense");case 19:return mu("SuspenseList");case 0:case 2:case 15:return t=Mm(t.type,!1),t;case 11:return t=Mm(t.type.render,!1),t;case 1:return t=Mm(t.type,!0),t;default:return""}}function Wg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qo:return"Fragment";case Yo:return"Portal";case kg:return"Profiler";case cv:return"StrictMode";case Vg:return"Suspense";case zg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Hx:return(t.displayName||"Context")+".Consumer";case $x:return(t._context.displayName||"Context")+".Provider";case dv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fv:return e=t.displayName||null,e!==null?e:Wg(t.type)||"Memo";case Us:e=t._payload,t=t._init;try{return Wg(t(e))}catch{}}return null}function tC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wg(e);case 8:return e===cv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function da(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nC(t){var e=qx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qc(t){t._valueTracker||(t._valueTracker=nC(t))}function Gx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ug(t,e){var n=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=da(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qx(t,e){e=e.checked,e!=null&&uv(t,"checked",e,!1)}function Bg(t,e){Qx(t,e);var n=da(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$g(t,e.type,n):e.hasOwnProperty("defaultValue")&&$g(t,e.type,da(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $g(t,e,n){(e!=="number"||qd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gu=Array.isArray;function il(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+da(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(gu(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:da(n)}}function Kx(t,e){var n=da(e.value),r=da(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Uy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gc,Jx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rC=["Webkit","ms","Moz","O"];Object.keys(xu).forEach(function(t){rC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xu[e]=xu[t]})});function Zx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xu.hasOwnProperty(t)&&xu[t]?(""+e).trim():e+"px"}function eT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iC=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qg(t,e){if(e){if(iC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function Gg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qg=null;function hv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kg=null,sl=null,al=null;function By(t){if(t=gc(t)){if(typeof Kg!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=qf(e),Kg(t.stateNode,t.type,e))}}function tT(t){sl?al?al.push(t):al=[t]:sl=t}function nT(){if(sl){var t=sl,e=al;if(al=sl=null,By(t),e)for(t=0;t<e.length;t++)By(e[t])}}function rT(t,e){return t(e)}function iT(){}var Nm=!1;function sT(t,e,n){if(Nm)return t(e,n);Nm=!0;try{return rT(t,e,n)}finally{Nm=!1,(sl!==null||al!==null)&&(iT(),nT())}}function zu(t,e){var n=t.stateNode;if(n===null)return null;var r=qf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var Xg=!1;if(Xi)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){Xg=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{Xg=!1}function sC(t,e,n,r,i,s,o,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(m){this.onError(m)}}var Tu=!1,Gd=null,Qd=!1,Jg=null,aC={onError:function(t){Tu=!0,Gd=t}};function oC(t,e,n,r,i,s,o,u,c){Tu=!1,Gd=null,sC.apply(aC,arguments)}function lC(t,e,n,r,i,s,o,u,c){if(oC.apply(this,arguments),Tu){if(Tu){var d=Gd;Tu=!1,Gd=null}else throw Error(Z(198));Qd||(Qd=!0,Jg=d)}}function fo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $y(t){if(fo(t)!==t)throw Error(Z(188))}function uC(t){var e=t.alternate;if(!e){if(e=fo(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $y(i),t;if(s===r)return $y(i),e;s=s.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function oT(t){return t=uC(t),t!==null?lT(t):null}function lT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lT(t);if(e!==null)return e;t=t.sibling}return null}var uT=sr.unstable_scheduleCallback,Hy=sr.unstable_cancelCallback,cC=sr.unstable_shouldYield,dC=sr.unstable_requestPaint,It=sr.unstable_now,fC=sr.unstable_getCurrentPriorityLevel,mv=sr.unstable_ImmediatePriority,cT=sr.unstable_UserBlockingPriority,Kd=sr.unstable_NormalPriority,hC=sr.unstable_LowPriority,dT=sr.unstable_IdlePriority,Bf=null,oi=null;function mC(t){if(oi&&typeof oi.onCommitFiberRoot=="function")try{oi.onCommitFiberRoot(Bf,t,void 0,(t.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:vC,gC=Math.log,pC=Math.LN2;function vC(t){return t>>>=0,t===0?32:31-(gC(t)/pC|0)|0}var Qc=64,Kc=4194304;function pu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=pu(u):(s&=o,s!==0&&(r=pu(s)))}else o=n&~i,o!==0?r=pu(o):s!==0&&(r=pu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Lr(e),i=1<<n,r|=t[n],e&=~i;return r}function _C(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Lr(s),u=1<<o,c=i[o];c===-1?(!(u&n)||u&r)&&(i[o]=_C(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function Zg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fT(){var t=Qc;return Qc<<=1,!(Qc&4194240)&&(Qc=64),t}function Rm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lr(e),t[e]=n}function wC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Lr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function gv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Lr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function hT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mT,pv,gT,pT,vT,ep=!1,Xc=[],Js=null,Zs=null,ea=null,Wu=new Map,Uu=new Map,$s=[],EC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yy(t,e){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":Wu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(e.pointerId)}}function Gl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gc(e),e!==null&&pv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bC(t,e,n,r,i){switch(e){case"focusin":return Js=Gl(Js,t,e,n,r,i),!0;case"dragenter":return Zs=Gl(Zs,t,e,n,r,i),!0;case"mouseover":return ea=Gl(ea,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Wu.set(s,Gl(Wu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Uu.set(s,Gl(Uu.get(s)||null,t,e,n,r,i)),!0}return!1}function _T(t){var e=Ha(t.target);if(e!==null){var n=fo(e);if(n!==null){if(e=n.tag,e===13){if(e=aT(n),e!==null){t.blockedOn=e,vT(t.priority,function(){gT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qg=r,n.target.dispatchEvent(r),Qg=null}else return e=gc(n),e!==null&&pv(e),t.blockedOn=n,!1;e.shift()}return!0}function qy(t,e,n){Dd(t)&&n.delete(e)}function xC(){ep=!1,Js!==null&&Dd(Js)&&(Js=null),Zs!==null&&Dd(Zs)&&(Zs=null),ea!==null&&Dd(ea)&&(ea=null),Wu.forEach(qy),Uu.forEach(qy)}function Ql(t,e){t.blockedOn===e&&(t.blockedOn=null,ep||(ep=!0,sr.unstable_scheduleCallback(sr.unstable_NormalPriority,xC)))}function Bu(t){function e(i){return Ql(i,t)}if(0<Xc.length){Ql(Xc[0],t);for(var n=1;n<Xc.length;n++){var r=Xc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Js!==null&&Ql(Js,t),Zs!==null&&Ql(Zs,t),ea!==null&&Ql(ea,t),Wu.forEach(e),Uu.forEach(e),n=0;n<$s.length;n++)r=$s[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$s.length&&(n=$s[0],n.blockedOn===null);)_T(n),n.blockedOn===null&&$s.shift()}var ol=as.ReactCurrentBatchConfig,Jd=!0;function TC(t,e,n,r){var i=Qe,s=ol.transition;ol.transition=null;try{Qe=1,vv(t,e,n,r)}finally{Qe=i,ol.transition=s}}function SC(t,e,n,r){var i=Qe,s=ol.transition;ol.transition=null;try{Qe=4,vv(t,e,n,r)}finally{Qe=i,ol.transition=s}}function vv(t,e,n,r){if(Jd){var i=tp(t,e,n,r);if(i===null)Bm(t,e,r,Zd,n),Yy(t,r);else if(bC(i,t,e,n,r))r.stopPropagation();else if(Yy(t,r),e&4&&-1<EC.indexOf(t)){for(;i!==null;){var s=gc(i);if(s!==null&&mT(s),s=tp(t,e,n,r),s===null&&Bm(t,e,r,Zd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Bm(t,e,r,null,n)}}var Zd=null;function tp(t,e,n,r){if(Zd=null,t=hv(r),t=Ha(t),t!==null)if(e=fo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=aT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zd=t,null}function yT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fC()){case mv:return 1;case cT:return 4;case Kd:case hC:return 16;case dT:return 536870912;default:return 16}default:return 16}}var Qs=null,_v=null,Id=null;function wT(){if(Id)return Id;var t,e=_v,n=e.length,r,i="value"in Qs?Qs.value:Qs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Id=i.slice(t,1<r?1-r:void 0)}function Od(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jc(){return!0}function Gy(){return!1}function lr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Jc:Gy,this.isPropagationStopped=Gy,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jc)},persist:function(){},isPersistent:Jc}),e}var Ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yv=lr(Ml),mc=_t({},Ml,{view:0,detail:0}),PC=lr(mc),Am,jm,Kl,$f=_t({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kl&&(Kl&&t.type==="mousemove"?(Am=t.screenX-Kl.screenX,jm=t.screenY-Kl.screenY):jm=Am=0,Kl=t),Am)},movementY:function(t){return"movementY"in t?t.movementY:jm}}),Qy=lr($f),DC=_t({},$f,{dataTransfer:0}),IC=lr(DC),OC=_t({},mc,{relatedTarget:0}),Fm=lr(OC),CC=_t({},Ml,{animationName:0,elapsedTime:0,pseudoElement:0}),MC=lr(CC),NC=_t({},Ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RC=lr(NC),AC=_t({},Ml,{data:0}),Ky=lr(AC),jC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LC[t])?!!e[t]:!1}function wv(){return kC}var VC=_t({},mc,{key:function(t){if(t.key){var e=jC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Od(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wv,charCode:function(t){return t.type==="keypress"?Od(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Od(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zC=lr(VC),WC=_t({},$f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xy=lr(WC),UC=_t({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wv}),BC=lr(UC),$C=_t({},Ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),HC=lr($C),YC=_t({},$f,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qC=lr(YC),GC=[9,13,27,32],Ev=Xi&&"CompositionEvent"in window,Su=null;Xi&&"documentMode"in document&&(Su=document.documentMode);var QC=Xi&&"TextEvent"in window&&!Su,ET=Xi&&(!Ev||Su&&8<Su&&11>=Su),Jy=" ",Zy=!1;function bT(t,e){switch(t){case"keyup":return GC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Go=!1;function KC(t,e){switch(t){case"compositionend":return xT(e);case"keypress":return e.which!==32?null:(Zy=!0,Jy);case"textInput":return t=e.data,t===Jy&&Zy?null:t;default:return null}}function XC(t,e){if(Go)return t==="compositionend"||!Ev&&bT(t,e)?(t=wT(),Id=_v=Qs=null,Go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ET&&e.locale!=="ko"?null:e.data;default:return null}}var JC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ew(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JC[t.type]:e==="textarea"}function TT(t,e,n,r){tT(r),e=ef(e,"onChange"),0<e.length&&(n=new yv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pu=null,$u=null;function ZC(t){jT(t,0)}function Hf(t){var e=Xo(t);if(Gx(e))return t}function eM(t,e){if(t==="change")return e}var ST=!1;if(Xi){var Lm;if(Xi){var km="oninput"in document;if(!km){var tw=document.createElement("div");tw.setAttribute("oninput","return;"),km=typeof tw.oninput=="function"}Lm=km}else Lm=!1;ST=Lm&&(!document.documentMode||9<document.documentMode)}function nw(){Pu&&(Pu.detachEvent("onpropertychange",PT),$u=Pu=null)}function PT(t){if(t.propertyName==="value"&&Hf($u)){var e=[];TT(e,$u,t,hv(t)),sT(ZC,e)}}function tM(t,e,n){t==="focusin"?(nw(),Pu=e,$u=n,Pu.attachEvent("onpropertychange",PT)):t==="focusout"&&nw()}function nM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hf($u)}function rM(t,e){if(t==="click")return Hf(e)}function iM(t,e){if(t==="input"||t==="change")return Hf(e)}function sM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zr=typeof Object.is=="function"?Object.is:sM;function Hu(t,e){if(zr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lg.call(e,i)||!zr(t[i],e[i]))return!1}return!0}function rw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iw(t,e){var n=rw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rw(n)}}function DT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IT(){for(var t=window,e=qd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qd(t.document)}return e}function bv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aM(t){var e=IT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DT(n.ownerDocument.documentElement,n)){if(r!==null&&bv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=iw(n,s);var o=iw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oM=Xi&&"documentMode"in document&&11>=document.documentMode,Qo=null,np=null,Du=null,rp=!1;function sw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rp||Qo==null||Qo!==qd(r)||(r=Qo,"selectionStart"in r&&bv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Du&&Hu(Du,r)||(Du=r,r=ef(np,"onSelect"),0<r.length&&(e=new yv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qo)))}function Zc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ko={animationend:Zc("Animation","AnimationEnd"),animationiteration:Zc("Animation","AnimationIteration"),animationstart:Zc("Animation","AnimationStart"),transitionend:Zc("Transition","TransitionEnd")},Vm={},OT={};Xi&&(OT=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function Yf(t){if(Vm[t])return Vm[t];if(!Ko[t])return t;var e=Ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in OT)return Vm[t]=e[n];return t}var CT=Yf("animationend"),MT=Yf("animationiteration"),NT=Yf("animationstart"),RT=Yf("transitionend"),AT=new Map,aw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(t,e){AT.set(t,e),co(e,[t])}for(var zm=0;zm<aw.length;zm++){var Wm=aw[zm],lM=Wm.toLowerCase(),uM=Wm[0].toUpperCase()+Wm.slice(1);_a(lM,"on"+uM)}_a(CT,"onAnimationEnd");_a(MT,"onAnimationIteration");_a(NT,"onAnimationStart");_a("dblclick","onDoubleClick");_a("focusin","onFocus");_a("focusout","onBlur");_a(RT,"onTransitionEnd");ml("onMouseEnter",["mouseout","mouseover"]);ml("onMouseLeave",["mouseout","mouseover"]);ml("onPointerEnter",["pointerout","pointerover"]);ml("onPointerLeave",["pointerout","pointerover"]);co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));co("onBeforeInput",["compositionend","keypress","textInput","paste"]);co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cM=new Set("cancel close invalid load scroll toggle".split(" ").concat(vu));function ow(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lC(r,e,void 0,t),t.currentTarget=null}function jT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;ow(i,u,d),s=c}else for(o=0;o<r.length;o++){if(u=r[o],c=u.instance,d=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;ow(i,u,d),s=c}}}if(Qd)throw t=Jg,Qd=!1,Jg=null,t}function ot(t,e){var n=e[lp];n===void 0&&(n=e[lp]=new Set);var r=t+"__bubble";n.has(r)||(FT(e,t,2,!1),n.add(r))}function Um(t,e,n){var r=0;e&&(r|=4),FT(n,t,r,e)}var ed="_reactListening"+Math.random().toString(36).slice(2);function Yu(t){if(!t[ed]){t[ed]=!0,Bx.forEach(function(n){n!=="selectionchange"&&(cM.has(n)||Um(n,!1,t),Um(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ed]||(e[ed]=!0,Um("selectionchange",!1,e))}}function FT(t,e,n,r){switch(yT(e)){case 1:var i=TC;break;case 4:i=SC;break;default:i=vv}n=i.bind(null,e,n,t),i=void 0,!Xg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Ha(u),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}u=u.parentNode}}r=r.return}sT(function(){var d=s,m=hv(n),g=[];e:{var _=AT.get(t);if(_!==void 0){var E=yv,O=t;switch(t){case"keypress":if(Od(n)===0)break e;case"keydown":case"keyup":E=zC;break;case"focusin":O="focus",E=Fm;break;case"focusout":O="blur",E=Fm;break;case"beforeblur":case"afterblur":E=Fm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=IC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=BC;break;case CT:case MT:case NT:E=MC;break;case RT:E=HC;break;case"scroll":E=PC;break;case"wheel":E=qC;break;case"copy":case"cut":case"paste":E=RC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Xy}var D=(e&4)!==0,A=!D&&t==="scroll",b=D?_!==null?_+"Capture":null:_;D=[];for(var S=d,C;S!==null;){C=S;var j=C.stateNode;if(C.tag===5&&j!==null&&(C=j,b!==null&&(j=zu(S,b),j!=null&&D.push(qu(S,j,C)))),A)break;S=S.return}0<D.length&&(_=new E(_,O,null,n,m),g.push({event:_,listeners:D}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",_&&n!==Qg&&(O=n.relatedTarget||n.fromElement)&&(Ha(O)||O[Ji]))break e;if((E||_)&&(_=m.window===m?m:(_=m.ownerDocument)?_.defaultView||_.parentWindow:window,E?(O=n.relatedTarget||n.toElement,E=d,O=O?Ha(O):null,O!==null&&(A=fo(O),O!==A||O.tag!==5&&O.tag!==6)&&(O=null)):(E=null,O=d),E!==O)){if(D=Qy,j="onMouseLeave",b="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(D=Xy,j="onPointerLeave",b="onPointerEnter",S="pointer"),A=E==null?_:Xo(E),C=O==null?_:Xo(O),_=new D(j,S+"leave",E,n,m),_.target=A,_.relatedTarget=C,j=null,Ha(m)===d&&(D=new D(b,S+"enter",O,n,m),D.target=C,D.relatedTarget=A,j=D),A=j,E&&O)t:{for(D=E,b=O,S=0,C=D;C;C=jo(C))S++;for(C=0,j=b;j;j=jo(j))C++;for(;0<S-C;)D=jo(D),S--;for(;0<C-S;)b=jo(b),C--;for(;S--;){if(D===b||b!==null&&D===b.alternate)break t;D=jo(D),b=jo(b)}D=null}else D=null;E!==null&&lw(g,_,E,D,!1),O!==null&&A!==null&&lw(g,A,O,D,!0)}}e:{if(_=d?Xo(d):window,E=_.nodeName&&_.nodeName.toLowerCase(),E==="select"||E==="input"&&_.type==="file")var H=eM;else if(ew(_))if(ST)H=iM;else{H=nM;var q=tM}else(E=_.nodeName)&&E.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(H=rM);if(H&&(H=H(t,d))){TT(g,H,n,m);break e}q&&q(t,_,d),t==="focusout"&&(q=_._wrapperState)&&q.controlled&&_.type==="number"&&$g(_,"number",_.value)}switch(q=d?Xo(d):window,t){case"focusin":(ew(q)||q.contentEditable==="true")&&(Qo=q,np=d,Du=null);break;case"focusout":Du=np=Qo=null;break;case"mousedown":rp=!0;break;case"contextmenu":case"mouseup":case"dragend":rp=!1,sw(g,n,m);break;case"selectionchange":if(oM)break;case"keydown":case"keyup":sw(g,n,m)}var T;if(Ev)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Go?bT(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(ET&&n.locale!=="ko"&&(Go||w!=="onCompositionStart"?w==="onCompositionEnd"&&Go&&(T=wT()):(Qs=m,_v="value"in Qs?Qs.value:Qs.textContent,Go=!0)),q=ef(d,w),0<q.length&&(w=new Ky(w,t,null,n,m),g.push({event:w,listeners:q}),T?w.data=T:(T=xT(n),T!==null&&(w.data=T)))),(T=QC?KC(t,n):XC(t,n))&&(d=ef(d,"onBeforeInput"),0<d.length&&(m=new Ky("onBeforeInput","beforeinput",null,n,m),g.push({event:m,listeners:d}),m.data=T))}jT(g,e)})}function qu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ef(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zu(t,n),s!=null&&r.unshift(qu(t,s,i)),s=zu(t,e),s!=null&&r.push(qu(t,s,i))),t=t.return}return r}function jo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,i?(c=zu(n,s),c!=null&&o.unshift(qu(n,c,u))):i||(c=zu(n,s),c!=null&&o.push(qu(n,c,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dM=/\r\n?/g,fM=/\u0000|\uFFFD/g;function uw(t){return(typeof t=="string"?t:""+t).replace(dM,`
`).replace(fM,"")}function td(t,e,n){if(e=uw(e),uw(t)!==e&&n)throw Error(Z(425))}function tf(){}var ip=null,sp=null;function ap(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var op=typeof setTimeout=="function"?setTimeout:void 0,hM=typeof clearTimeout=="function"?clearTimeout:void 0,cw=typeof Promise=="function"?Promise:void 0,mM=typeof queueMicrotask=="function"?queueMicrotask:typeof cw<"u"?function(t){return cw.resolve(null).then(t).catch(gM)}:op;function gM(t){setTimeout(function(){throw t})}function $m(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bu(e)}function ta(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Nl=Math.random().toString(36).slice(2),ai="__reactFiber$"+Nl,Gu="__reactProps$"+Nl,Ji="__reactContainer$"+Nl,lp="__reactEvents$"+Nl,pM="__reactListeners$"+Nl,vM="__reactHandles$"+Nl;function Ha(t){var e=t[ai];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ji]||n[ai]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dw(t);t!==null;){if(n=t[ai])return n;t=dw(t)}return e}t=n,n=t.parentNode}return null}function gc(t){return t=t[ai]||t[Ji],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function qf(t){return t[Gu]||null}var up=[],Jo=-1;function ya(t){return{current:t}}function ct(t){0>Jo||(t.current=up[Jo],up[Jo]=null,Jo--)}function st(t,e){Jo++,up[Jo]=t.current,t.current=e}var fa={},pn=ya(fa),$n=ya(!1),eo=fa;function gl(t,e){var n=t.type.contextTypes;if(!n)return fa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Hn(t){return t=t.childContextTypes,t!=null}function nf(){ct($n),ct(pn)}function fw(t,e,n){if(pn.current!==fa)throw Error(Z(168));st(pn,e),st($n,n)}function LT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,tC(t)||"Unknown",i));return _t({},n,r)}function rf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fa,eo=pn.current,st(pn,t),st($n,$n.current),!0}function hw(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=LT(t,e,eo),r.__reactInternalMemoizedMergedChildContext=t,ct($n),ct(pn),st(pn,t)):ct($n),st($n,n)}var Vi=null,Gf=!1,Hm=!1;function kT(t){Vi===null?Vi=[t]:Vi.push(t)}function _M(t){Gf=!0,kT(t)}function wa(){if(!Hm&&Vi!==null){Hm=!0;var t=0,e=Qe;try{var n=Vi;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vi=null,Gf=!1}catch(i){throw Vi!==null&&(Vi=Vi.slice(t+1)),uT(mv,wa),i}finally{Qe=e,Hm=!1}}return null}var Zo=[],el=0,sf=null,af=0,mr=[],gr=0,to=null,Ui=1,Bi="";function za(t,e){Zo[el++]=af,Zo[el++]=sf,sf=t,af=e}function VT(t,e,n){mr[gr++]=Ui,mr[gr++]=Bi,mr[gr++]=to,to=t;var r=Ui;t=Bi;var i=32-Lr(r)-1;r&=~(1<<i),n+=1;var s=32-Lr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ui=1<<32-Lr(e)+i|n<<i|r,Bi=s+t}else Ui=1<<s|n<<i|r,Bi=t}function xv(t){t.return!==null&&(za(t,1),VT(t,1,0))}function Tv(t){for(;t===sf;)sf=Zo[--el],Zo[el]=null,af=Zo[--el],Zo[el]=null;for(;t===to;)to=mr[--gr],mr[gr]=null,Bi=mr[--gr],mr[gr]=null,Ui=mr[--gr],mr[gr]=null}var rr=null,nr=null,ht=!1,Ar=null;function zT(t,e){var n=_r(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rr=t,nr=ta(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rr=t,nr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=to!==null?{id:Ui,overflow:Bi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_r(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rr=t,nr=null,!0):!1;default:return!1}}function cp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dp(t){if(ht){var e=nr;if(e){var n=e;if(!mw(t,e)){if(cp(t))throw Error(Z(418));e=ta(n.nextSibling);var r=rr;e&&mw(t,e)?zT(r,n):(t.flags=t.flags&-4097|2,ht=!1,rr=t)}}else{if(cp(t))throw Error(Z(418));t.flags=t.flags&-4097|2,ht=!1,rr=t}}}function gw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rr=t}function nd(t){if(t!==rr)return!1;if(!ht)return gw(t),ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ap(t.type,t.memoizedProps)),e&&(e=nr)){if(cp(t))throw WT(),Error(Z(418));for(;e;)zT(t,e),e=ta(e.nextSibling)}if(gw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nr=ta(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nr=null}}else nr=rr?ta(t.stateNode.nextSibling):null;return!0}function WT(){for(var t=nr;t;)t=ta(t.nextSibling)}function pl(){nr=rr=null,ht=!1}function Sv(t){Ar===null?Ar=[t]:Ar.push(t)}var yM=as.ReactCurrentBatchConfig;function Xl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function rd(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pw(t){var e=t._init;return e(t._payload)}function UT(t){function e(b,S){if(t){var C=b.deletions;C===null?(b.deletions=[S],b.flags|=16):C.push(S)}}function n(b,S){if(!t)return null;for(;S!==null;)e(b,S),S=S.sibling;return null}function r(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function i(b,S){return b=sa(b,S),b.index=0,b.sibling=null,b}function s(b,S,C){return b.index=C,t?(C=b.alternate,C!==null?(C=C.index,C<S?(b.flags|=2,S):C):(b.flags|=2,S)):(b.flags|=1048576,S)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function u(b,S,C,j){return S===null||S.tag!==6?(S=Jm(C,b.mode,j),S.return=b,S):(S=i(S,C),S.return=b,S)}function c(b,S,C,j){var H=C.type;return H===qo?m(b,S,C.props.children,j,C.key):S!==null&&(S.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Us&&pw(H)===S.type)?(j=i(S,C.props),j.ref=Xl(b,S,C),j.return=b,j):(j=Fd(C.type,C.key,C.props,null,b.mode,j),j.ref=Xl(b,S,C),j.return=b,j)}function d(b,S,C,j){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=Zm(C,b.mode,j),S.return=b,S):(S=i(S,C.children||[]),S.return=b,S)}function m(b,S,C,j,H){return S===null||S.tag!==7?(S=Xa(C,b.mode,j,H),S.return=b,S):(S=i(S,C),S.return=b,S)}function g(b,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Jm(""+S,b.mode,C),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yc:return C=Fd(S.type,S.key,S.props,null,b.mode,C),C.ref=Xl(b,null,S),C.return=b,C;case Yo:return S=Zm(S,b.mode,C),S.return=b,S;case Us:var j=S._init;return g(b,j(S._payload),C)}if(gu(S)||Yl(S))return S=Xa(S,b.mode,C,null),S.return=b,S;rd(b,S)}return null}function _(b,S,C,j){var H=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return H!==null?null:u(b,S,""+C,j);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Yc:return C.key===H?c(b,S,C,j):null;case Yo:return C.key===H?d(b,S,C,j):null;case Us:return H=C._init,_(b,S,H(C._payload),j)}if(gu(C)||Yl(C))return H!==null?null:m(b,S,C,j,null);rd(b,C)}return null}function E(b,S,C,j,H){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(C)||null,u(S,b,""+j,H);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Yc:return b=b.get(j.key===null?C:j.key)||null,c(S,b,j,H);case Yo:return b=b.get(j.key===null?C:j.key)||null,d(S,b,j,H);case Us:var q=j._init;return E(b,S,C,q(j._payload),H)}if(gu(j)||Yl(j))return b=b.get(C)||null,m(S,b,j,H,null);rd(S,j)}return null}function O(b,S,C,j){for(var H=null,q=null,T=S,w=S=0,P=null;T!==null&&w<C.length;w++){T.index>w?(P=T,T=null):P=T.sibling;var x=_(b,T,C[w],j);if(x===null){T===null&&(T=P);break}t&&T&&x.alternate===null&&e(b,T),S=s(x,S,w),q===null?H=x:q.sibling=x,q=x,T=P}if(w===C.length)return n(b,T),ht&&za(b,w),H;if(T===null){for(;w<C.length;w++)T=g(b,C[w],j),T!==null&&(S=s(T,S,w),q===null?H=T:q.sibling=T,q=T);return ht&&za(b,w),H}for(T=r(b,T);w<C.length;w++)P=E(T,b,w,C[w],j),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?w:P.key),S=s(P,S,w),q===null?H=P:q.sibling=P,q=P);return t&&T.forEach(function(N){return e(b,N)}),ht&&za(b,w),H}function D(b,S,C,j){var H=Yl(C);if(typeof H!="function")throw Error(Z(150));if(C=H.call(C),C==null)throw Error(Z(151));for(var q=H=null,T=S,w=S=0,P=null,x=C.next();T!==null&&!x.done;w++,x=C.next()){T.index>w?(P=T,T=null):P=T.sibling;var N=_(b,T,x.value,j);if(N===null){T===null&&(T=P);break}t&&T&&N.alternate===null&&e(b,T),S=s(N,S,w),q===null?H=N:q.sibling=N,q=N,T=P}if(x.done)return n(b,T),ht&&za(b,w),H;if(T===null){for(;!x.done;w++,x=C.next())x=g(b,x.value,j),x!==null&&(S=s(x,S,w),q===null?H=x:q.sibling=x,q=x);return ht&&za(b,w),H}for(T=r(b,T);!x.done;w++,x=C.next())x=E(T,b,w,x.value,j),x!==null&&(t&&x.alternate!==null&&T.delete(x.key===null?w:x.key),S=s(x,S,w),q===null?H=x:q.sibling=x,q=x);return t&&T.forEach(function(F){return e(b,F)}),ht&&za(b,w),H}function A(b,S,C,j){if(typeof C=="object"&&C!==null&&C.type===qo&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Yc:e:{for(var H=C.key,q=S;q!==null;){if(q.key===H){if(H=C.type,H===qo){if(q.tag===7){n(b,q.sibling),S=i(q,C.props.children),S.return=b,b=S;break e}}else if(q.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Us&&pw(H)===q.type){n(b,q.sibling),S=i(q,C.props),S.ref=Xl(b,q,C),S.return=b,b=S;break e}n(b,q);break}else e(b,q);q=q.sibling}C.type===qo?(S=Xa(C.props.children,b.mode,j,C.key),S.return=b,b=S):(j=Fd(C.type,C.key,C.props,null,b.mode,j),j.ref=Xl(b,S,C),j.return=b,b=j)}return o(b);case Yo:e:{for(q=C.key;S!==null;){if(S.key===q)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){n(b,S.sibling),S=i(S,C.children||[]),S.return=b,b=S;break e}else{n(b,S);break}else e(b,S);S=S.sibling}S=Zm(C,b.mode,j),S.return=b,b=S}return o(b);case Us:return q=C._init,A(b,S,q(C._payload),j)}if(gu(C))return O(b,S,C,j);if(Yl(C))return D(b,S,C,j);rd(b,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,S!==null&&S.tag===6?(n(b,S.sibling),S=i(S,C),S.return=b,b=S):(n(b,S),S=Jm(C,b.mode,j),S.return=b,b=S),o(b)):n(b,S)}return A}var vl=UT(!0),BT=UT(!1),of=ya(null),lf=null,tl=null,Pv=null;function Dv(){Pv=tl=lf=null}function Iv(t){var e=of.current;ct(of),t._currentValue=e}function fp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ll(t,e){lf=t,Pv=tl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bn=!0),t.firstContext=null)}function wr(t){var e=t._currentValue;if(Pv!==t)if(t={context:t,memoizedValue:e,next:null},tl===null){if(lf===null)throw Error(Z(308));tl=t,lf.dependencies={lanes:0,firstContext:t}}else tl=tl.next=t;return e}var Ya=null;function Ov(t){Ya===null?Ya=[t]:Ya.push(t)}function $T(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ov(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zi(t,r)}function Zi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bs=!1;function Cv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function na(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zi(t,n)}return i=r.interleaved,i===null?(e.next=e,Ov(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zi(t,n)}function Cd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gv(t,n)}}function vw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function uf(t,e,n,r){var i=t.updateQueue;Bs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==o&&(u===null?m.firstBaseUpdate=d:u.next=d,m.lastBaseUpdate=c))}if(s!==null){var g=i.baseState;o=0,m=d=c=null,u=s;do{var _=u.lane,E=u.eventTime;if((r&_)===_){m!==null&&(m=m.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var O=t,D=u;switch(_=e,E=n,D.tag){case 1:if(O=D.payload,typeof O=="function"){g=O.call(E,g,_);break e}g=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=D.payload,_=typeof O=="function"?O.call(E,g,_):O,_==null)break e;g=_t({},g,_);break e;case 2:Bs=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[u]:_.push(u))}else E={eventTime:E,lane:_,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(d=m=E,c=g):m=m.next=E,o|=_;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;_=u,u=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(m===null&&(c=g),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ro|=o,t.lanes=o,t.memoizedState=g}}function _w(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var pc={},li=ya(pc),Qu=ya(pc),Ku=ya(pc);function qa(t){if(t===pc)throw Error(Z(174));return t}function Mv(t,e){switch(st(Ku,e),st(Qu,t),st(li,pc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yg(e,t)}ct(li),st(li,e)}function _l(){ct(li),ct(Qu),ct(Ku)}function YT(t){qa(Ku.current);var e=qa(li.current),n=Yg(e,t.type);e!==n&&(st(Qu,t),st(li,n))}function Nv(t){Qu.current===t&&(ct(li),ct(Qu))}var pt=ya(0);function cf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ym=[];function Rv(){for(var t=0;t<Ym.length;t++)Ym[t]._workInProgressVersionPrimary=null;Ym.length=0}var Md=as.ReactCurrentDispatcher,qm=as.ReactCurrentBatchConfig,no=0,vt=null,zt=null,Kt=null,df=!1,Iu=!1,Xu=0,wM=0;function cn(){throw Error(Z(321))}function Av(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zr(t[n],e[n]))return!1;return!0}function jv(t,e,n,r,i,s){if(no=s,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Md.current=t===null||t.memoizedState===null?TM:SM,t=n(r,i),Iu){s=0;do{if(Iu=!1,Xu=0,25<=s)throw Error(Z(301));s+=1,Kt=zt=null,e.updateQueue=null,Md.current=PM,t=n(r,i)}while(Iu)}if(Md.current=ff,e=zt!==null&&zt.next!==null,no=0,Kt=zt=vt=null,df=!1,e)throw Error(Z(300));return t}function Fv(){var t=Xu!==0;return Xu=0,t}function si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?vt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function Er(){if(zt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=zt.next;var e=Kt===null?vt.memoizedState:Kt.next;if(e!==null)Kt=e,zt=t;else{if(t===null)throw Error(Z(310));zt=t,t={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Kt===null?vt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function Ju(t,e){return typeof e=="function"?e(t):e}function Gm(t){var e=Er(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=zt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,c=null,d=s;do{var m=d.lane;if((no&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var g={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=g,o=r):c=c.next=g,vt.lanes|=m,ro|=m}d=d.next}while(d!==null&&d!==s);c===null?o=r:c.next=u,zr(r,e.memoizedState)||(Bn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,vt.lanes|=s,ro|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qm(t){var e=Er(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);zr(s,e.memoizedState)||(Bn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function qT(){}function GT(t,e){var n=vt,r=Er(),i=e(),s=!zr(r.memoizedState,i);if(s&&(r.memoizedState=i,Bn=!0),r=r.queue,Lv(XT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,Zu(9,KT.bind(null,n,r,i,e),void 0,null),Xt===null)throw Error(Z(349));no&30||QT(n,e,i)}return i}function QT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KT(t,e,n,r){e.value=n,e.getSnapshot=r,JT(e)&&ZT(t)}function XT(t,e,n){return n(function(){JT(e)&&ZT(t)})}function JT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zr(t,n)}catch{return!0}}function ZT(t){var e=Zi(t,1);e!==null&&kr(e,t,1,-1)}function yw(t){var e=si();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:t},e.queue=t,t=t.dispatch=xM.bind(null,vt,t),[e.memoizedState,t]}function Zu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eS(){return Er().memoizedState}function Nd(t,e,n,r){var i=si();vt.flags|=t,i.memoizedState=Zu(1|e,n,void 0,r===void 0?null:r)}function Qf(t,e,n,r){var i=Er();r=r===void 0?null:r;var s=void 0;if(zt!==null){var o=zt.memoizedState;if(s=o.destroy,r!==null&&Av(r,o.deps)){i.memoizedState=Zu(e,n,s,r);return}}vt.flags|=t,i.memoizedState=Zu(1|e,n,s,r)}function ww(t,e){return Nd(8390656,8,t,e)}function Lv(t,e){return Qf(2048,8,t,e)}function tS(t,e){return Qf(4,2,t,e)}function nS(t,e){return Qf(4,4,t,e)}function rS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iS(t,e,n){return n=n!=null?n.concat([t]):null,Qf(4,4,rS.bind(null,e,t),n)}function kv(){}function sS(t,e){var n=Er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Av(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aS(t,e){var n=Er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Av(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oS(t,e,n){return no&21?(zr(n,e)||(n=fT(),vt.lanes|=n,ro|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bn=!0),t.memoizedState=n)}function EM(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=qm.transition;qm.transition={};try{t(!1),e()}finally{Qe=n,qm.transition=r}}function lS(){return Er().memoizedState}function bM(t,e,n){var r=ia(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uS(t))cS(e,n);else if(n=$T(t,e,n,r),n!==null){var i=In();kr(n,t,r,i),dS(n,e,r)}}function xM(t,e,n){var r=ia(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uS(t))cS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,zr(u,o)){var c=e.interleaved;c===null?(i.next=i,Ov(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=$T(t,e,i,r),n!==null&&(i=In(),kr(n,t,r,i),dS(n,e,r))}}function uS(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function cS(t,e){Iu=df=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gv(t,n)}}var ff={readContext:wr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},TM={readContext:wr,useCallback:function(t,e){return si().memoizedState=[t,e===void 0?null:e],t},useContext:wr,useEffect:ww,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nd(4194308,4,rS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nd(4,2,t,e)},useMemo:function(t,e){var n=si();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=si();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bM.bind(null,vt,t),[r.memoizedState,t]},useRef:function(t){var e=si();return t={current:t},e.memoizedState=t},useState:yw,useDebugValue:kv,useDeferredValue:function(t){return si().memoizedState=t},useTransition:function(){var t=yw(!1),e=t[0];return t=EM.bind(null,t[1]),si().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vt,i=si();if(ht){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),Xt===null)throw Error(Z(349));no&30||QT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ww(XT.bind(null,r,s,t),[t]),r.flags|=2048,Zu(9,KT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=si(),e=Xt.identifierPrefix;if(ht){var n=Bi,r=Ui;n=(r&~(1<<32-Lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SM={readContext:wr,useCallback:sS,useContext:wr,useEffect:Lv,useImperativeHandle:iS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:aS,useReducer:Gm,useRef:eS,useState:function(){return Gm(Ju)},useDebugValue:kv,useDeferredValue:function(t){var e=Er();return oS(e,zt.memoizedState,t)},useTransition:function(){var t=Gm(Ju)[0],e=Er().memoizedState;return[t,e]},useMutableSource:qT,useSyncExternalStore:GT,useId:lS,unstable_isNewReconciler:!1},PM={readContext:wr,useCallback:sS,useContext:wr,useEffect:Lv,useImperativeHandle:iS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:aS,useReducer:Qm,useRef:eS,useState:function(){return Qm(Ju)},useDebugValue:kv,useDeferredValue:function(t){var e=Er();return zt===null?e.memoizedState=t:oS(e,zt.memoizedState,t)},useTransition:function(){var t=Qm(Ju)[0],e=Er().memoizedState;return[t,e]},useMutableSource:qT,useSyncExternalStore:GT,useId:lS,unstable_isNewReconciler:!1};function Nr(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function hp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kf={isMounted:function(t){return(t=t._reactInternals)?fo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=In(),i=ia(t),s=Qi(r,i);s.payload=e,n!=null&&(s.callback=n),e=na(t,s,i),e!==null&&(kr(e,t,i,r),Cd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=In(),i=ia(t),s=Qi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=na(t,s,i),e!==null&&(kr(e,t,i,r),Cd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=In(),r=ia(t),i=Qi(n,r);i.tag=2,e!=null&&(i.callback=e),e=na(t,i,r),e!==null&&(kr(e,t,r,n),Cd(e,t,r))}};function Ew(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Hu(n,r)||!Hu(i,s):!0}function fS(t,e,n){var r=!1,i=fa,s=e.contextType;return typeof s=="object"&&s!==null?s=wr(s):(i=Hn(e)?eo:pn.current,r=e.contextTypes,s=(r=r!=null)?gl(t,i):fa),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function bw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kf.enqueueReplaceState(e,e.state,null)}function mp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Cv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wr(s):(s=Hn(e)?eo:pn.current,i.context=gl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kf.enqueueReplaceState(i,i.state,null),uf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yl(t,e){try{var n="",r=e;do n+=eC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Km(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DM=typeof WeakMap=="function"?WeakMap:Map;function hS(t,e,n){n=Qi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mf||(mf=!0,Sp=r),gp(t,e)},n}function mS(t,e,n){n=Qi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){gp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){gp(t,e),typeof r!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=WM.bind(null,t,e,n),e.then(t,t))}function Tw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qi(-1,1),e.tag=2,na(n,e,1))),n.lanes|=1),t)}var IM=as.ReactCurrentOwner,Bn=!1;function Sn(t,e,n,r){e.child=t===null?BT(e,null,n,r):vl(e,t.child,n,r)}function Pw(t,e,n,r,i){n=n.render;var s=e.ref;return ll(e,i),r=jv(t,e,n,r,s,i),n=Fv(),t!==null&&!Bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,es(t,e,i)):(ht&&n&&xv(e),e.flags|=1,Sn(t,e,r,i),e.child)}function Dw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Yv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,gS(t,e,s,r,i)):(t=Fd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hu,n(o,r)&&t.ref===e.ref)return es(t,e,i)}return e.flags|=1,t=sa(s,r),t.ref=e.ref,t.return=e,e.child=t}function gS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Hu(s,r)&&t.ref===e.ref)if(Bn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Bn=!0);else return e.lanes=t.lanes,es(t,e,i)}return pp(t,e,n,r,i)}function pS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(rl,tr),tr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(rl,tr),tr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,st(rl,tr),tr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,st(rl,tr),tr|=r;return Sn(t,e,i,n),e.child}function vS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pp(t,e,n,r,i){var s=Hn(n)?eo:pn.current;return s=gl(e,s),ll(e,i),n=jv(t,e,n,r,s,i),r=Fv(),t!==null&&!Bn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,es(t,e,i)):(ht&&r&&xv(e),e.flags|=1,Sn(t,e,n,i),e.child)}function Iw(t,e,n,r,i){if(Hn(n)){var s=!0;rf(e)}else s=!1;if(ll(e,i),e.stateNode===null)Rd(t,e),fS(e,n,r),mp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=wr(d):(d=Hn(n)?eo:pn.current,d=gl(e,d));var m=n.getDerivedStateFromProps,g=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||c!==d)&&bw(e,o,r,d),Bs=!1;var _=e.memoizedState;o.state=_,uf(e,r,o,i),c=e.memoizedState,u!==r||_!==c||$n.current||Bs?(typeof m=="function"&&(hp(e,n,m,r),c=e.memoizedState),(u=Bs||Ew(e,n,u,r,_,c,d))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,HT(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Nr(e.type,u),o.props=d,g=e.pendingProps,_=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=wr(c):(c=Hn(n)?eo:pn.current,c=gl(e,c));var E=n.getDerivedStateFromProps;(m=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==g||_!==c)&&bw(e,o,r,c),Bs=!1,_=e.memoizedState,o.state=_,uf(e,r,o,i);var O=e.memoizedState;u!==g||_!==O||$n.current||Bs?(typeof E=="function"&&(hp(e,n,E,r),O=e.memoizedState),(d=Bs||Ew(e,n,d,r,_,O,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,O,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,O,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=O),o.props=r,o.state=O,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return vp(t,e,n,r,s,i)}function vp(t,e,n,r,i,s){vS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&hw(e,n,!1),es(t,e,s);r=e.stateNode,IM.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=vl(e,t.child,null,s),e.child=vl(e,null,u,s)):Sn(t,e,u,s),e.memoizedState=r.state,i&&hw(e,n,!0),e.child}function _S(t){var e=t.stateNode;e.pendingContext?fw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fw(t,e.context,!1),Mv(t,e.containerInfo)}function Ow(t,e,n,r,i){return pl(),Sv(i),e.flags|=256,Sn(t,e,n,r),e.child}var _p={dehydrated:null,treeContext:null,retryLane:0};function yp(t){return{baseLanes:t,cachePool:null,transitions:null}}function yS(t,e,n){var r=e.pendingProps,i=pt.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),st(pt,i&1),t===null)return dp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Zf(o,r,0,null),t=Xa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yp(n),e.memoizedState=_p,t):Vv(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return OM(t,e,o,r,u,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=sa(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=sa(u,s):(s=Xa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=_p,r}return s=t.child,t=s.sibling,r=sa(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vv(t,e){return e=Zf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function id(t,e,n,r){return r!==null&&Sv(r),vl(e,t.child,null,n),t=Vv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OM(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Km(Error(Z(422))),id(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Zf({mode:"visible",children:r.children},i,0,null),s=Xa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&vl(e,t.child,null,o),e.child.memoizedState=yp(o),e.memoizedState=_p,s);if(!(e.mode&1))return id(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(Z(419)),r=Km(s,r,void 0),id(t,e,o,r)}if(u=(o&t.childLanes)!==0,Bn||u){if(r=Xt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zi(t,i),kr(r,t,i,-1))}return Hv(),r=Km(Error(Z(421))),id(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,nr=ta(i.nextSibling),rr=e,ht=!0,Ar=null,t!==null&&(mr[gr++]=Ui,mr[gr++]=Bi,mr[gr++]=to,Ui=t.id,Bi=t.overflow,to=e),e=Vv(e,r.children),e.flags|=4096,e)}function Cw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fp(t.return,e,n)}function Xm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function wS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Sn(t,e,r.children,n),r=pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cw(t,n,e);else if(t.tag===19)Cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(st(pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xm(e,!0,n,null,s);break;case"together":Xm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function es(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ro|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=sa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CM(t,e,n){switch(e.tag){case 3:_S(e),pl();break;case 5:YT(e);break;case 1:Hn(e.type)&&rf(e);break;case 4:Mv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;st(of,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(st(pt,pt.current&1),e.flags|=128,null):n&e.child.childLanes?yS(t,e,n):(st(pt,pt.current&1),t=es(t,e,n),t!==null?t.sibling:null);st(pt,pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(pt,pt.current),r)break;return null;case 22:case 23:return e.lanes=0,pS(t,e,n)}return es(t,e,n)}var ES,wp,bS,xS;ES=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wp=function(){};bS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qa(li.current);var s=null;switch(n){case"input":i=Ug(t,i),r=Ug(t,r),s=[];break;case"select":i=_t({},i,{value:void 0}),r=_t({},r,{value:void 0}),s=[];break;case"textarea":i=Hg(t,i),r=Hg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tf)}qg(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ku.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(u=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ku.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ot("scroll",t),s||u===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};xS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jl(t,e){if(!ht)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function MM(t,e,n){var r=e.pendingProps;switch(Tv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(e),null;case 1:return Hn(e.type)&&nf(),dn(e),null;case 3:return r=e.stateNode,_l(),ct($n),ct(pn),Rv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(Ip(Ar),Ar=null))),wp(t,e),dn(e),null;case 5:Nv(e);var i=qa(Ku.current);if(n=e.type,t!==null&&e.stateNode!=null)bS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return dn(e),null}if(t=qa(li.current),nd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ai]=e,r[Gu]=s,t=(e.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(i=0;i<vu.length;i++)ot(vu[i],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":Vy(r,s),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ot("invalid",r);break;case"textarea":Wy(r,s),ot("invalid",r)}qg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&td(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&td(r.textContent,u,t),i=["children",""+u]):ku.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&ot("scroll",r)}switch(n){case"input":qc(r),zy(r,s,!0);break;case"textarea":qc(r),Uy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=tf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ai]=e,t[Gu]=r,ES(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gg(n,r),n){case"dialog":ot("cancel",t),ot("close",t),i=r;break;case"iframe":case"object":case"embed":ot("load",t),i=r;break;case"video":case"audio":for(i=0;i<vu.length;i++)ot(vu[i],t);i=r;break;case"source":ot("error",t),i=r;break;case"img":case"image":case"link":ot("error",t),ot("load",t),i=r;break;case"details":ot("toggle",t),i=r;break;case"input":Vy(t,r),i=Ug(t,r),ot("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_t({},r,{value:void 0}),ot("invalid",t);break;case"textarea":Wy(t,r),i=Hg(t,r),ot("invalid",t);break;default:i=r}qg(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?eT(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Jx(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vu(t,c):typeof c=="number"&&Vu(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ku.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ot("scroll",t):c!=null&&uv(t,s,c,o))}switch(n){case"input":qc(t),zy(t,r,!1);break;case"textarea":qc(t),Uy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+da(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?il(t,!!r.multiple,s,!1):r.defaultValue!=null&&il(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dn(e),null;case 6:if(t&&e.stateNode!=null)xS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=qa(Ku.current),qa(li.current),nd(e)){if(r=e.stateNode,n=e.memoizedProps,r[ai]=e,(s=r.nodeValue!==n)&&(t=rr,t!==null))switch(t.tag){case 3:td(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&td(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ai]=e,e.stateNode=r}return dn(e),null;case 13:if(ct(pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ht&&nr!==null&&e.mode&1&&!(e.flags&128))WT(),pl(),e.flags|=98560,s=!1;else if(s=nd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[ai]=e}else pl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dn(e),s=!1}else Ar!==null&&(Ip(Ar),Ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Ut===0&&(Ut=3):Hv())),e.updateQueue!==null&&(e.flags|=4),dn(e),null);case 4:return _l(),wp(t,e),t===null&&Yu(e.stateNode.containerInfo),dn(e),null;case 10:return Iv(e.type._context),dn(e),null;case 17:return Hn(e.type)&&nf(),dn(e),null;case 19:if(ct(pt),s=e.memoizedState,s===null)return dn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Jl(s,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=cf(t),o!==null){for(e.flags|=128,Jl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return st(pt,pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&It()>wl&&(e.flags|=128,r=!0,Jl(s,!1),e.lanes=4194304)}else{if(!r)if(t=cf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ht)return dn(e),null}else 2*It()-s.renderingStartTime>wl&&n!==1073741824&&(e.flags|=128,r=!0,Jl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=It(),e.sibling=null,n=pt.current,st(pt,r?n&1|2:n&1),e):(dn(e),null);case 22:case 23:return $v(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tr&1073741824&&(dn(e),e.subtreeFlags&6&&(e.flags|=8192)):dn(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function NM(t,e){switch(Tv(e),e.tag){case 1:return Hn(e.type)&&nf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _l(),ct($n),ct(pn),Rv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nv(e),null;case 13:if(ct(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));pl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(pt),null;case 4:return _l(),null;case 10:return Iv(e.type._context),null;case 22:case 23:return $v(),null;case 24:return null;default:return null}}var sd=!1,mn=!1,RM=typeof WeakSet=="function"?WeakSet:Set,se=null;function nl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(t,e,r)}else n.current=null}function Ep(t,e,n){try{n()}catch(r){bt(t,e,r)}}var Mw=!1;function AM(t,e){if(ip=Jd,t=IT(),bv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,c=-1,d=0,m=0,g=t,_=null;t:for(;;){for(var E;g!==n||i!==0&&g.nodeType!==3||(u=o+i),g!==s||r!==0&&g.nodeType!==3||(c=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(E=g.firstChild)!==null;)_=g,g=E;for(;;){if(g===t)break t;if(_===n&&++d===i&&(u=o),_===s&&++m===r&&(c=o),(E=g.nextSibling)!==null)break;g=_,_=g.parentNode}g=E}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(sp={focusedElem:t,selectionRange:n},Jd=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var O=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var D=O.memoizedProps,A=O.memoizedState,b=e.stateNode,S=b.getSnapshotBeforeUpdate(e.elementType===e.type?D:Nr(e.type,D),A);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(j){bt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return O=Mw,Mw=!1,O}function Ou(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ep(e,n,s)}i=i.next}while(i!==r)}}function Xf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TS(t){var e=t.alternate;e!==null&&(t.alternate=null,TS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ai],delete e[Gu],delete e[lp],delete e[pM],delete e[vM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function SS(t){return t.tag===5||t.tag===3||t.tag===4}function Nw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||SS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tf));else if(r!==4&&(t=t.child,t!==null))for(xp(t,e,n),t=t.sibling;t!==null;)xp(t,e,n),t=t.sibling}function Tp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tp(t,e,n),t=t.sibling;t!==null;)Tp(t,e,n),t=t.sibling}var tn=null,Rr=!1;function js(t,e,n){for(n=n.child;n!==null;)PS(t,e,n),n=n.sibling}function PS(t,e,n){if(oi&&typeof oi.onCommitFiberUnmount=="function")try{oi.onCommitFiberUnmount(Bf,n)}catch{}switch(n.tag){case 5:mn||nl(n,e);case 6:var r=tn,i=Rr;tn=null,js(t,e,n),tn=r,Rr=i,tn!==null&&(Rr?(t=tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tn.removeChild(n.stateNode));break;case 18:tn!==null&&(Rr?(t=tn,n=n.stateNode,t.nodeType===8?$m(t.parentNode,n):t.nodeType===1&&$m(t,n),Bu(t)):$m(tn,n.stateNode));break;case 4:r=tn,i=Rr,tn=n.stateNode.containerInfo,Rr=!0,js(t,e,n),tn=r,Rr=i;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ep(n,e,o),i=i.next}while(i!==r)}js(t,e,n);break;case 1:if(!mn&&(nl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){bt(n,e,u)}js(t,e,n);break;case 21:js(t,e,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,js(t,e,n),mn=r):js(t,e,n);break;default:js(t,e,n)}}function Rw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RM),e.forEach(function(r){var i=BM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:tn=u.stateNode,Rr=!1;break e;case 3:tn=u.stateNode.containerInfo,Rr=!0;break e;case 4:tn=u.stateNode.containerInfo,Rr=!0;break e}u=u.return}if(tn===null)throw Error(Z(160));PS(s,o,i),tn=null,Rr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){bt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DS(e,t),e=e.sibling}function DS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mr(e,t),ni(t),r&4){try{Ou(3,t,t.return),Xf(3,t)}catch(D){bt(t,t.return,D)}try{Ou(5,t,t.return)}catch(D){bt(t,t.return,D)}}break;case 1:Mr(e,t),ni(t),r&512&&n!==null&&nl(n,n.return);break;case 5:if(Mr(e,t),ni(t),r&512&&n!==null&&nl(n,n.return),t.flags&32){var i=t.stateNode;try{Vu(i,"")}catch(D){bt(t,t.return,D)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Qx(i,s),Gg(u,o);var d=Gg(u,s);for(o=0;o<c.length;o+=2){var m=c[o],g=c[o+1];m==="style"?eT(i,g):m==="dangerouslySetInnerHTML"?Jx(i,g):m==="children"?Vu(i,g):uv(i,m,g,d)}switch(u){case"input":Bg(i,s);break;case"textarea":Kx(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?il(i,!!s.multiple,E,!1):_!==!!s.multiple&&(s.defaultValue!=null?il(i,!!s.multiple,s.defaultValue,!0):il(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gu]=s}catch(D){bt(t,t.return,D)}}break;case 6:if(Mr(e,t),ni(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(D){bt(t,t.return,D)}}break;case 3:if(Mr(e,t),ni(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bu(e.containerInfo)}catch(D){bt(t,t.return,D)}break;case 4:Mr(e,t),ni(t);break;case 13:Mr(e,t),ni(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Uv=It())),r&4&&Rw(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(mn=(d=mn)||m,Mr(e,t),mn=d):Mr(e,t),ni(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!m&&t.mode&1)for(se=t,m=t.child;m!==null;){for(g=se=m;se!==null;){switch(_=se,E=_.child,_.tag){case 0:case 11:case 14:case 15:Ou(4,_,_.return);break;case 1:nl(_,_.return);var O=_.stateNode;if(typeof O.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,O.props=e.memoizedProps,O.state=e.memoizedState,O.componentWillUnmount()}catch(D){bt(r,n,D)}}break;case 5:nl(_,_.return);break;case 22:if(_.memoizedState!==null){jw(g);continue}}E!==null?(E.return=_,se=E):jw(g)}m=m.sibling}e:for(m=null,g=t;;){if(g.tag===5){if(m===null){m=g;try{i=g.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Zx("display",o))}catch(D){bt(t,t.return,D)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(D){bt(t,t.return,D)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Mr(e,t),ni(t),r&4&&Rw(t);break;case 21:break;default:Mr(e,t),ni(t)}}function ni(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(SS(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vu(i,""),r.flags&=-33);var s=Nw(t);Tp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=Nw(t);xp(t,u,o);break;default:throw Error(Z(161))}}catch(c){bt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jM(t,e,n){se=t,IS(t)}function IS(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||sd;if(!o){var u=i.alternate,c=u!==null&&u.memoizedState!==null||mn;u=sd;var d=mn;if(sd=o,(mn=c)&&!d)for(se=i;se!==null;)o=se,c=o.child,o.tag===22&&o.memoizedState!==null?Fw(i):c!==null?(c.return=o,se=c):Fw(i);for(;s!==null;)se=s,IS(s),s=s.sibling;se=i,sd=u,mn=d}Aw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):Aw(t)}}function Aw(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mn||Xf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_w(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_w(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&Bu(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}mn||e.flags&512&&bp(e)}catch(_){bt(e,e.return,_)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function jw(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function Fw(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xf(4,e)}catch(c){bt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){bt(e,i,c)}}var s=e.return;try{bp(e)}catch(c){bt(e,s,c)}break;case 5:var o=e.return;try{bp(e)}catch(c){bt(e,o,c)}}}catch(c){bt(e,e.return,c)}if(e===t){se=null;break}var u=e.sibling;if(u!==null){u.return=e.return,se=u;break}se=e.return}}var FM=Math.ceil,hf=as.ReactCurrentDispatcher,zv=as.ReactCurrentOwner,yr=as.ReactCurrentBatchConfig,Ue=0,Xt=null,kt=null,sn=0,tr=0,rl=ya(0),Ut=0,ec=null,ro=0,Jf=0,Wv=0,Cu=null,Un=null,Uv=0,wl=1/0,ki=null,mf=!1,Sp=null,ra=null,ad=!1,Ks=null,gf=0,Mu=0,Pp=null,Ad=-1,jd=0;function In(){return Ue&6?It():Ad!==-1?Ad:Ad=It()}function ia(t){return t.mode&1?Ue&2&&sn!==0?sn&-sn:yM.transition!==null?(jd===0&&(jd=fT()),jd):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:yT(t.type)),t):1}function kr(t,e,n,r){if(50<Mu)throw Mu=0,Pp=null,Error(Z(185));hc(t,n,r),(!(Ue&2)||t!==Xt)&&(t===Xt&&(!(Ue&2)&&(Jf|=n),Ut===4&&Hs(t,sn)),Yn(t,r),n===1&&Ue===0&&!(e.mode&1)&&(wl=It()+500,Gf&&wa()))}function Yn(t,e){var n=t.callbackNode;yC(t,e);var r=Xd(t,t===Xt?sn:0);if(r===0)n!==null&&Hy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Hy(n),e===1)t.tag===0?_M(Lw.bind(null,t)):kT(Lw.bind(null,t)),mM(function(){!(Ue&6)&&wa()}),n=null;else{switch(hT(r)){case 1:n=mv;break;case 4:n=cT;break;case 16:n=Kd;break;case 536870912:n=dT;break;default:n=Kd}n=FS(n,OS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OS(t,e){if(Ad=-1,jd=0,Ue&6)throw Error(Z(327));var n=t.callbackNode;if(ul()&&t.callbackNode!==n)return null;var r=Xd(t,t===Xt?sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pf(t,r);else{e=r;var i=Ue;Ue|=2;var s=MS();(Xt!==t||sn!==e)&&(ki=null,wl=It()+500,Ka(t,e));do try{VM();break}catch(u){CS(t,u)}while(!0);Dv(),hf.current=s,Ue=i,kt!==null?e=0:(Xt=null,sn=0,e=Ut)}if(e!==0){if(e===2&&(i=Zg(t),i!==0&&(r=i,e=Dp(t,i))),e===1)throw n=ec,Ka(t,0),Hs(t,r),Yn(t,It()),n;if(e===6)Hs(t,r);else{if(i=t.current.alternate,!(r&30)&&!LM(i)&&(e=pf(t,r),e===2&&(s=Zg(t),s!==0&&(r=s,e=Dp(t,s))),e===1))throw n=ec,Ka(t,0),Hs(t,r),Yn(t,It()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Wa(t,Un,ki);break;case 3:if(Hs(t,r),(r&130023424)===r&&(e=Uv+500-It(),10<e)){if(Xd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){In(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=op(Wa.bind(null,t,Un,ki),e);break}Wa(t,Un,ki);break;case 4:if(Hs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Lr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FM(r/1960))-r,10<r){t.timeoutHandle=op(Wa.bind(null,t,Un,ki),r);break}Wa(t,Un,ki);break;case 5:Wa(t,Un,ki);break;default:throw Error(Z(329))}}}return Yn(t,It()),t.callbackNode===n?OS.bind(null,t):null}function Dp(t,e){var n=Cu;return t.current.memoizedState.isDehydrated&&(Ka(t,e).flags|=256),t=pf(t,e),t!==2&&(e=Un,Un=n,e!==null&&Ip(e)),t}function Ip(t){Un===null?Un=t:Un.push.apply(Un,t)}function LM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!zr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hs(t,e){for(e&=~Wv,e&=~Jf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Lr(e),r=1<<n;t[n]=-1,e&=~r}}function Lw(t){if(Ue&6)throw Error(Z(327));ul();var e=Xd(t,0);if(!(e&1))return Yn(t,It()),null;var n=pf(t,e);if(t.tag!==0&&n===2){var r=Zg(t);r!==0&&(e=r,n=Dp(t,r))}if(n===1)throw n=ec,Ka(t,0),Hs(t,e),Yn(t,It()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wa(t,Un,ki),Yn(t,It()),null}function Bv(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(wl=It()+500,Gf&&wa())}}function io(t){Ks!==null&&Ks.tag===0&&!(Ue&6)&&ul();var e=Ue;Ue|=1;var n=yr.transition,r=Qe;try{if(yr.transition=null,Qe=1,t)return t()}finally{Qe=r,yr.transition=n,Ue=e,!(Ue&6)&&wa()}}function $v(){tr=rl.current,ct(rl)}function Ka(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hM(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(Tv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nf();break;case 3:_l(),ct($n),ct(pn),Rv();break;case 5:Nv(r);break;case 4:_l();break;case 13:ct(pt);break;case 19:ct(pt);break;case 10:Iv(r.type._context);break;case 22:case 23:$v()}n=n.return}if(Xt=t,kt=t=sa(t.current,null),sn=tr=e,Ut=0,ec=null,Wv=Jf=ro=0,Un=Cu=null,Ya!==null){for(e=0;e<Ya.length;e++)if(n=Ya[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ya=null}return t}function CS(t,e){do{var n=kt;try{if(Dv(),Md.current=ff,df){for(var r=vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}df=!1}if(no=0,Kt=zt=vt=null,Iu=!1,Xu=0,zv.current=null,n===null||n.return===null){Ut=1,ec=e,kt=null;break}e:{var s=t,o=n.return,u=n,c=e;if(e=sn,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=u,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var _=m.alternate;_?(m.updateQueue=_.updateQueue,m.memoizedState=_.memoizedState,m.lanes=_.lanes):(m.updateQueue=null,m.memoizedState=null)}var E=Tw(o);if(E!==null){E.flags&=-257,Sw(E,o,u,s,e),E.mode&1&&xw(s,d,e),e=E,c=d;var O=e.updateQueue;if(O===null){var D=new Set;D.add(c),e.updateQueue=D}else O.add(c);break e}else{if(!(e&1)){xw(s,d,e),Hv();break e}c=Error(Z(426))}}else if(ht&&u.mode&1){var A=Tw(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Sw(A,o,u,s,e),Sv(yl(c,u));break e}}s=c=yl(c,u),Ut!==4&&(Ut=2),Cu===null?Cu=[s]:Cu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=hS(s,c,e);vw(s,b);break e;case 1:u=c;var S=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ra===null||!ra.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=mS(s,u,e);vw(s,j);break e}}s=s.return}while(s!==null)}RS(n)}catch(H){e=H,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function MS(){var t=hf.current;return hf.current=ff,t===null?ff:t}function Hv(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Xt===null||!(ro&268435455)&&!(Jf&268435455)||Hs(Xt,sn)}function pf(t,e){var n=Ue;Ue|=2;var r=MS();(Xt!==t||sn!==e)&&(ki=null,Ka(t,e));do try{kM();break}catch(i){CS(t,i)}while(!0);if(Dv(),Ue=n,hf.current=r,kt!==null)throw Error(Z(261));return Xt=null,sn=0,Ut}function kM(){for(;kt!==null;)NS(kt)}function VM(){for(;kt!==null&&!cC();)NS(kt)}function NS(t){var e=jS(t.alternate,t,tr);t.memoizedProps=t.pendingProps,e===null?RS(t):kt=e,zv.current=null}function RS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NM(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ut=6,kt=null;return}}else if(n=MM(n,e,tr),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);Ut===0&&(Ut=5)}function Wa(t,e,n){var r=Qe,i=yr.transition;try{yr.transition=null,Qe=1,zM(t,e,n,r)}finally{yr.transition=i,Qe=r}return null}function zM(t,e,n,r){do ul();while(Ks!==null);if(Ue&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wC(t,s),t===Xt&&(kt=Xt=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ad||(ad=!0,FS(Kd,function(){return ul(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yr.transition,yr.transition=null;var o=Qe;Qe=1;var u=Ue;Ue|=4,zv.current=null,AM(t,n),DS(n,t),aM(sp),Jd=!!ip,sp=ip=null,t.current=n,jM(n),dC(),Ue=u,Qe=o,yr.transition=s}else t.current=n;if(ad&&(ad=!1,Ks=t,gf=i),s=t.pendingLanes,s===0&&(ra=null),mC(n.stateNode),Yn(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(mf)throw mf=!1,t=Sp,Sp=null,t;return gf&1&&t.tag!==0&&ul(),s=t.pendingLanes,s&1?t===Pp?Mu++:(Mu=0,Pp=t):Mu=0,wa(),null}function ul(){if(Ks!==null){var t=hT(gf),e=yr.transition,n=Qe;try{if(yr.transition=null,Qe=16>t?16:t,Ks===null)var r=!1;else{if(t=Ks,Ks=null,gf=0,Ue&6)throw Error(Z(331));var i=Ue;for(Ue|=4,se=t.current;se!==null;){var s=se,o=s.child;if(se.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(se=d;se!==null;){var m=se;switch(m.tag){case 0:case 11:case 15:Ou(8,m,s)}var g=m.child;if(g!==null)g.return=m,se=g;else for(;se!==null;){m=se;var _=m.sibling,E=m.return;if(TS(m),m===d){se=null;break}if(_!==null){_.return=E,se=_;break}se=E}}}var O=s.alternate;if(O!==null){var D=O.child;if(D!==null){O.child=null;do{var A=D.sibling;D.sibling=null,D=A}while(D!==null)}}se=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,se=o;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ou(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,se=b;break e}se=s.return}}var S=t.current;for(se=S;se!==null;){o=se;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,se=C;else e:for(o=S;se!==null;){if(u=se,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Xf(9,u)}}catch(H){bt(u,u.return,H)}if(u===o){se=null;break e}var j=u.sibling;if(j!==null){j.return=u.return,se=j;break e}se=u.return}}if(Ue=i,wa(),oi&&typeof oi.onPostCommitFiberRoot=="function")try{oi.onPostCommitFiberRoot(Bf,t)}catch{}r=!0}return r}finally{Qe=n,yr.transition=e}}return!1}function kw(t,e,n){e=yl(n,e),e=hS(t,e,1),t=na(t,e,1),e=In(),t!==null&&(hc(t,1,e),Yn(t,e))}function bt(t,e,n){if(t.tag===3)kw(t,t,n);else for(;e!==null;){if(e.tag===3){kw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ra===null||!ra.has(r))){t=yl(n,t),t=mS(e,t,1),e=na(e,t,1),t=In(),e!==null&&(hc(e,1,t),Yn(e,t));break}}e=e.return}}function WM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=In(),t.pingedLanes|=t.suspendedLanes&n,Xt===t&&(sn&n)===n&&(Ut===4||Ut===3&&(sn&130023424)===sn&&500>It()-Uv?Ka(t,0):Wv|=n),Yn(t,e)}function AS(t,e){e===0&&(t.mode&1?(e=Kc,Kc<<=1,!(Kc&130023424)&&(Kc=4194304)):e=1);var n=In();t=Zi(t,e),t!==null&&(hc(t,e,n),Yn(t,n))}function UM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),AS(t,n)}function BM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),AS(t,n)}var jS;jS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$n.current)Bn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bn=!1,CM(t,e,n);Bn=!!(t.flags&131072)}else Bn=!1,ht&&e.flags&1048576&&VT(e,af,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rd(t,e),t=e.pendingProps;var i=gl(e,pn.current);ll(e,n),i=jv(null,e,r,t,i,n);var s=Fv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hn(r)?(s=!0,rf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cv(e),i.updater=Kf,e.stateNode=i,i._reactInternals=e,mp(e,r,t,n),e=vp(null,e,r,!0,s,n)):(e.tag=0,ht&&s&&xv(e),Sn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HM(r),t=Nr(r,t),i){case 0:e=pp(null,e,r,t,n);break e;case 1:e=Iw(null,e,r,t,n);break e;case 11:e=Pw(null,e,r,t,n);break e;case 14:e=Dw(null,e,r,Nr(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),pp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),Iw(t,e,r,i,n);case 3:e:{if(_S(e),t===null)throw Error(Z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,HT(t,e),uf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=yl(Error(Z(423)),e),e=Ow(t,e,r,n,i);break e}else if(r!==i){i=yl(Error(Z(424)),e),e=Ow(t,e,r,n,i);break e}else for(nr=ta(e.stateNode.containerInfo.firstChild),rr=e,ht=!0,Ar=null,n=BT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pl(),r===i){e=es(t,e,n);break e}Sn(t,e,r,n)}e=e.child}return e;case 5:return YT(e),t===null&&dp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ap(r,i)?o=null:s!==null&&ap(r,s)&&(e.flags|=32),vS(t,e),Sn(t,e,o,n),e.child;case 6:return t===null&&dp(e),null;case 13:return yS(t,e,n);case 4:return Mv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vl(e,null,r,n):Sn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),Pw(t,e,r,i,n);case 7:return Sn(t,e,e.pendingProps,n),e.child;case 8:return Sn(t,e,e.pendingProps.children,n),e.child;case 12:return Sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,st(of,r._currentValue),r._currentValue=o,s!==null)if(zr(s.value,o)){if(s.children===i.children&&!$n.current){e=es(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Qi(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),fp(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Z(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),fp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Sn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ll(e,n),i=wr(i),r=r(i),e.flags|=1,Sn(t,e,r,n),e.child;case 14:return r=e.type,i=Nr(r,e.pendingProps),i=Nr(r.type,i),Dw(t,e,r,i,n);case 15:return gS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),Rd(t,e),e.tag=1,Hn(r)?(t=!0,rf(e)):t=!1,ll(e,n),fS(e,r,i),mp(e,r,i,n),vp(null,e,r,!0,t,n);case 19:return wS(t,e,n);case 22:return pS(t,e,n)}throw Error(Z(156,e.tag))};function FS(t,e){return uT(t,e)}function $M(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(t,e,n,r){return new $M(t,e,n,r)}function Yv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HM(t){if(typeof t=="function")return Yv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dv)return 11;if(t===fv)return 14}return 2}function sa(t,e){var n=t.alternate;return n===null?(n=_r(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Yv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qo:return Xa(n.children,i,s,e);case cv:o=8,i|=8;break;case kg:return t=_r(12,n,e,i|2),t.elementType=kg,t.lanes=s,t;case Vg:return t=_r(13,n,e,i),t.elementType=Vg,t.lanes=s,t;case zg:return t=_r(19,n,e,i),t.elementType=zg,t.lanes=s,t;case Yx:return Zf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $x:o=10;break e;case Hx:o=9;break e;case dv:o=11;break e;case fv:o=14;break e;case Us:o=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=_r(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Xa(t,e,n,r){return t=_r(7,t,r,e),t.lanes=n,t}function Zf(t,e,n,r){return t=_r(22,t,r,e),t.elementType=Yx,t.lanes=n,t.stateNode={isHidden:!1},t}function Jm(t,e,n){return t=_r(6,t,null,e),t.lanes=n,t}function Zm(t,e,n){return e=_r(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function YM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rm(0),this.expirationTimes=Rm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qv(t,e,n,r,i,s,o,u,c){return t=new YM(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=_r(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cv(s),t}function qM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LS(t){if(!t)return fa;t=t._reactInternals;e:{if(fo(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Hn(n))return LT(t,n,e)}return e}function kS(t,e,n,r,i,s,o,u,c){return t=qv(n,r,!0,t,i,s,o,u,c),t.context=LS(null),n=t.current,r=In(),i=ia(n),s=Qi(r,i),s.callback=e??null,na(n,s,i),t.current.lanes=i,hc(t,i,r),Yn(t,r),t}function eh(t,e,n,r){var i=e.current,s=In(),o=ia(i);return n=LS(n),e.context===null?e.context=n:e.pendingContext=n,e=Qi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=na(i,e,o),t!==null&&(kr(t,i,o,s),Cd(t,i,o)),o}function vf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gv(t,e){Vw(t,e),(t=t.alternate)&&Vw(t,e)}function GM(){return null}var VS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qv(t){this._internalRoot=t}th.prototype.render=Qv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));eh(t,e,null,null)};th.prototype.unmount=Qv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;io(function(){eh(null,t,null,null)}),e[Ji]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var e=pT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$s.length&&e!==0&&e<$s[n].priority;n++);$s.splice(n,0,t),n===0&&_T(t)}};function Kv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zw(){}function QM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=vf(o);s.call(d)}}var o=kS(e,r,t,0,null,!1,!1,"",zw);return t._reactRootContainer=o,t[Ji]=o.current,Yu(t.nodeType===8?t.parentNode:t),io(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var d=vf(c);u.call(d)}}var c=qv(t,0,!1,null,null,!1,!1,"",zw);return t._reactRootContainer=c,t[Ji]=c.current,Yu(t.nodeType===8?t.parentNode:t),io(function(){eh(e,c,n,r)}),c}function rh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var c=vf(o);u.call(c)}}eh(e,o,t,i)}else o=QM(n,e,t,i,r);return vf(o)}mT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pu(e.pendingLanes);n!==0&&(gv(e,n|1),Yn(e,It()),!(Ue&6)&&(wl=It()+500,wa()))}break;case 13:io(function(){var r=Zi(t,1);if(r!==null){var i=In();kr(r,t,1,i)}}),Gv(t,1)}};pv=function(t){if(t.tag===13){var e=Zi(t,134217728);if(e!==null){var n=In();kr(e,t,134217728,n)}Gv(t,134217728)}};gT=function(t){if(t.tag===13){var e=ia(t),n=Zi(t,e);if(n!==null){var r=In();kr(n,t,e,r)}Gv(t,e)}};pT=function(){return Qe};vT=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};Kg=function(t,e,n){switch(e){case"input":if(Bg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=qf(r);if(!i)throw Error(Z(90));Gx(r),Bg(r,i)}}}break;case"textarea":Kx(t,n);break;case"select":e=n.value,e!=null&&il(t,!!n.multiple,e,!1)}};rT=Bv;iT=io;var KM={usingClientEntryPoint:!1,Events:[gc,Xo,qf,tT,nT,Bv]},Zl={findFiberByHostInstance:Ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XM={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:as.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oT(t),t===null?null:t.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||GM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{Bf=od.inject(XM),oi=od}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KM;or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kv(e))throw Error(Z(200));return qM(t,e,null,n)};or.createRoot=function(t,e){if(!Kv(t))throw Error(Z(299));var n=!1,r="",i=VS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qv(t,1,!1,null,null,n,!1,r,i),t[Ji]=e.current,Yu(t.nodeType===8?t.parentNode:t),new Qv(e)};or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=oT(e),t=t===null?null:t.stateNode,t};or.flushSync=function(t){return io(t)};or.hydrate=function(t,e,n){if(!nh(e))throw Error(Z(200));return rh(null,t,e,!0,n)};or.hydrateRoot=function(t,e,n){if(!Kv(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=VS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=kS(e,null,t,1,n??null,i,!1,s,o),t[Ji]=e.current,Yu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new th(e)};or.render=function(t,e,n){if(!nh(e))throw Error(Z(200));return rh(null,t,e,!1,n)};or.unmountComponentAtNode=function(t){if(!nh(t))throw Error(Z(40));return t._reactRootContainer?(io(function(){rh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ji]=null})}),!0):!1};or.unstable_batchedUpdates=Bv;or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nh(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return rh(t,e,n,!1,r)};or.version="18.3.1-next-f1338f8080-20240426";function zS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zS)}catch(t){console.error(t)}}zS(),zx.exports=or;var JM=zx.exports,Ww=JM;Fg.createRoot=Ww.createRoot,Fg.hydrateRoot=Ww.hydrateRoot;var Xv={},vc={},WS={exports:{}},ZM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eN=ZM,tN=eN;function US(){}function BS(){}BS.resetWarningCache=US;var nN=function(){function t(r,i,s,o,u,c){if(c!==tN){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:BS,resetWarningCache:US};return n.PropTypes=n,n};WS.exports=nN();var os=WS.exports,_c={},ts={},$S={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var u=arguments[o];u&&(s=i(s,r(u)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var u in s)e.call(s,u)&&s[u]&&(o=i(o,u));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})($S);var ho=$S.exports,Ea={},Jv={},pi={},me={},ee={};ee.secondsInYear=ee.secondsInWeek=ee.secondsInQuarter=ee.secondsInMonth=ee.secondsInMinute=ee.secondsInHour=ee.secondsInDay=ee.quartersInYear=ee.monthsInYear=ee.monthsInQuarter=ee.minutesInYear=ee.minutesInMonth=ee.minutesInHour=ee.minutesInDay=ee.minTime=ee.millisecondsInWeek=ee.millisecondsInSecond=ee.millisecondsInMinute=ee.millisecondsInHour=ee.millisecondsInDay=ee.maxTime=ee.daysInYear=ee.daysInWeek=ee.constructFromSymbol=void 0;ee.daysInWeek=7;const rN=ee.daysInYear=365.2425,iN=ee.maxTime=Math.pow(10,8)*24*60*60*1e3;ee.minTime=-iN;ee.millisecondsInWeek=6048e5;ee.millisecondsInDay=864e5;ee.millisecondsInMinute=6e4;ee.millisecondsInHour=36e5;ee.millisecondsInSecond=1e3;ee.minutesInYear=525600;ee.minutesInMonth=43200;ee.minutesInDay=1440;ee.minutesInHour=60;ee.monthsInQuarter=3;ee.monthsInYear=12;ee.quartersInYear=4;const sN=ee.secondsInHour=3600;ee.secondsInMinute=60;const HS=ee.secondsInDay=sN*24;ee.secondsInWeek=HS*7;const aN=ee.secondsInYear=HS*rN,oN=ee.secondsInMonth=aN/12;ee.secondsInQuarter=oN*3;ee.constructFromSymbol=Symbol.for("constructDateFrom");me.constructFrom=lN;var Uw=ee;function lN(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Uw.constructFromSymbol in t?t[Uw.constructFromSymbol](e):t instanceof Date?new t.constructor(e):new Date(e)}var Y={};Y.toDate=cN;var uN=me;function cN(t,e){return(0,uN.constructFrom)(e||t,t)}pi.addDays=hN;var dN=me,fN=Y;function hN(t,e,n){const r=(0,fN.toDate)(t,n==null?void 0:n.in);return isNaN(e)?(0,dN.constructFrom)((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}var Rl={};Rl.addMonths=gN;var Bw=me,mN=Y;function gN(t,e,n){const r=(0,mN.toDate)(t,n==null?void 0:n.in);if(isNaN(e))return(0,Bw.constructFrom)((n==null?void 0:n.in)||t,NaN);if(!e)return r;const i=r.getDate(),s=(0,Bw.constructFrom)((n==null?void 0:n.in)||t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}Jv.add=wN;var pN=pi,vN=Rl,_N=me,yN=Y;function wN(t,e,n){const{years:r=0,months:i=0,weeks:s=0,days:o=0,hours:u=0,minutes:c=0,seconds:d=0}=e,m=(0,yN.toDate)(t,n==null?void 0:n.in),g=i||r?(0,vN.addMonths)(m,i+r*12):m,_=o||s?(0,pN.addDays)(g,o+s*7):g,E=c+u*60,D=(d+E*60)*1e3;return(0,_N.constructFrom)((n==null?void 0:n.in)||t,+_+D)}var Zv={},e_={};e_.isSaturday=bN;var EN=Y;function bN(t,e){return(0,EN.toDate)(t,e==null?void 0:e.in).getDay()===6}var t_={};t_.isSunday=TN;var xN=Y;function TN(t,e){return(0,xN.toDate)(t,e==null?void 0:e.in).getDay()===0}var yc={};yc.isWeekend=PN;var SN=Y;function PN(t,e){const n=(0,SN.toDate)(t,e==null?void 0:e.in).getDay();return n===0||n===6}Zv.addBusinessDays=MN;var DN=me,IN=e_,ON=t_,eg=yc,CN=Y;function MN(t,e,n){const r=(0,CN.toDate)(t,n==null?void 0:n.in),i=(0,eg.isWeekend)(r,n);if(isNaN(e))return(0,DN.constructFrom)(n==null?void 0:n.in,NaN);const s=r.getHours(),o=e<0?-1:1,u=Math.trunc(e/5);r.setDate(r.getDate()+u*7);let c=Math.abs(e%5);for(;c>0;)r.setDate(r.getDate()+o),(0,eg.isWeekend)(r,n)||(c-=1);return i&&(0,eg.isWeekend)(r,n)&&e!==0&&((0,IN.isSaturday)(r,n)&&r.setDate(r.getDate()+(o<0?2:-1)),(0,ON.isSunday)(r,n)&&r.setDate(r.getDate()+(o<0?1:-2))),r.setHours(s),r}var n_={},wc={};wc.addMilliseconds=AN;var NN=me,RN=Y;function AN(t,e,n){return(0,NN.constructFrom)((n==null?void 0:n.in)||t,+(0,RN.toDate)(t)+e)}n_.addHours=LN;var jN=wc,FN=ee;function LN(t,e,n){return(0,jN.addMilliseconds)(t,e*FN.millisecondsInHour,n)}var r_={},ba={},vi={},Wr={},un={};un.getDefaultOptions=kN;un.setDefaultOptions=VN;let YS={};function kN(){return YS}function VN(t){YS=t}Wr.startOfWeek=UN;var zN=un,WN=Y;function UN(t,e){var u,c,d,m;const n=(0,zN.getDefaultOptions)(),r=(e==null?void 0:e.weekStartsOn)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((m=(d=n.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,i=(0,WN.toDate)(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}vi.startOfISOWeek=$N;var BN=Wr;function $N(t,e){return(0,BN.startOfWeek)(t,{...e,weekStartsOn:1})}ba.getISOWeekYear=YN;var $w=me,Hw=vi,HN=Y;function YN(t,e){const n=(0,HN.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),i=(0,$w.constructFrom)(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=(0,Hw.startOfISOWeek)(i),o=(0,$w.constructFrom)(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const u=(0,Hw.startOfISOWeek)(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}var i_={},ls={},us={};us.getTimezoneOffsetInMilliseconds=GN;var qN=Y;function GN(t){const e=(0,qN.toDate)(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}var Xe={};Xe.normalizeDates=KN;var QN=me;function KN(t,...e){const n=QN.constructFrom.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}var Ec={};Ec.startOfDay=JN;var XN=Y;function JN(t,e){const n=(0,XN.toDate)(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}ls.differenceInCalendarDays=tR;var Yw=us,ZN=Xe,eR=ee,qw=Ec;function tR(t,e,n){const[r,i]=(0,ZN.normalizeDates)(n==null?void 0:n.in,t,e),s=(0,qw.startOfDay)(r),o=(0,qw.startOfDay)(i),u=+s-(0,Yw.getTimezoneOffsetInMilliseconds)(s),c=+o-(0,Yw.getTimezoneOffsetInMilliseconds)(o);return Math.round((u-c)/eR.millisecondsInDay)}var Al={};Al.startOfISOWeekYear=sR;var nR=me,rR=ba,iR=vi;function sR(t,e){const n=(0,rR.getISOWeekYear)(t,e),r=(0,nR.constructFrom)((e==null?void 0:e.in)||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),(0,iR.startOfISOWeek)(r)}i_.setISOWeekYear=uR;var aR=me,oR=ls,Gw=Al,lR=Y;function uR(t,e,n){let r=(0,lR.toDate)(t,n==null?void 0:n.in);const i=(0,oR.differenceInCalendarDays)(r,(0,Gw.startOfISOWeekYear)(r,n)),s=(0,aR.constructFrom)((n==null?void 0:n.in)||t,0);return s.setFullYear(e,0,4),s.setHours(0,0,0,0),r=(0,Gw.startOfISOWeekYear)(s),r.setDate(r.getDate()+i),r}r_.addISOWeekYears=fR;var cR=ba,dR=i_;function fR(t,e,n){return(0,dR.setISOWeekYear)(t,(0,cR.getISOWeekYear)(t,n)+e,n)}var ih={};ih.addMinutes=gR;var hR=ee,mR=Y;function gR(t,e,n){const r=(0,mR.toDate)(t,n==null?void 0:n.in);return r.setTime(r.getTime()+e*hR.millisecondsInMinute),r}var sh={};sh.addQuarters=vR;var pR=Rl;function vR(t,e,n){return(0,pR.addMonths)(t,e*3,n)}var s_={};s_.addSeconds=yR;var _R=wc;function yR(t,e,n){return(0,_R.addMilliseconds)(t,e*1e3,n)}var bc={};bc.addWeeks=ER;var wR=pi;function ER(t,e,n){return(0,wR.addDays)(t,e*7,n)}var a_={};a_.addYears=xR;var bR=Rl;function xR(t,e,n){return(0,bR.addMonths)(t,e*12,n)}var qS={};qS.areIntervalsOverlapping=TR;var ld=Y;function TR(t,e,n){const[r,i]=[+(0,ld.toDate)(t.start,n==null?void 0:n.in),+(0,ld.toDate)(t.end,n==null?void 0:n.in)].sort((u,c)=>u-c),[s,o]=[+(0,ld.toDate)(e.start,n==null?void 0:n.in),+(0,ld.toDate)(e.end,n==null?void 0:n.in)].sort((u,c)=>u-c);return n!=null&&n.inclusive?r<=o&&s<=i:r<o&&s<i}var GS={},o_={};o_.max=PR;var Qw=me,SR=Y;function PR(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Qw.constructFrom.bind(null,i));const s=(0,SR.toDate)(i,r);(!n||n<s||isNaN(+s))&&(n=s)}),(0,Qw.constructFrom)(r,n||NaN)}var l_={};l_.min=IR;var Kw=me,DR=Y;function IR(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Kw.constructFrom.bind(null,i));const s=(0,DR.toDate)(i,r);(!n||n>s||isNaN(+s))&&(n=s)}),(0,Kw.constructFrom)(r,n||NaN)}GS.clamp=NR;var OR=Xe,CR=o_,MR=l_;function NR(t,e,n){const[r,i,s]=(0,OR.normalizeDates)(n==null?void 0:n.in,t,e.start,e.end);return(0,MR.min)([(0,CR.max)([r,i],n),s],n)}var u_={};u_.closestIndexTo=RR;var Xw=Y;function RR(t,e){const n=+(0,Xw.toDate)(t);if(isNaN(n))return NaN;let r,i;return e.forEach((s,o)=>{const u=(0,Xw.toDate)(s);if(isNaN(+u)){r=NaN,i=NaN;return}const c=Math.abs(n-+u);(r==null||c<i)&&(r=o,i=c)}),r}var QS={};QS.closestTo=LR;var AR=Xe,jR=u_,FR=me;function LR(t,e,n){const[r,...i]=(0,AR.normalizeDates)(n==null?void 0:n.in,t,...e),s=(0,jR.closestIndexTo)(r,i);if(typeof s=="number"&&isNaN(s))return(0,FR.constructFrom)(r,NaN);if(s!==void 0)return i[s]}var mo={};mo.compareAsc=kR;var Jw=Y;function kR(t,e){const n=+(0,Jw.toDate)(t)-+(0,Jw.toDate)(e);return n<0?-1:n>0?1:n}var KS={};KS.compareDesc=VR;var Zw=Y;function VR(t,e){const n=+(0,Zw.toDate)(t)-+(0,Zw.toDate)(e);return n>0?-1:n<0?1:n}var Ht={};Ht.constructNow=WR;var zR=me;function WR(t){return(0,zR.constructFrom)(t,Date.now())}var XS={};XS.daysToWeeks=BR;var UR=ee;function BR(t){const e=Math.trunc(t/UR.daysInWeek);return e===0?0:e}var JS={},jl={};jl.isSameDay=HR;var $R=Xe,eE=Ec;function HR(t,e,n){const[r,i]=(0,$R.normalizeDates)(n==null?void 0:n.in,t,e);return+(0,eE.startOfDay)(r)==+(0,eE.startOfDay)(i)}var cs={},c_={};c_.isDate=YR;function YR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}cs.isValid=QR;var qR=c_,GR=Y;function QR(t){return!(!(0,qR.isDate)(t)&&typeof t!="number"||isNaN(+(0,GR.toDate)(t)))}JS.differenceInBusinessDays=eA;var KR=Xe,tE=pi,XR=ls,JR=jl,nE=cs,ZR=yc;function eA(t,e,n){const[r,i]=(0,KR.normalizeDates)(n==null?void 0:n.in,t,e);if(!(0,nE.isValid)(r)||!(0,nE.isValid)(i))return NaN;const s=(0,XR.differenceInCalendarDays)(r,i),o=s<0?-1:1,u=Math.trunc(s/7);let c=u*5,d=(0,tE.addDays)(i,u*7);for(;!(0,JR.isSameDay)(r,d);)c+=(0,ZR.isWeekend)(d,n)?0:o,d=(0,tE.addDays)(d,o);return c===0?0:c}var d_={};d_.differenceInCalendarISOWeekYears=nA;var tA=Xe,rE=ba;function nA(t,e,n){const[r,i]=(0,tA.normalizeDates)(n==null?void 0:n.in,t,e);return(0,rE.getISOWeekYear)(r,n)-(0,rE.getISOWeekYear)(i,n)}var ZS={};ZS.differenceInCalendarISOWeeks=sA;var iE=us,rA=Xe,iA=ee,sE=vi;function sA(t,e,n){const[r,i]=(0,rA.normalizeDates)(n==null?void 0:n.in,t,e),s=(0,sE.startOfISOWeek)(r),o=(0,sE.startOfISOWeek)(i),u=+s-(0,iE.getTimezoneOffsetInMilliseconds)(s),c=+o-(0,iE.getTimezoneOffsetInMilliseconds)(o);return Math.round((u-c)/iA.millisecondsInWeek)}var ah={};ah.differenceInCalendarMonths=oA;var aA=Xe;function oA(t,e,n){const[r,i]=(0,aA.normalizeDates)(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}var f_={},h_={};h_.getQuarter=uA;var lA=Y;function uA(t,e){const n=(0,lA.toDate)(t,e==null?void 0:e.in);return Math.trunc(n.getMonth()/3)+1}f_.differenceInCalendarQuarters=dA;var cA=Xe,aE=h_;function dA(t,e,n){const[r,i]=(0,cA.normalizeDates)(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=(0,aE.getQuarter)(r)-(0,aE.getQuarter)(i);return s*4+o}var oh={};oh.differenceInCalendarWeeks=mA;var oE=us,fA=Xe,hA=ee,lE=Wr;function mA(t,e,n){const[r,i]=(0,fA.normalizeDates)(n==null?void 0:n.in,t,e),s=(0,lE.startOfWeek)(r,n),o=(0,lE.startOfWeek)(i,n),u=+s-(0,oE.getTimezoneOffsetInMilliseconds)(s),c=+o-(0,oE.getTimezoneOffsetInMilliseconds)(o);return Math.round((u-c)/hA.millisecondsInWeek)}var lh={};lh.differenceInCalendarYears=pA;var gA=Xe;function pA(t,e,n){const[r,i]=(0,gA.normalizeDates)(n==null?void 0:n.in,t,e);return r.getFullYear()-i.getFullYear()}var uh={};uh.differenceInDays=yA;var vA=Xe,_A=ls;function yA(t,e,n){const[r,i]=(0,vA.normalizeDates)(n==null?void 0:n.in,t,e),s=uE(r,i),o=Math.abs((0,_A.differenceInCalendarDays)(r,i));r.setDate(r.getDate()-s*o);const u=+(uE(r,i)===-s),c=s*(o-u);return c===0?0:c}function uE(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}var ch={},ds={};ds.getRoundingMethod=wA;function wA(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}ch.differenceInHours=TA;var EA=ds,bA=Xe,xA=ee;function TA(t,e,n){const[r,i]=(0,bA.normalizeDates)(n==null?void 0:n.in,t,e),s=(+r-+i)/xA.millisecondsInHour;return(0,EA.getRoundingMethod)(n==null?void 0:n.roundingMethod)(s)}var eP={},m_={};m_.subISOWeekYears=PA;var SA=r_;function PA(t,e,n){return(0,SA.addISOWeekYears)(t,-e,n)}eP.differenceInISOWeekYears=CA;var DA=Xe,cE=mo,IA=d_,OA=m_;function CA(t,e,n){const[r,i]=(0,DA.normalizeDates)(n==null?void 0:n.in,t,e),s=(0,cE.compareAsc)(r,i),o=Math.abs((0,IA.differenceInCalendarISOWeekYears)(r,i,n)),u=(0,OA.subISOWeekYears)(r,s*o,n),c=+((0,cE.compareAsc)(u,i)===-s),d=s*(o-c);return d===0?0:d}var dh={};dh.differenceInMilliseconds=MA;var dE=Y;function MA(t,e){return+(0,dE.toDate)(t)-+(0,dE.toDate)(e)}var fh={};fh.differenceInMinutes=jA;var NA=ds,RA=ee,AA=dh;function jA(t,e,n){const r=(0,AA.differenceInMilliseconds)(t,e)/RA.millisecondsInMinute;return(0,NA.getRoundingMethod)(n==null?void 0:n.roundingMethod)(r)}var xc={},g_={},hh={};hh.endOfDay=LA;var FA=Y;function LA(t,e){const n=(0,FA.toDate)(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}var mh={};mh.endOfMonth=VA;var kA=Y;function VA(t,e){const n=(0,kA.toDate)(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}g_.isLastDayOfMonth=BA;var zA=hh,WA=mh,UA=Y;function BA(t,e){const n=(0,UA.toDate)(t,e==null?void 0:e.in);return+(0,zA.endOfDay)(n,e)==+(0,WA.endOfMonth)(n,e)}xc.differenceInMonths=qA;var $A=Xe,tg=mo,HA=ah,YA=g_;function qA(t,e,n){const[r,i,s]=(0,$A.normalizeDates)(n==null?void 0:n.in,t,t,e),o=(0,tg.compareAsc)(i,s),u=Math.abs((0,HA.differenceInCalendarMonths)(i,s));if(u<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*u);let c=(0,tg.compareAsc)(i,s)===-o;(0,YA.isLastDayOfMonth)(r)&&u===1&&(0,tg.compareAsc)(r,s)===1&&(c=!1);const d=o*(u-+c);return d===0?0:d}var tP={};tP.differenceInQuarters=KA;var GA=ds,QA=xc;function KA(t,e,n){const r=(0,QA.differenceInMonths)(t,e,n)/3;return(0,GA.getRoundingMethod)(n==null?void 0:n.roundingMethod)(r)}var Tc={};Tc.differenceInSeconds=ZA;var XA=ds,JA=dh;function ZA(t,e,n){const r=(0,JA.differenceInMilliseconds)(t,e)/1e3;return(0,XA.getRoundingMethod)(n==null?void 0:n.roundingMethod)(r)}var nP={};nP.differenceInWeeks=nj;var ej=ds,tj=uh;function nj(t,e,n){const r=(0,tj.differenceInDays)(t,e,n)/7;return(0,ej.getRoundingMethod)(n==null?void 0:n.roundingMethod)(r)}var p_={};p_.differenceInYears=sj;var rj=Xe,fE=mo,ij=lh;function sj(t,e,n){const[r,i]=(0,rj.normalizeDates)(n==null?void 0:n.in,t,e),s=(0,fE.compareAsc)(r,i),o=Math.abs((0,ij.differenceInCalendarYears)(r,i));r.setFullYear(1584),i.setFullYear(1584);const u=(0,fE.compareAsc)(r,i)===-s,c=s*(o-+u);return c===0?0:c}var v_={},_i={};_i.normalizeInterval=oj;var aj=Xe;function oj(t,e){const[n,r]=(0,aj.normalizeDates)(t,e.start,e.end);return{start:n,end:r}}v_.eachDayOfInterval=cj;var lj=_i,uj=me;function cj(t,e){const{start:n,end:r}=(0,lj.normalizeInterval)(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0);let u=(e==null?void 0:e.step)??1;if(!u)return[];u<0&&(u=-u,i=!i);const c=[];for(;+o<=s;)c.push((0,uj.constructFrom)(n,o)),o.setDate(o.getDate()+u),o.setHours(0,0,0,0);return i?c.reverse():c}var rP={};rP.eachHourOfInterval=hj;var dj=_i,fj=me;function hj(t,e){const{start:n,end:r}=(0,dj.normalizeInterval)(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setMinutes(0,0,0);let u=(e==null?void 0:e.step)??1;if(!u)return[];u<0&&(u=-u,i=!i);const c=[];for(;+o<=s;)c.push((0,fj.constructFrom)(n,o)),o.setHours(o.getHours()+u);return i?c.reverse():c}var iP={};iP.eachMinuteOfInterval=vj;var mj=_i,gj=ih,pj=me;function vj(t,e){const{start:n,end:r}=(0,mj.normalizeInterval)(e==null?void 0:e.in,t);n.setSeconds(0,0);let i=+n>+r;const s=i?+n:+r;let o=i?r:n,u=(e==null?void 0:e.step)??1;if(!u)return[];u<0&&(u=-u,i=!i);const c=[];for(;+o<=s;)c.push((0,pj.constructFrom)(n,o)),o=(0,gj.addMinutes)(o,u);return i?c.reverse():c}var sP={};sP.eachMonthOfInterval=wj;var _j=_i,yj=me;function wj(t,e){const{start:n,end:r}=(0,_j.normalizeInterval)(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0),o.setDate(1);let u=(e==null?void 0:e.step)??1;if(!u)return[];u<0&&(u=-u,i=!i);const c=[];for(;+o<=s;)c.push((0,yj.constructFrom)(n,o)),o.setMonth(o.getMonth()+u);return i?c.reverse():c}var aP={},gh={};gh.startOfQuarter=bj;var Ej=Y;function bj(t,e){const n=(0,Ej.toDate)(t,e==null?void 0:e.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}aP.eachQuarterOfInterval=Pj;var xj=_i,Tj=sh,Sj=me,ud=gh;function Pj(t,e){const{start:n,end:r}=(0,xj.normalizeInterval)(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+(0,ud.startOfQuarter)(n):+(0,ud.startOfQuarter)(r);let o=i?(0,ud.startOfQuarter)(r):(0,ud.startOfQuarter)(n),u=(e==null?void 0:e.step)??1;if(!u)return[];u<0&&(u=-u,i=!i);const c=[];for(;+o<=s;)c.push((0,Sj.constructFrom)(n,o)),o=(0,Tj.addQuarters)(o,u);return i?c.reverse():c}var oP={};oP.eachWeekOfInterval=Cj;var Dj=_i,Ij=bc,Oj=me,cd=Wr;function Cj(t,e){const{start:n,end:r}=(0,Dj.normalizeInterval)(e==null?void 0:e.in,t);let i=+n>+r;const s=i?(0,cd.startOfWeek)(r,e):(0,cd.startOfWeek)(n,e),o=i?(0,cd.startOfWeek)(n,e):(0,cd.startOfWeek)(r,e);s.setHours(15),o.setHours(15);const u=+o.getTime();let c=s,d=(e==null?void 0:e.step)??1;if(!d)return[];d<0&&(d=-d,i=!i);const m=[];for(;+c<=u;)c.setHours(0),m.push((0,Oj.constructFrom)(n,c)),c=(0,Ij.addWeeks)(c,d),c.setHours(15);return i?m.reverse():m}var ph={};ph.eachWeekendOfInterval=jj;var Mj=_i,Nj=me,Rj=v_,Aj=yc;function jj(t,e){const{start:n,end:r}=(0,Mj.normalizeInterval)(e==null?void 0:e.in,t),i=(0,Rj.eachDayOfInterval)({start:n,end:r},e),s=[];let o=0;for(;o<i.length;){const u=i[o++];(0,Aj.isWeekend)(u)&&s.push((0,Nj.constructFrom)(n,u))}return s}var lP={},Sc={};Sc.startOfMonth=Lj;var Fj=Y;function Lj(t,e){const n=(0,Fj.toDate)(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}lP.eachWeekendOfMonth=Wj;var kj=ph,Vj=mh,zj=Sc;function Wj(t,e){const n=(0,zj.startOfMonth)(t,e),r=(0,Vj.endOfMonth)(t,e);return(0,kj.eachWeekendOfInterval)({start:n,end:r},e)}var uP={},__={};__.endOfYear=Bj;var Uj=Y;function Bj(t,e){const n=(0,Uj.toDate)(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}var vh={};vh.startOfYear=Hj;var $j=Y;function Hj(t,e){const n=(0,$j.toDate)(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}uP.eachWeekendOfYear=Qj;var Yj=ph,qj=__,Gj=vh;function Qj(t,e){const n=(0,Gj.startOfYear)(t,e),r=(0,qj.endOfYear)(t,e);return(0,Yj.eachWeekendOfInterval)({start:n,end:r},e)}var cP={};cP.eachYearOfInterval=Jj;var Kj=_i,Xj=me;function Jj(t,e){const{start:n,end:r}=(0,Kj.normalizeInterval)(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0),o.setMonth(0,1);let u=(e==null?void 0:e.step)??1;if(!u)return[];u<0&&(u=-u,i=!i);const c=[];for(;+o<=s;)c.push((0,Xj.constructFrom)(n,o)),o.setFullYear(o.getFullYear()+u);return i?c.reverse():c}var dP={};dP.endOfDecade=e4;var Zj=Y;function e4(t,e){const n=(0,Zj.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),i=9+Math.floor(r/10)*10;return n.setFullYear(i,11,31),n.setHours(23,59,59,999),n}var fP={};fP.endOfHour=n4;var t4=Y;function n4(t,e){const n=(0,t4.toDate)(t,e==null?void 0:e.in);return n.setMinutes(59,59,999),n}var hP={},y_={};y_.endOfWeek=s4;var r4=un,i4=Y;function s4(t,e){var u,c,d,m;const n=(0,r4.getDefaultOptions)(),r=(e==null?void 0:e.weekStartsOn)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((m=(d=n.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,i=(0,i4.toDate)(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}hP.endOfISOWeek=o4;var a4=y_;function o4(t,e){return(0,a4.endOfWeek)(t,{...e,weekStartsOn:1})}var mP={};mP.endOfISOWeekYear=d4;var l4=me,u4=ba,c4=vi;function d4(t,e){const n=(0,u4.getISOWeekYear)(t,e),r=(0,l4.constructFrom)((e==null?void 0:e.in)||t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=(0,c4.startOfISOWeek)(r,e);return i.setMilliseconds(i.getMilliseconds()-1),i}var gP={};gP.endOfMinute=h4;var f4=Y;function h4(t,e){const n=(0,f4.toDate)(t,e==null?void 0:e.in);return n.setSeconds(59,999),n}var pP={};pP.endOfQuarter=g4;var m4=Y;function g4(t,e){const n=(0,m4.toDate)(t,e==null?void 0:e.in),r=n.getMonth(),i=r-r%3+3;return n.setMonth(i,0),n.setHours(23,59,59,999),n}var vP={};vP.endOfSecond=v4;var p4=Y;function v4(t,e){const n=(0,p4.toDate)(t,e==null?void 0:e.in);return n.setMilliseconds(999),n}var _P={};_P.endOfToday=y4;var _4=hh;function y4(t){return(0,_4.endOfDay)(Date.now(),t)}var yP={};yP.endOfTomorrow=w4;var hE=Ht;function w4(t){const e=(0,hE.constructNow)(t==null?void 0:t.in),n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=(0,hE.constructNow)(t==null?void 0:t.in);return s.setFullYear(n,r,i+1),s.setHours(23,59,59,999),t!=null&&t.in?t.in(s):s}var wP={};wP.endOfYesterday=x4;var E4=me,b4=Ht;function x4(t){const e=(0,b4.constructNow)(t==null?void 0:t.in),n=(0,E4.constructFrom)(t==null?void 0:t.in,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()-1),n.setHours(23,59,59,999),n}var w_={},go={},_h={},E_={};E_.formatDistance=void 0;const T4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},S4=(t,e,n)=>{let r;const i=T4[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};E_.formatDistance=S4;var b_={},EP={};EP.buildFormatLongFn=P4;function P4(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}b_.formatLong=void 0;var ng=EP;const D4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},I4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},O4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"};b_.formatLong={date:(0,ng.buildFormatLongFn)({formats:D4,defaultWidth:"full"}),time:(0,ng.buildFormatLongFn)({formats:I4,defaultWidth:"full"}),dateTime:(0,ng.buildFormatLongFn)({formats:O4,defaultWidth:"full"})};var x_={};x_.formatRelative=void 0;const C4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},M4=(t,e,n,r)=>C4[t];x_.formatRelative=M4;var T_={},bP={};bP.buildLocalizeFn=N4;function N4(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):o;i=t.formattingValues[u]||t.formattingValues[o]}else{const o=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}T_.localize=void 0;var eu=bP;const R4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},A4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},j4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},F4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},L4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},k4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},V4=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"};T_.localize={ordinalNumber:V4,era:(0,eu.buildLocalizeFn)({values:R4,defaultWidth:"wide"}),quarter:(0,eu.buildLocalizeFn)({values:A4,defaultWidth:"wide",argumentCallback:t=>t-1}),month:(0,eu.buildLocalizeFn)({values:j4,defaultWidth:"wide"}),day:(0,eu.buildLocalizeFn)({values:F4,defaultWidth:"wide"}),dayPeriod:(0,eu.buildLocalizeFn)({values:L4,defaultWidth:"wide",formattingValues:k4,defaultFormattingWidth:"wide"})};var S_={},xP={};xP.buildMatchFn=z4;function z4(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?U4(u,g=>g.test(o)):W4(u,g=>g.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const m=e.slice(o.length);return{value:d,rest:m}}}function W4(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function U4(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}var TP={};TP.buildMatchPatternFn=B4;function B4(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const u=e.slice(i.length);return{value:o,rest:u}}}S_.match=void 0;var tu=xP,$4=TP;const H4=/^(\d+)(th|st|nd|rd)?/i,Y4=/\d+/i,q4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},G4={any:[/^b/i,/^(a|c)/i]},Q4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},K4={any:[/1/i,/2/i,/3/i,/4/i]},X4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},J4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Z4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},e3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},t3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},n3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}};S_.match={ordinalNumber:(0,$4.buildMatchPatternFn)({matchPattern:H4,parsePattern:Y4,valueCallback:t=>parseInt(t,10)}),era:(0,tu.buildMatchFn)({matchPatterns:q4,defaultMatchWidth:"wide",parsePatterns:G4,defaultParseWidth:"any"}),quarter:(0,tu.buildMatchFn)({matchPatterns:Q4,defaultMatchWidth:"wide",parsePatterns:K4,defaultParseWidth:"any",valueCallback:t=>t+1}),month:(0,tu.buildMatchFn)({matchPatterns:X4,defaultMatchWidth:"wide",parsePatterns:J4,defaultParseWidth:"any"}),day:(0,tu.buildMatchFn)({matchPatterns:Z4,defaultMatchWidth:"wide",parsePatterns:e3,defaultParseWidth:"any"}),dayPeriod:(0,tu.buildMatchFn)({matchPatterns:t3,defaultMatchWidth:"any",parsePatterns:n3,defaultParseWidth:"any"})};_h.enUS=void 0;var r3=E_,i3=b_,s3=x_,a3=T_,o3=S_;_h.enUS={code:"en-US",formatDistance:r3.formatDistance,formatLong:i3.formatLong,formatRelative:s3.formatRelative,localize:a3.localize,match:o3.match,options:{weekStartsOn:0,firstWeekContainsDate:1}};(function(t){Object.defineProperty(t,"defaultLocale",{enumerable:!0,get:function(){return e.enUS}});var e=_h})(go);var P_={},D_={};D_.getDayOfYear=d3;var l3=ls,u3=vh,c3=Y;function d3(t,e){const n=(0,c3.toDate)(t,e==null?void 0:e.in);return(0,l3.differenceInCalendarDays)(n,(0,u3.startOfYear)(n))+1}var yh={};yh.getISOWeek=p3;var f3=ee,h3=vi,m3=Al,g3=Y;function p3(t,e){const n=(0,g3.toDate)(t,e==null?void 0:e.in),r=+(0,h3.startOfISOWeek)(n)-+(0,m3.startOfISOWeekYear)(n);return Math.round(r/f3.millisecondsInWeek)+1}var wh={},Eh={},Pc={};Pc.getWeekYear=y3;var v3=un,mE=me,gE=Wr,_3=Y;function y3(t,e){var m,g,_,E;const n=(0,_3.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),i=(0,v3.getDefaultOptions)(),s=(e==null?void 0:e.firstWeekContainsDate)??((g=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(_=i.locale)==null?void 0:_.options)==null?void 0:E.firstWeekContainsDate)??1,o=(0,mE.constructFrom)((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const u=(0,gE.startOfWeek)(o,e),c=(0,mE.constructFrom)((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const d=(0,gE.startOfWeek)(c,e);return+n>=+u?r+1:+n>=+d?r:r-1}Eh.startOfWeekYear=T3;var w3=un,E3=me,b3=Pc,x3=Wr;function T3(t,e){var u,c,d,m;const n=(0,w3.getDefaultOptions)(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(d=n.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??1,i=(0,b3.getWeekYear)(t,e),s=(0,E3.constructFrom)((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),(0,x3.startOfWeek)(s,e)}wh.getWeek=O3;var S3=ee,P3=Wr,D3=Eh,I3=Y;function O3(t,e){const n=(0,I3.toDate)(t,e==null?void 0:e.in),r=+(0,P3.startOfWeek)(n,e)-+(0,D3.startOfWeekYear)(n,e);return Math.round(r/S3.millisecondsInWeek)+1}var po={};po.addLeadingZeros=C3;function C3(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}var bh={};bh.lightFormatters=void 0;var Fs=po;bh.lightFormatters={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return(0,Fs.addLeadingZeros)(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):(0,Fs.addLeadingZeros)(n+1,2)},d(t,e){return(0,Fs.addLeadingZeros)(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return(0,Fs.addLeadingZeros)(t.getHours()%12||12,e.length)},H(t,e){return(0,Fs.addLeadingZeros)(t.getHours(),e.length)},m(t,e){return(0,Fs.addLeadingZeros)(t.getMinutes(),e.length)},s(t,e){return(0,Fs.addLeadingZeros)(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return(0,Fs.addLeadingZeros)(i,e.length)}};P_.formatters=void 0;var M3=D_,N3=yh,R3=ba,A3=wh,j3=Pc,Pt=po,Ls=bh;const Fo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};P_.formatters={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ls.lightFormatters.y(t,e)},Y:function(t,e,n,r){const i=(0,j3.getWeekYear)(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return(0,Pt.addLeadingZeros)(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):(0,Pt.addLeadingZeros)(s,e.length)},R:function(t,e){const n=(0,R3.getISOWeekYear)(t);return(0,Pt.addLeadingZeros)(n,e.length)},u:function(t,e){const n=t.getFullYear();return(0,Pt.addLeadingZeros)(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return(0,Pt.addLeadingZeros)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return(0,Pt.addLeadingZeros)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ls.lightFormatters.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return(0,Pt.addLeadingZeros)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=(0,A3.getWeek)(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):(0,Pt.addLeadingZeros)(i,e.length)},I:function(t,e,n){const r=(0,N3.getISOWeek)(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):(0,Pt.addLeadingZeros)(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ls.lightFormatters.d(t,e)},D:function(t,e,n){const r=(0,M3.getDayOfYear)(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):(0,Pt.addLeadingZeros)(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return(0,Pt.addLeadingZeros)(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return(0,Pt.addLeadingZeros)(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return(0,Pt.addLeadingZeros)(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Fo.noon:r===0?i=Fo.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Fo.evening:r>=12?i=Fo.afternoon:r>=4?i=Fo.morning:i=Fo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ls.lightFormatters.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ls.lightFormatters.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):(0,Pt.addLeadingZeros)(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):(0,Pt.addLeadingZeros)(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ls.lightFormatters.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ls.lightFormatters.s(t,e)},S:function(t,e){return Ls.lightFormatters.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return vE(r);case"XXXX":case"XX":return Ua(r);case"XXXXX":case"XXX":default:return Ua(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return vE(r);case"xxxx":case"xx":return Ua(r);case"xxxxx":case"xxx":default:return Ua(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+pE(r,":");case"OOOO":default:return"GMT"+Ua(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+pE(r,":");case"zzzz":default:return"GMT"+Ua(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return(0,Pt.addLeadingZeros)(r,e.length)},T:function(t,e,n){return(0,Pt.addLeadingZeros)(+t,e.length)}};function pE(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+(0,Pt.addLeadingZeros)(s,2)}function vE(t,e){return t%60===0?(t>0?"-":"+")+(0,Pt.addLeadingZeros)(Math.abs(t)/60,2):Ua(t,e)}function Ua(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=(0,Pt.addLeadingZeros)(Math.trunc(r/60),2),s=(0,Pt.addLeadingZeros)(r%60,2);return n+i+e+s}var xh={};xh.longFormatters=void 0;const _E=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},SP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},F3=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return _E(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",_E(r,e)).replace("{{time}}",SP(i,e))};xh.longFormatters={p:SP,P:F3};var Dc={};Dc.isProtectedDayOfYearToken=z3;Dc.isProtectedWeekYearToken=W3;Dc.warnOrThrowProtectedError=U3;const L3=/^D+$/,k3=/^Y+$/,V3=["D","DD","YY","YYYY"];function z3(t){return L3.test(t)}function W3(t){return k3.test(t)}function U3(t,e,n){const r=B3(t,e,n);if(console.warn(r),V3.includes(t))throw new RangeError(r)}function B3(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(function(t){t.format=t.formatDate=E,Object.defineProperty(t,"formatters",{enumerable:!0,get:function(){return r.formatters}}),Object.defineProperty(t,"longFormatters",{enumerable:!0,get:function(){return i.longFormatters}});var e=go,n=un,r=P_,i=xh,s=Dc,o=cs,u=Y;const c=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,d=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m=/^'([^]*?)'?$/,g=/''/g,_=/[a-zA-Z]/;function E(D,A,b){var P,x,N,F,I,Re,ze,wt;const S=(0,n.getDefaultOptions)(),C=(b==null?void 0:b.locale)??S.locale??e.defaultLocale,j=(b==null?void 0:b.firstWeekContainsDate)??((x=(P=b==null?void 0:b.locale)==null?void 0:P.options)==null?void 0:x.firstWeekContainsDate)??S.firstWeekContainsDate??((F=(N=S.locale)==null?void 0:N.options)==null?void 0:F.firstWeekContainsDate)??1,H=(b==null?void 0:b.weekStartsOn)??((Re=(I=b==null?void 0:b.locale)==null?void 0:I.options)==null?void 0:Re.weekStartsOn)??S.weekStartsOn??((wt=(ze=S.locale)==null?void 0:ze.options)==null?void 0:wt.weekStartsOn)??0,q=(0,u.toDate)(D,b==null?void 0:b.in);if(!(0,o.isValid)(q))throw new RangeError("Invalid time value");let T=A.match(d).map(Se=>{const Q=Se[0];if(Q==="p"||Q==="P"){const oe=i.longFormatters[Q];return oe(Se,C.formatLong)}return Se}).join("").match(c).map(Se=>{if(Se==="''")return{isToken:!1,value:"'"};const Q=Se[0];if(Q==="'")return{isToken:!1,value:O(Se)};if(r.formatters[Q])return{isToken:!0,value:Se};if(Q.match(_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return{isToken:!1,value:Se}});C.localize.preprocessor&&(T=C.localize.preprocessor(q,T));const w={firstWeekContainsDate:j,weekStartsOn:H,locale:C};return T.map(Se=>{if(!Se.isToken)return Se.value;const Q=Se.value;(!(b!=null&&b.useAdditionalWeekYearTokens)&&(0,s.isProtectedWeekYearToken)(Q)||!(b!=null&&b.useAdditionalDayOfYearTokens)&&(0,s.isProtectedDayOfYearToken)(Q))&&(0,s.warnOrThrowProtectedError)(Q,A,String(D));const oe=r.formatters[Q[0]];return oe(q,Q,C.localize,w)}).join("")}function O(D){const A=D.match(m);return A?A[1].replace(g,"'"):D}})(w_);var I_={};I_.formatDistance=K3;var $3=go,H3=un,yE=us,Y3=Xe,q3=mo,Lo=ee,G3=xc,Q3=Tc;function K3(t,e,n){const r=(0,H3.getDefaultOptions)(),i=(n==null?void 0:n.locale)??r.locale??$3.defaultLocale,s=2520,o=(0,q3.compareAsc)(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o}),[c,d]=(0,Y3.normalizeDates)(n==null?void 0:n.in,...o>0?[e,t]:[t,e]),m=(0,Q3.differenceInSeconds)(d,c),g=((0,yE.getTimezoneOffsetInMilliseconds)(d)-(0,yE.getTimezoneOffsetInMilliseconds)(c))/1e3,_=Math.round((m-g)/60);let E;if(_<2)return n!=null&&n.includeSeconds?m<5?i.formatDistance("lessThanXSeconds",5,u):m<10?i.formatDistance("lessThanXSeconds",10,u):m<20?i.formatDistance("lessThanXSeconds",20,u):m<40?i.formatDistance("halfAMinute",0,u):m<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):_===0?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",_,u);if(_<45)return i.formatDistance("xMinutes",_,u);if(_<90)return i.formatDistance("aboutXHours",1,u);if(_<Lo.minutesInDay){const O=Math.round(_/60);return i.formatDistance("aboutXHours",O,u)}else{if(_<s)return i.formatDistance("xDays",1,u);if(_<Lo.minutesInMonth){const O=Math.round(_/Lo.minutesInDay);return i.formatDistance("xDays",O,u)}else if(_<Lo.minutesInMonth*2)return E=Math.round(_/Lo.minutesInMonth),i.formatDistance("aboutXMonths",E,u)}if(E=(0,G3.differenceInMonths)(d,c),E<12){const O=Math.round(_/Lo.minutesInMonth);return i.formatDistance("xMonths",O,u)}else{const O=E%12,D=Math.trunc(E/12);return O<3?i.formatDistance("aboutXYears",D,u):O<9?i.formatDistance("overXYears",D,u):i.formatDistance("almostXYears",D+1,u)}}var O_={};O_.formatDistanceStrict=nF;var X3=go,J3=un,Z3=ds,wE=us,eF=Xe,tF=mo,ks=ee;function nF(t,e,n){const r=(0,J3.getDefaultOptions)(),i=(n==null?void 0:n.locale)??r.locale??X3.defaultLocale,s=(0,tF.compareAsc)(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s}),[u,c]=(0,eF.normalizeDates)(n==null?void 0:n.in,...s>0?[e,t]:[t,e]),d=(0,Z3.getRoundingMethod)((n==null?void 0:n.roundingMethod)??"round"),m=c.getTime()-u.getTime(),g=m/ks.millisecondsInMinute,_=(0,wE.getTimezoneOffsetInMilliseconds)(c)-(0,wE.getTimezoneOffsetInMilliseconds)(u),E=(m-_)/ks.millisecondsInMinute,O=n==null?void 0:n.unit;let D;if(O?D=O:g<1?D="second":g<60?D="minute":g<ks.minutesInDay?D="hour":E<ks.minutesInMonth?D="day":E<ks.minutesInYear?D="month":D="year",D==="second"){const A=d(m/1e3);return i.formatDistance("xSeconds",A,o)}else if(D==="minute"){const A=d(g);return i.formatDistance("xMinutes",A,o)}else if(D==="hour"){const A=d(g/60);return i.formatDistance("xHours",A,o)}else if(D==="day"){const A=d(E/ks.minutesInDay);return i.formatDistance("xDays",A,o)}else if(D==="month"){const A=d(E/ks.minutesInMonth);return A===12&&O!=="month"?i.formatDistance("xYears",1,o):i.formatDistance("xMonths",A,o)}else{const A=d(E/ks.minutesInYear);return i.formatDistance("xYears",A,o)}}var PP={};PP.formatDistanceToNow=sF;var rF=Ht,iF=I_;function sF(t,e){return(0,iF.formatDistance)(t,(0,rF.constructNow)(t),e)}var DP={};DP.formatDistanceToNowStrict=lF;var aF=Ht,oF=O_;function lF(t,e){return(0,oF.formatDistanceStrict)(t,(0,aF.constructNow)(t),e)}var IP={};IP.formatDuration=fF;var uF=go,cF=un;const dF=["years","months","weeks","days","hours","minutes","seconds"];function fF(t,e){const n=(0,cF.getDefaultOptions)(),r=(e==null?void 0:e.locale)??n.locale??uF.defaultLocale,i=(e==null?void 0:e.format)??dF,s=(e==null?void 0:e.zero)??!1,o=(e==null?void 0:e.delimiter)??" ";return r.formatDistance?i.reduce((c,d)=>{const m=`x${d.replace(/(^.)/,_=>_.toUpperCase())}`,g=t[d];return g!==void 0&&(s||t[d])?c.concat(r.formatDistance(m,g)):c},[]).join(o):""}var OP={};OP.formatISO=mF;var Vs=po,hF=Y;function mF(t,e){const n=(0,hF.toDate)(t,e==null?void 0:e.in);if(isNaN(+n))throw new RangeError("Invalid time value");const r=(e==null?void 0:e.format)??"extended",i=(e==null?void 0:e.representation)??"complete";let s="",o="";const u=r==="extended"?"-":"",c=r==="extended"?":":"";if(i!=="time"){const d=(0,Vs.addLeadingZeros)(n.getDate(),2),m=(0,Vs.addLeadingZeros)(n.getMonth()+1,2);s=`${(0,Vs.addLeadingZeros)(n.getFullYear(),4)}${u}${m}${u}${d}`}if(i!=="date"){const d=n.getTimezoneOffset();if(d!==0){const D=Math.abs(d),A=(0,Vs.addLeadingZeros)(Math.trunc(D/60),2),b=(0,Vs.addLeadingZeros)(D%60,2);o=`${d<0?"+":"-"}${A}:${b}`}else o="Z";const m=(0,Vs.addLeadingZeros)(n.getHours(),2),g=(0,Vs.addLeadingZeros)(n.getMinutes(),2),_=(0,Vs.addLeadingZeros)(n.getSeconds(),2),E=s===""?"":"T",O=[m,g,_].join(c);s=`${s}${E}${O}${o}`}return s}var CP={};CP.formatISO9075=vF;var ko=po,gF=cs,pF=Y;function vF(t,e){const n=(0,pF.toDate)(t,e==null?void 0:e.in);if(!(0,gF.isValid)(n))throw new RangeError("Invalid time value");const r=(e==null?void 0:e.format)??"extended",i=(e==null?void 0:e.representation)??"complete";let s="";const o=r==="extended"?"-":"",u=r==="extended"?":":"";if(i!=="time"){const c=(0,ko.addLeadingZeros)(n.getDate(),2),d=(0,ko.addLeadingZeros)(n.getMonth()+1,2);s=`${(0,ko.addLeadingZeros)(n.getFullYear(),4)}${o}${d}${o}${c}`}if(i!=="date"){const c=(0,ko.addLeadingZeros)(n.getHours(),2),d=(0,ko.addLeadingZeros)(n.getMinutes(),2),m=(0,ko.addLeadingZeros)(n.getSeconds(),2);s=`${s}${s===""?"":" "}${c}${u}${d}${u}${m}`}return s}var MP={};MP.formatISODuration=_F;function _F(t){const{years:e=0,months:n=0,days:r=0,hours:i=0,minutes:s=0,seconds:o=0}=t;return`P${e}Y${n}M${r}DT${i}H${s}M${o}S`}var NP={};NP.formatRFC3339=EF;var zs=po,yF=cs,wF=Y;function EF(t,e){const n=(0,wF.toDate)(t,e==null?void 0:e.in);if(!(0,yF.isValid)(n))throw new RangeError("Invalid time value");const r=(e==null?void 0:e.fractionDigits)??0,i=(0,zs.addLeadingZeros)(n.getDate(),2),s=(0,zs.addLeadingZeros)(n.getMonth()+1,2),o=n.getFullYear(),u=(0,zs.addLeadingZeros)(n.getHours(),2),c=(0,zs.addLeadingZeros)(n.getMinutes(),2),d=(0,zs.addLeadingZeros)(n.getSeconds(),2);let m="";if(r>0){const E=n.getMilliseconds(),O=Math.trunc(E*Math.pow(10,r-3));m="."+(0,zs.addLeadingZeros)(O,r)}let g="";const _=n.getTimezoneOffset();if(_!==0){const E=Math.abs(_),O=(0,zs.addLeadingZeros)(Math.trunc(E/60),2),D=(0,zs.addLeadingZeros)(E%60,2);g=`${_<0?"+":"-"}${O}:${D}`}else g="Z";return`${o}-${s}-${i}T${u}:${c}:${d}${m}${g}`}var RP={};RP.formatRFC7231=PF;var dd=po,bF=cs,xF=Y;const TF=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SF=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function PF(t){const e=(0,xF.toDate)(t);if(!(0,bF.isValid)(e))throw new RangeError("Invalid time value");const n=TF[e.getUTCDay()],r=(0,dd.addLeadingZeros)(e.getUTCDate(),2),i=SF[e.getUTCMonth()],s=e.getUTCFullYear(),o=(0,dd.addLeadingZeros)(e.getUTCHours(),2),u=(0,dd.addLeadingZeros)(e.getUTCMinutes(),2),c=(0,dd.addLeadingZeros)(e.getUTCSeconds(),2);return`${n}, ${r} ${i} ${s} ${o}:${u}:${c} GMT`}var AP={};AP.formatRelative=NF;var DF=go,IF=un,OF=Xe,CF=ls,MF=w_;function NF(t,e,n){var g,_,E,O;const[r,i]=(0,OF.normalizeDates)(n==null?void 0:n.in,t,e),s=(0,IF.getDefaultOptions)(),o=(n==null?void 0:n.locale)??s.locale??DF.defaultLocale,u=(n==null?void 0:n.weekStartsOn)??((_=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??s.weekStartsOn??((O=(E=s.locale)==null?void 0:E.options)==null?void 0:O.weekStartsOn)??0,c=(0,CF.differenceInCalendarDays)(r,i);if(isNaN(c))throw new RangeError("Invalid time value");let d;c<-6?d="other":c<-1?d="lastWeek":c<0?d="yesterday":c<1?d="today":c<2?d="tomorrow":c<7?d="nextWeek":d="other";const m=o.formatRelative(d,r,i,{locale:o,weekStartsOn:u});return(0,MF.format)(r,m,{locale:o,weekStartsOn:u})}var jP={};jP.fromUnixTime=AF;var RF=Y;function AF(t,e){return(0,RF.toDate)(t*1e3,e==null?void 0:e.in)}var C_={};C_.getDate=FF;var jF=Y;function FF(t,e){return(0,jF.toDate)(t,e==null?void 0:e.in).getDate()}var Ic={};Ic.getDay=kF;var LF=Y;function kF(t,e){return(0,LF.toDate)(t,e==null?void 0:e.in).getDay()}var M_={};M_.getDaysInMonth=WF;var VF=me,zF=Y;function WF(t,e){const n=(0,zF.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),s=(0,VF.constructFrom)(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}var FP={},N_={};N_.isLeapYear=BF;var UF=Y;function BF(t,e){const r=(0,UF.toDate)(t,e==null?void 0:e.in).getFullYear();return r%400===0||r%4===0&&r%100!==0}FP.getDaysInYear=YF;var $F=N_,HF=Y;function YF(t,e){const n=(0,HF.toDate)(t,e==null?void 0:e.in);return Number.isNaN(+n)?NaN:(0,$F.isLeapYear)(n)?366:365}var LP={};LP.getDecade=GF;var qF=Y;function GF(t,e){const r=(0,qF.toDate)(t,e==null?void 0:e.in).getFullYear();return Math.floor(r/10)*10}var R_={};R_.getDefaultOptions=KF;var QF=un;function KF(){return Object.assign({},(0,QF.getDefaultOptions)())}var kP={};kP.getHours=JF;var XF=Y;function JF(t,e){return(0,XF.toDate)(t,e==null?void 0:e.in).getHours()}var A_={};A_.getISODay=eL;var ZF=Y;function eL(t,e){const n=(0,ZF.toDate)(t,e==null?void 0:e.in).getDay();return n===0?7:n}var VP={};VP.getISOWeeksInYear=rL;var tL=bc,nL=ee,EE=Al;function rL(t,e){const n=(0,EE.startOfISOWeekYear)(t,e),i=+(0,EE.startOfISOWeekYear)((0,tL.addWeeks)(n,60))-+n;return Math.round(i/nL.millisecondsInWeek)}var zP={};zP.getMilliseconds=sL;var iL=Y;function sL(t){return(0,iL.toDate)(t).getMilliseconds()}var WP={};WP.getMinutes=oL;var aL=Y;function oL(t,e){return(0,aL.toDate)(t,e==null?void 0:e.in).getMinutes()}var UP={};UP.getMonth=uL;var lL=Y;function uL(t,e){return(0,lL.toDate)(t,e==null?void 0:e.in).getMonth()}var BP={};BP.getOverlappingDaysInIntervals=dL;var bE=us,cL=ee,fd=Y;function dL(t,e){const[n,r]=[+(0,fd.toDate)(t.start),+(0,fd.toDate)(t.end)].sort((g,_)=>g-_),[i,s]=[+(0,fd.toDate)(e.start),+(0,fd.toDate)(e.end)].sort((g,_)=>g-_);if(!(n<s&&i<r))return 0;const u=i<n?n:i,c=u-(0,bE.getTimezoneOffsetInMilliseconds)(u),d=s>r?r:s,m=d-(0,bE.getTimezoneOffsetInMilliseconds)(d);return Math.ceil((m-c)/cL.millisecondsInDay)}var $P={};$P.getSeconds=hL;var fL=Y;function hL(t){return(0,fL.toDate)(t).getSeconds()}var HP={};HP.getTime=gL;var mL=Y;function gL(t){return+(0,mL.toDate)(t)}var YP={};YP.getUnixTime=vL;var pL=Y;function vL(t){return Math.trunc(+(0,pL.toDate)(t)/1e3)}var qP={};qP.getWeekOfMonth=xL;var _L=un,yL=C_,wL=Ic,EL=Sc,bL=Y;function xL(t,e){var c,d,m,g;const n=(0,_L.getDefaultOptions)(),r=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((g=(m=n.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,i=(0,yL.getDate)((0,bL.toDate)(t,e==null?void 0:e.in));if(isNaN(i))return NaN;const s=(0,wL.getDay)((0,EL.startOfMonth)(t,e));let o=r-s;o<=0&&(o+=7);const u=i-o;return Math.ceil(u/7)+1}var GP={},j_={};j_.lastDayOfMonth=TL;var xE=Y;function TL(t,e){const n=(0,xE.toDate)(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(0,0,0,0),(0,xE.toDate)(n,e==null?void 0:e.in)}GP.getWeeksInMonth=OL;var SL=oh,PL=j_,DL=Sc,IL=Y;function OL(t,e){const n=(0,IL.toDate)(t,e==null?void 0:e.in);return(0,SL.differenceInCalendarWeeks)((0,PL.lastDayOfMonth)(n,e),(0,DL.startOfMonth)(n,e),e)+1}var QP={};QP.getYear=ML;var CL=Y;function ML(t,e){return(0,CL.toDate)(t,e==null?void 0:e.in).getFullYear()}var KP={};KP.hoursToMilliseconds=RL;var NL=ee;function RL(t){return Math.trunc(t*NL.millisecondsInHour)}var XP={};XP.hoursToMinutes=jL;var AL=ee;function jL(t){return Math.trunc(t*AL.minutesInHour)}var JP={};JP.hoursToSeconds=LL;var FL=ee;function LL(t){return Math.trunc(t*FL.secondsInHour)}var ZP={};ZP.interval=VL;var kL=Xe;function VL(t,e,n){const[r,i]=(0,kL.normalizeDates)(n==null?void 0:n.in,t,e);if(isNaN(+r))throw new TypeError("Start date is invalid");if(isNaN(+i))throw new TypeError("End date is invalid");if(n!=null&&n.assertPositive&&+r>+i)throw new TypeError("End date must be after start date");return{start:r,end:i}}var eD={};eD.intervalToDuration=qL;var zL=_i,nu=Jv,WL=uh,UL=ch,BL=fh,$L=xc,HL=Tc,YL=p_;function qL(t,e){const{start:n,end:r}=(0,zL.normalizeInterval)(e==null?void 0:e.in,t),i={},s=(0,YL.differenceInYears)(r,n);s&&(i.years=s);const o=(0,nu.add)(n,{years:i.years}),u=(0,$L.differenceInMonths)(r,o);u&&(i.months=u);const c=(0,nu.add)(o,{months:i.months}),d=(0,WL.differenceInDays)(r,c);d&&(i.days=d);const m=(0,nu.add)(c,{days:i.days}),g=(0,UL.differenceInHours)(r,m);g&&(i.hours=g);const _=(0,nu.add)(m,{hours:i.hours}),E=(0,BL.differenceInMinutes)(r,_);E&&(i.minutes=E);const O=(0,nu.add)(_,{minutes:i.minutes}),D=(0,HL.differenceInSeconds)(r,O);return D&&(i.seconds=D),i}var tD={};tD.intlFormat=QL;var GL=Y;function QL(t,e,n){let r;return KL(e)?r=e:n=e,new Intl.DateTimeFormat(n==null?void 0:n.locale,r).format((0,GL.toDate)(t))}function KL(t){return t!==void 0&&!("locale"in t)}var nD={};nD.intlFormatDistance=JL;var XL=Xe,ja=ee,rg=ls,TE=ah,ig=f_,SE=oh,sg=lh,PE=ch,DE=fh,ag=Tc;function JL(t,e,n){let r=0,i;const[s,o]=(0,XL.normalizeDates)(n==null?void 0:n.in,t,e);if(n!=null&&n.unit)i=n==null?void 0:n.unit,i==="second"?r=(0,ag.differenceInSeconds)(s,o):i==="minute"?r=(0,DE.differenceInMinutes)(s,o):i==="hour"?r=(0,PE.differenceInHours)(s,o):i==="day"?r=(0,rg.differenceInCalendarDays)(s,o):i==="week"?r=(0,SE.differenceInCalendarWeeks)(s,o):i==="month"?r=(0,TE.differenceInCalendarMonths)(s,o):i==="quarter"?r=(0,ig.differenceInCalendarQuarters)(s,o):i==="year"&&(r=(0,sg.differenceInCalendarYears)(s,o));else{const c=(0,ag.differenceInSeconds)(s,o);Math.abs(c)<ja.secondsInMinute?(r=(0,ag.differenceInSeconds)(s,o),i="second"):Math.abs(c)<ja.secondsInHour?(r=(0,DE.differenceInMinutes)(s,o),i="minute"):Math.abs(c)<ja.secondsInDay&&Math.abs((0,rg.differenceInCalendarDays)(s,o))<1?(r=(0,PE.differenceInHours)(s,o),i="hour"):Math.abs(c)<ja.secondsInWeek&&(r=(0,rg.differenceInCalendarDays)(s,o))&&Math.abs(r)<7?i="day":Math.abs(c)<ja.secondsInMonth?(r=(0,SE.differenceInCalendarWeeks)(s,o),i="week"):Math.abs(c)<ja.secondsInQuarter?(r=(0,TE.differenceInCalendarMonths)(s,o),i="month"):Math.abs(c)<ja.secondsInYear&&(0,ig.differenceInCalendarQuarters)(s,o)<4?(r=(0,ig.differenceInCalendarQuarters)(s,o),i="quarter"):(r=(0,sg.differenceInCalendarYears)(s,o),i="year")}return new Intl.RelativeTimeFormat(n==null?void 0:n.locale,{numeric:"auto",...n}).format(r,i)}var rD={};rD.isAfter=ZL;var IE=Y;function ZL(t,e){return+(0,IE.toDate)(t)>+(0,IE.toDate)(e)}var iD={};iD.isBefore=ek;var OE=Y;function ek(t,e){return+(0,OE.toDate)(t)<+(0,OE.toDate)(e)}var sD={};sD.isEqual=tk;var CE=Y;function tk(t,e){return+(0,CE.toDate)(t)==+(0,CE.toDate)(e)}var aD={};aD.isExists=nk;function nk(t,e,n){const r=new Date(t,e,n);return r.getFullYear()===t&&r.getMonth()===e&&r.getDate()===n}var oD={};oD.isFirstDayOfMonth=ik;var rk=Y;function ik(t,e){return(0,rk.toDate)(t,e==null?void 0:e.in).getDate()===1}var lD={};lD.isFriday=ak;var sk=Y;function ak(t,e){return(0,sk.toDate)(t,e==null?void 0:e.in).getDay()===5}var uD={};uD.isFuture=lk;var ok=Y;function lk(t){return+(0,ok.toDate)(t)>Date.now()}var cD={},F_={},aa={},L_={};L_.transpose=ck;var uk=me;function ck(t,e){const n=dk(e)?new e(0):(0,uk.constructFrom)(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function dk(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}aa.ValueSetter=aa.Setter=aa.DateTimezoneSetter=void 0;var ME=me,fk=L_;const hk=10;class k_{constructor(){ie(this,"subPriority",0)}validate(e,n){return!0}}aa.Setter=k_;class mk extends k_{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}aa.ValueSetter=mk;class gk extends k_{constructor(n,r){super();ie(this,"priority",hk);ie(this,"subPriority",-1);this.context=n||(i=>(0,ME.constructFrom)(r,i))}set(n,r){return r.timestampIsSet?n:(0,ME.constructFrom)(n,(0,fk.transpose)(n,this.context))}}aa.DateTimezoneSetter=gk;var V_={},z_={},Be={};Be.Parser=void 0;var pk=aa;class vk{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new pk.ValueSetter(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}Be.Parser=vk;z_.EraParser=void 0;var _k=Be;class yk extends _k.Parser{constructor(){super(...arguments);ie(this,"priority",140);ie(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}z_.EraParser=yk;var W_={},Me={},$t={};$t.timezonePatterns=$t.numericPatterns=void 0;$t.numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/};$t.timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};Me.dayPeriodEnumToHours=Sk;Me.isLeapYearIndex=Dk;Me.mapValue=wk;Me.normalizeTwoDigitYear=Pk;Me.parseAnyDigitsSigned=bk;Me.parseNDigits=xk;Me.parseNDigitsSigned=Tk;Me.parseNumericPattern=pr;Me.parseTimezonePattern=Ek;var og=ee,$i=$t;function wk(t,e){return t&&{value:e(t.value),rest:t.rest}}function pr(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Ek(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*og.millisecondsInHour+s*og.millisecondsInMinute+o*og.millisecondsInSecond),rest:e.slice(n[0].length)}}function bk(t){return pr($i.numericPatterns.anyDigitsSigned,t)}function xk(t,e){switch(t){case 1:return pr($i.numericPatterns.singleDigit,e);case 2:return pr($i.numericPatterns.twoDigits,e);case 3:return pr($i.numericPatterns.threeDigits,e);case 4:return pr($i.numericPatterns.fourDigits,e);default:return pr(new RegExp("^\\d{1,"+t+"}"),e)}}function Tk(t,e){switch(t){case 1:return pr($i.numericPatterns.singleDigitSigned,e);case 2:return pr($i.numericPatterns.twoDigitsSigned,e);case 3:return pr($i.numericPatterns.threeDigitsSigned,e);case 4:return pr($i.numericPatterns.fourDigitsSigned,e);default:return pr(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Sk(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Pk(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,u=t>=s%100;i=t+o-(u?100:0)}return n?i:1-i}function Dk(t){return t%400===0||t%4===0&&t%100!==0}W_.YearParser=void 0;var Ik=Be,Vo=Me;class Ok extends Ik.Parser{constructor(){super(...arguments);ie(this,"priority",130);ie(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return(0,Vo.mapValue)((0,Vo.parseNDigits)(4,n),s);case"yo":return(0,Vo.mapValue)(i.ordinalNumber(n,{unit:"year"}),s);default:return(0,Vo.mapValue)((0,Vo.parseNDigits)(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const u=(0,Vo.normalizeTwoDigitYear)(i.year,s);return n.setFullYear(u,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}W_.YearParser=Ok;var U_={};U_.LocalWeekYearParser=void 0;var Ck=Pc,NE=Wr,Mk=Be,zo=Me;class Nk extends Mk.Parser{constructor(){super(...arguments);ie(this,"priority",130);ie(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return(0,zo.mapValue)((0,zo.parseNDigits)(4,n),s);case"Yo":return(0,zo.mapValue)(i.ordinalNumber(n,{unit:"year"}),s);default:return(0,zo.mapValue)((0,zo.parseNDigits)(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=(0,Ck.getWeekYear)(n,s);if(i.isTwoDigitYear){const c=(0,zo.normalizeTwoDigitYear)(i.year,o);return n.setFullYear(c,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),(0,NE.startOfWeek)(n,s)}const u=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(u,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),(0,NE.startOfWeek)(n,s)}}U_.LocalWeekYearParser=Nk;var B_={};B_.ISOWeekYearParser=void 0;var Rk=vi,Ak=me,jk=Be,RE=Me;class Fk extends jk.Parser{constructor(){super(...arguments);ie(this,"priority",130);ie(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return r==="R"?(0,RE.parseNDigitsSigned)(4,n):(0,RE.parseNDigitsSigned)(r.length,n)}set(n,r,i){const s=(0,Ak.constructFrom)(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),(0,Rk.startOfISOWeek)(s)}}B_.ISOWeekYearParser=Fk;var $_={};$_.ExtendedYearParser=void 0;var Lk=Be,AE=Me;class kk extends Lk.Parser{constructor(){super(...arguments);ie(this,"priority",130);ie(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return r==="u"?(0,AE.parseNDigitsSigned)(4,n):(0,AE.parseNDigitsSigned)(r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}$_.ExtendedYearParser=kk;var H_={};H_.QuarterParser=void 0;var Vk=Be,zk=Me;class Wk extends Vk.Parser{constructor(){super(...arguments);ie(this,"priority",120);ie(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return(0,zk.parseNDigits)(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}H_.QuarterParser=Wk;var Y_={};Y_.StandAloneQuarterParser=void 0;var Uk=Be,Bk=Me;class $k extends Uk.Parser{constructor(){super(...arguments);ie(this,"priority",120);ie(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return(0,Bk.parseNDigits)(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}Y_.StandAloneQuarterParser=$k;var q_={};q_.MonthParser=void 0;var Hk=$t,Yk=Be,ru=Me;class qk extends Yk.Parser{constructor(){super(...arguments);ie(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ie(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return(0,ru.mapValue)((0,ru.parseNumericPattern)(Hk.numericPatterns.month,n),s);case"MM":return(0,ru.mapValue)((0,ru.parseNDigits)(2,n),s);case"Mo":return(0,ru.mapValue)(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}q_.MonthParser=qk;var G_={};G_.StandAloneMonthParser=void 0;var Gk=$t,Qk=Be,iu=Me;class Kk extends Qk.Parser{constructor(){super(...arguments);ie(this,"priority",110);ie(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return(0,iu.mapValue)((0,iu.parseNumericPattern)(Gk.numericPatterns.month,n),s);case"LL":return(0,iu.mapValue)((0,iu.parseNDigits)(2,n),s);case"Lo":return(0,iu.mapValue)(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}G_.StandAloneMonthParser=Kk;var Q_={},K_={};K_.setWeek=Jk;var Xk=wh,jE=Y;function Jk(t,e,n){const r=(0,jE.toDate)(t,n==null?void 0:n.in),i=(0,Xk.getWeek)(r,n)-e;return r.setDate(r.getDate()-i*7),(0,jE.toDate)(r,n==null?void 0:n.in)}Q_.LocalWeekParser=void 0;var Zk=K_,eV=Wr,tV=$t,nV=Be,FE=Me;class rV extends nV.Parser{constructor(){super(...arguments);ie(this,"priority",100);ie(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return(0,FE.parseNumericPattern)(tV.numericPatterns.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return(0,FE.parseNDigits)(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return(0,eV.startOfWeek)((0,Zk.setWeek)(n,i,s),s)}}Q_.LocalWeekParser=rV;var X_={},J_={};J_.setISOWeek=aV;var iV=yh,sV=Y;function aV(t,e,n){const r=(0,sV.toDate)(t,n==null?void 0:n.in),i=(0,iV.getISOWeek)(r,n)-e;return r.setDate(r.getDate()-i*7),r}X_.ISOWeekParser=void 0;var oV=J_,lV=vi,uV=$t,cV=Be,LE=Me;class dV extends cV.Parser{constructor(){super(...arguments);ie(this,"priority",100);ie(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return(0,LE.parseNumericPattern)(uV.numericPatterns.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return(0,LE.parseNDigits)(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return(0,lV.startOfISOWeek)((0,oV.setISOWeek)(n,i))}}X_.ISOWeekParser=dV;var Z_={};Z_.DateParser=void 0;var fV=$t,hV=Be,lg=Me;const mV=[31,28,31,30,31,30,31,31,30,31,30,31],gV=[31,29,31,30,31,30,31,31,30,31,30,31];class pV extends hV.Parser{constructor(){super(...arguments);ie(this,"priority",90);ie(this,"subPriority",1);ie(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return(0,lg.parseNumericPattern)(fV.numericPatterns.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return(0,lg.parseNDigits)(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=(0,lg.isLeapYearIndex)(i),o=n.getMonth();return s?r>=1&&r<=gV[o]:r>=1&&r<=mV[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}Z_.DateParser=pV;var e0={};e0.DayOfYearParser=void 0;var vV=$t,_V=Be,ug=Me;class yV extends _V.Parser{constructor(){super(...arguments);ie(this,"priority",90);ie(this,"subpriority",1);ie(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return(0,ug.parseNumericPattern)(vV.numericPatterns.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return(0,ug.parseNDigits)(r.length,n)}}validate(n,r){const i=n.getFullYear();return(0,ug.isLeapYearIndex)(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}e0.DayOfYearParser=yV;var t0={},Oc={};Oc.setDay=xV;var wV=un,EV=pi,bV=Y;function xV(t,e,n){var g,_,E,O;const r=(0,wV.getDefaultOptions)(),i=(n==null?void 0:n.weekStartsOn)??((_=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((O=(E=r.locale)==null?void 0:E.options)==null?void 0:O.weekStartsOn)??0,s=(0,bV.toDate)(t,n==null?void 0:n.in),o=s.getDay(),c=(e%7+7)%7,d=7-i,m=e<0||e>6?e-(o+d)%7:(c+d)%7-(o+d)%7;return(0,EV.addDays)(s,m,n)}t0.DayParser=void 0;var TV=Oc,SV=Be;class PV extends SV.Parser{constructor(){super(...arguments);ie(this,"priority",90);ie(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=(0,TV.setDay)(n,i,s),n.setHours(0,0,0,0),n}}t0.DayParser=PV;var n0={};n0.LocalDayParser=void 0;var DV=Oc,IV=Be,cg=Me;class OV extends IV.Parser{constructor(){super(...arguments);ie(this,"priority",90);ie(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=u=>{const c=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return(0,cg.mapValue)((0,cg.parseNDigits)(r.length,n),o);case"eo":return(0,cg.mapValue)(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=(0,DV.setDay)(n,i,s),n.setHours(0,0,0,0),n}}n0.LocalDayParser=OV;var r0={};r0.StandAloneLocalDayParser=void 0;var CV=Oc,MV=Be,dg=Me;class NV extends MV.Parser{constructor(){super(...arguments);ie(this,"priority",90);ie(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=u=>{const c=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return(0,dg.mapValue)((0,dg.parseNDigits)(r.length,n),o);case"co":return(0,dg.mapValue)(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=(0,CV.setDay)(n,i,s),n.setHours(0,0,0,0),n}}r0.StandAloneLocalDayParser=NV;var i0={},s0={};s0.setISODay=FV;var RV=pi,AV=A_,jV=Y;function FV(t,e,n){const r=(0,jV.toDate)(t,n==null?void 0:n.in),i=(0,AV.getISODay)(r,n),s=e-i;return(0,RV.addDays)(r,s,n)}i0.ISODayParser=void 0;var LV=s0,kV=Be,su=Me;class VV extends kV.Parser{constructor(){super(...arguments);ie(this,"priority",90);ie(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return(0,su.parseNDigits)(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return(0,su.mapValue)(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return(0,su.mapValue)(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return(0,su.mapValue)(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return(0,su.mapValue)(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=(0,LV.setISODay)(n,i),n.setHours(0,0,0,0),n}}i0.ISODayParser=VV;var a0={};a0.AMPMParser=void 0;var zV=Be,WV=Me;class UV extends zV.Parser{constructor(){super(...arguments);ie(this,"priority",80);ie(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours((0,WV.dayPeriodEnumToHours)(i),0,0,0),n}}a0.AMPMParser=UV;var o0={};o0.AMPMMidnightParser=void 0;var BV=Be,$V=Me;class HV extends BV.Parser{constructor(){super(...arguments);ie(this,"priority",80);ie(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours((0,$V.dayPeriodEnumToHours)(i),0,0,0),n}}o0.AMPMMidnightParser=HV;var l0={};l0.DayPeriodParser=void 0;var YV=Be,qV=Me;class GV extends YV.Parser{constructor(){super(...arguments);ie(this,"priority",80);ie(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours((0,qV.dayPeriodEnumToHours)(i),0,0,0),n}}l0.DayPeriodParser=GV;var u0={};u0.Hour1to12Parser=void 0;var QV=$t,KV=Be,kE=Me;class XV extends KV.Parser{constructor(){super(...arguments);ie(this,"priority",70);ie(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return(0,kE.parseNumericPattern)(QV.numericPatterns.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return(0,kE.parseNDigits)(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}u0.Hour1to12Parser=XV;var c0={};c0.Hour0to23Parser=void 0;var JV=$t,ZV=Be,VE=Me;class e6 extends ZV.Parser{constructor(){super(...arguments);ie(this,"priority",70);ie(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return(0,VE.parseNumericPattern)(JV.numericPatterns.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return(0,VE.parseNDigits)(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}c0.Hour0to23Parser=e6;var d0={};d0.Hour0To11Parser=void 0;var t6=$t,n6=Be,zE=Me;class r6 extends n6.Parser{constructor(){super(...arguments);ie(this,"priority",70);ie(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return(0,zE.parseNumericPattern)(t6.numericPatterns.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return(0,zE.parseNDigits)(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}d0.Hour0To11Parser=r6;var f0={};f0.Hour1To24Parser=void 0;var i6=$t,s6=Be,WE=Me;class a6 extends s6.Parser{constructor(){super(...arguments);ie(this,"priority",70);ie(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return(0,WE.parseNumericPattern)(i6.numericPatterns.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return(0,WE.parseNDigits)(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}f0.Hour1To24Parser=a6;var h0={};h0.MinuteParser=void 0;var o6=$t,l6=Be,UE=Me;class u6 extends l6.Parser{constructor(){super(...arguments);ie(this,"priority",60);ie(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return(0,UE.parseNumericPattern)(o6.numericPatterns.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return(0,UE.parseNDigits)(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}h0.MinuteParser=u6;var m0={};m0.SecondParser=void 0;var c6=$t,d6=Be,BE=Me;class f6 extends d6.Parser{constructor(){super(...arguments);ie(this,"priority",50);ie(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return(0,BE.parseNumericPattern)(c6.numericPatterns.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return(0,BE.parseNDigits)(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}m0.SecondParser=f6;var g0={};g0.FractionOfSecondParser=void 0;var h6=Be,$E=Me;class m6 extends h6.Parser{constructor(){super(...arguments);ie(this,"priority",30);ie(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return(0,$E.mapValue)((0,$E.parseNDigits)(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}g0.FractionOfSecondParser=m6;var p0={};p0.ISOTimezoneWithZParser=void 0;var g6=me,p6=us,au=$t,v6=Be,ou=Me;class _6 extends v6.Parser{constructor(){super(...arguments);ie(this,"priority",10);ie(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return(0,ou.parseTimezonePattern)(au.timezonePatterns.basicOptionalMinutes,n);case"XX":return(0,ou.parseTimezonePattern)(au.timezonePatterns.basic,n);case"XXXX":return(0,ou.parseTimezonePattern)(au.timezonePatterns.basicOptionalSeconds,n);case"XXXXX":return(0,ou.parseTimezonePattern)(au.timezonePatterns.extendedOptionalSeconds,n);case"XXX":default:return(0,ou.parseTimezonePattern)(au.timezonePatterns.extended,n)}}set(n,r,i){return r.timestampIsSet?n:(0,g6.constructFrom)(n,n.getTime()-(0,p6.getTimezoneOffsetInMilliseconds)(n)-i)}}p0.ISOTimezoneWithZParser=_6;var v0={};v0.ISOTimezoneParser=void 0;var y6=me,w6=us,lu=$t,E6=Be,uu=Me;class b6 extends E6.Parser{constructor(){super(...arguments);ie(this,"priority",10);ie(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return(0,uu.parseTimezonePattern)(lu.timezonePatterns.basicOptionalMinutes,n);case"xx":return(0,uu.parseTimezonePattern)(lu.timezonePatterns.basic,n);case"xxxx":return(0,uu.parseTimezonePattern)(lu.timezonePatterns.basicOptionalSeconds,n);case"xxxxx":return(0,uu.parseTimezonePattern)(lu.timezonePatterns.extendedOptionalSeconds,n);case"xxx":default:return(0,uu.parseTimezonePattern)(lu.timezonePatterns.extended,n)}}set(n,r,i){return r.timestampIsSet?n:(0,y6.constructFrom)(n,n.getTime()-(0,w6.getTimezoneOffsetInMilliseconds)(n)-i)}}v0.ISOTimezoneParser=b6;var _0={};_0.TimestampSecondsParser=void 0;var x6=me,T6=Be,S6=Me;class P6 extends T6.Parser{constructor(){super(...arguments);ie(this,"priority",40);ie(this,"incompatibleTokens","*")}parse(n){return(0,S6.parseAnyDigitsSigned)(n)}set(n,r,i){return[(0,x6.constructFrom)(n,i*1e3),{timestampIsSet:!0}]}}_0.TimestampSecondsParser=P6;var y0={};y0.TimestampMillisecondsParser=void 0;var D6=me,I6=Be,O6=Me;class C6 extends I6.Parser{constructor(){super(...arguments);ie(this,"priority",20);ie(this,"incompatibleTokens","*")}parse(n){return(0,O6.parseAnyDigitsSigned)(n)}set(n,r,i){return[(0,D6.constructFrom)(n,i),{timestampIsSet:!0}]}}y0.TimestampMillisecondsParser=C6;V_.parsers=void 0;var M6=z_,N6=W_,R6=U_,A6=B_,j6=$_,F6=H_,L6=Y_,k6=q_,V6=G_,z6=Q_,W6=X_,U6=Z_,B6=e0,$6=t0,H6=n0,Y6=r0,q6=i0,G6=a0,Q6=o0,K6=l0,X6=u0,J6=c0,Z6=d0,e5=f0,t5=h0,n5=m0,r5=g0,i5=p0,s5=v0,a5=_0,o5=y0;V_.parsers={G:new M6.EraParser,y:new N6.YearParser,Y:new R6.LocalWeekYearParser,R:new A6.ISOWeekYearParser,u:new j6.ExtendedYearParser,Q:new F6.QuarterParser,q:new L6.StandAloneQuarterParser,M:new k6.MonthParser,L:new V6.StandAloneMonthParser,w:new z6.LocalWeekParser,I:new W6.ISOWeekParser,d:new U6.DateParser,D:new B6.DayOfYearParser,E:new $6.DayParser,e:new H6.LocalDayParser,c:new Y6.StandAloneLocalDayParser,i:new q6.ISODayParser,a:new G6.AMPMParser,b:new Q6.AMPMMidnightParser,B:new K6.DayPeriodParser,h:new X6.Hour1to12Parser,H:new J6.Hour0to23Parser,K:new Z6.Hour0To11Parser,k:new e5.Hour1To24Parser,m:new t5.MinuteParser,s:new n5.SecondParser,S:new r5.FractionOfSecondParser,X:new i5.ISOTimezoneWithZParser,x:new s5.ISOTimezoneParser,t:new a5.TimestampSecondsParser,T:new o5.TimestampMillisecondsParser};(function(t){Object.defineProperty(t,"longFormatters",{enumerable:!0,get:function(){return n.longFormatters}}),t.parse=D,Object.defineProperty(t,"parsers",{enumerable:!0,get:function(){return c.parsers}});var e=go,n=xh,r=Dc,i=me,s=R_,o=Y,u=aa,c=V_;const d=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,m=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g=/^'([^]*?)'?$/,_=/''/g,E=/\S/,O=/[a-zA-Z]/;function D(b,S,C,j){var Se,Q,oe,ce,Ce,G,$,k;const H=()=>(0,i.constructFrom)((j==null?void 0:j.in)||C,NaN),q=(0,s.getDefaultOptions)(),T=(j==null?void 0:j.locale)??q.locale??e.defaultLocale,w=(j==null?void 0:j.firstWeekContainsDate)??((Q=(Se=j==null?void 0:j.locale)==null?void 0:Se.options)==null?void 0:Q.firstWeekContainsDate)??q.firstWeekContainsDate??((ce=(oe=q.locale)==null?void 0:oe.options)==null?void 0:ce.firstWeekContainsDate)??1,P=(j==null?void 0:j.weekStartsOn)??((G=(Ce=j==null?void 0:j.locale)==null?void 0:Ce.options)==null?void 0:G.weekStartsOn)??q.weekStartsOn??((k=($=q.locale)==null?void 0:$.options)==null?void 0:k.weekStartsOn)??0;if(!S)return b?H():(0,o.toDate)(C,j==null?void 0:j.in);const x={firstWeekContainsDate:w,weekStartsOn:P,locale:T},N=[new u.DateTimezoneSetter(j==null?void 0:j.in,C)],F=S.match(m).map(M=>{const W=M[0];if(W in n.longFormatters){const ne=n.longFormatters[W];return ne(M,T.formatLong)}return M}).join("").match(d),I=[];for(let M of F){!(j!=null&&j.useAdditionalWeekYearTokens)&&(0,r.isProtectedWeekYearToken)(M)&&(0,r.warnOrThrowProtectedError)(M,S,b),!(j!=null&&j.useAdditionalDayOfYearTokens)&&(0,r.isProtectedDayOfYearToken)(M)&&(0,r.warnOrThrowProtectedError)(M,S,b);const W=M[0],ne=c.parsers[W];if(ne){const{incompatibleTokens:ae}=ne;if(Array.isArray(ae)){const de=I.find(ye=>ae.includes(ye.token)||ye.token===W);if(de)throw new RangeError(`The format string mustn't contain \`${de.fullToken}\` and \`${M}\` at the same time`)}else if(ne.incompatibleTokens==="*"&&I.length>0)throw new RangeError(`The format string mustn't contain \`${M}\` and any other token at the same time`);I.push({token:W,fullToken:M});const le=ne.run(b,M,T.match,x);if(!le)return H();N.push(le.setter),b=le.rest}else{if(W.match(O))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");if(M==="''"?M="'":W==="'"&&(M=A(M)),b.indexOf(M)===0)b=b.slice(M.length);else return H()}}if(b.length>0&&E.test(b))return H();const Re=N.map(M=>M.priority).sort((M,W)=>W-M).filter((M,W,ne)=>ne.indexOf(M)===W).map(M=>N.filter(W=>W.priority===M).sort((W,ne)=>ne.subPriority-W.subPriority)).map(M=>M[0]);let ze=(0,o.toDate)(C,j==null?void 0:j.in);if(isNaN(+ze))return H();const wt={};for(const M of Re){if(!M.validate(ze,x))return H();const W=M.set(ze,wt,x);Array.isArray(W)?(ze=W[0],Object.assign(wt,W[1])):ze=W}return ze}function A(b){return b.match(g)[1].replace(_,"'")}})(F_);cD.isMatch=c5;var l5=cs,u5=F_;function c5(t,e,n){return(0,l5.isValid)((0,u5.parse)(t,e,new Date,n))}var dD={};dD.isMonday=f5;var d5=Y;function f5(t,e){return(0,d5.toDate)(t,e==null?void 0:e.in).getDay()===1}var fD={};fD.isPast=m5;var h5=Y;function m5(t){return+(0,h5.toDate)(t)<Date.now()}var w0={},E0={};E0.startOfHour=p5;var g5=Y;function p5(t,e){const n=(0,g5.toDate)(t,e==null?void 0:e.in);return n.setMinutes(0,0,0),n}w0.isSameHour=_5;var v5=Xe,HE=E0;function _5(t,e,n){const[r,i]=(0,v5.normalizeDates)(n==null?void 0:n.in,t,e);return+(0,HE.startOfHour)(r)==+(0,HE.startOfHour)(i)}var b0={},Th={};Th.isSameWeek=w5;var y5=Xe,YE=Wr;function w5(t,e,n){const[r,i]=(0,y5.normalizeDates)(n==null?void 0:n.in,t,e);return+(0,YE.startOfWeek)(r,n)==+(0,YE.startOfWeek)(i,n)}b0.isSameISOWeek=b5;var E5=Th;function b5(t,e,n){return(0,E5.isSameWeek)(t,e,{...n,weekStartsOn:1})}var hD={};hD.isSameISOWeekYear=T5;var qE=Al,x5=Xe;function T5(t,e,n){const[r,i]=(0,x5.normalizeDates)(n==null?void 0:n.in,t,e);return+(0,qE.startOfISOWeekYear)(r)==+(0,qE.startOfISOWeekYear)(i)}var x0={},T0={};T0.startOfMinute=P5;var S5=Y;function P5(t,e){const n=(0,S5.toDate)(t,e==null?void 0:e.in);return n.setSeconds(0,0),n}x0.isSameMinute=D5;var GE=T0;function D5(t,e){return+(0,GE.startOfMinute)(t)==+(0,GE.startOfMinute)(e)}var S0={};S0.isSameMonth=O5;var I5=Xe;function O5(t,e,n){const[r,i]=(0,I5.normalizeDates)(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}var P0={};P0.isSameQuarter=M5;var C5=Xe,QE=gh;function M5(t,e,n){const[r,i]=(0,C5.normalizeDates)(n==null?void 0:n.in,t,e);return+(0,QE.startOfQuarter)(r)==+(0,QE.startOfQuarter)(i)}var D0={},I0={};I0.startOfSecond=R5;var N5=Y;function R5(t,e){const n=(0,N5.toDate)(t,e==null?void 0:e.in);return n.setMilliseconds(0),n}D0.isSameSecond=A5;var KE=I0;function A5(t,e){return+(0,KE.startOfSecond)(t)==+(0,KE.startOfSecond)(e)}var O0={};O0.isSameYear=F5;var j5=Xe;function F5(t,e,n){const[r,i]=(0,j5.normalizeDates)(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}var mD={};mD.isThisHour=z5;var L5=Ht,k5=w0,V5=Y;function z5(t,e){return(0,k5.isSameHour)((0,V5.toDate)(t,e==null?void 0:e.in),(0,L5.constructNow)((e==null?void 0:e.in)||t))}var gD={};gD.isThisISOWeek=$5;var W5=me,U5=Ht,B5=b0;function $5(t,e){return(0,B5.isSameISOWeek)((0,W5.constructFrom)((e==null?void 0:e.in)||t,t),(0,U5.constructNow)((e==null?void 0:e.in)||t))}var pD={};pD.isThisMinute=q5;var H5=Ht,Y5=x0;function q5(t){return(0,Y5.isSameMinute)(t,(0,H5.constructNow)(t))}var vD={};vD.isThisMonth=X5;var G5=me,Q5=Ht,K5=S0;function X5(t,e){return(0,K5.isSameMonth)((0,G5.constructFrom)((e==null?void 0:e.in)||t,t),(0,Q5.constructNow)((e==null?void 0:e.in)||t))}var _D={};_D.isThisQuarter=t9;var J5=me,Z5=Ht,e9=P0;function t9(t,e){return(0,e9.isSameQuarter)((0,J5.constructFrom)((e==null?void 0:e.in)||t,t),(0,Z5.constructNow)((e==null?void 0:e.in)||t))}var yD={};yD.isThisSecond=i9;var n9=Ht,r9=D0;function i9(t){return(0,r9.isSameSecond)(t,(0,n9.constructNow)(t))}var wD={};wD.isThisWeek=l9;var s9=me,a9=Ht,o9=Th;function l9(t,e){return(0,o9.isSameWeek)((0,s9.constructFrom)((e==null?void 0:e.in)||t,t),(0,a9.constructNow)((e==null?void 0:e.in)||t),e)}var ED={};ED.isThisYear=f9;var u9=me,c9=Ht,d9=O0;function f9(t,e){return(0,d9.isSameYear)((0,u9.constructFrom)((e==null?void 0:e.in)||t,t),(0,c9.constructNow)((e==null?void 0:e.in)||t))}var bD={};bD.isThursday=m9;var h9=Y;function m9(t,e){return(0,h9.toDate)(t,e==null?void 0:e.in).getDay()===4}var xD={};xD.isToday=_9;var g9=me,p9=Ht,v9=jl;function _9(t,e){return(0,v9.isSameDay)((0,g9.constructFrom)((e==null?void 0:e.in)||t,t),(0,p9.constructNow)((e==null?void 0:e.in)||t))}var TD={};TD.isTomorrow=b9;var y9=pi,w9=Ht,E9=jl;function b9(t,e){return(0,E9.isSameDay)(t,(0,y9.addDays)((0,w9.constructNow)((e==null?void 0:e.in)||t),1),e)}var SD={};SD.isTuesday=T9;var x9=Y;function T9(t,e){return(0,x9.toDate)(t,e==null?void 0:e.in).getDay()===2}var PD={};PD.isWednesday=P9;var S9=Y;function P9(t,e){return(0,S9.toDate)(t,e==null?void 0:e.in).getDay()===3}var DD={};DD.isWithinInterval=D9;var fg=Y;function D9(t,e,n){const r=+(0,fg.toDate)(t,n==null?void 0:n.in),[i,s]=[+(0,fg.toDate)(e.start,n==null?void 0:n.in),+(0,fg.toDate)(e.end,n==null?void 0:n.in)].sort((o,u)=>o-u);return r>=i&&r<=s}var ID={},Cc={};Cc.subDays=O9;var I9=pi;function O9(t,e,n){return(0,I9.addDays)(t,-e,n)}ID.isYesterday=A9;var C9=me,M9=Ht,N9=jl,R9=Cc;function A9(t,e){return(0,N9.isSameDay)((0,C9.constructFrom)((e==null?void 0:e.in)||t,t),(0,R9.subDays)((0,M9.constructNow)((e==null?void 0:e.in)||t),1))}var OD={};OD.lastDayOfDecade=j9;var XE=Y;function j9(t,e){const n=(0,XE.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),i=9+Math.floor(r/10)*10;return n.setFullYear(i+1,0,0),n.setHours(0,0,0,0),(0,XE.toDate)(n,e==null?void 0:e.in)}var CD={},C0={};C0.lastDayOfWeek=k9;var F9=un,L9=Y;function k9(t,e){var u,c,d,m;const n=(0,F9.getDefaultOptions)(),r=(e==null?void 0:e.weekStartsOn)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((m=(d=n.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,i=(0,L9.toDate)(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setHours(0,0,0,0),i.setDate(i.getDate()+o),i}CD.lastDayOfISOWeek=z9;var V9=C0;function z9(t,e){return(0,V9.lastDayOfWeek)(t,{...e,weekStartsOn:1})}var MD={};MD.lastDayOfISOWeekYear=$9;var W9=me,U9=ba,B9=vi;function $9(t,e){const n=(0,U9.getISOWeekYear)(t,e),r=(0,W9.constructFrom)((e==null?void 0:e.in)||t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=(0,B9.startOfISOWeek)(r,e);return i.setDate(i.getDate()-1),i}var ND={};ND.lastDayOfQuarter=Y9;var H9=Y;function Y9(t,e){const n=(0,H9.toDate)(t,e==null?void 0:e.in),r=n.getMonth(),i=r-r%3+3;return n.setMonth(i,0),n.setHours(0,0,0,0),n}var RD={};RD.lastDayOfYear=G9;var q9=Y;function G9(t,e){const n=(0,q9.toDate)(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(0,0,0,0),n}var AD={};(function(t){t.lightFormat=c,Object.defineProperty(t,"lightFormatters",{enumerable:!0,get:function(){return e.lightFormatters}});var e=bh,n=cs,r=Y;const i=/(\w)\1*|''|'(''|[^'])+('|$)|./g,s=/^'([^]*?)'?$/,o=/''/g,u=/[a-zA-Z]/;function c(m,g){const _=(0,r.toDate)(m);if(!(0,n.isValid)(_))throw new RangeError("Invalid time value");const E=g.match(i);return E?E.map(D=>{if(D==="''")return"'";const A=D[0];if(A==="'")return d(D);const b=e.lightFormatters[A];if(b)return b(_,D);if(A.match(u))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return D}).join(""):""}function d(m){const g=m.match(s);return g?g[1].replace(o,"'"):m}})(AD);var jD={};jD.milliseconds=Q9;var JE=ee;function Q9({years:t,months:e,weeks:n,days:r,hours:i,minutes:s,seconds:o}){let u=0;t&&(u+=t*JE.daysInYear),e&&(u+=e*(JE.daysInYear/12)),n&&(u+=n*7),r&&(u+=r);let c=u*24*60*60;return i&&(c+=i*60*60),s&&(c+=s*60),o&&(c+=o),Math.trunc(c*1e3)}var FD={};FD.millisecondsToHours=X9;var K9=ee;function X9(t){const e=t/K9.millisecondsInHour;return Math.trunc(e)}var LD={};LD.millisecondsToMinutes=Z9;var J9=ee;function Z9(t){const e=t/J9.millisecondsInMinute;return Math.trunc(e)}var kD={};kD.millisecondsToSeconds=tz;var ez=ee;function tz(t){const e=t/ez.millisecondsInSecond;return Math.trunc(e)}var VD={};VD.minutesToHours=rz;var nz=ee;function rz(t){const e=t/nz.minutesInHour;return Math.trunc(e)}var zD={};zD.minutesToMilliseconds=sz;var iz=ee;function sz(t){return Math.trunc(t*iz.millisecondsInMinute)}var WD={};WD.minutesToSeconds=oz;var az=ee;function oz(t){return Math.trunc(t*az.secondsInMinute)}var UD={};UD.monthsToQuarters=uz;var lz=ee;function uz(t){const e=t/lz.monthsInQuarter;return Math.trunc(e)}var BD={};BD.monthsToYears=dz;var cz=ee;function dz(t){const e=t/cz.monthsInYear;return Math.trunc(e)}var fs={};fs.nextDay=mz;var fz=pi,hz=Ic;function mz(t,e,n){let r=e-(0,hz.getDay)(t,n);return r<=0&&(r+=7),(0,fz.addDays)(t,r,n)}var $D={};$D.nextFriday=pz;var gz=fs;function pz(t,e){return(0,gz.nextDay)(t,5,e)}var HD={};HD.nextMonday=_z;var vz=fs;function _z(t,e){return(0,vz.nextDay)(t,1,e)}var YD={};YD.nextSaturday=wz;var yz=fs;function wz(t,e){return(0,yz.nextDay)(t,6,e)}var qD={};qD.nextSunday=bz;var Ez=fs;function bz(t,e){return(0,Ez.nextDay)(t,0,e)}var GD={};GD.nextThursday=Tz;var xz=fs;function Tz(t,e){return(0,xz.nextDay)(t,4,e)}var QD={};QD.nextTuesday=Pz;var Sz=fs;function Pz(t,e){return(0,Sz.nextDay)(t,2,e)}var KD={};KD.nextWednesday=Iz;var Dz=fs;function Iz(t,e){return(0,Dz.nextDay)(t,3,e)}var XD={};XD.parseISO=Cz;var _f=ee,Oz=me,ZE=Y;function Cz(t,e){const n=()=>(0,Oz.constructFrom)(e==null?void 0:e.in,NaN),r=(e==null?void 0:e.additionalDigits)??2,i=Az(t);let s;if(i.date){const d=jz(i.date,r);s=Fz(d.restDateString,d.year)}if(!s||isNaN(+s))return n();const o=+s;let u=0,c;if(i.time&&(u=Lz(i.time),isNaN(u)))return n();if(i.timezone){if(c=kz(i.timezone),isNaN(c))return n()}else{const d=new Date(o+u),m=(0,ZE.toDate)(0,e==null?void 0:e.in);return m.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),m.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),m}return(0,ZE.toDate)(o+u+c,e==null?void 0:e.in)}const hd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Mz=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Nz=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Rz=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Az(t){const e={},n=t.split(hd.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],hd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(hd.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=hd.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function jz(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function Fz(t,e){if(e===null)return new Date(NaN);const n=t.match(Mz);if(!n)return new Date(NaN);const r=!!n[4],i=cu(n[1]),s=cu(n[2])-1,o=cu(n[3]),u=cu(n[4]),c=cu(n[5])-1;if(r)return Bz(e,u,c)?Vz(e,u,c):new Date(NaN);{const d=new Date(0);return!Wz(e,s,o)||!Uz(e,i)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(i,o)),d)}}function cu(t){return t?parseInt(t):1}function Lz(t){const e=t.match(Nz);if(!e)return NaN;const n=hg(e[1]),r=hg(e[2]),i=hg(e[3]);return $z(n,r,i)?n*_f.millisecondsInHour+r*_f.millisecondsInMinute+i*1e3:NaN}function hg(t){return t&&parseFloat(t.replace(",","."))||0}function kz(t){if(t==="Z")return 0;const e=t.match(Rz);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Hz(r,i)?n*(r*_f.millisecondsInHour+i*_f.millisecondsInMinute):NaN}function Vz(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const zz=[31,null,31,30,31,30,31,31,30,31,30,31];function JD(t){return t%400===0||t%4===0&&t%100!==0}function Wz(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(zz[e]||(JD(t)?29:28))}function Uz(t,e){return e>=1&&e<=(JD(t)?366:365)}function Bz(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function $z(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Hz(t,e){return e>=0&&e<=59}var ZD={};ZD.parseJSON=Yz;var eb=Y;function Yz(t,e){const n=t.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return n?(0,eb.toDate)(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4]-(+n[9]||0)*(n[8]=="-"?-1:1),+n[5]-(+n[10]||0)*(n[8]=="-"?-1:1),+n[6],+((n[7]||"0")+"00").substring(0,3)),e==null?void 0:e.in):(0,eb.toDate)(NaN,e==null?void 0:e.in)}var hs={};hs.previousDay=Qz;var qz=Ic,Gz=Cc;function Qz(t,e,n){let r=(0,qz.getDay)(t,n)-e;return r<=0&&(r+=7),(0,Gz.subDays)(t,r,n)}var eI={};eI.previousFriday=Xz;var Kz=hs;function Xz(t,e){return(0,Kz.previousDay)(t,5,e)}var tI={};tI.previousMonday=Zz;var Jz=hs;function Zz(t,e){return(0,Jz.previousDay)(t,1,e)}var nI={};nI.previousSaturday=tW;var eW=hs;function tW(t,e){return(0,eW.previousDay)(t,6,e)}var rI={};rI.previousSunday=rW;var nW=hs;function rW(t,e){return(0,nW.previousDay)(t,0,e)}var iI={};iI.previousThursday=sW;var iW=hs;function sW(t,e){return(0,iW.previousDay)(t,4,e)}var sI={};sI.previousTuesday=oW;var aW=hs;function oW(t,e){return(0,aW.previousDay)(t,2,e)}var aI={};aI.previousWednesday=uW;var lW=hs;function uW(t,e){return(0,lW.previousDay)(t,3,e)}var oI={};oI.quartersToMonths=dW;var cW=ee;function dW(t){return Math.trunc(t*cW.monthsInQuarter)}var lI={};lI.quartersToYears=hW;var fW=ee;function hW(t){const e=t/fW.quartersInYear;return Math.trunc(e)}var uI={};uI.roundToNearestHours=vW;var mW=ds,gW=me,pW=Y;function vW(t,e){const n=(e==null?void 0:e.nearestTo)??1;if(n<1||n>12)return(0,gW.constructFrom)((e==null?void 0:e.in)||t,NaN);const r=(0,pW.toDate)(t,e==null?void 0:e.in),i=r.getMinutes()/60,s=r.getSeconds()/60/60,o=r.getMilliseconds()/1e3/60/60,u=r.getHours()+i+s+o,c=(e==null?void 0:e.roundingMethod)??"round",m=(0,mW.getRoundingMethod)(c)(u/n)*n;return r.setHours(m,0,0,0),r}var cI={};cI.roundToNearestMinutes=EW;var _W=ds,yW=me,wW=Y;function EW(t,e){const n=(e==null?void 0:e.nearestTo)??1;if(n<1||n>30)return(0,yW.constructFrom)(t,NaN);const r=(0,wW.toDate)(t,e==null?void 0:e.in),i=r.getSeconds()/60,s=r.getMilliseconds()/1e3/60,o=r.getMinutes()+i+s,u=(e==null?void 0:e.roundingMethod)??"round",d=(0,_W.getRoundingMethod)(u)(o/n)*n;return r.setMinutes(d,0,0),r}var dI={};dI.secondsToHours=xW;var bW=ee;function xW(t){const e=t/bW.secondsInHour;return Math.trunc(e)}var fI={};fI.secondsToMilliseconds=SW;var TW=ee;function SW(t){return t*TW.millisecondsInSecond}var hI={};hI.secondsToMinutes=DW;var PW=ee;function DW(t){const e=t/PW.secondsInMinute;return Math.trunc(e)}var mI={},Sh={};Sh.setMonth=MW;var IW=me,OW=M_,CW=Y;function MW(t,e,n){const r=(0,CW.toDate)(t,n==null?void 0:n.in),i=r.getFullYear(),s=r.getDate(),o=(0,IW.constructFrom)((n==null?void 0:n.in)||t,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const u=(0,OW.getDaysInMonth)(o);return r.setMonth(e,Math.min(s,u)),r}mI.set=jW;var NW=me,RW=Sh,AW=Y;function jW(t,e,n){let r=(0,AW.toDate)(t,n==null?void 0:n.in);return isNaN(+r)?(0,NW.constructFrom)((n==null?void 0:n.in)||t,NaN):(e.year!=null&&r.setFullYear(e.year),e.month!=null&&(r=(0,RW.setMonth)(r,e.month)),e.date!=null&&r.setDate(e.date),e.hours!=null&&r.setHours(e.hours),e.minutes!=null&&r.setMinutes(e.minutes),e.seconds!=null&&r.setSeconds(e.seconds),e.milliseconds!=null&&r.setMilliseconds(e.milliseconds),r)}var gI={};gI.setDate=LW;var FW=Y;function LW(t,e,n){const r=(0,FW.toDate)(t,n==null?void 0:n.in);return r.setDate(e),r}var pI={};pI.setDayOfYear=VW;var kW=Y;function VW(t,e,n){const r=(0,kW.toDate)(t,n==null?void 0:n.in);return r.setMonth(0),r.setDate(e),r}var vI={};vI.setDefaultOptions=zW;var tb=un;function zW(t){const e={},n=(0,tb.getDefaultOptions)();for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]===void 0?delete e[r]:e[r]=t[r]);(0,tb.setDefaultOptions)(e)}var _I={};_I.setHours=UW;var WW=Y;function UW(t,e,n){const r=(0,WW.toDate)(t,n==null?void 0:n.in);return r.setHours(e),r}var yI={};yI.setMilliseconds=$W;var BW=Y;function $W(t,e,n){const r=(0,BW.toDate)(t,n==null?void 0:n.in);return r.setMilliseconds(e),r}var wI={};wI.setMinutes=YW;var HW=Y;function YW(t,e,n){const r=(0,HW.toDate)(t,n==null?void 0:n.in);return r.setMinutes(e),r}var EI={};EI.setQuarter=QW;var qW=Sh,GW=Y;function QW(t,e,n){const r=(0,GW.toDate)(t,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return(0,qW.setMonth)(r,r.getMonth()+s*3)}var bI={};bI.setSeconds=XW;var KW=Y;function XW(t,e,n){const r=(0,KW.toDate)(t,n==null?void 0:n.in);return r.setSeconds(e),r}var xI={};xI.setWeekYear=nU;var JW=un,ZW=me,eU=ls,nb=Eh,tU=Y;function nU(t,e,n){var c,d,m,g;const r=(0,JW.getDefaultOptions)(),i=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,s=(0,eU.differenceInCalendarDays)((0,tU.toDate)(t,n==null?void 0:n.in),(0,nb.startOfWeekYear)(t,n),n),o=(0,ZW.constructFrom)((n==null?void 0:n.in)||t,0);o.setFullYear(e,0,i),o.setHours(0,0,0,0);const u=(0,nb.startOfWeekYear)(o,n);return u.setDate(u.getDate()+s),u}var TI={};TI.setYear=sU;var rU=me,iU=Y;function sU(t,e,n){const r=(0,iU.toDate)(t,n==null?void 0:n.in);return isNaN(+r)?(0,rU.constructFrom)((n==null?void 0:n.in)||t,NaN):(r.setFullYear(e),r)}var SI={};SI.startOfDecade=oU;var aU=Y;function oU(t,e){const n=(0,aU.toDate)(t,e==null?void 0:e.in),r=n.getFullYear(),i=Math.floor(r/10)*10;return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}var PI={};PI.startOfToday=uU;var lU=Ec;function uU(t){return(0,lU.startOfDay)(Date.now(),t)}var DI={};DI.startOfTomorrow=fU;var cU=me,dU=Ht;function fU(t){const e=(0,dU.constructNow)(t==null?void 0:t.in),n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=(0,cU.constructFrom)(t==null?void 0:t.in,0);return s.setFullYear(n,r,i+1),s.setHours(0,0,0,0),s}var II={};II.startOfYesterday=hU;var rb=Ht;function hU(t){const e=(0,rb.constructNow)(t==null?void 0:t.in),n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=(0,rb.constructNow)(t==null?void 0:t.in);return s.setFullYear(n,r,i-1),s.setHours(0,0,0,0),s}var OI={},M0={};M0.subMonths=gU;var mU=Rl;function gU(t,e,n){return(0,mU.addMonths)(t,-e,n)}OI.sub=yU;var pU=me,vU=Cc,_U=M0;function yU(t,e,n){const{years:r=0,months:i=0,weeks:s=0,days:o=0,hours:u=0,minutes:c=0,seconds:d=0}=e,m=(0,_U.subMonths)(t,i+r*12,n),g=(0,vU.subDays)(m,o+s*7,n),_=c+u*60,O=(d+_*60)*1e3;return(0,pU.constructFrom)((n==null?void 0:n.in)||t,+g-O)}var CI={};CI.subBusinessDays=EU;var wU=Zv;function EU(t,e,n){return(0,wU.addBusinessDays)(t,-e,n)}var MI={};MI.subHours=xU;var bU=n_;function xU(t,e,n){return(0,bU.addHours)(t,-e,n)}var NI={};NI.subMilliseconds=SU;var TU=wc;function SU(t,e,n){return(0,TU.addMilliseconds)(t,-e,n)}var RI={};RI.subMinutes=DU;var PU=ih;function DU(t,e,n){return(0,PU.addMinutes)(t,-e,n)}var AI={};AI.subQuarters=OU;var IU=sh;function OU(t,e,n){return(0,IU.addQuarters)(t,-e,n)}var jI={};jI.subSeconds=MU;var CU=s_;function MU(t,e,n){return(0,CU.addSeconds)(t,-e,n)}var FI={};FI.subWeeks=RU;var NU=bc;function RU(t,e,n){return(0,NU.addWeeks)(t,-e,n)}var LI={};LI.subYears=jU;var AU=a_;function jU(t,e,n){return(0,AU.addYears)(t,-e,n)}var kI={};kI.weeksToDays=LU;var FU=ee;function LU(t){return Math.trunc(t*FU.daysInWeek)}var VI={};VI.yearsToDays=VU;var kU=ee;function VU(t){return Math.trunc(t*kU.daysInYear)}var zI={};zI.yearsToMonths=WU;var zU=ee;function WU(t){return Math.trunc(t*zU.monthsInYear)}var WI={};WI.yearsToQuarters=BU;var UU=ee;function BU(t){return Math.trunc(t*UU.quartersInYear)}(function(t){var e=Jv;Object.keys(e).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===e[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return e[a]}})});var n=Zv;Object.keys(n).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===n[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return n[a]}})});var r=pi;Object.keys(r).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===r[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return r[a]}})});var i=n_;Object.keys(i).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===i[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return i[a]}})});var s=r_;Object.keys(s).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===s[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return s[a]}})});var o=wc;Object.keys(o).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===o[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return o[a]}})});var u=ih;Object.keys(u).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===u[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return u[a]}})});var c=Rl;Object.keys(c).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===c[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return c[a]}})});var d=sh;Object.keys(d).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===d[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return d[a]}})});var m=s_;Object.keys(m).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===m[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return m[a]}})});var g=bc;Object.keys(g).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===g[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return g[a]}})});var _=a_;Object.keys(_).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _[a]}})});var E=qS;Object.keys(E).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===E[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return E[a]}})});var O=GS;Object.keys(O).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===O[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return O[a]}})});var D=u_;Object.keys(D).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===D[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return D[a]}})});var A=QS;Object.keys(A).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===A[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return A[a]}})});var b=mo;Object.keys(b).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===b[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return b[a]}})});var S=KS;Object.keys(S).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===S[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return S[a]}})});var C=me;Object.keys(C).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===C[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return C[a]}})});var j=Ht;Object.keys(j).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===j[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return j[a]}})});var H=XS;Object.keys(H).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===H[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return H[a]}})});var q=JS;Object.keys(q).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===q[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return q[a]}})});var T=ls;Object.keys(T).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===T[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return T[a]}})});var w=d_;Object.keys(w).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===w[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return w[a]}})});var P=ZS;Object.keys(P).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===P[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return P[a]}})});var x=ah;Object.keys(x).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===x[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return x[a]}})});var N=f_;Object.keys(N).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===N[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return N[a]}})});var F=oh;Object.keys(F).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===F[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return F[a]}})});var I=lh;Object.keys(I).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===I[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return I[a]}})});var Re=uh;Object.keys(Re).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Re[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Re[a]}})});var ze=ch;Object.keys(ze).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ze[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ze[a]}})});var wt=eP;Object.keys(wt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===wt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return wt[a]}})});var Se=dh;Object.keys(Se).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Se[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Se[a]}})});var Q=fh;Object.keys(Q).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Q[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Q[a]}})});var oe=xc;Object.keys(oe).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===oe[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return oe[a]}})});var ce=tP;Object.keys(ce).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ce[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ce[a]}})});var Ce=Tc;Object.keys(Ce).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ce[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ce[a]}})});var G=nP;Object.keys(G).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===G[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return G[a]}})});var $=p_;Object.keys($).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===$[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return $[a]}})});var k=v_;Object.keys(k).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===k[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return k[a]}})});var M=rP;Object.keys(M).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===M[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return M[a]}})});var W=iP;Object.keys(W).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===W[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return W[a]}})});var ne=sP;Object.keys(ne).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ne[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ne[a]}})});var ae=aP;Object.keys(ae).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ae[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ae[a]}})});var le=oP;Object.keys(le).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===le[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return le[a]}})});var de=ph;Object.keys(de).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===de[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return de[a]}})});var ye=lP;Object.keys(ye).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ye[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ye[a]}})});var Ie=uP;Object.keys(Ie).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ie[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ie[a]}})});var Pe=cP;Object.keys(Pe).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Pe[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Pe[a]}})});var De=hh;Object.keys(De).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===De[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return De[a]}})});var nt=dP;Object.keys(nt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===nt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return nt[a]}})});var at=fP;Object.keys(at).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===at[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return at[a]}})});var Et=hP;Object.keys(Et).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Et[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Et[a]}})});var Mn=mP;Object.keys(Mn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Mn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Mn[a]}})});var Nn=gP;Object.keys(Nn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Nn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Nn[a]}})});var qn=mh;Object.keys(qn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===qn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return qn[a]}})});var br=pP;Object.keys(br).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===br[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return br[a]}})});var Rn=vP;Object.keys(Rn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Rn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Rn[a]}})});var xr=_P;Object.keys(xr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xr[a]}})});var Gn=yP;Object.keys(Gn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Gn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Gn[a]}})});var Qn=y_;Object.keys(Qn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Qn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Qn[a]}})});var dt=__;Object.keys(dt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===dt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return dt[a]}})});var ft=wP;Object.keys(ft).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ft[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ft[a]}})});var ur=w_;Object.keys(ur).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ur[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ur[a]}})});var ps=I_;Object.keys(ps).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ps[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ps[a]}})});var Tr=O_;Object.keys(Tr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Tr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Tr[a]}})});var Ta=PP;Object.keys(Ta).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ta[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ta[a]}})});var An=DP;Object.keys(An).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===An[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return An[a]}})});var vs=IP;Object.keys(vs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===vs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return vs[a]}})});var yi=OP;Object.keys(yi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===yi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return yi[a]}})});var wi=CP;Object.keys(wi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===wi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return wi[a]}})});var Ei=MP;Object.keys(Ei).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ei[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ei[a]}})});var Sa=NP;Object.keys(Sa).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Sa[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Sa[a]}})});var Sr=RP;Object.keys(Sr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Sr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Sr[a]}})});var Pr=AP;Object.keys(Pr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Pr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Pr[a]}})});var bi=jP;Object.keys(bi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===bi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return bi[a]}})});var Dr=C_;Object.keys(Dr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Dr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Dr[a]}})});var jn=Ic;Object.keys(jn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===jn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return jn[a]}})});var xi=D_;Object.keys(xi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xi[a]}})});var Fn=M_;Object.keys(Fn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Fn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Fn[a]}})});var Ur=FP;Object.keys(Ur).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ur[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ur[a]}})});var Br=LP;Object.keys(Br).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Br[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Br[a]}})});var $r=R_;Object.keys($r).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===$r[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return $r[a]}})});var cr=kP;Object.keys(cr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===cr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return cr[a]}})});var Ti=A_;Object.keys(Ti).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ti[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ti[a]}})});var we=yh;Object.keys(we).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===we[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return we[a]}})});var Ln=ba;Object.keys(Ln).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ln[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ln[a]}})});var xt=VP;Object.keys(xt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xt[a]}})});var $e=zP;Object.keys($e).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===$e[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return $e[a]}})});var Pa=WP;Object.keys(Pa).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Pa[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Pa[a]}})});var et=UP;Object.keys(et).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===et[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return et[a]}})});var Ot=BP;Object.keys(Ot).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ot[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ot[a]}})});var _s=h_;Object.keys(_s).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_s[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _s[a]}})});var Si=$P;Object.keys(Si).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Si[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Si[a]}})});var Je=HP;Object.keys(Je).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Je[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Je[a]}})});var Jt=YP;Object.keys(Jt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Jt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Jt[a]}})});var Pi=wh;Object.keys(Pi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Pi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Pi[a]}})});var Hr=qP;Object.keys(Hr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Hr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Hr[a]}})});var kn=Pc;Object.keys(kn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===kn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return kn[a]}})});var ys=GP;Object.keys(ys).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ys[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ys[a]}})});var ws=QP;Object.keys(ws).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ws[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ws[a]}})});var Di=KP;Object.keys(Di).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Di[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Di[a]}})});var Yr=XP;Object.keys(Yr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Yr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Yr[a]}})});var dr=JP;Object.keys(dr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===dr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return dr[a]}})});var Vn=ZP;Object.keys(Vn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Vn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Vn[a]}})});var Ii=eD;Object.keys(Ii).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ii[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ii[a]}})});var fr=tD;Object.keys(fr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===fr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return fr[a]}})});var zn=nD;Object.keys(zn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===zn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return zn[a]}})});var _n=rD;Object.keys(_n).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_n[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _n[a]}})});var yn=iD;Object.keys(yn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===yn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return yn[a]}})});var Yt=c_;Object.keys(Yt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Yt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Yt[a]}})});var qr=sD;Object.keys(qr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===qr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return qr[a]}})});var Es=aD;Object.keys(Es).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Es[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Es[a]}})});var Zt=oD;Object.keys(Zt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Zt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Zt[a]}})});var Gr=lD;Object.keys(Gr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Gr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Gr[a]}})});var Oi=uD;Object.keys(Oi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Oi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Oi[a]}})});var Ir=g_;Object.keys(Ir).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ir[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ir[a]}})});var Ci=N_;Object.keys(Ci).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ci[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ci[a]}})});var bs=cD;Object.keys(bs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===bs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return bs[a]}})});var Tt=dD;Object.keys(Tt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Tt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Tt[a]}})});var Mi=fD;Object.keys(Mi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Mi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Mi[a]}})});var Ge=jl;Object.keys(Ge).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ge[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ge[a]}})});var wn=w0;Object.keys(wn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===wn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return wn[a]}})});var Qr=b0;Object.keys(Qr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Qr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Qr[a]}})});var Da=hD;Object.keys(Da).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Da[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Da[a]}})});var Kn=x0;Object.keys(Kn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Kn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Kn[a]}})});var qt=S0;Object.keys(qt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===qt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return qt[a]}})});var Xn=P0;Object.keys(Xn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Xn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Xn[a]}})});var Kr=D0;Object.keys(Kr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Kr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Kr[a]}})});var xs=Th;Object.keys(xs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xs[a]}})});var Ye=O0;Object.keys(Ye).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ye[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ye[a]}})});var Xr=e_;Object.keys(Xr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Xr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Xr[a]}})});var Ct=t_;Object.keys(Ct).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ct[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ct[a]}})});var rt=mD;Object.keys(rt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===rt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return rt[a]}})});var Ts=gD;Object.keys(Ts).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ts[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ts[a]}})});var Ss=pD;Object.keys(Ss).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ss[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ss[a]}})});var Ia=vD;Object.keys(Ia).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ia[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ia[a]}})});var Ps=_D;Object.keys(Ps).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ps[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ps[a]}})});var Oa=yD;Object.keys(Oa).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Oa[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Oa[a]}})});var Ca=wD;Object.keys(Ca).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ca[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ca[a]}})});var Or=ED;Object.keys(Or).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Or[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Or[a]}})});var En=bD;Object.keys(En).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===En[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return En[a]}})});var Ni=xD;Object.keys(Ni).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ni[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ni[a]}})});var Ri=TD;Object.keys(Ri).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ri[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ri[a]}})});var Ai=SD;Object.keys(Ai).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ai[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ai[a]}})});var Jn=cs;Object.keys(Jn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Jn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Jn[a]}})});var Ds=PD;Object.keys(Ds).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ds[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ds[a]}})});var Is=yc;Object.keys(Is).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Is[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Is[a]}})});var Os=DD;Object.keys(Os).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Os[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Os[a]}})});var v=ID;Object.keys(v).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===v[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return v[a]}})});var V=OD;Object.keys(V).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===V[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return V[a]}})});var R=CD;Object.keys(R).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===R[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return R[a]}})});var J=MD;Object.keys(J).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===J[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return J[a]}})});var U=j_;Object.keys(U).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===U[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return U[a]}})});var re=ND;Object.keys(re).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===re[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return re[a]}})});var he=C0;Object.keys(he).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===he[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return he[a]}})});var Ae=RD;Object.keys(Ae).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ae[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ae[a]}})});var ge=AD;Object.keys(ge).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ge[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ge[a]}})});var Oe=o_;Object.keys(Oe).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Oe[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Oe[a]}})});var _e=jD;Object.keys(_e).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_e[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _e[a]}})});var je=FD;Object.keys(je).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===je[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return je[a]}})});var Mt=LD;Object.keys(Mt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Mt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Mt[a]}})});var Nt=kD;Object.keys(Nt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Nt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Nt[a]}})});var gt=l_;Object.keys(gt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===gt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return gt[a]}})});var Jr=VD;Object.keys(Jr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Jr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Jr[a]}})});var Zn=zD;Object.keys(Zn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Zn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Zn[a]}})});var Zr=WD;Object.keys(Zr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Zr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Zr[a]}})});var bn=UD;Object.keys(bn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===bn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return bn[a]}})});var wo=BD;Object.keys(wo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===wo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return wo[a]}})});var $l=fs;Object.keys($l).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===$l[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return $l[a]}})});var ji=$D;Object.keys(ji).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ji[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ji[a]}})});var Eo=HD;Object.keys(Eo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Eo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Eo[a]}})});var Ma=YD;Object.keys(Ma).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ma[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ma[a]}})});var Cs=qD;Object.keys(Cs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Cs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Cs[a]}})});var bo=GD;Object.keys(bo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===bo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return bo[a]}})});var Ms=QD;Object.keys(Ms).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ms[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ms[a]}})});var Hl=KD;Object.keys(Hl).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Hl[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Hl[a]}})});var xo=F_;Object.keys(xo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xo[a]}})});var Fi=XD;Object.keys(Fi).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Fi[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Fi[a]}})});var To=ZD;Object.keys(To).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===To[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return To[a]}})});var So=hs;Object.keys(So).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===So[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return So[a]}})});var Na=eI;Object.keys(Na).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Na[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Na[a]}})});var Ra=tI;Object.keys(Ra).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ra[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ra[a]}})});var Po=nI;Object.keys(Po).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Po[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Po[a]}})});var Ns=rI;Object.keys(Ns).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ns[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ns[a]}})});var Do=iI;Object.keys(Do).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Do[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Do[a]}})});var Io=sI;Object.keys(Io).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Io[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Io[a]}})});var Cr=aI;Object.keys(Cr).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Cr[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Cr[a]}})});var Oo=oI;Object.keys(Oo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Oo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Oo[a]}})});var Co=lI;Object.keys(Co).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Co[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Co[a]}})});var Mo=uI;Object.keys(Mo).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Mo[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Mo[a]}})});var No=cI;Object.keys(No).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===No[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return No[a]}})});var Rs=dI;Object.keys(Rs).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Rs[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Rs[a]}})});var en=fI;Object.keys(en).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===en[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return en[a]}})});var Ro=hI;Object.keys(Ro).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ro[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ro[a]}})});var Ao=mI;Object.keys(Ao).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Ao[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Ao[a]}})});var ei=gI;Object.keys(ei).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ei[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ei[a]}})});var l=Oc;Object.keys(l).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===l[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return l[a]}})});var h=pI;Object.keys(h).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===h[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return h[a]}})});var p=vI;Object.keys(p).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===p[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return p[a]}})});var y=_I;Object.keys(y).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===y[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return y[a]}})});var L=s0;Object.keys(L).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===L[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return L[a]}})});var z=J_;Object.keys(z).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===z[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return z[a]}})});var te=i_;Object.keys(te).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===te[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return te[a]}})});var qe=yI;Object.keys(qe).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===qe[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return qe[a]}})});var St=wI;Object.keys(St).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===St[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return St[a]}})});var Fe=Sh;Object.keys(Fe).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Fe[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Fe[a]}})});var Rt=EI;Object.keys(Rt).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Rt[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Rt[a]}})});var At=bI;Object.keys(At).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===At[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return At[a]}})});var ti=K_;Object.keys(ti).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ti[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ti[a]}})});var xn=xI;Object.keys(xn).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xn[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xn[a]}})});var As=TI;Object.keys(As).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===As[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return As[a]}})});var Aa=Ec;Object.keys(Aa).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Aa[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Aa[a]}})});var Kh=SI;Object.keys(Kh).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Kh[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Kh[a]}})});var Xh=E0;Object.keys(Xh).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Xh[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Xh[a]}})});var Jh=vi;Object.keys(Jh).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Jh[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Jh[a]}})});var Zh=Al;Object.keys(Zh).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Zh[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Zh[a]}})});var em=T0;Object.keys(em).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===em[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return em[a]}})});var tm=Sc;Object.keys(tm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===tm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return tm[a]}})});var nm=gh;Object.keys(nm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===nm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return nm[a]}})});var rm=I0;Object.keys(rm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===rm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return rm[a]}})});var im=PI;Object.keys(im).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===im[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return im[a]}})});var sm=DI;Object.keys(sm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===sm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return sm[a]}})});var am=Wr;Object.keys(am).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===am[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return am[a]}})});var om=Eh;Object.keys(om).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===om[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return om[a]}})});var lm=vh;Object.keys(lm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===lm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return lm[a]}})});var um=II;Object.keys(um).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===um[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return um[a]}})});var cm=OI;Object.keys(cm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===cm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return cm[a]}})});var dm=CI;Object.keys(dm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===dm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return dm[a]}})});var fm=Cc;Object.keys(fm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===fm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return fm[a]}})});var hm=MI;Object.keys(hm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===hm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return hm[a]}})});var mm=m_;Object.keys(mm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===mm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return mm[a]}})});var gm=NI;Object.keys(gm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===gm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return gm[a]}})});var pm=RI;Object.keys(pm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===pm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return pm[a]}})});var vm=M0;Object.keys(vm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===vm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return vm[a]}})});var _m=AI;Object.keys(_m).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===_m[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return _m[a]}})});var ym=jI;Object.keys(ym).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===ym[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return ym[a]}})});var wm=FI;Object.keys(wm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===wm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return wm[a]}})});var Em=LI;Object.keys(Em).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Em[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Em[a]}})});var bm=Y;Object.keys(bm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===bm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return bm[a]}})});var xm=L_;Object.keys(xm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===xm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return xm[a]}})});var Tm=kI;Object.keys(Tm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Tm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Tm[a]}})});var Sm=VI;Object.keys(Sm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Sm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Sm[a]}})});var Pm=zI;Object.keys(Pm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Pm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Pm[a]}})});var Dm=WI;Object.keys(Dm).forEach(function(a){a==="default"||a==="__esModule"||a in t&&t[a]===Dm[a]||Object.defineProperty(t,a,{enumerable:!0,get:function(){return Dm[a]}})})})(Ea);Object.defineProperty(ts,"__esModule",{value:!0});ts.rangeShape=ts.default=void 0;var Fa=$U(B),We=UI(os),mg=UI(ho),Tn=Ea;function UI(t){return t&&t.__esModule?t:{default:t}}function BI(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(BI=function(r){return r?n:e})(t)}function $U(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=BI(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Op.apply(this,arguments)}function du(t,e,n){return e=HU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HU(t){var e=YU(t,"string");return typeof e=="symbol"?e:String(e)}function YU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class N0 extends Fa.Component{constructor(e,n){super(e,n),du(this,"handleKeyEvent",r=>{const{day:i,onMouseDown:s,onMouseUp:o}=this.props;[13,32].includes(r.keyCode)&&(r.type==="keydown"?s(i):o(i))}),du(this,"handleMouseEvent",r=>{const{day:i,disabled:s,onPreviewChange:o,onMouseEnter:u,onMouseDown:c,onMouseUp:d}=this.props,m={};if(s){o();return}switch(r.type){case"mouseenter":u(i),o(i),m.hover=!0;break;case"blur":case"mouseleave":m.hover=!1;break;case"mousedown":m.active=!0,c(i);break;case"mouseup":r.stopPropagation(),m.active=!1,d(i);break;case"focus":o(i);break}Object.keys(m).length&&this.setState(m)}),du(this,"getClassNames",()=>{const{isPassive:r,isToday:i,isWeekend:s,isStartOfWeek:o,isEndOfWeek:u,isStartOfMonth:c,isEndOfMonth:d,disabled:m,styles:g}=this.props;return(0,mg.default)(g.day,{[g.dayPassive]:r,[g.dayDisabled]:m,[g.dayToday]:i,[g.dayWeekend]:s,[g.dayStartOfWeek]:o,[g.dayEndOfWeek]:u,[g.dayStartOfMonth]:c,[g.dayEndOfMonth]:d,[g.dayHovered]:this.state.hover,[g.dayActive]:this.state.active})}),du(this,"renderPreviewPlaceholder",()=>{const{preview:r,day:i,styles:s}=this.props;if(!r)return null;const o=r.startDate?(0,Tn.endOfDay)(r.startDate):null,u=r.endDate?(0,Tn.startOfDay)(r.endDate):null,c=(!o||(0,Tn.isAfter)(i,o))&&(!u||(0,Tn.isBefore)(i,u)),d=!c&&(0,Tn.isSameDay)(i,o),m=!c&&(0,Tn.isSameDay)(i,u);return Fa.default.createElement("span",{className:(0,mg.default)({[s.dayStartPreview]:d,[s.dayInPreview]:c,[s.dayEndPreview]:m}),style:{color:r.color}})}),du(this,"renderSelectionPlaceholders",()=>{const{styles:r,ranges:i,day:s}=this.props;return this.props.displayMode==="date"?(0,Tn.isSameDay)(this.props.day,this.props.date)?Fa.default.createElement("span",{className:r.selected,style:{color:this.props.color}}):null:i.reduce((u,c)=>{let d=c.startDate,m=c.endDate;d&&m&&(0,Tn.isBefore)(m,d)&&([d,m]=[m,d]),d=d?(0,Tn.endOfDay)(d):null,m=m?(0,Tn.startOfDay)(m):null;const g=(!d||(0,Tn.isAfter)(s,d))&&(!m||(0,Tn.isBefore)(s,m)),_=!g&&(0,Tn.isSameDay)(s,d),E=!g&&(0,Tn.isSameDay)(s,m);return g||_||E?[...u,{isStartEdge:_,isEndEdge:E,isInRange:g,...c}]:u},[]).map((u,c)=>Fa.default.createElement("span",{key:c,className:(0,mg.default)({[r.startEdge]:u.isStartEdge,[r.endEdge]:u.isEndEdge,[r.inRange]:u.isInRange}),style:{color:u.color||this.props.color}}))}),this.state={hover:!1,active:!1}}render(){const{dayContentRenderer:e}=this.props;return Fa.default.createElement("button",Op({type:"button",onMouseEnter:this.handleMouseEvent,onMouseLeave:this.handleMouseEvent,onFocus:this.handleMouseEvent,onMouseDown:this.handleMouseEvent,onMouseUp:this.handleMouseEvent,onBlur:this.handleMouseEvent,onPauseCapture:this.handleMouseEvent,onKeyDown:this.handleKeyEvent,onKeyUp:this.handleKeyEvent,className:this.getClassNames(this.props.styles)},this.props.disabled||this.props.isPassive?{tabIndex:-1}:{},{style:{color:this.props.color}}),this.renderSelectionPlaceholders(),this.renderPreviewPlaceholder(),Fa.default.createElement("span",{className:this.props.styles.dayNumber},(e==null?void 0:e(this.props.day))||Fa.default.createElement("span",null,(0,Tn.format)(this.props.day,this.props.dayDisplayFormat))))}}N0.defaultProps={};const qU=ts.rangeShape=We.default.shape({startDate:We.default.object,endDate:We.default.object,color:We.default.string,key:We.default.string,autoFocus:We.default.bool,disabled:We.default.bool,showDateDisplay:We.default.bool});N0.propTypes={day:We.default.object.isRequired,dayDisplayFormat:We.default.string,date:We.default.object,ranges:We.default.arrayOf(qU),preview:We.default.shape({startDate:We.default.object,endDate:We.default.object,color:We.default.string}),onPreviewChange:We.default.func,previewColor:We.default.string,disabled:We.default.bool,isPassive:We.default.bool,isToday:We.default.bool,isWeekend:We.default.bool,isStartOfWeek:We.default.bool,isEndOfWeek:We.default.bool,isStartOfMonth:We.default.bool,isEndOfMonth:We.default.bool,color:We.default.string,displayMode:We.default.oneOf(["dateRange","date"]),styles:We.default.object,onMouseDown:We.default.func,onMouseUp:We.default.func,onMouseEnter:We.default.func,dayContentRenderer:We.default.func};ts.default=N0;var Ph={},ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.calcFocusDate=KU;ms.findNextRangeIndex=XU;ms.generateStyles=ZU;ms.getMonthDisplayRange=JU;var GU=QU(ho),zi=Ea;function QU(t){return t&&t.__esModule?t:{default:t}}function KU(t,e){const{shownDate:n,date:r,months:i,ranges:s,focusedRange:o,displayMode:u}=e;let c;if(u==="dateRange"){const m=s[o[0]]||{};c={start:m.startDate,end:m.endDate}}else c={start:r,end:r};c.start=(0,zi.startOfMonth)(c.start||new Date),c.end=(0,zi.endOfMonth)(c.end||c.start);const d=c.start||c.end||n||new Date;return t?(0,zi.differenceInCalendarMonths)(c.start,c.end)>i?t:d:n||d}function XU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;const n=t.findIndex((r,i)=>i>e&&r.autoFocus!==!1&&!r.disabled);return n!==-1?n:t.findIndex(r=>r.autoFocus!==!1&&!r.disabled)}function JU(t,e,n){const r=(0,zi.startOfMonth)(t,e),i=(0,zi.endOfMonth)(t,e),s=(0,zi.startOfWeek)(r,e);let o=(0,zi.endOfWeek)(i,e);return n&&(0,zi.differenceInCalendarDays)(o,s)<=34&&(o=(0,zi.addDays)(o,7)),{start:s,end:o,startDateOfMonth:r,endDateOfMonth:i}}function ZU(t){return t.length?t.filter(n=>!!n).reduce((n,r)=>(Object.keys(r).forEach(i=>{n[i]=(0,GU.default)(n[i],r[i])}),n),{}):{}}Object.defineProperty(Ph,"__esModule",{value:!0});Ph.default=void 0;var $a=YI(B),tt=tB(os),$I=YI(ts),Ft=Ea,eB=ms;function tB(t){return t&&t.__esModule?t:{default:t}}function HI(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(HI=function(r){return r?n:e})(t)}function YI(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=HI(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function Cp(){return Cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cp.apply(this,arguments)}function nB(t,e,n){const r=new Date;return $a.default.createElement("div",{className:t.weekDays},(0,Ft.eachDayOfInterval)({start:(0,Ft.startOfWeek)(r,e),end:(0,Ft.endOfWeek)(r,e)}).map((i,s)=>$a.default.createElement("span",{className:t.weekDay,key:s},(0,Ft.format)(i,n,e))))}class R0 extends $a.PureComponent{render(){const e=new Date,{displayMode:n,focusedRange:r,drag:i,styles:s,disabledDates:o,disabledDay:u}=this.props,c=this.props.minDate&&(0,Ft.startOfDay)(this.props.minDate),d=this.props.maxDate&&(0,Ft.endOfDay)(this.props.maxDate),m=(0,eB.getMonthDisplayRange)(this.props.month,this.props.dateOptions,this.props.fixedHeight);let g=this.props.ranges;if(n==="dateRange"&&i.status){let{startDate:E,endDate:O}=i.range;g=g.map((D,A)=>A!==r[0]?D:{...D,startDate:E,endDate:O})}const _=this.props.showPreview&&!i.disablePreview;return $a.default.createElement("div",{className:s.month,style:this.props.style},this.props.showMonthName?$a.default.createElement("div",{className:s.monthName},(0,Ft.format)(this.props.month,this.props.monthDisplayFormat,this.props.dateOptions)):null,this.props.showWeekDays&&nB(s,this.props.dateOptions,this.props.weekdayDisplayFormat),$a.default.createElement("div",{className:s.days,onMouseLeave:this.props.onMouseLeave},(0,Ft.eachDayOfInterval)({start:m.start,end:m.end}).map((E,O)=>{const D=(0,Ft.isSameDay)(E,m.startDateOfMonth),A=(0,Ft.isSameDay)(E,m.endDateOfMonth),b=c&&(0,Ft.isBefore)(E,c)||d&&(0,Ft.isAfter)(E,d),S=o.some(j=>(0,Ft.isSameDay)(j,E)),C=u(E);return $a.default.createElement($I.default,Cp({},this.props,{ranges:g,day:E,preview:_?this.props.preview:null,isWeekend:(0,Ft.isWeekend)(E,this.props.dateOptions),isToday:(0,Ft.isSameDay)(E,e),isStartOfWeek:(0,Ft.isSameDay)(E,(0,Ft.startOfWeek)(E,this.props.dateOptions)),isEndOfWeek:(0,Ft.isSameDay)(E,(0,Ft.endOfWeek)(E,this.props.dateOptions)),isStartOfMonth:D,isEndOfMonth:A,key:O,disabled:b||S||C,isPassive:!(0,Ft.isWithinInterval)(E,{start:m.startDateOfMonth,end:m.endDateOfMonth}),styles:s,onMouseDown:this.props.onDragSelectionStart,onMouseUp:this.props.onDragSelectionEnd,onMouseEnter:this.props.onDragSelectionMove,dragRange:i.range,drag:i.status}))})))}}R0.defaultProps={};R0.propTypes={style:tt.default.object,styles:tt.default.object,month:tt.default.object,drag:tt.default.object,dateOptions:tt.default.object,disabledDates:tt.default.array,disabledDay:tt.default.func,preview:tt.default.shape({startDate:tt.default.object,endDate:tt.default.object}),showPreview:tt.default.bool,displayMode:tt.default.oneOf(["dateRange","date"]),minDate:tt.default.object,maxDate:tt.default.object,ranges:tt.default.arrayOf($I.rangeShape),focusedRange:tt.default.arrayOf(tt.default.number),onDragSelectionStart:tt.default.func,onDragSelectionEnd:tt.default.func,onDragSelectionMove:tt.default.func,onMouseLeave:tt.default.func,monthDisplayFormat:tt.default.string,weekdayDisplayFormat:tt.default.string,dayDisplayFormat:tt.default.string,showWeekDays:tt.default.bool,showMonthName:tt.default.bool,fixedHeight:tt.default.bool};Ph.default=R0;var Dh={};Object.defineProperty(Dh,"__esModule",{value:!0});Dh.default=void 0;var md=iB(B),ri=qI(os),rB=qI(ho),fu=Ea;function qI(t){return t&&t.__esModule?t:{default:t}}function GI(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(GI=function(r){return r?n:e})(t)}function iB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=GI(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function gg(t,e,n){return e=sB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sB(t){var e=aB(t,"string");return typeof e=="symbol"?e:String(e)}function aB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class A0 extends md.PureComponent{constructor(e,n){super(e,n),gg(this,"onKeyDown",r=>{const{value:i}=this.state;r.key==="Enter"&&this.update(i)}),gg(this,"onChange",r=>{this.setState({value:r.target.value,changed:!0,invalid:!1})}),gg(this,"onBlur",()=>{const{value:r}=this.state;this.update(r)}),this.state={invalid:!1,changed:!1,value:this.formatDate(e)}}componentDidUpdate(e){const{value:n}=e;(0,fu.isEqual)(n,this.props.value)||this.setState({value:this.formatDate(this.props)})}formatDate(e){let{value:n,dateDisplayFormat:r,dateOptions:i}=e;return n&&(0,fu.isValid)(n)?(0,fu.format)(n,r,i):""}update(e){const{invalid:n,changed:r}=this.state;if(n||!r||!e)return;const{onChange:i,dateDisplayFormat:s,dateOptions:o}=this.props,u=(0,fu.parse)(e,s,new Date,o);(0,fu.isValid)(u)?this.setState({changed:!1},()=>i(u)):this.setState({invalid:!0})}render(){const{className:e,readOnly:n,placeholder:r,ariaLabel:i,disabled:s,onFocus:o}=this.props,{value:u,invalid:c}=this.state;return md.default.createElement("span",{className:(0,rB.default)("rdrDateInput",e)},md.default.createElement("input",{readOnly:n,disabled:s,value:u,placeholder:r,"aria-label":i,onKeyDown:this.onKeyDown,onChange:this.onChange,onBlur:this.onBlur,onFocus:o}),c&&md.default.createElement("span",{className:"rdrWarning"},""))}}A0.propTypes={value:ri.default.object,placeholder:ri.default.string,disabled:ri.default.bool,readOnly:ri.default.bool,dateOptions:ri.default.object,dateDisplayFormat:ri.default.string,ariaLabel:ri.default.string,className:ri.default.string,onFocus:ri.default.func.isRequired,onChange:ri.default.func.isRequired};A0.defaultProps={readOnly:!0,disabled:!1,dateDisplayFormat:"MMM D, YYYY"};Dh.default=A0;var QI={};(function(t){(function(e,n){n(t,B,f)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:T2,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function i(G){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},i(G)}function s(G,$){if(!(G instanceof $))throw new TypeError("Cannot call a class as a function")}function o(G,$){for(var k=0;k<$.length;k++){var M=$[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(G,S(M.key),M)}}function u(G,$,k){return $&&o(G.prototype,$),k&&o(G,k),Object.defineProperty(G,"prototype",{writable:!1}),G}function c(G,$,k){return $=_($),d(G,g()?Reflect.construct($,k||[],_(G).constructor):$.apply(G,k))}function d(G,$){if($&&(i($)=="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(G)}function m(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function g(){try{var G=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!G})()}function _(G){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},_(G)}function E(G,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create($&&$.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),$&&O(G,$)}function O(G,$){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,M){return k.__proto__=M,k},O(G,$)}function D(G,$){var k=Object.keys(G);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(G);$&&(M=M.filter(function(W){return Object.getOwnPropertyDescriptor(G,W).enumerable})),k.push.apply(k,M)}return k}function A(G){for(var $=1;$<arguments.length;$++){var k=arguments[$]!=null?arguments[$]:{};$%2?D(Object(k),!0).forEach(function(M){b(G,M,k[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(k)):D(Object(k)).forEach(function(M){Object.defineProperty(G,M,Object.getOwnPropertyDescriptor(k,M))})}return G}function b(G,$,k){return($=S($))in G?Object.defineProperty(G,$,{value:k,enumerable:!0,configurable:!0,writable:!0}):G[$]=k,G}function S(G){var $=C(G,"string");return i($)=="symbol"?$:$+""}function C(G,$){if(i(G)!="object"||!G)return G;var k=G[Symbol.toPrimitive];if(k!==void 0){var M=k.call(G,$);if(i(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(G)}var j={x:"clientWidth",y:"clientHeight"},H={x:"clientTop",y:"clientLeft"},q={x:"innerWidth",y:"innerHeight"},T={x:"offsetWidth",y:"offsetHeight"},w={x:"offsetLeft",y:"offsetTop"},P={x:"overflowX",y:"overflowY"},x={x:"scrollWidth",y:"scrollHeight"},N={x:"scrollLeft",y:"scrollTop"},F={x:"width",y:"height"},I=function(){},Re=function(){if(typeof window>"u")return!1;var G=!1;try{document.createElement("div").addEventListener("test",I,{get passive(){return G=!0,!1}})}catch{}return G}()?{passive:!0}:!1,ze="ReactList failed to reach a stable state.",wt=40,Se=function($,k){for(var M in k)if($[M]!==k[M])return!1;return!0},Q=function($){for(var k=$.props.axis,M=$.getEl(),W=P[k];M=M.parentElement;)switch(window.getComputedStyle(M)[W]){case"auto":case"scroll":case"overlay":return M}return window},oe=function($){var k=$.props.axis,M=$.scrollParent;return M===window?window[q[k]]:M[j[k]]},ce=function($,k){var M=$.length,W=$.minSize,ne=$.type,ae=k.from,le=k.size,de=k.itemsPerRow;le=Math.max(le,W);var ye=le%de;return ye&&(le+=de-ye),le>M&&(le=M),ae=ne==="simple"||!ae?0:Math.max(Math.min(ae,M-le),0),(ye=ae%de)&&(ae-=ye,le+=ye),ae===k.from&&le===k.size?k:A(A({},k),{},{from:ae,size:le})},Ce=e.default=function(G){function $(k){var M;return s(this,$),M=c(this,$,[k]),M.state=ce(k,{itemsPerRow:1,from:k.initialIndex,size:0}),M.cache={},M.cachedScrollPosition=null,M.prevPrevState={},M.unstable=!1,M.updateCounter=0,M}return E($,G),u($,[{key:"componentDidMount",value:function(){this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this),window.addEventListener("resize",this.updateFrameAndClearCache),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(M){var W=this;if(this.props.axis!==M.axis&&this.clearSizeCache(),!this.unstable){if(++this.updateCounter>wt)return this.unstable=!0,console.error(ze);this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout(function(){W.updateCounter=0,delete W.updateCounterTimeoutId},0)),this.updateFrame()}}},{key:"maybeSetState",value:function(M,W){if(Se(this.state,M))return W();this.setState(M,W)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrameAndClearCache),this.scrollParent.removeEventListener("scroll",this.updateFrameAndClearCache,Re),this.scrollParent.removeEventListener("mousewheel",I,Re)}},{key:"getOffset",value:function(M){var W=this.props.axis,ne=M[H[W]]||0,ae=w[W];do ne+=M[ae]||0;while(M=M.offsetParent);return ne}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollPosition",value:function(){if(typeof this.cachedScrollPosition=="number")return this.cachedScrollPosition;var M=this.scrollParent,W=this.props.axis,ne=N[W],ae=M===window?document.body[ne]||document.documentElement[ne]:M[ne],le=this.getScrollSize()-this.props.scrollParentViewportSizeGetter(this),de=Math.max(0,Math.min(ae,le)),ye=this.getEl();return this.cachedScrollPosition=this.getOffset(M)+de-this.getOffset(ye),this.cachedScrollPosition}},{key:"setScroll",value:function(M){var W=this.scrollParent,ne=this.props.axis;if(M+=this.getOffset(this.getEl()),W===window)return window.scrollTo(0,M);M-=this.getOffset(this.scrollParent),W[N[ne]]=M}},{key:"getScrollSize",value:function(){var M=this.scrollParent,W=document,ne=W.body,ae=W.documentElement,le=x[this.props.axis];return M===window?Math.max(ne[le],ae[le]):M[le]}},{key:"hasDeterminateSize",value:function(){var M=this.props,W=M.itemSizeGetter,ne=M.type;return ne==="uniform"||W}},{key:"getStartAndEnd",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.threshold,W=this.getScrollPosition(),ne=Math.max(0,W-M),ae=W+this.props.scrollParentViewportSizeGetter(this)+M;return this.hasDeterminateSize()&&(ae=Math.min(ae,this.getSpaceBefore(this.props.length))),{start:ne,end:ae}}},{key:"getItemSizeAndItemsPerRow",value:function(){var M=this.props,W=M.axis,ne=M.useStaticSize,ae=this.state,le=ae.itemSize,de=ae.itemsPerRow;if(ne&&le&&de)return{itemSize:le,itemsPerRow:de};var ye=this.items.children;if(!ye.length)return{};var Ie=ye[0],Pe=Ie[T[W]],De=Math.abs(Pe-le);if((isNaN(De)||De>=1)&&(le=Pe),!le)return{};var nt=w[W],at=Ie[nt];de=1;for(var Et=ye[de];Et&&Et[nt]===at;Et=ye[de])++de;return{itemSize:le,itemsPerRow:de}}},{key:"clearSizeCache",value:function(){this.cachedScrollPosition=null}},{key:"updateFrameAndClearCache",value:function(M){return this.clearSizeCache(),this.updateFrame(M)}},{key:"updateFrame",value:function(M){switch(this.updateScrollParent(),typeof M!="function"&&(M=I),this.props.type){case"simple":return this.updateSimpleFrame(M);case"variable":return this.updateVariableFrame(M);case"uniform":return this.updateUniformFrame(M)}}},{key:"updateScrollParent",value:function(){var M=this.scrollParent;this.scrollParent=this.props.scrollParentGetter(this),M!==this.scrollParent&&(M&&(M.removeEventListener("scroll",this.updateFrameAndClearCache),M.removeEventListener("mousewheel",I)),this.clearSizeCache(),this.scrollParent.addEventListener("scroll",this.updateFrameAndClearCache,Re),this.scrollParent.addEventListener("mousewheel",I,Re))}},{key:"updateSimpleFrame",value:function(M){var W=this.getStartAndEnd(),ne=W.end,ae=this.items.children,le=0;if(ae.length){var de=this.props.axis,ye=ae[0],Ie=ae[ae.length-1];le=this.getOffset(Ie)+Ie[T[de]]-this.getOffset(ye)}if(le>ne)return M();var Pe=this.props,De=Pe.pageSize,nt=Pe.length,at=Math.min(this.state.size+De,nt);this.maybeSetState({size:at},M)}},{key:"updateVariableFrame",value:function(M){this.props.itemSizeGetter||this.cacheSizes();for(var W=this.getStartAndEnd(),ne=W.start,ae=W.end,le=this.props,de=le.length,ye=le.pageSize,Ie=0,Pe=0,De=0,nt=de-1;Pe<nt;){var at=this.getSizeOfItem(Pe);if(at==null||Ie+at>ne)break;Ie+=at,++Pe}for(var Et=de-Pe;De<Et&&Ie<ae;){var Mn=this.getSizeOfItem(Pe+De);if(Mn==null){De=Math.min(De+ye,Et);break}Ie+=Mn,++De}this.maybeSetState(ce(this.props,{from:Pe,itemsPerRow:1,size:De}),M)}},{key:"updateUniformFrame",value:function(M){var W=this.getItemSizeAndItemsPerRow(),ne=W.itemSize,ae=W.itemsPerRow;if(!ne||!ae)return M();var le=this.getStartAndEnd(),de=le.start,ye=le.end,Ie=ce(this.props,{from:Math.floor(de/ne)*ae,size:(Math.ceil((ye-de)/ne)+1)*ae,itemsPerRow:ae}),Pe=Ie.from,De=Ie.size;return this.maybeSetState({itemsPerRow:ae,from:Pe,itemSize:ne,size:De},M)}},{key:"getSpaceBefore",value:function(M){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(W[M]!=null)return W[M];var ne=this.state,ae=ne.itemSize,le=ne.itemsPerRow;if(ae)return W[M]=Math.floor(M/le)*ae;for(var de=M;de>0&&W[--de]==null;);for(var ye=W[de]||0,Ie=de;Ie<M;++Ie){W[Ie]=ye;var Pe=this.getSizeOfItem(Ie);if(Pe==null)break;ye+=Pe}return W[M]=ye}},{key:"cacheSizes",value:function(){for(var M=this.cache,W=this.state.from,ne=this.items.children,ae=T[this.props.axis],le=0,de=ne.length;le<de;++le)M[W+le]=ne[le][ae]}},{key:"getSizeOfItem",value:function(M){var W=this.cache,ne=this.items,ae=this.props,le=ae.axis,de=ae.itemSizeGetter,ye=ae.itemSizeEstimator,Ie=ae.type,Pe=this.state,De=Pe.from,nt=Pe.itemSize,at=Pe.size;if(nt)return nt;if(de)return de(M);if(M in W)return W[M];if(Ie==="simple"&&M>=De&&M<De+at&&ne){var Et=ne.children[M-De];if(Et)return Et[T[le]]}if(ye)return ye(M,W)}},{key:"scrollTo",value:function(M){M!=null&&this.setScroll(this.getSpaceBefore(M))}},{key:"scrollAround",value:function(M){var W=this.getScrollPosition(),ne=this.getSpaceBefore(M),ae=ne-this.props.scrollParentViewportSizeGetter(this)+this.getSizeOfItem(M),le=Math.min(ae,ne),de=Math.max(ae,ne);if(W<=le)return this.setScroll(le);if(W>de)return this.setScroll(de)}},{key:"getVisibleRange",value:function(){for(var M=this.state,W=M.from,ne=M.size,ae=this.getStartAndEnd(0),le=ae.start,de=ae.end,ye={},Ie,Pe,De=W;De<W+ne;++De){var nt=this.getSpaceBefore(De,ye),at=nt+this.getSizeOfItem(De);Ie==null&&at>le&&(Ie=De),Ie!=null&&nt<de&&(Pe=De)}return[Ie,Pe]}},{key:"renderItems",value:function(){for(var M=this,W=this.props,ne=W.itemRenderer,ae=W.itemsRenderer,le=this.state,de=le.from,ye=le.size,Ie=[],Pe=0;Pe<ye;++Pe)Ie.push(ne(de+Pe,Pe));return ae(Ie,function(De){return M.items=De})}},{key:"render",value:function(){var M=this,W=this.props,ne=W.axis,ae=W.length,le=W.type,de=W.useTranslate3d,ye=this.state,Ie=ye.from,Pe=ye.itemsPerRow,De=this.renderItems();if(le==="simple")return De;var nt={position:"relative"},at={},Et=Math.ceil(ae/Pe)*Pe,Mn=this.getSpaceBefore(Et,at);Mn&&(nt[F[ne]]=Mn,ne==="x"&&(nt.overflowX="hidden"));var Nn=this.getSpaceBefore(Ie,at),qn=ne==="x"?Nn:0,br=ne==="y"?Nn:0,Rn=de?"translate3d(".concat(qn,"px, ").concat(br,"px, 0)"):"translate(".concat(qn,"px, ").concat(br,"px)"),xr={msTransform:Rn,WebkitTransform:Rn,transform:Rn};return(0,r.jsx)("div",{style:nt,ref:function(Qn){return M.el=Qn},children:(0,r.jsx)("div",{style:xr,children:De})})}}],[{key:"getDerivedStateFromProps",value:function(M,W){var ne=ce(M,W);return ne===W?null:ne}}])}(n.Component);b(Ce,"displayName","ReactList"),b(Ce,"defaultProps",{axis:"y",itemRenderer:function($,k){return(0,r.jsx)("div",{children:$},k)},itemsRenderer:function($,k){return(0,r.jsx)("div",{ref:k,children:$})},length:0,minSize:1,pageSize:10,scrollParentGetter:Q,scrollParentViewportSizeGetter:oe,threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1})})})(QI);function oB(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),r=Object.keys(e),i=n.length;if(r.length!==i)return!1;for(var s=0;s<i;s++){var o=n[s];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}function lB(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const uB=Object.freeze(Object.defineProperty({__proto__:null,shallowEqualArrays:lB,shallowEqualObjects:oB},Symbol.toStringTag,{value:"Module"})),cB=P2(uB);var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.default=void 0;vo.default={dateRangeWrapper:"rdrDateRangeWrapper",calendarWrapper:"rdrCalendarWrapper",dateDisplay:"rdrDateDisplay",dateDisplayItem:"rdrDateDisplayItem",dateDisplayItemActive:"rdrDateDisplayItemActive",monthAndYearWrapper:"rdrMonthAndYearWrapper",monthAndYearPickers:"rdrMonthAndYearPickers",nextPrevButton:"rdrNextPrevButton",month:"rdrMonth",weekDays:"rdrWeekDays",weekDay:"rdrWeekDay",days:"rdrDays",day:"rdrDay",dayNumber:"rdrDayNumber",dayPassive:"rdrDayPassive",dayToday:"rdrDayToday",dayStartOfWeek:"rdrDayStartOfWeek",dayEndOfWeek:"rdrDayEndOfWeek",daySelected:"rdrDaySelected",dayDisabled:"rdrDayDisabled",dayStartOfMonth:"rdrDayStartOfMonth",dayEndOfMonth:"rdrDayEndOfMonth",dayWeekend:"rdrDayWeekend",dayStartPreview:"rdrDayStartPreview",dayInPreview:"rdrDayInPreview",dayEndPreview:"rdrDayEndPreview",dayHovered:"rdrDayHovered",dayActive:"rdrDayActive",inRange:"rdrInRange",endEdge:"rdrEndEdge",startEdge:"rdrStartEdge",prevButton:"rdrPprevButton",nextButton:"rdrNextButton",selected:"rdrSelected",months:"rdrMonths",monthPicker:"rdrMonthPicker",yearPicker:"rdrYearPicker",dateDisplayWrapper:"rdrDateDisplayWrapper",definedRangesWrapper:"rdrDefinedRangesWrapper",staticRanges:"rdrStaticRanges",staticRange:"rdrStaticRange",inputRanges:"rdrInputRanges",inputRange:"rdrInputRange",inputRangeInput:"rdrInputRangeInput",dateRangePickerWrapper:"rdrDateRangePickerWrapper",staticRangeLabel:"rdrStaticRangeLabel",staticRangeSelected:"rdrStaticRangeSelected",monthName:"rdrMonthName",infiniteMonths:"rdrInfiniteMonths",monthsVertical:"rdrMonthsVertical",monthsHorizontal:"rdrMonthsHorizontal"};var Ih={};Object.defineProperty(Ih,"__esModule",{value:!0});Ih.ariaLabelsShape=void 0;var Li=dB(os);function dB(t){return t&&t.__esModule?t:{default:t}}Ih.ariaLabelsShape=Li.default.shape({dateInput:Li.default.objectOf(Li.default.shape({startDate:Li.default.string,endDate:Li.default.string})),monthPicker:Li.default.string,yearPicker:Li.default.string,prevButton:Li.default.string,nextButton:Li.default.string});Object.defineProperty(_c,"__esModule",{value:!0});_c.default=void 0;var Ze=_B(B),pe=Fl(os),fB=ts,ib=Fl(Ph),sb=Fl(Dh),gd=ms,La=Fl(ho),hB=Fl(QI),mB=cB,lt=Ea,gB=_h,pB=Fl(vo),vB=Ih;function Fl(t){return t&&t.__esModule?t:{default:t}}function KI(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(KI=function(r){return r?n:e})(t)}function _B(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=KI(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(this,arguments)}function hr(t,e,n){return e=yB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yB(t){var e=wB(t,"string");return typeof e=="symbol"?e:String(e)}function wB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let j0=class Mp extends Ze.PureComponent{constructor(e,n){var r;super(e,n),r=this,hr(this,"focusToDate",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.props,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!s.scroll.enabled){if(o&&s.preventSnapRefocus){const d=(0,lt.differenceInCalendarMonths)(i,r.state.focusedDate),m=s.calendarFocus==="forwards"&&d>=0,g=s.calendarFocus==="backwards"&&d<=0;if((m||g)&&Math.abs(d)<s.months)return}r.setState({focusedDate:i});return}const u=(0,lt.differenceInCalendarMonths)(i,s.minDate,r.dateOptions),c=r.list.getVisibleRange();o&&c.includes(u)||(r.isFirstRender=!0,r.list.scrollTo(u),r.setState({focusedDate:i}))}),hr(this,"updateShownDate",function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.props;const s=i.scroll.enabled?{...i,months:r.list.getVisibleRange().length}:i,o=(0,gd.calcFocusDate)(r.state.focusedDate,s);r.focusToDate(o,s)}),hr(this,"updatePreview",i=>{if(!i){this.setState({preview:null});return}const s={startDate:i,endDate:i,color:this.props.color};this.setState({preview:s})}),hr(this,"changeShownDate",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set";const{focusedDate:o}=r.state,{onShownDateChange:u,minDate:c,maxDate:d}=r.props,m={monthOffset:()=>(0,lt.addMonths)(o,i),setMonth:()=>(0,lt.setMonth)(o,i),setYear:()=>(0,lt.setYear)(o,i),set:()=>i},g=(0,lt.min)([(0,lt.max)([m[s](),c]),d]);r.focusToDate(g,r.props,!1),u&&u(g)}),hr(this,"handleRangeFocusChange",(i,s)=>{this.props.onRangeFocusChange&&this.props.onRangeFocusChange([i,s])}),hr(this,"handleScroll",()=>{const{onShownDateChange:i,minDate:s}=this.props,{focusedDate:o}=this.state,{isFirstRender:u}=this,c=this.list.getVisibleRange();if(c[0]===void 0)return;const d=(0,lt.addMonths)(s,c[0]||0);!(0,lt.isSameMonth)(d,o)&&!u&&(this.setState({focusedDate:d}),i&&i(d)),this.isFirstRender=!1}),hr(this,"renderMonthAndYear",(i,s,o)=>{const{showMonthArrow:u,minDate:c,maxDate:d,showMonthAndYearPickers:m,ariaLabels:g}=o,_=(d||Mp.defaultProps.maxDate).getFullYear(),E=(c||Mp.defaultProps.minDate).getFullYear(),O=this.styles;return Ze.default.createElement("div",{onMouseUp:D=>D.stopPropagation(),className:O.monthAndYearWrapper},u?Ze.default.createElement("button",{type:"button",className:(0,La.default)(O.nextPrevButton,O.prevButton),onClick:()=>s(-1,"monthOffset"),"aria-label":g.prevButton},Ze.default.createElement("i",null)):null,m?Ze.default.createElement("span",{className:O.monthAndYearPickers},Ze.default.createElement("span",{className:O.monthPicker},Ze.default.createElement("select",{value:i.getMonth(),onChange:D=>s(D.target.value,"setMonth"),"aria-label":g.monthPicker},this.state.monthNames.map((D,A)=>Ze.default.createElement("option",{key:A,value:A},D)))),Ze.default.createElement("span",{className:O.monthAndYearDivider}),Ze.default.createElement("span",{className:O.yearPicker},Ze.default.createElement("select",{value:i.getFullYear(),onChange:D=>s(D.target.value,"setYear"),"aria-label":g.yearPicker},new Array(_-E+1).fill(_).map((D,A)=>{const b=D-A;return Ze.default.createElement("option",{key:b,value:b},b)})))):Ze.default.createElement("span",{className:O.monthAndYearPickers},this.state.monthNames[i.getMonth()]," ",i.getFullYear()),u?Ze.default.createElement("button",{type:"button",className:(0,La.default)(O.nextPrevButton,O.nextButton),onClick:()=>s(1,"monthOffset"),"aria-label":g.nextButton},Ze.default.createElement("i",null)):null)}),hr(this,"renderDateDisplay",()=>{const{focusedRange:i,color:s,ranges:o,rangeColors:u,dateDisplayFormat:c,editableDateInputs:d,startDatePlaceholder:m,endDatePlaceholder:g,ariaLabels:_}=this.props,E=u[i[0]]||s,O=this.styles;return Ze.default.createElement("div",{className:O.dateDisplayWrapper},o.map((D,A)=>D.showDateDisplay===!1||D.disabled&&!D.showDateDisplay?null:Ze.default.createElement("div",{className:O.dateDisplay,key:A,style:{color:D.color||E}},Ze.default.createElement(sb.default,{className:(0,La.default)(O.dateDisplayItem,{[O.dateDisplayItemActive]:i[0]===A&&i[1]===0}),readOnly:!d,disabled:D.disabled,value:D.startDate,placeholder:m,dateOptions:this.dateOptions,dateDisplayFormat:c,ariaLabel:_.dateInput&&_.dateInput[D.key]&&_.dateInput[D.key].startDate,onChange:this.onDragSelectionEnd,onFocus:()=>this.handleRangeFocusChange(A,0)}),Ze.default.createElement(sb.default,{className:(0,La.default)(O.dateDisplayItem,{[O.dateDisplayItemActive]:i[0]===A&&i[1]===1}),readOnly:!d,disabled:D.disabled,value:D.endDate,placeholder:g,dateOptions:this.dateOptions,dateDisplayFormat:c,ariaLabel:_.dateInput&&_.dateInput[D.key]&&_.dateInput[D.key].endDate,onChange:this.onDragSelectionEnd,onFocus:()=>this.handleRangeFocusChange(A,1)}))))}),hr(this,"onDragSelectionStart",i=>{const{onChange:s,dragSelectionEnabled:o}=this.props;o?this.setState({drag:{status:!0,range:{startDate:i,endDate:i},disablePreview:!0}}):s&&s(i)}),hr(this,"onDragSelectionEnd",i=>{const{updateRange:s,displayMode:o,onChange:u,dragSelectionEnabled:c}=this.props;if(!c)return;if(o==="date"||!this.state.drag.status){u&&u(i);return}const d={startDate:this.state.drag.range.startDate,endDate:i};o!=="dateRange"||(0,lt.isSameDay)(d.startDate,i)?this.setState({drag:{status:!1,range:{}}},()=>u&&u(i)):this.setState({drag:{status:!1,range:{}}},()=>{s&&s(d)})}),hr(this,"onDragSelectionMove",i=>{const{drag:s}=this.state;!s.status||!this.props.dragSelectionEnabled||this.setState({drag:{status:s.status,range:{startDate:s.range.startDate,endDate:i},disablePreview:!0}})}),hr(this,"estimateMonthSize",(i,s)=>{const{direction:o,minDate:u}=this.props,{scrollArea:c}=this.state;if(s&&(this.listSizeCache=s,s[i]))return s[i];if(o==="horizontal")return c.monthWidth;const d=(0,lt.addMonths)(u,i),{start:m,end:g}=(0,gd.getMonthDisplayRange)(d,this.dateOptions);return(0,lt.differenceInDays)(g,m,this.dateOptions)+1>7*5?c.longMonthHeight:c.monthHeight}),this.dateOptions={locale:e.locale},e.weekStartsOn!==void 0&&(this.dateOptions.weekStartsOn=e.weekStartsOn),this.styles=(0,gd.generateStyles)([pB.default,e.classNames]),this.listSizeCache={},this.isFirstRender=!0,this.state={monthNames:this.getMonthNames(),focusedDate:(0,gd.calcFocusDate)(null,e),drag:{status:!1,range:{startDate:null,endDate:null},disablePreview:!1},scrollArea:this.calcScrollArea(e)}}getMonthNames(){return[...Array(12).keys()].map(e=>this.props.locale.localize.month(e))}calcScrollArea(e){const{direction:n,months:r,scroll:i}=e;if(!i.enabled)return{enabled:!1};const s=i.longMonthHeight||i.monthHeight;return n==="vertical"?{enabled:!0,monthHeight:i.monthHeight||220,longMonthHeight:s||260,calendarWidth:"auto",calendarHeight:(i.calendarHeight||s||240)*r}:{enabled:!0,monthWidth:i.monthWidth||332,calendarWidth:(i.calendarWidth||i.monthWidth||332)*r,monthHeight:s||300,calendarHeight:s||300}}componentDidMount(){this.props.scroll.enabled&&setTimeout(()=>this.focusToDate(this.state.focusedDate))}componentDidUpdate(e){const r={dateRange:"ranges",date:"date"}[this.props.displayMode];this.props[r]!==e[r]&&this.updateShownDate(this.props),(e.locale!==this.props.locale||e.weekStartsOn!==this.props.weekStartsOn)&&(this.dateOptions={locale:this.props.locale},this.props.weekStartsOn!==void 0&&(this.dateOptions.weekStartsOn=this.props.weekStartsOn),this.setState({monthNames:this.getMonthNames()})),(0,mB.shallowEqualObjects)(e.scroll,this.props.scroll)||this.setState({scrollArea:this.calcScrollArea(this.props)})}renderWeekdays(){const e=new Date;return Ze.default.createElement("div",{className:this.styles.weekDays},(0,lt.eachDayOfInterval)({start:(0,lt.startOfWeek)(e,this.dateOptions),end:(0,lt.endOfWeek)(e,this.dateOptions)}).map((n,r)=>Ze.default.createElement("span",{className:this.styles.weekDay,key:r},(0,lt.format)(n,this.props.weekdayDisplayFormat,this.dateOptions))))}render(){const{showDateDisplay:e,onPreviewChange:n,scroll:r,direction:i,disabledDates:s,disabledDay:o,maxDate:u,minDate:c,rangeColors:d,color:m,navigatorRenderer:g,className:_,preview:E}=this.props,{scrollArea:O,focusedDate:D}=this.state,A=i==="vertical",b=g||this.renderMonthAndYear,S=this.props.ranges.map((C,j)=>({...C,color:C.color||d[j]||m}));return Ze.default.createElement("div",{className:(0,La.default)(this.styles.calendarWrapper,_),onMouseUp:()=>this.setState({drag:{status:!1,range:{}}}),onMouseLeave:()=>{this.setState({drag:{status:!1,range:{}}})}},e&&this.renderDateDisplay(),b(D,this.changeShownDate,this.props),r.enabled?Ze.default.createElement("div",null,A&&this.renderWeekdays(this.dateOptions),Ze.default.createElement("div",{className:(0,La.default)(this.styles.infiniteMonths,A?this.styles.monthsVertical:this.styles.monthsHorizontal),onMouseLeave:()=>n&&n(),style:{width:O.calendarWidth+11,height:O.calendarHeight+11},onScroll:this.handleScroll},Ze.default.createElement(hB.default,{length:(0,lt.differenceInCalendarMonths)((0,lt.endOfMonth)(u),(0,lt.addDays)((0,lt.startOfMonth)(c),-1),this.dateOptions),treshold:500,type:"variable",ref:C=>this.list=C,itemSizeEstimator:this.estimateMonthSize,axis:A?"y":"x",itemRenderer:(C,j)=>{const H=(0,lt.addMonths)(c,C);return Ze.default.createElement(ib.default,yf({},this.props,{onPreviewChange:n||this.updatePreview,preview:E||this.state.preview,ranges:S,key:j,drag:this.state.drag,dateOptions:this.dateOptions,disabledDates:s,disabledDay:o,month:H,onDragSelectionStart:this.onDragSelectionStart,onDragSelectionEnd:this.onDragSelectionEnd,onDragSelectionMove:this.onDragSelectionMove,onMouseLeave:()=>n&&n(),styles:this.styles,style:A?{height:this.estimateMonthSize(C)}:{height:O.monthHeight,width:this.estimateMonthSize(C)},showMonthName:!0,showWeekDays:!A}))}}))):Ze.default.createElement("div",{className:(0,La.default)(this.styles.months,A?this.styles.monthsVertical:this.styles.monthsHorizontal)},new Array(this.props.months).fill(null).map((C,j)=>{let H=(0,lt.addMonths)(this.state.focusedDate,j);return this.props.calendarFocus==="backwards"&&(H=(0,lt.subMonths)(this.state.focusedDate,this.props.months-1-j)),Ze.default.createElement(ib.default,yf({},this.props,{onPreviewChange:n||this.updatePreview,preview:E||this.state.preview,ranges:S,key:j,drag:this.state.drag,dateOptions:this.dateOptions,disabledDates:s,disabledDay:o,month:H,onDragSelectionStart:this.onDragSelectionStart,onDragSelectionEnd:this.onDragSelectionEnd,onDragSelectionMove:this.onDragSelectionMove,onMouseLeave:()=>n&&n(),styles:this.styles,showWeekDays:!A||j===0,showMonthName:!A||j>0}))})))}};j0.defaultProps={showMonthArrow:!0,showMonthAndYearPickers:!0,disabledDates:[],disabledDay:()=>{},classNames:{},locale:gB.enUS,ranges:[],focusedRange:[0,0],dateDisplayFormat:"MMM d, yyyy",monthDisplayFormat:"MMM yyyy",weekdayDisplayFormat:"E",dayDisplayFormat:"d",showDateDisplay:!0,showPreview:!0,displayMode:"date",months:1,color:"#3d91ff",scroll:{enabled:!1},direction:"vertical",maxDate:(0,lt.addYears)(new Date,20),minDate:(0,lt.addYears)(new Date,-100),rangeColors:["#3d91ff","#3ecf8e","#fed14c"],startDatePlaceholder:"Early",endDatePlaceholder:"Continuous",editableDateInputs:!1,dragSelectionEnabled:!0,fixedHeight:!1,calendarFocus:"forwards",preventSnapRefocus:!1,ariaLabels:{}};j0.propTypes={showMonthArrow:pe.default.bool,showMonthAndYearPickers:pe.default.bool,disabledDates:pe.default.array,disabledDay:pe.default.func,minDate:pe.default.object,maxDate:pe.default.object,date:pe.default.object,onChange:pe.default.func,onPreviewChange:pe.default.func,onRangeFocusChange:pe.default.func,classNames:pe.default.object,locale:pe.default.object,shownDate:pe.default.object,onShownDateChange:pe.default.func,ranges:pe.default.arrayOf(fB.rangeShape),preview:pe.default.shape({startDate:pe.default.object,endDate:pe.default.object,color:pe.default.string}),dateDisplayFormat:pe.default.string,monthDisplayFormat:pe.default.string,weekdayDisplayFormat:pe.default.string,weekStartsOn:pe.default.number,dayDisplayFormat:pe.default.string,focusedRange:pe.default.arrayOf(pe.default.number),initialFocusedRange:pe.default.arrayOf(pe.default.number),months:pe.default.number,className:pe.default.string,showDateDisplay:pe.default.bool,showPreview:pe.default.bool,displayMode:pe.default.oneOf(["dateRange","date"]),color:pe.default.string,updateRange:pe.default.func,scroll:pe.default.shape({enabled:pe.default.bool,monthHeight:pe.default.number,longMonthHeight:pe.default.number,monthWidth:pe.default.number,calendarWidth:pe.default.number,calendarHeight:pe.default.number}),direction:pe.default.oneOf(["vertical","horizontal"]),startDatePlaceholder:pe.default.string,endDatePlaceholder:pe.default.string,navigatorRenderer:pe.default.func,rangeColors:pe.default.arrayOf(pe.default.string),editableDateInputs:pe.default.bool,dragSelectionEnabled:pe.default.bool,fixedHeight:pe.default.bool,calendarFocus:pe.default.string,preventSnapRefocus:pe.default.bool,ariaLabels:vB.ariaLabelsShape};_c.default=j0;Object.defineProperty(vc,"__esModule",{value:!0});vc.default=void 0;var ab=TB(B),Wo=Oh(os),XI=Oh(_c),EB=ts,pg=ms,ii=Ea,bB=Oh(ho),xB=Oh(vo);function Oh(t){return t&&t.__esModule?t:{default:t}}function JI(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(JI=function(r){return r?n:e})(t)}function TB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=JI(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function Np(){return Np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Np.apply(this,arguments)}function pd(t,e,n){return e=SB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SB(t){var e=PB(t,"string");return typeof e=="symbol"?e:String(e)}function PB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class F0 extends ab.Component{constructor(e,n){var r;super(e,n),r=this,pd(this,"calcNewSelection",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const o=r.props.focusedRange||r.state.focusedRange,{ranges:u,onChange:c,maxDate:d,moveRangeOnFirstSelection:m,retainEndDateOnFirstSelection:g,disabledDates:_}=r.props,E=o[0],O=u[E];if(!O||!c)return{};let{startDate:D,endDate:A}=O;const b=new Date;let S;if(!s)D=i.startDate,A=i.endDate;else if(o[1]===0){const H=(0,ii.differenceInCalendarDays)(A||b,D),q=()=>m?(0,ii.addDays)(i,H):g?!A||(0,ii.isBefore)(i,A)?A:i:i||b;D=i,A=q(),d&&(A=(0,ii.min)([A,d])),S=[o[0],1]}else A=i;let C=o[1]===0;(0,ii.isBefore)(A,D)&&(C=!C,[D,A]=[A,D]);const j=_.filter(H=>(0,ii.isWithinInterval)(H,{start:D,end:A}));return j.length>0&&(C?D=(0,ii.addDays)((0,ii.max)(j),1):A=(0,ii.addDays)((0,ii.min)(j),-1)),S||(S=[(0,pg.findNextRangeIndex)(r.props.ranges,o[0]),0]),{wasValid:!(j.length>0),range:{startDate:D,endDate:A},nextFocusRange:S}}),pd(this,"setSelection",(i,s)=>{const{onChange:o,ranges:u,onRangeFocusChange:c}=this.props,m=(this.props.focusedRange||this.state.focusedRange)[0],g=u[m];if(!g)return;const _=this.calcNewSelection(i,s);o({[g.key||`range${m+1}`]:{...g,..._.range}}),this.setState({focusedRange:_.nextFocusRange,preview:null}),c&&c(_.nextFocusRange)}),pd(this,"handleRangeFocusChange",i=>{this.setState({focusedRange:i}),this.props.onRangeFocusChange&&this.props.onRangeFocusChange(i)}),pd(this,"updatePreview",i=>{var d;if(!i){this.setState({preview:null});return}const{rangeColors:s,ranges:o}=this.props,u=this.props.focusedRange||this.state.focusedRange,c=((d=o[u[0]])==null?void 0:d.color)||s[u[0]]||c;this.setState({preview:{...i.range,color:c}})}),this.state={focusedRange:e.initialFocusedRange||[(0,pg.findNextRangeIndex)(e.ranges),0],preview:null},this.styles=(0,pg.generateStyles)([xB.default,e.classNames])}render(){return ab.default.createElement(XI.default,Np({focusedRange:this.state.focusedRange,onRangeFocusChange:this.handleRangeFocusChange,preview:this.state.preview,onPreviewChange:e=>{this.updatePreview(e?this.calcNewSelection(e):null)}},this.props,{displayMode:"dateRange",className:(0,bB.default)(this.styles.dateRangeWrapper,this.props.className),onChange:this.setSelection,updateRange:e=>this.setSelection(e,!1),ref:e=>{this.calendar=e}}))}}F0.defaultProps={classNames:{},ranges:[],moveRangeOnFirstSelection:!1,retainEndDateOnFirstSelection:!1,rangeColors:["#3d91ff","#3ecf8e","#fed14c"],disabledDates:[]};F0.propTypes={...XI.default.propTypes,onChange:Wo.default.func,onRangeFocusChange:Wo.default.func,className:Wo.default.string,ranges:Wo.default.arrayOf(EB.rangeShape),moveRangeOnFirstSelection:Wo.default.bool,retainEndDateOnFirstSelection:Wo.default.bool};vc.default=F0;var Ch={},Mc={},ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.createStaticRanges=ZI;ha.defaultStaticRanges=ha.defaultInputRanges=void 0;var it=Ea;const Gt={startOfWeek:(0,it.startOfWeek)(new Date),endOfWeek:(0,it.endOfWeek)(new Date),startOfLastWeek:(0,it.startOfWeek)((0,it.addDays)(new Date,-7)),endOfLastWeek:(0,it.endOfWeek)((0,it.addDays)(new Date,-7)),startOfToday:(0,it.startOfDay)(new Date),endOfToday:(0,it.endOfDay)(new Date),startOfYesterday:(0,it.startOfDay)((0,it.addDays)(new Date,-1)),endOfYesterday:(0,it.endOfDay)((0,it.addDays)(new Date,-1)),startOfMonth:(0,it.startOfMonth)(new Date),endOfMonth:(0,it.endOfMonth)(new Date),startOfLastMonth:(0,it.startOfMonth)((0,it.addMonths)(new Date,-1)),endOfLastMonth:(0,it.endOfMonth)((0,it.addMonths)(new Date,-1))},DB={range:{},isSelected(t){const e=this.range();return(0,it.isSameDay)(t.startDate,e.startDate)&&(0,it.isSameDay)(t.endDate,e.endDate)}};function ZI(t){return t.map(e=>({...DB,...e}))}ha.defaultStaticRanges=ZI([{label:"Today",range:()=>({startDate:Gt.startOfToday,endDate:Gt.endOfToday})},{label:"Yesterday",range:()=>({startDate:Gt.startOfYesterday,endDate:Gt.endOfYesterday})},{label:"This Week",range:()=>({startDate:Gt.startOfWeek,endDate:Gt.endOfWeek})},{label:"Last Week",range:()=>({startDate:Gt.startOfLastWeek,endDate:Gt.endOfLastWeek})},{label:"This Month",range:()=>({startDate:Gt.startOfMonth,endDate:Gt.endOfMonth})},{label:"Last Month",range:()=>({startDate:Gt.startOfLastMonth,endDate:Gt.endOfLastMonth})}]);ha.defaultInputRanges=[{label:"days up to today",range(t){return{startDate:(0,it.addDays)(Gt.startOfToday,(Math.max(Number(t),1)-1)*-1),endDate:Gt.endOfToday}},getCurrentValue(t){return(0,it.isSameDay)(t.endDate,Gt.endOfToday)?t.startDate?(0,it.differenceInCalendarDays)(Gt.endOfToday,t.startDate)+1:"":"-"}},{label:"days starting today",range(t){const e=new Date;return{startDate:e,endDate:(0,it.addDays)(e,Math.max(Number(t),1)-1)}},getCurrentValue(t){return(0,it.isSameDay)(t.startDate,Gt.startOfToday)?t.endDate?(0,it.differenceInCalendarDays)(t.endDate,Gt.startOfToday)+1:"":"-"}}];var Mh={};Object.defineProperty(Mh,"__esModule",{value:!0});Mh.default=void 0;var vd=OB(B),Wn=IB(os);function IB(t){return t&&t.__esModule?t:{default:t}}function e1(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(e1=function(r){return r?n:e})(t)}function OB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=e1(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function CB(t,e,n){return e=MB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MB(t){var e=NB(t,"string");return typeof e=="symbol"?e:String(e)}function NB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const ob=0,lb=99999;class L0 extends vd.Component{constructor(e,n){super(e,n),CB(this,"onChange",r=>{const{onChange:i}=this.props;let s=parseInt(r.target.value,10);s=isNaN(s)?0:Math.max(Math.min(lb,s),ob),i(s)})}shouldComponentUpdate(e){const{value:n,label:r,placeholder:i}=this.props;return n!==e.value||r!==e.label||i!==e.placeholder}render(){const{label:e,placeholder:n,value:r,styles:i,onBlur:s,onFocus:o}=this.props;return vd.default.createElement("div",{className:i.inputRange},vd.default.createElement("input",{className:i.inputRangeInput,placeholder:n,value:r,min:ob,max:lb,onChange:this.onChange,onFocus:o,onBlur:s}),vd.default.createElement("span",{className:i.inputRangeLabel},e))}}L0.propTypes={value:Wn.default.oneOfType([Wn.default.string,Wn.default.number]),label:Wn.default.oneOfType([Wn.default.element,Wn.default.node]).isRequired,placeholder:Wn.default.string,styles:Wn.default.shape({inputRange:Wn.default.string,inputRangeInput:Wn.default.string,inputRangeLabel:Wn.default.string}).isRequired,onBlur:Wn.default.func.isRequired,onFocus:Wn.default.func.isRequired,onChange:Wn.default.func.isRequired};L0.defaultProps={value:"",placeholder:"-"};Mh.default=L0;Object.defineProperty(Mc,"__esModule",{value:!0});Mc.default=void 0;var ka=jB(B),er=Nh(os),Va=Nh(vo),ub=ha,RB=ts,AB=Nh(Mh),cb=Nh(ho);function Nh(t){return t&&t.__esModule?t:{default:t}}function t1(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(t1=function(r){return r?n:e})(t)}function jB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=t1(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function FB(t,e,n){return e=LB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LB(t){var e=kB(t,"string");return typeof e=="symbol"?e:String(e)}function kB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class k0 extends ka.Component{constructor(e){super(e),FB(this,"handleRangeChange",n=>{const{onChange:r,ranges:i,focusedRange:s}=this.props,o=i[s[0]];!r||!o||r({[o.key||`range${s[0]+1}`]:{...o,...n}})}),this.state={rangeOffset:0,focusedInput:-1}}getRangeOptionValue(e){const{ranges:n=[],focusedRange:r=[]}=this.props;if(typeof e.getCurrentValue!="function")return"";const i=n[r[0]]||{};return e.getCurrentValue(i)||""}getSelectedRange(e,n){const r=e.findIndex(s=>!s.startDate||!s.endDate||s.disabled?!1:n.isSelected(s));return{selectedRange:e[r],focusedRangeIndex:r}}render(){const{headerContent:e,footerContent:n,onPreviewChange:r,inputRanges:i,staticRanges:s,ranges:o,renderStaticRangeLabel:u,rangeColors:c,className:d}=this.props;return ka.default.createElement("div",{className:(0,cb.default)(Va.default.definedRangesWrapper,d)},e,ka.default.createElement("div",{className:Va.default.staticRanges},s.map((m,g)=>{const{selectedRange:_,focusedRangeIndex:E}=this.getSelectedRange(o,m);let O;return m.hasCustomRendering?O=u(m):O=m.label,ka.default.createElement("button",{type:"button",className:(0,cb.default)(Va.default.staticRange,{[Va.default.staticRangeSelected]:!!_}),style:{color:_?_.color||c[E]:null},key:g,onClick:()=>this.handleRangeChange(m.range(this.props)),onFocus:()=>r&&r(m.range(this.props)),onMouseOver:()=>r&&r(m.range(this.props)),onMouseLeave:()=>{r&&r()}},ka.default.createElement("span",{tabIndex:-1,className:Va.default.staticRangeLabel},O))})),ka.default.createElement("div",{className:Va.default.inputRanges},i.map((m,g)=>ka.default.createElement(AB.default,{key:g,styles:Va.default,label:m.label,onFocus:()=>this.setState({focusedInput:g,rangeOffset:0}),onBlur:()=>this.setState({rangeOffset:0}),onChange:_=>this.handleRangeChange(m.range(_,this.props)),value:this.getRangeOptionValue(m)}))),n)}}k0.propTypes={inputRanges:er.default.array,staticRanges:er.default.array,ranges:er.default.arrayOf(RB.rangeShape),focusedRange:er.default.arrayOf(er.default.number),onPreviewChange:er.default.func,onChange:er.default.func,footerContent:er.default.any,headerContent:er.default.any,rangeColors:er.default.arrayOf(er.default.string),className:er.default.string,renderStaticRangeLabel:er.default.func};k0.defaultProps={inputRanges:ub.defaultInputRanges,staticRanges:ub.defaultStaticRanges,ranges:[],rangeColors:["#3d91ff","#3ecf8e","#fed14c"],focusedRange:[0,0]};Mc.default=k0;Object.defineProperty(Ch,"__esModule",{value:!0});Ch.default=void 0;var _d=UB(B),VB=Nc(os),n1=Nc(vc),r1=Nc(Mc),db=ms,zB=Nc(ho),WB=Nc(vo);function Nc(t){return t&&t.__esModule?t:{default:t}}function i1(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(i1=function(r){return r?n:e})(t)}function UB(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=i1(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wf.apply(this,arguments)}class V0 extends _d.Component{constructor(e){super(e),this.state={focusedRange:[(0,db.findNextRangeIndex)(e.ranges),0]},this.styles=(0,db.generateStyles)([WB.default,e.classNames])}render(){const{focusedRange:e}=this.state;return _d.default.createElement("div",{className:(0,zB.default)(this.styles.dateRangePickerWrapper,this.props.className)},_d.default.createElement(r1.default,wf({focusedRange:e,onPreviewChange:n=>this.dateRange.updatePreview(n?this.dateRange.calcNewSelection(n,typeof n=="string"):null)},this.props,{range:this.props.ranges[e[0]],className:void 0})),_d.default.createElement(n1.default,wf({onRangeFocusChange:n=>this.setState({focusedRange:n}),focusedRange:e},this.props,{ref:n=>this.dateRange=n,className:void 0})))}}V0.defaultProps={};V0.propTypes={...n1.default.propTypes,...r1.default.propTypes,className:VB.default.string};Ch.default=V0;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Calendar",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"DateRange",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"DateRangePicker",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"DefinedRange",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"createStaticRanges",{enumerable:!0,get:function(){return s.createStaticRanges}}),Object.defineProperty(t,"defaultInputRanges",{enumerable:!0,get:function(){return s.defaultInputRanges}}),Object.defineProperty(t,"defaultStaticRanges",{enumerable:!0,get:function(){return s.defaultStaticRanges}});var e=o(vc),n=o(_c),r=o(Ch),i=o(Mc),s=ha;function o(u){return u&&u.__esModule?u:{default:u}}})(Xv);var BB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $B=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HB=(t,e)=>{const n=B.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:u,...c},d)=>B.createElement("svg",{ref:d,...BB,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${$B(t)}`,...c},[...e.map(([m,g])=>B.createElement(m,g)),...(Array.isArray(u)?u:[u])||[]]));return n.displayName=`${t}`,n};var Vt=HB;const YB=Vt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),qB=Vt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),yd=Vt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Ef=Vt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),vg=Vt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),GB=Vt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),QB=Vt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),_g=Vt("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),yg=Vt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),fb=Vt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),KB=Vt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),bf=Vt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),wg=Vt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Uo=Vt("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),_u=Vt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Eg=Vt("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]),Nu=Vt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),XB=Vt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),JB=Vt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ld=Vt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var s1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hb=Fr.createContext&&Fr.createContext(s1),ZB=["attr","size","title"];function e$(t,e){if(t==null)return{};var n=t$(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t$(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xf.apply(this,arguments)}function mb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mb(Object(n),!0).forEach(function(r){n$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n$(t,e,n){return e=r$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r$(t){var e=i$(t,"string");return typeof e=="symbol"?e:e+""}function i$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a1(t){return t&&t.map((e,n)=>Fr.createElement(e.tag,Tf({key:n},e.attr),a1(e.child)))}function Ll(t){return e=>Fr.createElement(s$,xf({attr:Tf({},t.attr)},e),a1(t.child))}function s$(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=e$(t,ZB),u=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Fr.createElement("svg",xf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Tf(Tf({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&Fr.createElement("title",null,s),t.children)};return hb!==void 0?Fr.createElement(hb.Consumer,null,n=>e(n)):e(s1)}function gb(t){return Ll({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"},child:[]}]})(t)}function bg(t){return Ll({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 96v256c0 51.815-61.624 96-130.022 96l62.98 49.721C386.905 502.417 383.562 512 376 512H72c-7.578 0-10.892-9.594-4.957-14.279L130.022 448C61.82 448 0 403.954 0 352V96C0 42.981 64 0 128 0h192c65 0 128 42.981 128 96zM200 232V120c0-13.255-10.745-24-24-24H72c-13.255 0-24 10.745-24 24v112c0 13.255 10.745 24 24 24h104c13.255 0 24-10.745 24-24zm200 0V120c0-13.255-10.745-24-24-24H272c-13.255 0-24 10.745-24 24v112c0 13.255 10.745 24 24 24h104c13.255 0 24-10.745 24-24zm-48 56c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm-256 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(t)}function xg(t){return Ll({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}function pb(t){return Ll({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M208 96c26.5 0 48-21.5 48-48S234.5 0 208 0s-48 21.5-48 48 21.5 48 48 48zm94.5 149.1l-23.3-11.8-9.7-29.4c-14.7-44.6-55.7-75.8-102.2-75.9-36-.1-55.9 10.1-93.3 25.2-21.6 8.7-39.3 25.2-49.7 46.2L17.6 213c-7.8 15.8-1.5 35 14.2 42.9 15.6 7.9 34.6 1.5 42.5-14.3L81 228c3.5-7 9.3-12.5 16.5-15.4l26.8-10.8-15.2 60.7c-5.2 20.8.4 42.9 14.9 58.8l59.9 65.4c7.2 7.9 12.3 17.4 14.9 27.7l18.3 73.3c4.3 17.1 21.7 27.6 38.8 23.3 17.1-4.3 27.6-21.7 23.3-38.8l-22.2-89c-2.6-10.3-7.7-19.9-14.9-27.7l-45.5-49.7 17.2-68.7 5.5 16.5c5.3 16.1 16.7 29.4 31.7 37l23.3 11.8c15.6 7.9 34.6 1.5 42.5-14.3 7.7-15.7 1.4-35.1-14.3-43zM73.6 385.8c-3.2 8.1-8 15.4-14.2 21.5l-50 50.1c-12.5 12.5-12.5 32.8 0 45.3s32.7 12.5 45.2 0l59.4-59.4c6.1-6.1 10.9-13.4 14.2-21.5l13.5-33.8c-55.3-60.3-38.7-41.8-47.4-53.7l-20.7 51.5z"},child:[]}]})(t)}function a$(t){return Ll({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 10.5v3a1.5 1.5 0 0 0 3 0v-3a1.5 1.5 0 0 0 -3 0z"},child:[]},{tag:"path",attr:{d:"M8 9h1.5a1.5 1.5 0 0 1 0 3h-.5h.5a1.5 1.5 0 0 1 0 3h-1.5"},child:[]},{tag:"path",attr:{d:"M3 12v.01"},child:[]},{tag:"path",attr:{d:"M7.5 4.2v.01"},child:[]},{tag:"path",attr:{d:"M7.5 19.8v.01"},child:[]},{tag:"path",attr:{d:"M4.2 16.5v.01"},child:[]},{tag:"path",attr:{d:"M4.2 7.5v.01"},child:[]},{tag:"path",attr:{d:"M12 21a9 9 0 0 0 0 -18"},child:[]}]})(t)}function o$(t){return Ll({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(t)}var vb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},l$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},l1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,m=s>>2,g=(s&3)<<4|u>>4;let _=(u&15)<<2|d>>6,E=d&63;c||(E=64,o||(_=64)),r.push(n[m],n[g],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||d==null||g==null)throw new u$;const _=s<<2|u>>4;if(r.push(_),d!==64){const E=u<<4&240|d>>2;if(r.push(E),g!==64){const O=d<<6&192|g;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class u$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c$=function(t){const e=o1(t);return l1.encodeByteArray(e,!0)},Sf=function(t){return c$(t).replace(/\./g,"")},u1=function(t){try{return l1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=()=>d$().__FIREBASE_DEFAULTS__,h$=()=>{if(typeof process>"u"||typeof vb>"u")return;const t=vb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&u1(t[1]);return e&&JSON.parse(e)},Rh=()=>{try{return f$()||h$()||m$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},c1=t=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},g$=t=>{const e=c1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},d1=()=>{var t;return(t=Rh())===null||t===void 0?void 0:t.config},f1=t=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sf(JSON.stringify(n)),Sf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function y$(){var t;const e=(t=Rh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function b$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x$(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T$(){return!y$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S$(){try{return typeof indexedDB=="object"}catch{return!1}}function P$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$="FirebaseError";class gs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=D$,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?I$(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new gs(i,u,r)}}function I$(t,e){return t.replace(O$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const O$=/\{\$([^}]+)}/g;function C$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(_b(s)&&_b(o)){if(!Pf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _b(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function M$(t,e){const n=new N$(t,e);return n.subscribe.bind(n)}class N${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");R$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tg),i.error===void 0&&(i.error=Tg),i.complete===void 0&&(i.complete=Tg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t){return t&&t._delegate?t._delegate:t}class so{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new p$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F$(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j$(t){return t===Ba?void 0:t}function F$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const k$={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},V$=ke.INFO,z$={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},W$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=z$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class z0{constructor(e){this.name=e,this._logLevel=V$,this._logHandler=W$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const U$=(t,e)=>e.some(n=>t instanceof n);let yb,wb;function B$(){return yb||(yb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $$(){return wb||(wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h1=new WeakMap,Rp=new WeakMap,m1=new WeakMap,Sg=new WeakMap,W0=new WeakMap;function H$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(oa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&h1.set(n,t)}).catch(()=>{}),W0.set(e,t),e}function Y$(t){if(Rp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rp.set(t,e)}let Ap={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function q$(t){Ap=t(Ap)}function G$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pg(this),e,...n);return m1.set(r,e.sort?e.sort():[e]),oa(r)}:$$().includes(t)?function(...e){return t.apply(Pg(this),e),oa(h1.get(this))}:function(...e){return oa(t.apply(Pg(this),e))}}function Q$(t){return typeof t=="function"?G$(t):(t instanceof IDBTransaction&&Y$(t),U$(t,B$())?new Proxy(t,Ap):t)}function oa(t){if(t instanceof IDBRequest)return H$(t);if(Sg.has(t))return Sg.get(t);const e=Q$(t);return e!==t&&(Sg.set(t,e),W0.set(e,t)),e}const Pg=t=>W0.get(t);function K$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=oa(o);return r&&o.addEventListener("upgradeneeded",c=>{r(oa(o.result),c.oldVersion,c.newVersion,oa(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const X$=["get","getKey","getAll","getAllKeys","count"],J$=["put","add","delete","clear"],Dg=new Map;function Eb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dg.get(e))return Dg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=J$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X$.includes(n)))return;const s=async function(o,...u){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&c.done]))[0]};return Dg.set(e,s),s}q$(t=>({...t,get:(e,n,r)=>Eb(e,n)||t.get(e,n,r),has:(e,n)=>!!Eb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(e8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function e8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jp="@firebase/app",bb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new z0("@firebase/app"),t8="@firebase/app-compat",n8="@firebase/analytics-compat",r8="@firebase/analytics",i8="@firebase/app-check-compat",s8="@firebase/app-check",a8="@firebase/auth",o8="@firebase/auth-compat",l8="@firebase/database",u8="@firebase/data-connect",c8="@firebase/database-compat",d8="@firebase/functions",f8="@firebase/functions-compat",h8="@firebase/installations",m8="@firebase/installations-compat",g8="@firebase/messaging",p8="@firebase/messaging-compat",v8="@firebase/performance",_8="@firebase/performance-compat",y8="@firebase/remote-config",w8="@firebase/remote-config-compat",E8="@firebase/storage",b8="@firebase/storage-compat",x8="@firebase/firestore",T8="@firebase/vertexai-preview",S8="@firebase/firestore-compat",P8="firebase",D8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="[DEFAULT]",I8={[jp]:"fire-core",[t8]:"fire-core-compat",[r8]:"fire-analytics",[n8]:"fire-analytics-compat",[s8]:"fire-app-check",[i8]:"fire-app-check-compat",[a8]:"fire-auth",[o8]:"fire-auth-compat",[l8]:"fire-rtdb",[u8]:"fire-data-connect",[c8]:"fire-rtdb-compat",[d8]:"fire-fn",[f8]:"fire-fn-compat",[h8]:"fire-iid",[m8]:"fire-iid-compat",[g8]:"fire-fcm",[p8]:"fire-fcm-compat",[v8]:"fire-perf",[_8]:"fire-perf-compat",[y8]:"fire-rc",[w8]:"fire-rc-compat",[E8]:"fire-gcs",[b8]:"fire-gcs-compat",[x8]:"fire-fst",[S8]:"fire-fst-compat",[T8]:"fire-vertex","fire-js":"fire-js",[P8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Map,O8=new Map,Lp=new Map;function xb(t,e){try{t.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function El(t){const e=t.name;if(Lp.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,t);for(const n of Df.values())xb(n,t);for(const n of O8.values())xb(n,t);return!0}function U0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new Rc("app","Firebase",C8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=D8;function g1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw la.create("bad-app-name",{appName:String(i)});if(n||(n=d1()),!n)throw la.create("no-options");const s=Df.get(i);if(s){if(Pf(n,s.options)&&Pf(r,s.config))return s;throw la.create("duplicate-app",{appName:i})}const o=new L$(i);for(const c of Lp.values())o.addComponent(c);const u=new M8(n,r,o);return Df.set(i,u),u}function p1(t=Fp){const e=Df.get(t);if(!e&&t===Fp&&d1())return g1();if(!e)throw la.create("no-app",{appName:t});return e}function ua(t,e,n){var r;let i=(r=I8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(u.join(" "));return}El(new so(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8="firebase-heartbeat-database",R8=1,tc="firebase-heartbeat-store";let Ig=null;function v1(){return Ig||(Ig=K$(N8,R8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tc)}catch(n){console.warn(n)}}}}).catch(t=>{throw la.create("idb-open",{originalErrorMessage:t.message})})),Ig}async function A8(t){try{const n=(await v1()).transaction(tc),r=await n.objectStore(tc).get(_1(t));return await n.done,r}catch(e){if(e instanceof gs)ns.warn(e.message);else{const n=la.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ns.warn(n.message)}}}async function Tb(t,e){try{const r=(await v1()).transaction(tc,"readwrite");await r.objectStore(tc).put(e,_1(t)),await r.done}catch(n){if(n instanceof gs)ns.warn(n.message);else{const r=la.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ns.warn(r.message)}}}function _1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=1024,F8=30*24*60*60*1e3;class L8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=F8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ns.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sb(),{heartbeatsToSend:r,unsentEntries:i}=k8(this._heartbeatsCache.heartbeats),s=Sf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ns.warn(n),""}}}function Sb(){return new Date().toISOString().substring(0,10)}function k8(t,e=j8){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Pb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class V8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S$()?P$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await A8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Tb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Tb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Pb(t){return Sf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(t){El(new so("platform-logger",e=>new Z$(e),"PRIVATE")),El(new so("heartbeat",e=>new L8(e),"PRIVATE")),ua(jp,bb,t),ua(jp,bb,"esm2017"),ua("fire-js","")}z8("");function B0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function y1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W8=y1,w1=new Rc("auth","Firebase",y1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new z0("@firebase/auth");function U8(t,...e){If.logLevel<=ke.WARN&&If.warn(`Auth (${kl}): ${t}`,...e)}function kd(t,...e){If.logLevel<=ke.ERROR&&If.error(`Auth (${kl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,...e){throw H0(t,...e)}function Vr(t,...e){return H0(t,...e)}function $0(t,e,n){const r=Object.assign(Object.assign({},W8()),{[e]:n});return new Rc("auth","Firebase",r).create(e,{appName:t.name})}function Ja(t){return $0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&hi(t,"argument-error"),$0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function H0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return w1.create(t,...e)}function Ee(t,e,...n){if(!t)throw H0(e,...n)}function Yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kd(e),new Error(e)}function rs(t,e){t||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $8(){return Db()==="http:"||Db()==="https:"}function Db(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($8()||E$()||"connection"in navigator)?navigator.onLine:!0}function Y8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=_$()||b$()}get(){return H8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t,e){rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=new jc(3e4,6e4);function q0(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vl(t,e,n,r,i={}){return b1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const u=Ac(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},s);return w$()||(d.referrerPolicy="no-referrer"),E1.fetch()(x1(t,t.config.apiHost,n,u),d)})}async function b1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},q8),e);try{const i=new K8(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw wd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw wd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw wd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw wd(t,"user-disabled",o);const m=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw $0(t,m,d);hi(t,m)}}catch(i){if(i instanceof gs)throw i;hi(t,"network-request-failed",{message:String(i)})}}async function Q8(t,e,n,r,i={}){const s=await Vl(t,e,n,r,i);return"mfaPendingCredential"in s&&hi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function x1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Y0(t.config,i):`${t.config.apiScheme}://${i}`}class K8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vr(this.auth,"network-request-failed")),G8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X8(t,e){return Vl(t,"POST","/v1/accounts:delete",e)}async function T1(t,e){return Vl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J8(t,e=!1){const n=ar(t),r=await n.getIdToken(e),i=G0(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ru(Og(i.auth_time)),issuedAtTime:Ru(Og(i.iat)),expirationTime:Ru(Og(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Og(t){return Number(t)*1e3}function G0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kd("JWT malformed, contained fewer than 3 sections"),null;try{const i=u1(n);return i?JSON.parse(i):(kd("Failed to decode base64 JWT payload"),null)}catch(i){return kd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ib(t){const e=G0(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gs&&Z8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(t){var e;const n=t.auth,r=await t.getIdToken(),i=await nc(t,T1(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?S1(s.providerUserInfo):[],u=n7(t.providerData,o),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),m=c?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Vp(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function t7(t){const e=ar(t);await Of(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function n7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function S1(t){return t.map(e=>{var{providerId:n}=e,r=B0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r7(t,e){const n=await b1(t,{},async()=>{const r=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=x1(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",E1.fetch()(o,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i7(t,e){return Vl(t,"POST","/v2/accounts:revokeToken",q0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ib(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Ib(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await r7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new cl;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=B0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await nc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J8(this,e)}reload(){return t7(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Of(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hi(this.auth.app))return Promise.reject(Ja(this.auth));const e=await this.getIdToken();return await nc(this,X8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,u,c,d,m;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,O=(o=n.photoURL)!==null&&o!==void 0?o:void 0,D=(u=n.tenantId)!==null&&u!==void 0?u:void 0,A=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(d=n.createdAt)!==null&&d!==void 0?d:void 0,S=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:C,emailVerified:j,isAnonymous:H,providerData:q,stsTokenManager:T}=n;Ee(C&&T,e,"internal-error");const w=cl.fromJSON(this.name,T);Ee(typeof C=="string",e,"internal-error"),Ws(g,e.name),Ws(_,e.name),Ee(typeof j=="boolean",e,"internal-error"),Ee(typeof H=="boolean",e,"internal-error"),Ws(E,e.name),Ws(O,e.name),Ws(D,e.name),Ws(A,e.name),Ws(b,e.name),Ws(S,e.name);const P=new qi({uid:C,auth:e,email:_,emailVerified:j,displayName:g,isAnonymous:H,photoURL:O,phoneNumber:E,tenantId:D,stsTokenManager:w,createdAt:b,lastLoginAt:S});return q&&Array.isArray(q)&&(P.providerData=q.map(x=>Object.assign({},x))),A&&(P._redirectEventId=A),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new cl;i.updateFromServerResponse(n);const s=new qi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Of(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?S1(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new cl;u.updateFromIdToken(r);const c=new qi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Vp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Map;function Gi(t){rs(t instanceof Function,"Expected a class definition");let e=Ob.get(t);return e?(rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ob.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}P1.type="NONE";const Cb=P1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t,e,n){return`firebase:${t}:${e}:${n}`}class dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new dl(Gi(Cb),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||Gi(Cb);const o=Vd(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const m=await d._get(o);if(m){const g=qi._fromJSON(e,m);d!==s&&(u=g),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new dl(s,e,r):(s=c[0],u&&await s._set(o,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new dl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N1(e))return"Blackberry";if(R1(e))return"Webos";if(I1(e))return"Safari";if((e.includes("chrome/")||O1(e))&&!e.includes("edge/"))return"Chrome";if(M1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function D1(t=vn()){return/firefox\//i.test(t)}function I1(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O1(t=vn()){return/crios\//i.test(t)}function C1(t=vn()){return/iemobile/i.test(t)}function M1(t=vn()){return/android/i.test(t)}function N1(t=vn()){return/blackberry/i.test(t)}function R1(t=vn()){return/webos/i.test(t)}function Q0(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function s7(t=vn()){var e;return Q0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a7(){return x$()&&document.documentMode===10}function A1(t=vn()){return Q0(t)||M1(t)||R1(t)||N1(t)||/windows phone/i.test(t)||C1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e=[]){let n;switch(t){case"Browser":n=Mb(vn());break;case"Worker":n=`${Mb(vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${kl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,u)=>{try{const c=e(s);o(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l7(t,e={}){return Vl(t,"GET","/v2/passwordPolicy",q0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=6;class c7{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:u7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nb(this),this.idTokenSubscription=new Nb(this),this.beforeStateQueue=new o7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await T1(this,{idToken:e}),r=await qi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Of(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hi(this.app))return Promise.reject(Ja(this));const n=e?ar(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hi(this.app)?Promise.reject(Ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hi(this.app)?Promise.reject(Ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await l7(this),n=new c7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(u,this,"internal-error"),u.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&U8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ah(t){return ar(t)}class Nb{constructor(e){this.auth=e,this.observer=null,this.addObserver=M$(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f7(t){K0=t}function h7(t){return K0.loadJS(t)}function m7(){return K0.gapiScript}function g7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t,e){const n=U0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Pf(s,e??{}))return i;hi(i,"already-initialized")}return n.initialize({options:e})}function v7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _7(t,e,n){const r=Ah(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=F1(e),{host:o,port:u}=y7(e),c=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),w7()}function F1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function y7(t){const e=F1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Rb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Rb(o)}}}function Rb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function w7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t,e){return Q8(t,"POST","/v1/accounts:signInWithIdp",q0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7="http://localhost";class ao extends L1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=B0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ao(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fl(e,n)}buildRequest(){const e={requestUri:E7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends X0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Fc{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ao._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Fc{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Fc{constructor(){super("twitter.com")}static credential(e,n){return ao._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gs.credential(n,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await qi._fromIdTokenResponse(e,r,i),o=Ab(r);return new bl({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ab(r);return new bl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ab(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends gs{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cf(e,n,r,i)}}function k1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Cf._fromErrorAndOperation(t,s,e,r):s})}async function b7(t,e,n=!1){const r=await nc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x7(t,e,n=!1){const{auth:r}=t;if(Hi(r.app))return Promise.reject(Ja(r));const i="reauthenticate";try{const s=await nc(t,k1(r,i,e,t),n);Ee(s.idToken,r,"internal-error");const o=G0(s.idToken);Ee(o,r,"internal-error");const{sub:u}=o;return Ee(t.uid===u,r,"user-mismatch"),bl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(t,e,n=!1){if(Hi(t.app))return Promise.reject(Ja(t));const r="signIn",i=await k1(t,r,e),s=await bl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function S7(t,e,n,r){return ar(t).onIdTokenChanged(e,n,r)}function P7(t,e,n){return ar(t).beforeAuthStateChanged(e,n)}function D7(t,e,n,r){return ar(t).onAuthStateChanged(e,n,r)}function I7(t){return ar(t).signOut()}const Mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mf,"1"),this.storage.removeItem(Mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=1e3,C7=10;class z1 extends V1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);a7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,C7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},O7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}z1.type="LOCAL";const M7=z1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends V1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}W1.type="SESSION";const U1=W1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async d=>d(n.origin,s)),c=await N7(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((u,c)=>{const d=J0("",20);i.port1.start();const m=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function A7(t){ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function j7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function L7(){return B1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="firebaseLocalStorageDb",k7=1,Nf="firebaseLocalStorage",H1="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(t,e){return t.transaction([Nf],e?"readwrite":"readonly").objectStore(Nf)}function V7(){const t=indexedDB.deleteDatabase($1);return new Lc(t).toPromise()}function zp(){const t=indexedDB.open($1,k7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nf,{keyPath:H1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nf)?e(r):(r.close(),await V7(),e(await zp()))})})}async function jb(t,e,n){const r=Fh(t,!0).put({[H1]:e,value:n});return new Lc(r).toPromise()}async function z7(t,e){const n=Fh(t,!1).get(e),r=await new Lc(n).toPromise();return r===void 0?null:r.value}function Fb(t,e){const n=Fh(t,!0).delete(e);return new Lc(n).toPromise()}const W7=800,U7=3;class Y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>U7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(L7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await j7(),!this.activeServiceWorker)return;this.sender=new R7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zp();return await jb(e,Mf,"1"),await Fb(e,Mf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>jb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>z7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fh(i,!1).getAll();return new Lc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y1.type="LOCAL";const B7=Y1;new jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t,e){return e?Gi(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends L1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $7(t){return T7(t.auth,new Z0(t),t.bypassAuthState)}function H7(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),x7(n,new Z0(t),t.bypassAuthState)}async function Y7(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),b7(n,new Z0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:u}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $7;case"linkViaPopup":case"linkViaRedirect":return Y7;case"reauthViaPopup":case"reauthViaRedirect":return H7;default:hi(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=new jc(2e3,1e4);async function G7(t,e,n){if(Hi(t.app))return Promise.reject(Vr(t,"operation-not-supported-in-this-environment"));const r=Ah(t);B8(t,e,X0);const i=q1(r,n);return new Ga(r,"signInViaPopup",e,i).executeNotNull()}class Ga extends G1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=J0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q7.get())};e()}}Ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7="pendingRedirect",zd=new Map;class K7 extends G1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zd.get(this.auth._key());if(!e){try{const r=await X7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zd.set(this.auth._key(),e)}return this.bypassAuthState||zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X7(t,e){const n=eH(e),r=Z7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function J7(t,e){zd.set(t._key(),e)}function Z7(t){return Gi(t._redirectPersistence)}function eH(t){return Vd(Q7,t.config.apiKey,t.name)}async function tH(t,e,n=!1){if(Hi(t.app))return Promise.reject(Ja(t));const r=Ah(t),i=q1(r,e),o=await new K7(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH=10*60*1e3;class rH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Q1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nH&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lb(e))}saveEventToCache(e){this.cachedEventUids.add(Lb(e)),this.lastProcessedEventTime=Date.now()}}function Lb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Q1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sH(t,e={}){return Vl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oH=/^https?/;async function lH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sH(t);for(const n of e)try{if(uH(n))return}catch{}hi(t,"unauthorized-domain")}function uH(t){const e=kp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!oH.test(n))return!1;if(aH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH=new jc(3e4,6e4);function kb(){const t=ui().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dH(t){return new Promise((e,n)=>{var r,i,s;function o(){kb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kb(),n(Vr(t,"network-request-failed"))},timeout:cH.get()})}if(!((i=(r=ui().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ui().gapi)===null||s===void 0)&&s.load)o();else{const u=g7("iframefcb");return ui()[u]=()=>{gapi.load?o():n(Vr(t,"network-request-failed"))},h7(`${m7()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Wd=null,e})}let Wd=null;function fH(t){return Wd=Wd||dH(t),Wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=new jc(5e3,15e3),mH="__/auth/iframe",gH="emulator/auth/iframe",pH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _H(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Y0(e,gH):`https://${t.config.authDomain}/${mH}`,r={apiKey:e.apiKey,appName:t.name,v:kl},i=vH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ac(r).slice(1)}`}async function yH(t){const e=await fH(t),n=ui().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:_H(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Vr(t,"network-request-failed"),u=ui().setTimeout(()=>{s(o)},hH.get());function c(){ui().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EH=500,bH=600,xH="_blank",TH="http://localhost";class Vb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SH(t,e,n,r=EH,i=bH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},wH),{width:r.toString(),height:i.toString(),top:s,left:o}),d=vn().toLowerCase();n&&(u=O1(d)?xH:n),D1(d)&&(e=e||TH,c.scrollbars="yes");const m=Object.entries(c).reduce((_,[E,O])=>`${_}${E}=${O},`,"");if(s7(d)&&u!=="_self")return PH(e||"",u),new Vb(null);const g=window.open(e||"",u,m);Ee(g,t,"popup-blocked");try{g.focus()}catch{}return new Vb(g)}function PH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH="__/auth/handler",IH="emulator/auth/handler",OH=encodeURIComponent("fac");async function zb(t,e,n,r,i,s){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:kl,eventId:i};if(e instanceof X0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",C$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))o[m]=g}if(e instanceof Fc){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const c=await t._getAppCheckToken(),d=c?`#${OH}=${encodeURIComponent(c)}`:"";return`${CH(t)}?${Ac(u).slice(1)}${d}`}function CH({config:t}){return t.emulator?Y0(t,IH):`https://${t.authDomain}/${DH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="webStorageSupport";class MH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U1,this._completeRedirectFn=tH,this._overrideRedirectResult=J7}async _openPopup(e,n,r,i){var s;rs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await zb(e,n,r,kp(),i);return SH(e,o,J0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await zb(e,n,r,kp(),i);return A7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(rs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yH(e),r=new rH(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cg,{type:Cg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Cg];o!==void 0&&n(!!o),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A1()||I1()||Q0()}}const NH=MH;var Wb="@firebase/auth",Ub="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jH(t){El(new so("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j1(t)},d=new d7(r,i,s,c);return v7(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),El(new so("auth-internal",e=>{const n=Ah(e.getProvider("auth").getImmediate());return(r=>new RH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ua(Wb,Ub,AH(t)),ua(Wb,Ub,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=5*60,LH=f1("authIdTokenMaxAge")||FH;let Bb=null;const kH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LH)return;const i=n==null?void 0:n.token;Bb!==i&&(Bb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function VH(t=p1()){const e=U0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=p7(t,{popupRedirectResolver:NH,persistence:[B7,M7,U1]}),r=f1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=kH(s.toString());P7(n,o,()=>o(n.currentUser)),S7(n,u=>o(u))}}const i=c1("auth");return i&&_7(n,`http://${i}`),n}function zH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}f7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Vr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",zH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jH("Browser");var $b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,K1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,w){function P(){}P.prototype=w.prototype,T.D=w.prototype,T.prototype=new P,T.prototype.constructor=T,T.C=function(x,N,F){for(var I=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)I[Re-2]=arguments[Re];return w.prototype[N].apply(x,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,w,P){P||(P=0);var x=Array(16);if(typeof w=="string")for(var N=0;16>N;++N)x[N]=w.charCodeAt(P++)|w.charCodeAt(P++)<<8|w.charCodeAt(P++)<<16|w.charCodeAt(P++)<<24;else for(N=0;16>N;++N)x[N]=w[P++]|w[P++]<<8|w[P++]<<16|w[P++]<<24;w=T.g[0],P=T.g[1],N=T.g[2];var F=T.g[3],I=w+(F^P&(N^F))+x[0]+3614090360&4294967295;w=P+(I<<7&4294967295|I>>>25),I=F+(N^w&(P^N))+x[1]+3905402710&4294967295,F=w+(I<<12&4294967295|I>>>20),I=N+(P^F&(w^P))+x[2]+606105819&4294967295,N=F+(I<<17&4294967295|I>>>15),I=P+(w^N&(F^w))+x[3]+3250441966&4294967295,P=N+(I<<22&4294967295|I>>>10),I=w+(F^P&(N^F))+x[4]+4118548399&4294967295,w=P+(I<<7&4294967295|I>>>25),I=F+(N^w&(P^N))+x[5]+1200080426&4294967295,F=w+(I<<12&4294967295|I>>>20),I=N+(P^F&(w^P))+x[6]+2821735955&4294967295,N=F+(I<<17&4294967295|I>>>15),I=P+(w^N&(F^w))+x[7]+4249261313&4294967295,P=N+(I<<22&4294967295|I>>>10),I=w+(F^P&(N^F))+x[8]+1770035416&4294967295,w=P+(I<<7&4294967295|I>>>25),I=F+(N^w&(P^N))+x[9]+2336552879&4294967295,F=w+(I<<12&4294967295|I>>>20),I=N+(P^F&(w^P))+x[10]+4294925233&4294967295,N=F+(I<<17&4294967295|I>>>15),I=P+(w^N&(F^w))+x[11]+2304563134&4294967295,P=N+(I<<22&4294967295|I>>>10),I=w+(F^P&(N^F))+x[12]+1804603682&4294967295,w=P+(I<<7&4294967295|I>>>25),I=F+(N^w&(P^N))+x[13]+4254626195&4294967295,F=w+(I<<12&4294967295|I>>>20),I=N+(P^F&(w^P))+x[14]+2792965006&4294967295,N=F+(I<<17&4294967295|I>>>15),I=P+(w^N&(F^w))+x[15]+1236535329&4294967295,P=N+(I<<22&4294967295|I>>>10),I=w+(N^F&(P^N))+x[1]+4129170786&4294967295,w=P+(I<<5&4294967295|I>>>27),I=F+(P^N&(w^P))+x[6]+3225465664&4294967295,F=w+(I<<9&4294967295|I>>>23),I=N+(w^P&(F^w))+x[11]+643717713&4294967295,N=F+(I<<14&4294967295|I>>>18),I=P+(F^w&(N^F))+x[0]+3921069994&4294967295,P=N+(I<<20&4294967295|I>>>12),I=w+(N^F&(P^N))+x[5]+3593408605&4294967295,w=P+(I<<5&4294967295|I>>>27),I=F+(P^N&(w^P))+x[10]+38016083&4294967295,F=w+(I<<9&4294967295|I>>>23),I=N+(w^P&(F^w))+x[15]+3634488961&4294967295,N=F+(I<<14&4294967295|I>>>18),I=P+(F^w&(N^F))+x[4]+3889429448&4294967295,P=N+(I<<20&4294967295|I>>>12),I=w+(N^F&(P^N))+x[9]+568446438&4294967295,w=P+(I<<5&4294967295|I>>>27),I=F+(P^N&(w^P))+x[14]+3275163606&4294967295,F=w+(I<<9&4294967295|I>>>23),I=N+(w^P&(F^w))+x[3]+4107603335&4294967295,N=F+(I<<14&4294967295|I>>>18),I=P+(F^w&(N^F))+x[8]+1163531501&4294967295,P=N+(I<<20&4294967295|I>>>12),I=w+(N^F&(P^N))+x[13]+2850285829&4294967295,w=P+(I<<5&4294967295|I>>>27),I=F+(P^N&(w^P))+x[2]+4243563512&4294967295,F=w+(I<<9&4294967295|I>>>23),I=N+(w^P&(F^w))+x[7]+1735328473&4294967295,N=F+(I<<14&4294967295|I>>>18),I=P+(F^w&(N^F))+x[12]+2368359562&4294967295,P=N+(I<<20&4294967295|I>>>12),I=w+(P^N^F)+x[5]+4294588738&4294967295,w=P+(I<<4&4294967295|I>>>28),I=F+(w^P^N)+x[8]+2272392833&4294967295,F=w+(I<<11&4294967295|I>>>21),I=N+(F^w^P)+x[11]+1839030562&4294967295,N=F+(I<<16&4294967295|I>>>16),I=P+(N^F^w)+x[14]+4259657740&4294967295,P=N+(I<<23&4294967295|I>>>9),I=w+(P^N^F)+x[1]+2763975236&4294967295,w=P+(I<<4&4294967295|I>>>28),I=F+(w^P^N)+x[4]+1272893353&4294967295,F=w+(I<<11&4294967295|I>>>21),I=N+(F^w^P)+x[7]+4139469664&4294967295,N=F+(I<<16&4294967295|I>>>16),I=P+(N^F^w)+x[10]+3200236656&4294967295,P=N+(I<<23&4294967295|I>>>9),I=w+(P^N^F)+x[13]+681279174&4294967295,w=P+(I<<4&4294967295|I>>>28),I=F+(w^P^N)+x[0]+3936430074&4294967295,F=w+(I<<11&4294967295|I>>>21),I=N+(F^w^P)+x[3]+3572445317&4294967295,N=F+(I<<16&4294967295|I>>>16),I=P+(N^F^w)+x[6]+76029189&4294967295,P=N+(I<<23&4294967295|I>>>9),I=w+(P^N^F)+x[9]+3654602809&4294967295,w=P+(I<<4&4294967295|I>>>28),I=F+(w^P^N)+x[12]+3873151461&4294967295,F=w+(I<<11&4294967295|I>>>21),I=N+(F^w^P)+x[15]+530742520&4294967295,N=F+(I<<16&4294967295|I>>>16),I=P+(N^F^w)+x[2]+3299628645&4294967295,P=N+(I<<23&4294967295|I>>>9),I=w+(N^(P|~F))+x[0]+4096336452&4294967295,w=P+(I<<6&4294967295|I>>>26),I=F+(P^(w|~N))+x[7]+1126891415&4294967295,F=w+(I<<10&4294967295|I>>>22),I=N+(w^(F|~P))+x[14]+2878612391&4294967295,N=F+(I<<15&4294967295|I>>>17),I=P+(F^(N|~w))+x[5]+4237533241&4294967295,P=N+(I<<21&4294967295|I>>>11),I=w+(N^(P|~F))+x[12]+1700485571&4294967295,w=P+(I<<6&4294967295|I>>>26),I=F+(P^(w|~N))+x[3]+2399980690&4294967295,F=w+(I<<10&4294967295|I>>>22),I=N+(w^(F|~P))+x[10]+4293915773&4294967295,N=F+(I<<15&4294967295|I>>>17),I=P+(F^(N|~w))+x[1]+2240044497&4294967295,P=N+(I<<21&4294967295|I>>>11),I=w+(N^(P|~F))+x[8]+1873313359&4294967295,w=P+(I<<6&4294967295|I>>>26),I=F+(P^(w|~N))+x[15]+4264355552&4294967295,F=w+(I<<10&4294967295|I>>>22),I=N+(w^(F|~P))+x[6]+2734768916&4294967295,N=F+(I<<15&4294967295|I>>>17),I=P+(F^(N|~w))+x[13]+1309151649&4294967295,P=N+(I<<21&4294967295|I>>>11),I=w+(N^(P|~F))+x[4]+4149444226&4294967295,w=P+(I<<6&4294967295|I>>>26),I=F+(P^(w|~N))+x[11]+3174756917&4294967295,F=w+(I<<10&4294967295|I>>>22),I=N+(w^(F|~P))+x[2]+718787259&4294967295,N=F+(I<<15&4294967295|I>>>17),I=P+(F^(N|~w))+x[9]+3951481745&4294967295,T.g[0]=T.g[0]+w&4294967295,T.g[1]=T.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+F&4294967295}r.prototype.u=function(T,w){w===void 0&&(w=T.length);for(var P=w-this.blockSize,x=this.B,N=this.h,F=0;F<w;){if(N==0)for(;F<=P;)i(this,T,F),F+=this.blockSize;if(typeof T=="string"){for(;F<w;)if(x[N++]=T.charCodeAt(F++),N==this.blockSize){i(this,x),N=0;break}}else for(;F<w;)if(x[N++]=T[F++],N==this.blockSize){i(this,x),N=0;break}}this.h=N,this.o+=w},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var w=1;w<T.length-8;++w)T[w]=0;var P=8*this.o;for(w=T.length-8;w<T.length;++w)T[w]=P&255,P/=256;for(this.u(T),T=Array(16),w=P=0;4>w;++w)for(var x=0;32>x;x+=8)T[P++]=this.g[w]>>>x&255;return T};function s(T,w){var P=u;return Object.prototype.hasOwnProperty.call(P,T)?P[T]:P[T]=w(T)}function o(T,w){this.h=w;for(var P=[],x=!0,N=T.length-1;0<=N;N--){var F=T[N]|0;x&&F==w||(P[N]=F,x=!1)}this.g=P}var u={};function c(T){return-128<=T&&128>T?s(T,function(w){return new o([w|0],0>w?-1:0)}):new o([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return A(d(-T));for(var w=[],P=1,x=0;T>=P;x++)w[x]=T/P|0,P*=4294967296;return new o(w,0)}function m(T,w){if(T.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T.charAt(0)=="-")return A(m(T.substring(1),w));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(w,8)),x=g,N=0;N<T.length;N+=8){var F=Math.min(8,T.length-N),I=parseInt(T.substring(N,N+F),w);8>F?(F=d(Math.pow(w,F)),x=x.j(F).add(d(I))):(x=x.j(P),x=x.add(d(I)))}return x}var g=c(0),_=c(1),E=c(16777216);t=o.prototype,t.m=function(){if(D(this))return-A(this).m();for(var T=0,w=1,P=0;P<this.g.length;P++){var x=this.i(P);T+=(0<=x?x:4294967296+x)*w,w*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(O(this))return"0";if(D(this))return"-"+A(this).toString(T);for(var w=d(Math.pow(T,6)),P=this,x="";;){var N=j(P,w).g;P=b(P,N.j(w));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(T);if(P=N,O(P))return F+x;for(;6>F.length;)F="0"+F;x=F+x}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function O(T){if(T.h!=0)return!1;for(var w=0;w<T.g.length;w++)if(T.g[w]!=0)return!1;return!0}function D(T){return T.h==-1}t.l=function(T){return T=b(this,T),D(T)?-1:O(T)?0:1};function A(T){for(var w=T.g.length,P=[],x=0;x<w;x++)P[x]=~T.g[x];return new o(P,~T.h).add(_)}t.abs=function(){return D(this)?A(this):this},t.add=function(T){for(var w=Math.max(this.g.length,T.g.length),P=[],x=0,N=0;N<=w;N++){var F=x+(this.i(N)&65535)+(T.i(N)&65535),I=(F>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);x=I>>>16,F&=65535,I&=65535,P[N]=I<<16|F}return new o(P,P[P.length-1]&-2147483648?-1:0)};function b(T,w){return T.add(A(w))}t.j=function(T){if(O(this)||O(T))return g;if(D(this))return D(T)?A(this).j(A(T)):A(A(this).j(T));if(D(T))return A(this.j(A(T)));if(0>this.l(E)&&0>T.l(E))return d(this.m()*T.m());for(var w=this.g.length+T.g.length,P=[],x=0;x<2*w;x++)P[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<T.g.length;N++){var F=this.i(x)>>>16,I=this.i(x)&65535,Re=T.i(N)>>>16,ze=T.i(N)&65535;P[2*x+2*N]+=I*ze,S(P,2*x+2*N),P[2*x+2*N+1]+=F*ze,S(P,2*x+2*N+1),P[2*x+2*N+1]+=I*Re,S(P,2*x+2*N+1),P[2*x+2*N+2]+=F*Re,S(P,2*x+2*N+2)}for(x=0;x<w;x++)P[x]=P[2*x+1]<<16|P[2*x];for(x=w;x<2*w;x++)P[x]=0;return new o(P,0)};function S(T,w){for(;(T[w]&65535)!=T[w];)T[w+1]+=T[w]>>>16,T[w]&=65535,w++}function C(T,w){this.g=T,this.h=w}function j(T,w){if(O(w))throw Error("division by zero");if(O(T))return new C(g,g);if(D(T))return w=j(A(T),w),new C(A(w.g),A(w.h));if(D(w))return w=j(T,A(w)),new C(A(w.g),w.h);if(30<T.g.length){if(D(T)||D(w))throw Error("slowDivide_ only works with positive integers.");for(var P=_,x=w;0>=x.l(T);)P=H(P),x=H(x);var N=q(P,1),F=q(x,1);for(x=q(x,2),P=q(P,2);!O(x);){var I=F.add(x);0>=I.l(T)&&(N=N.add(P),F=I),x=q(x,1),P=q(P,1)}return w=b(T,N.j(w)),new C(N,w)}for(N=g;0<=T.l(w);){for(P=Math.max(1,Math.floor(T.m()/w.m())),x=Math.ceil(Math.log(P)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),F=d(P),I=F.j(w);D(I)||0<I.l(T);)P-=x,F=d(P),I=F.j(w);O(F)&&(F=_),N=N.add(F),T=b(T,I)}return new C(N,T)}t.A=function(T){return j(this,T).h},t.and=function(T){for(var w=Math.max(this.g.length,T.g.length),P=[],x=0;x<w;x++)P[x]=this.i(x)&T.i(x);return new o(P,this.h&T.h)},t.or=function(T){for(var w=Math.max(this.g.length,T.g.length),P=[],x=0;x<w;x++)P[x]=this.i(x)|T.i(x);return new o(P,this.h|T.h)},t.xor=function(T){for(var w=Math.max(this.g.length,T.g.length),P=[],x=0;x<w;x++)P[x]=this.i(x)^T.i(x);return new o(P,this.h^T.h)};function H(T){for(var w=T.g.length+1,P=[],x=0;x<w;x++)P[x]=T.i(x)<<1|T.i(x-1)>>>31;return new o(P,T.h)}function q(T,w){var P=w>>5;w%=32;for(var x=T.g.length-P,N=[],F=0;F<x;F++)N[F]=0<w?T.i(F+P)>>>w|T.i(F+P+1)<<32-w:T.i(F+P);return new o(N,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,K1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=m,Za=o}).apply(typeof $b<"u"?$b:typeof self<"u"?self:typeof window<"u"?window:{});var Ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X1,yu,J1,Ud,Wp,Z1,eO,tO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ed=="object"&&Ed];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var L=l[y];if(!(L in p))break e;p=p[L]}l=l[l.length-1],y=p[l],h=h(y),h!=y&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var p=0,y=!1,L={next:function(){if(!y&&p<l.length){var z=p++;return{value:h(z,l[z]),done:!1}}return y=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function d(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function m(l,h,p){return l.call.apply(l.bind,arguments)}function g(l,h,p){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,y),l.apply(h,L)}}return function(){return l.apply(h,arguments)}}function _(l,h,p){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,_.apply(null,arguments)}function E(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function O(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(y,L,z){for(var te=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)te[qe-2]=arguments[qe];return h.prototype[L].apply(y,te)}}function D(l){const h=l.length;if(0<h){const p=Array(h);for(let y=0;y<h;y++)p[y]=l[y];return p}return[]}function A(l,h){for(let p=1;p<arguments.length;p++){const y=arguments[p];if(c(y)){const L=l.length||0,z=y.length||0;l.length=L+z;for(let te=0;te<z;te++)l[L+te]=y[te]}else l.push(y)}}class b{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function S(l){return/^[\s\xa0]*$/.test(l)}function C(){var l=u.navigator;return l&&(l=l.userAgent)?l:""}function j(l){return j[" "](l),l}j[" "]=function(){};var H=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function q(l,h,p){for(const y in l)h.call(p,l[y],y,l)}function T(l,h){for(const p in l)h.call(void 0,l[p],p,l)}function w(l){const h={};for(const p in l)h[p]=l[p];return h}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,h){let p,y;for(let L=1;L<arguments.length;L++){y=arguments[L];for(p in y)l[p]=y[p];for(let z=0;z<P.length;z++)p=P[z],Object.prototype.hasOwnProperty.call(y,p)&&(l[p]=y[p])}}function N(l){var h=1;l=l.split(":");const p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function F(l){u.setTimeout(()=>{throw l},0)}function I(){var l=oe;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Re{constructor(){this.h=this.g=null}add(h,p){const y=ze.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var ze=new b(()=>new wt,l=>l.reset());class wt{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,Q=!1,oe=new Re,ce=()=>{const l=u.Promise.resolve(void 0);Se=()=>{l.then(Ce)}};var Ce=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(p){F(p)}var h=ze;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}Q=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};u.addEventListener("test",p,h),u.removeEventListener("test",p,h)}catch{}return l}();function M(l,h){if($.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(H){e:{try{j(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:W[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&M.aa.h.call(this)}}O(M,$);var W={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),ae=0;function le(l,h,p,y,L){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=L,this.key=++ae,this.da=this.fa=!1}function de(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ye(l){this.src=l,this.g={},this.h=0}ye.prototype.add=function(l,h,p,y,L){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var te=Pe(l,h,y,L);return-1<te?(h=l[te],p||(h.fa=!1)):(h=new le(h,this.src,z,!!y,L),h.fa=p,l.push(h)),h};function Ie(l,h){var p=h.type;if(p in l.g){var y=l.g[p],L=Array.prototype.indexOf.call(y,h,void 0),z;(z=0<=L)&&Array.prototype.splice.call(y,L,1),z&&(de(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Pe(l,h,p,y){for(var L=0;L<l.length;++L){var z=l[L];if(!z.da&&z.listener==h&&z.capture==!!p&&z.ha==y)return L}return-1}var De="closure_lm_"+(1e6*Math.random()|0),nt={};function at(l,h,p,y,L){if(Array.isArray(h)){for(var z=0;z<h.length;z++)at(l,h[z],p,y,L);return null}return p=Qn(p),l&&l[ne]?l.K(h,p,d(y)?!!y.capture:!1,L):Et(l,h,p,!1,y,L)}function Et(l,h,p,y,L,z){if(!h)throw Error("Invalid event type");var te=d(L)?!!L.capture:!!L,qe=xr(l);if(qe||(l[De]=qe=new ye(l)),p=qe.add(h,p,y,te,z),p.proxy)return p;if(y=Mn(),p.proxy=y,y.src=l,y.listener=p,l.addEventListener)k||(L=te),L===void 0&&(L=!1),l.addEventListener(h.toString(),y,L);else if(l.attachEvent)l.attachEvent(br(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Mn(){function l(p){return h.call(l.src,l.listener,p)}const h=Rn;return l}function Nn(l,h,p,y,L){if(Array.isArray(h))for(var z=0;z<h.length;z++)Nn(l,h[z],p,y,L);else y=d(y)?!!y.capture:!!y,p=Qn(p),l&&l[ne]?(l=l.i,h=String(h).toString(),h in l.g&&(z=l.g[h],p=Pe(z,p,y,L),-1<p&&(de(z[p]),Array.prototype.splice.call(z,p,1),z.length==0&&(delete l.g[h],l.h--)))):l&&(l=xr(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Pe(h,p,y,L)),(p=-1<l?h[l]:null)&&qn(p))}function qn(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ne])Ie(h.i,l);else{var p=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(p,y,l.capture):h.detachEvent?h.detachEvent(br(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=xr(h))?(Ie(p,l),p.h==0&&(p.src=null,h[De]=null)):de(l)}}}function br(l){return l in nt?nt[l]:nt[l]="on"+l}function Rn(l,h){if(l.da)l=!0;else{h=new M(h,this);var p=l.listener,y=l.ha||l.src;l.fa&&qn(l),l=p.call(y,h)}return l}function xr(l){return l=l[De],l instanceof ye?l:null}var Gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qn(l){return typeof l=="function"?l:(l[Gn]||(l[Gn]=function(h){return l.handleEvent(h)}),l[Gn])}function dt(){G.call(this),this.i=new ye(this),this.M=this,this.F=null}O(dt,G),dt.prototype[ne]=!0,dt.prototype.removeEventListener=function(l,h,p,y){Nn(this,l,h,p,y)};function ft(l,h){var p,y=l.F;if(y)for(p=[];y;y=y.F)p.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new $(h,l);else if(h instanceof $)h.target=h.target||l;else{var L=h;h=new $(y,l),x(h,L)}if(L=!0,p)for(var z=p.length-1;0<=z;z--){var te=h.g=p[z];L=ur(te,y,!0,h)&&L}if(te=h.g=l,L=ur(te,y,!0,h)&&L,L=ur(te,y,!1,h)&&L,p)for(z=0;z<p.length;z++)te=h.g=p[z],L=ur(te,y,!1,h)&&L}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],y=0;y<p.length;y++)de(p[y]);delete l.g[h],l.h--}}this.F=null},dt.prototype.K=function(l,h,p,y){return this.i.add(String(l),h,!1,p,y)},dt.prototype.L=function(l,h,p,y){return this.i.add(String(l),h,!0,p,y)};function ur(l,h,p,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var L=!0,z=0;z<h.length;++z){var te=h[z];if(te&&!te.da&&te.capture==p){var qe=te.listener,St=te.ha||te.src;te.fa&&Ie(l.i,te),L=qe.call(St,y)!==!1&&L}}return L&&!y.defaultPrevented}function ps(l,h,p){if(typeof l=="function")p&&(l=_(l,p));else if(l&&typeof l.handleEvent=="function")l=_(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:u.setTimeout(l,h||0)}function Tr(l){l.g=ps(()=>{l.g=null,l.i&&(l.i=!1,Tr(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Ta extends G{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Tr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(l){G.call(this),this.h=l,this.g={}}O(An,G);var vs=[];function yi(l){q(l.g,function(h,p){this.g.hasOwnProperty(p)&&qn(h)},l),l.g={}}An.prototype.N=function(){An.aa.N.call(this),yi(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wi=u.JSON.stringify,Ei=u.JSON.parse,Sa=class{stringify(l){return u.JSON.stringify(l,void 0)}parse(l){return u.JSON.parse(l,void 0)}};function Sr(){}Sr.prototype.h=null;function Pr(l){return l.h||(l.h=l.i())}function bi(){}var Dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){$.call(this,"d")}O(jn,$);function xi(){$.call(this,"c")}O(xi,$);var Fn={},Ur=null;function Br(){return Ur=Ur||new dt}Fn.La="serverreachability";function $r(l){$.call(this,Fn.La,l)}O($r,$);function cr(l){const h=Br();ft(h,new $r(h))}Fn.STAT_EVENT="statevent";function Ti(l,h){$.call(this,Fn.STAT_EVENT,l),this.stat=h}O(Ti,$);function we(l){const h=Br();ft(h,new Ti(h,l))}Fn.Ma="timingevent";function Ln(l,h){$.call(this,Fn.Ma,l),this.size=h}O(Ln,$);function xt(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){l()},h)}function $e(){this.g=!0}$e.prototype.xa=function(){this.g=!1};function Pa(l,h,p,y,L,z){l.info(function(){if(l.g)if(z)for(var te="",qe=z.split("&"),St=0;St<qe.length;St++){var Fe=qe[St].split("=");if(1<Fe.length){var Rt=Fe[0];Fe=Fe[1];var At=Rt.split("_");te=2<=At.length&&At[1]=="type"?te+(Rt+"="+Fe+"&"):te+(Rt+"=redacted&")}}else te=null;else te=z;return"XMLHTTP REQ ("+y+") [attempt "+L+"]: "+h+`
`+p+`
`+te})}function et(l,h,p,y,L,z,te){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+L+"]: "+h+`
`+p+`
`+z+" "+te})}function Ot(l,h,p,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Si(l,p)+(y?" "+y:"")})}function _s(l,h){l.info(function(){return"TIMEOUT: "+h})}$e.prototype.info=function(){};function Si(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var y=p[l];if(!(2>y.length)){var L=y[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var te=1;te<L.length;te++)L[te]=""}}}}return wi(p)}catch{return h}}var Je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pi;function Hr(){}O(Hr,Sr),Hr.prototype.g=function(){return new XMLHttpRequest},Hr.prototype.i=function(){return{}},Pi=new Hr;function kn(l,h,p,y){this.j=l,this.i=h,this.l=p,this.R=y||1,this.U=new An(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ys}function ys(){this.i=null,this.g="",this.h=!1}var ws={},Di={};function Yr(l,h,p){l.L=1,l.v=Xr(qt(h)),l.m=p,l.P=!0,dr(l,null)}function dr(l,h){l.F=Date.now(),fr(l),l.A=qt(l.v);var p=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),Ai(p.i,"t",y),l.C=0,p=l.j.J,l.h=new ys,l.g=Mo(l.j,p?h:null,!l.m),0<l.O&&(l.M=new Ta(_(l.Y,l,l.g),l.O)),h=l.U,p=l.g,y=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(vs[0]=L.toString()),L=vs);for(var z=0;z<L.length;z++){var te=at(p,L[z],y||h.handleEvent,!1,h.h||h);if(!te)break;h.g[te.key]=te}h=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),cr(),Pa(l.i,l.u,l.A,l.l,l.R,l.m)}kn.prototype.ca=function(l){l=l.target;const h=this.M;h&&bn(l)==3?h.j():this.Y(l)},kn.prototype.Y=function(l){try{if(l==this.g)e:{const At=bn(this.g);var h=this.g.Ba();const ti=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||wo(this.g)))){this.J||At!=4||h==7||(h==8||0>=ti?cr(3):cr(2)),_n(this);var p=this.g.Z();this.X=p;t:if(Vn(this)){var y=wo(this.g);l="";var L=y.length,z=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yt(this),yn(this);var te="";break t}this.h.i=new u.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(z&&h==L-1)});y.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=p==200,et(this.i,this.u,this.A,this.l,this.R,At,p),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,St=this.g;if((qe=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(qe)){var Fe=qe;break t}}Fe=null}if(p=Fe)Ot(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qr(this,p);else{this.o=!1,this.s=3,we(12),Yt(this),yn(this);break e}}if(this.P){p=!0;let xn;for(;!this.J&&this.C<te.length;)if(xn=Ii(this,te),xn==Di){At==4&&(this.s=4,we(14),p=!1),Ot(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==ws){this.s=4,we(15),Ot(this.i,this.l,te,"[Invalid Chunk]"),p=!1;break}else Ot(this.i,this.l,xn,null),qr(this,xn);if(Vn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||te.length!=0||this.h.h||(this.s=1,we(16),p=!1),this.o=this.o&&p,!p)Ot(this.i,this.l,te,"[Invalid Chunked Response]"),Yt(this),yn(this);else if(0<te.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Ra(Rt),Rt.M=!0,we(11))}}else Ot(this.i,this.l,te,null),qr(this,te);At==4&&Yt(this),this.o&&!this.J&&(At==4?Do(this.j,this):(this.o=!1,fr(this)))}else $l(this.g),p==400&&0<te.indexOf("Unknown SID")?(this.s=3,we(12)):(this.s=0,we(13)),Yt(this),yn(this)}}}catch{}finally{}};function Vn(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ii(l,h){var p=l.C,y=h.indexOf(`
`,p);return y==-1?Di:(p=Number(h.substring(p,y)),isNaN(p)?ws:(y+=1,y+p>h.length?Di:(h=h.slice(y,y+p),l.C=y+p,h)))}kn.prototype.cancel=function(){this.J=!0,Yt(this)};function fr(l){l.S=Date.now()+l.I,zn(l,l.I)}function zn(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=xt(_(l.ba,l),h)}function _n(l){l.B&&(u.clearTimeout(l.B),l.B=null)}kn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(_s(this.i,this.A),this.L!=2&&(cr(),we(17)),Yt(this),this.s=2,yn(this)):zn(this,this.S-l)};function yn(l){l.j.G==0||l.J||Do(l.j,l)}function Yt(l){_n(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,yi(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function qr(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Ir(p.h,l))){if(!l.K&&Ir(p.h,l)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var L=y;if(L[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Ns(p),Cs(p);else break e;Na(p),we(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=xt(_(p.Za,p),6e3));if(1>=Oi(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Cr(p,11)}else if((l.K||p.g==l)&&Ns(p),!S(h))for(L=p.Da.g.parse(h),h=0;h<L.length;h++){let Fe=L[h];if(p.T=Fe[0],Fe=Fe[1],p.G==2)if(Fe[0]=="c"){p.K=Fe[1],p.ia=Fe[2];const Rt=Fe[3];Rt!=null&&(p.la=Rt,p.j.info("VER="+p.la));const At=Fe[4];At!=null&&(p.Aa=At,p.j.info("SVER="+p.Aa));const ti=Fe[5];ti!=null&&typeof ti=="number"&&0<ti&&(y=1.5*ti,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;const xn=l.g;if(xn){const As=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var z=y.h;z.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Ci(z,z.h),z.h=null))}if(y.D){const Aa=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(y.ya=Aa,Ye(y.I,y.D,Aa))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var te=l;if(y.qa=Co(y,y.J?y.ia:null,y.W),te.K){bs(y.h,te);var qe=te,St=y.L;St&&(qe.I=St),qe.B&&(_n(qe),fr(qe)),y.g=te}else So(y);0<p.i.length&&Ms(p)}else Fe[0]!="stop"&&Fe[0]!="close"||Cr(p,7);else p.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Cr(p,7):Ma(p):Fe[0]!="noop"&&p.l&&p.l.ta(Fe),p.v=0)}}cr(4)}catch{}}var Es=class{constructor(l,h){this.g=l,this.map=h}};function Zt(l){this.l=l||10,u.PerformanceNavigationTiming?(l=u.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gr(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Oi(l){return l.h?1:l.g?l.g.size:0}function Ir(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Ci(l,h){l.g?l.g.add(h):l.h=h}function bs(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Zt.prototype.cancel=function(){if(this.i=Tt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Tt(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const p of l.g.values())h=h.concat(p.D);return h}return D(l.i)}function Mi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,y=0;y<p;y++)h.push(l[y]);return h}h=[],p=0;for(y in l)h[p++]=l[y];return h}function Ge(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(const y in l)h[p++]=y;return h}}}function wn(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=Ge(l),y=Mi(l),L=y.length,z=0;z<L;z++)h.call(void 0,y[z],p&&p[z],l)}var Qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var y=l[p].indexOf("="),L=null;if(0<=y){var z=l[p].substring(0,y);L=l[p].substring(y+1)}else z=l[p];h(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Kn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Kn){this.h=l.h,Xn(this,l.j),this.o=l.o,this.g=l.g,Kr(this,l.s),this.l=l.l;var h=l.i,p=new Or;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),xs(this,p),this.m=l.m}else l&&(h=String(l).match(Qr))?(this.h=!1,Xn(this,h[1]||"",!0),this.o=Ct(h[2]||""),this.g=Ct(h[3]||"",!0),Kr(this,h[4]),this.l=Ct(h[5]||"",!0),xs(this,h[6]||"",!0),this.m=Ct(h[7]||"")):(this.h=!1,this.i=new Or(null,this.h))}Kn.prototype.toString=function(){var l=[],h=this.j;h&&l.push(rt(h,Ss,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(rt(h,Ss,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(rt(p,p.charAt(0)=="/"?Ps:Ia,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",rt(p,Ca)),l.join("")};function qt(l){return new Kn(l)}function Xn(l,h,p){l.j=p?Ct(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Kr(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function xs(l,h,p){h instanceof Or?(l.i=h,Ds(l.i,l.h)):(p||(h=rt(h,Oa)),l.i=new Or(h,l.h))}function Ye(l,h,p){l.i.set(h,p)}function Xr(l){return Ye(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ct(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function rt(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,Ts),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ts(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ss=/[#\/\?@]/g,Ia=/[#\?:]/g,Ps=/[#\?]/g,Oa=/[#\?@]/g,Ca=/#/g;function Or(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function En(l){l.g||(l.g=new Map,l.h=0,l.i&&Da(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Or.prototype,t.add=function(l,h){En(this),this.i=null,l=Jn(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function Ni(l,h){En(l),h=Jn(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Ri(l,h){return En(l),h=Jn(l,h),l.g.has(h)}t.forEach=function(l,h){En(this),this.g.forEach(function(p,y){p.forEach(function(L){l.call(h,L,y,this)},this)},this)},t.na=function(){En(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){const L=l[y];for(let z=0;z<L.length;z++)p.push(h[y])}return p},t.V=function(l){En(this);let h=[];if(typeof l=="string")Ri(this,l)&&(h=h.concat(this.g.get(Jn(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return En(this),this.i=null,l=Jn(this,l),Ri(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Ai(l,h,p){Ni(l,h),0<p.length&&(l.i=null,l.g.set(Jn(l,h),D(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];const z=encodeURIComponent(String(y)),te=this.V(y);for(y=0;y<te.length;y++){var L=z;te[y]!==""&&(L+="="+encodeURIComponent(String(te[y]))),l.push(L)}}return this.i=l.join("&")};function Jn(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function Ds(l,h){h&&!l.j&&(En(l),l.i=null,l.g.forEach(function(p,y){var L=y.toLowerCase();y!=L&&(Ni(this,y),Ai(this,L,p))},l)),l.j=h}function Is(l,h){const p=new $e;if(u.Image){const y=new Image;y.onload=E(v,p,"TestLoadImage: loaded",!0,h,y),y.onerror=E(v,p,"TestLoadImage: error",!1,h,y),y.onabort=E(v,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=E(v,p,"TestLoadImage: timeout",!1,h,y),u.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function Os(l,h){const p=new $e,y=new AbortController,L=setTimeout(()=>{y.abort(),v(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(z=>{clearTimeout(L),z.ok?v(p,"TestPingServer: ok",!0,h):v(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),v(p,"TestPingServer: error",!1,h)})}function v(l,h,p,y,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),y(p)}catch{}}function V(){this.g=new Sa}function R(l,h,p){const y=p||"";try{wn(l,function(L,z){let te=L;d(L)&&(te=wi(L)),h.push(y+z+"="+encodeURIComponent(te))})}catch(L){throw h.push(y+"type="+encodeURIComponent("_badmap")),L}}function J(l){this.l=l.Ub||null,this.j=l.eb||!1}O(J,Sr),J.prototype.g=function(){return new U(this.l,this.j)},J.prototype.i=function(l){return function(){return l}}({});function U(l,h){dt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(U,dt),t=U.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Ae(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||u).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,he(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ae(this)),this.g&&(this.readyState=3,Ae(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;re(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function re(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?he(this):Ae(this),this.readyState==3&&re(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,he(this))},t.Qa=function(l){this.g&&(this.response=l,he(this))},t.ga=function(){this.g&&he(this)};function he(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Ae(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Ae(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(U.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ge(l){let h="";return q(l,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function Oe(l,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=ge(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Ye(l,h,p))}function _e(l){dt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(_e,dt);var je=/^https?$/i,Mt=["POST","PUT"];t=_e.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pi.g(),this.v=this.o?Pr(this.o):Pr(Pi),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(z){Nt(this,z);return}if(l=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var L in y)p.set(L,y[L]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const z of y.keys())p.set(z,y.get(z));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(z=>z.toLowerCase()=="content-type"),L=u.FormData&&l instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Mt,h,void 0))||y||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,te]of p)this.g.setRequestHeader(z,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zr(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){Nt(this,z)}};function Nt(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,gt(l),Zn(l)}function gt(l){l.A||(l.A=!0,ft(l,"complete"),ft(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ft(this,"complete"),ft(this,"abort"),Zn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),_e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jr(this):this.bb())},t.bb=function(){Jr(this)};function Jr(l){if(l.h&&typeof o<"u"&&(!l.v[1]||bn(l)!=4||l.Z()!=2)){if(l.u&&bn(l)==4)ps(l.Ea,0,l);else if(ft(l,"readystatechange"),bn(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=te===0){var L=String(l.D).match(Qr)[1]||null;!L&&u.self&&u.self.location&&(L=u.self.location.protocol.slice(0,-1)),y=!je.test(L?L.toLowerCase():"")}p=y}if(p)ft(l,"complete"),ft(l,"success");else{l.m=6;try{var z=2<bn(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",gt(l)}}finally{Zn(l)}}}}function Zn(l,h){if(l.g){Zr(l);const p=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||ft(l,"ready");try{p.onreadystatechange=y}catch{}}}function Zr(l){l.I&&(u.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function bn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Ei(h)}};function wo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function $l(l){const h={};l=(l.g&&2<=bn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(S(l[y]))continue;var p=N(l[y]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const z=h[L]||[];h[L]=z,z.push(p)}T(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function Eo(l){this.Aa=0,this.i=[],this.j=new $e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ji("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ji("baseRetryDelayMs",5e3,l),this.cb=ji("retryDelaySeedMs",1e4,l),this.Wa=ji("forwardChannelMaxRetries",2,l),this.wa=ji("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Zt(l&&l.concurrentRequestLimit),this.Da=new V,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Eo.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,y){we(0),this.W=l,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=Co(this,null,this.W),Ms(this)};function Ma(l){if(bo(l),l.G==3){var h=l.U++,p=qt(l.I);if(Ye(p,"SID",l.K),Ye(p,"RID",h),Ye(p,"TYPE","terminate"),Fi(l,p),h=new kn(l,l.j,h),h.L=2,h.v=Xr(qt(p)),p=!1,u.navigator&&u.navigator.sendBeacon)try{p=u.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&u.Image&&(new Image().src=h.v,p=!0),p||(h.g=Mo(h.j,null),h.g.ea(h.v)),h.F=Date.now(),fr(h)}Oo(l)}function Cs(l){l.g&&(Ra(l),l.g.cancel(),l.g=null)}function bo(l){Cs(l),l.u&&(u.clearTimeout(l.u),l.u=null),Ns(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&u.clearTimeout(l.s),l.s=null)}function Ms(l){if(!Gr(l.h)&&!l.s){l.s=!0;var h=l.Ga;Se||ce(),Q||(Se(),Q=!0),oe.add(h,l),l.B=0}}function Hl(l,h){return Oi(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=xt(_(l.Ga,l,h),Io(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new kn(this,this.j,l);let z=this.o;if(this.S&&(z?(z=w(z),x(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=To(this,L,h),p=qt(this.I),Ye(p,"RID",l),Ye(p,"CVER",22),this.D&&Ye(p,"X-HTTP-Session-Id",this.D),Fi(this,p),z&&(this.O?h="headers="+encodeURIComponent(String(ge(z)))+"&"+h:this.m&&Oe(p,this.m,z)),Ci(this.h,L),this.Ua&&Ye(p,"TYPE","init"),this.P?(Ye(p,"$req",h),Ye(p,"SID","null"),L.T=!0,Yr(L,p,null)):Yr(L,p,h),this.G=2}}else this.G==3&&(l?xo(this,l):this.i.length==0||Gr(this.h)||xo(this))};function xo(l,h){var p;h?p=h.l:p=l.U++;const y=qt(l.I);Ye(y,"SID",l.K),Ye(y,"RID",p),Ye(y,"AID",l.T),Fi(l,y),l.m&&l.o&&Oe(y,l.m,l.o),p=new kn(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=To(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ci(l.h,p),Yr(p,y,h)}function Fi(l,h){l.H&&q(l.H,function(p,y){Ye(h,y,p)}),l.l&&wn({},function(p,y){Ye(h,y,p)})}function To(l,h,p){p=Math.min(l.i.length,p);var y=l.l?_(l.l.Na,l.l,l):null;e:{var L=l.i;let z=-1;for(;;){const te=["count="+p];z==-1?0<p?(z=L[0].g,te.push("ofs="+z)):z=0:te.push("ofs="+z);let qe=!0;for(let St=0;St<p;St++){let Fe=L[St].g;const Rt=L[St].map;if(Fe-=z,0>Fe)z=Math.max(0,L[St].g-100),qe=!1;else try{R(Rt,te,"req"+Fe+"_")}catch{y&&y(Rt)}}if(qe){y=te.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,y}function So(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Se||ce(),Q||(Se(),Q=!0),oe.add(h,l),l.v=0}}function Na(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=xt(_(l.Fa,l),Io(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Po(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=xt(_(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,we(10),Cs(this),Po(this))};function Ra(l){l.A!=null&&(u.clearTimeout(l.A),l.A=null)}function Po(l){l.g=new kn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=qt(l.qa);Ye(h,"RID","rpc"),Ye(h,"SID",l.K),Ye(h,"AID",l.T),Ye(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ye(h,"TO",l.ja),Ye(h,"TYPE","xmlhttp"),Fi(l,h),l.m&&l.o&&Oe(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Xr(qt(h)),p.m=null,p.P=!0,dr(p,l)}t.Za=function(){this.C!=null&&(this.C=null,Cs(this),Na(this),we(19))};function Ns(l){l.C!=null&&(u.clearTimeout(l.C),l.C=null)}function Do(l,h){var p=null;if(l.g==h){Ns(l),Ra(l),l.g=null;var y=2}else if(Ir(l.h,h))p=h.D,bs(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var L=l.B;y=Br(),ft(y,new Ln(y,p)),Ms(l)}else So(l);else if(L=h.s,L==3||L==0&&0<h.X||!(y==1&&Hl(l,h)||y==2&&Na(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),L){case 1:Cr(l,5);break;case 4:Cr(l,10);break;case 3:Cr(l,6);break;default:Cr(l,2)}}}function Io(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function Cr(l,h){if(l.j.info("Error code "+h),h==2){var p=_(l.fb,l),y=l.Xa;const L=!y;y=new Kn(y||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xn(y,"https"),Xr(y),L?Is(y.toString(),p):Os(y.toString(),p)}else we(2);l.G=0,l.l&&l.l.sa(h),Oo(l),bo(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Oo(l){if(l.G=0,l.ka=[],l.l){const h=Tt(l.h);(h.length!=0||l.i.length!=0)&&(A(l.ka,h),A(l.ka,l.i),l.h.i.length=0,D(l.i),l.i.length=0),l.l.ra()}}function Co(l,h,p){var y=p instanceof Kn?qt(p):new Kn(p);if(y.g!="")h&&(y.g=h+"."+y.g),Kr(y,y.s);else{var L=u.location;y=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var z=new Kn(null);y&&Xn(z,y),h&&(z.g=h),L&&Kr(z,L),p&&(z.l=p),y=z}return p=l.D,h=l.ya,p&&h&&Ye(y,p,h),Ye(y,"VER",l.la),Fi(l,y),y}function Mo(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new _e(new J({eb:p})):new _e(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function No(){}t=No.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Rs(){}Rs.prototype.g=function(l,h){return new en(l,h)};function en(l,h){dt.call(this),this.g=new Eo(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!S(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!S(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ei(this)}O(en,dt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Ma(this.g)},en.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=wi(l),l=p);h.i.push(new Es(h.Ya++,l)),h.G==3&&Ms(h)},en.prototype.N=function(){this.g.l=null,delete this.j,Ma(this.g),delete this.g,en.aa.N.call(this)};function Ro(l){jn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}O(Ro,jn);function Ao(){xi.call(this),this.status=1}O(Ao,xi);function ei(l){this.g=l}O(ei,No),ei.prototype.ua=function(){ft(this.g,"a")},ei.prototype.ta=function(l){ft(this.g,new Ro(l))},ei.prototype.sa=function(l){ft(this.g,new Ao)},ei.prototype.ra=function(){ft(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,tO=function(){return new Rs},eO=function(){return Br()},Z1=Fn,Wp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Je.NO_ERROR=0,Je.TIMEOUT=8,Je.HTTP_ERROR=6,Ud=Je,Jt.COMPLETE="complete",J1=Jt,bi.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,yu=bi,_e.prototype.listenOnce=_e.prototype.L,_e.prototype.getLastError=_e.prototype.Ka,_e.prototype.getLastErrorCode=_e.prototype.Ba,_e.prototype.getStatus=_e.prototype.Z,_e.prototype.getResponseJson=_e.prototype.Oa,_e.prototype.getResponseText=_e.prototype.oa,_e.prototype.send=_e.prototype.ea,_e.prototype.setWithCredentials=_e.prototype.Ha,X1=_e}).apply(typeof Ed<"u"?Ed:typeof self<"u"?self:typeof window<"u"?window:{});const Hb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new z0("@firebase/firestore");function hu(){return oo.logLevel}function ue(t,...e){if(oo.logLevel<=ke.DEBUG){const n=e.map(ey);oo.debug(`Firestore (${zl}): ${t}`,...n)}}function is(t,...e){if(oo.logLevel<=ke.ERROR){const n=e.map(ey);oo.error(`Firestore (${zl}): ${t}`,...n)}}function xl(t,...e){if(oo.logLevel<=ke.WARN){const n=e.map(ey);oo.warn(`Firestore (${zl}): ${t}`,...n)}}function ey(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: `+t;throw is(e),new Error(e)}function Ke(t,e){t||be()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hn.UNAUTHENTICATED))}shutdown(){}}class UH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BH{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ki,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ki)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new nO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new hn(e)}}class $H{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $H(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ke(this.o===void 0);const r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new YH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=GH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function Tl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Bt(0,0))}static max(){return new xe(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class mt extends rc{construct(e,n,r){return new mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new mt(n)}static emptyPath(){return new mt([])}}const QH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends rc{construct(e,n,r){return new rn(e,n,r)}static isValidIdentifier(e){return QH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new fe(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new fe(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new fe(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new fe(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(mt.fromString(e))}static fromName(e){return new ve(mt.fromString(e).popFirst(5))}static empty(){return new ve(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new mt(e.slice()))}}function KH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new ma(i,ve.empty(),e)}function XH(t){return new ma(t.readTime,t.key,-1)}class ma{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ma(xe.min(),ve.empty(),-1)}static max(){return new ma(xe.max(),ve.empty(),-1)}}function JH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==ZH)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,r)=>{n(e)})}static reject(e){return new X((n,r)=>{r(e)})}static waitFor(e){return new X((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next(i=>i?X.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new X((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next(m=>{o[d]=m,++u,u===s&&r(o)},m=>i(m))}})}static doWhile(e,n){return new X((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function tY(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ty.oe=-1;function Lh(t){return t==null}function Rf(t){return t===0&&1/t==-1/0}function nY(t){return typeof t=="number"&&Number.isInteger(t)&&!Rf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bd(this.root,e,this.comparator,!0)}}class bd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??nn.RED,this.left=i??nn.EMPTY,this.right=s??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new nn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,i,s){return this}insert(e,n,r){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qb(this.data.getIterator())}getIteratorFrom(e){return new qb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class qb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new jr([])}unionWith(e){let n=new an(rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sO("Invalid base64 string: "+s):s}}(e);return new ln(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const rY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=rY.exec(t);if(Ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lo(t){return typeof t=="string"?ln.fromBase64String(t):ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ry(t){const e=t.mapValue.fields.__previous_value__;return ny(e)?ry(e):e}function ic(t){const e=ga(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e,n,r,i,s,o,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d}}class sc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd={mapValue:{}};function uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ny(t)?4:aY(t)?9007199254740991:sY(t)?10:11:be()}function mi(t,e){if(t===e)return!0;const n=uo(t);if(n!==uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ic(t).isEqual(ic(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ga(i.timestampValue),u=ga(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return lo(i.bytesValue).isEqual(lo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Dt(i.geoPointValue.latitude)===Dt(s.geoPointValue.latitude)&&Dt(i.geoPointValue.longitude)===Dt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Dt(i.integerValue)===Dt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Dt(i.doubleValue),u=Dt(s.doubleValue);return o===u?Rf(o)===Rf(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return Tl(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Yb(o)!==Yb(u))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(u[c]===void 0||!mi(o[c],u[c])))return!1;return!0}(t,e);default:return be()}}function ac(t,e){return(t.values||[]).find(n=>mi(n,e))!==void 0}function Sl(t,e){if(t===e)return 0;const n=uo(t),r=uo(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(s,o){const u=Dt(s.integerValue||s.doubleValue),c=Dt(o.integerValue||o.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return Gb(t.timestampValue,e.timestampValue);case 4:return Gb(ic(t),ic(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(s,o){const u=lo(s),c=lo(o);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const u=s.split("/"),c=o.split("/");for(let d=0;d<u.length&&d<c.length;d++){const m=He(u[d],c[d]);if(m!==0)return m}return He(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const u=He(Dt(s.latitude),Dt(o.latitude));return u!==0?u:He(Dt(s.longitude),Dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Qb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var u,c,d,m;const g=s.fields||{},_=o.fields||{},E=(u=g.value)===null||u===void 0?void 0:u.arrayValue,O=(c=_.value)===null||c===void 0?void 0:c.arrayValue,D=He(((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0,((m=O==null?void 0:O.values)===null||m===void 0?void 0:m.length)||0);return D!==0?D:Qb(E,O)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===xd.mapValue&&o===xd.mapValue)return 0;if(s===xd.mapValue)return 1;if(o===xd.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),d=o.fields||{},m=Object.keys(d);c.sort(),m.sort();for(let g=0;g<c.length&&g<m.length;++g){const _=He(c[g],m[g]);if(_!==0)return _;const E=Sl(u[c[g]],d[m[g]]);if(E!==0)return E}return He(c.length,m.length)}(t.mapValue,e.mapValue);default:throw be()}}function Gb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=ga(t),r=ga(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function Qb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Sl(n[i],r[i]);if(s)return s}return He(n.length,r.length)}function Pl(t){return Up(t)}function Up(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ga(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Up(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Up(n.fields[o])}`;return i+"}"}(t.mapValue):be()}function Bp(t){return!!t&&"integerValue"in t}function iy(t){return!!t&&"arrayValue"in t}function Kb(t){return!!t&&"nullValue"in t}function Xb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bd(t){return!!t&&"mapValue"in t}function sY(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Au(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Au(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Au(t.arrayValue.values[n]);return e}return Object.assign({},t)}function aY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Au(n)}setAll(e){let n=rn.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=Au(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new vr(Au(this.value))}}function aO(t){const e=[];return Wl(t.fields,(n,r)=>{const i=new rn([n]);if(Bd(r)){const s=aO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new gn(e,0,xe.min(),xe.min(),xe.min(),vr.empty(),0)}static newFoundDocument(e,n,r,i){return new gn(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new gn(e,2,n,xe.min(),xe.min(),vr.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,xe.min(),xe.min(),vr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n){this.position=e,this.inclusive=n}}function Jb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ve.comparator(ve.fromName(o.referenceValue),n.key):r=Sl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n="asc"){this.field=e,this.dir=n}}function oY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{}class Wt extends oO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uY(e,n,r):n==="array-contains"?new fY(e,r):n==="in"?new hY(e,r):n==="not-in"?new mY(e,r):n==="array-contains-any"?new gY(e,r):new Wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cY(e,r):new dY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Sl(n,this.value)):n!==null&&uo(this.value)===uo(n)&&this.matchesComparison(Sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends oO{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new gi(e,n)}matches(e){return lO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lO(t){return t.op==="and"}function uO(t){return lY(t)&&lO(t)}function lY(t){for(const e of t.filters)if(e instanceof gi)return!1;return!0}function $p(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+Pl(t.value);if(uO(t))return t.filters.map(e=>$p(e)).join(",");{const e=t.filters.map(n=>$p(n)).join(",");return`${t.op}(${e})`}}function cO(t,e){return t instanceof Wt?function(r,i){return i instanceof Wt&&r.op===i.op&&r.field.isEqual(i.field)&&mi(r.value,i.value)}(t,e):t instanceof gi?function(r,i){return i instanceof gi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,u)=>s&&cO(o,i.filters[u]),!0):!1}(t,e):void be()}function dO(t){return t instanceof Wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Pl(n.value)}`}(t):t instanceof gi?function(n){return n.op.toString()+" {"+n.getFilters().map(dO).join(" ,")+"}"}(t):"Filter"}class uY extends Wt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class cY extends Wt{constructor(e,n){super(e,"in",n),this.keys=fO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dY extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=fO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class fY extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iy(n)&&ac(n.arrayValue,this.value)}}class hY extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ac(this.value.arrayValue,n)}}class mY extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ac(this.value.arrayValue,n)}}class gY extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ac(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.ue=null}}function ex(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pY(t,e,n,r,i,s,o)}function sy(t){const e=Te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$p(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Pl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Pl(r)).join(",")),e.ue=n}return e.ue}function ay(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zb(t.startAt,e.startAt)&&Zb(t.endAt,e.endAt)}function Hp(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vY(t,e,n,r,i,s,o,u){return new kh(t,e,n,r,i,s,o,u)}function oy(t){return new kh(t)}function tx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _Y(t){return t.collectionGroup!==null}function ju(t){const e=Te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new an(rn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new jf(s,r))}),n.has(rn.keyField().canonicalString())||e.ce.push(new jf(rn.keyField(),r))}return e.ce}function ci(t){const e=Te(t);return e.le||(e.le=yY(e,ju(t))),e.le}function yY(t,e){if(t.limitType==="F")return ex(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new jf(i.field,s)});const n=t.endAt?new Af(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Af(t.startAt.position,t.startAt.inclusive):null;return ex(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yp(t,e,n){return new kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vh(t,e){return ay(ci(t),ci(e))&&t.limitType===e.limitType}function hO(t){return`${sy(ci(t))}|lt:${t.limitType}`}function Bo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dO(i)).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Pl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Pl(i)).join(",")),`Target(${r})`}(ci(t))}; limitType=${t.limitType})`}function zh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ju(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,u,c){const d=Jb(o,u,c);return o.inclusive?d<=0:d<0}(r.startAt,ju(r),i)||r.endAt&&!function(o,u,c){const d=Jb(o,u,c);return o.inclusive?d>=0:d>0}(r.endAt,ju(r),i))}(t,e)}function wY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mO(t){return(e,n)=>{let r=!1;for(const i of ju(t)){const s=EY(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function EY(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(s,o,u){const c=o.data.field(s),d=u.data.field(s);return c!==null&&d!==null?Sl(c,d):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return iO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bY=new yt(ve.comparator);function ss(){return bY}const gO=new yt(ve.comparator);function wu(...t){let e=gO;for(const n of t)e=e.insert(n.key,n);return e}function pO(t){let e=gO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qa(){return Fu()}function vO(){return Fu()}function Fu(){return new Ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const xY=new yt(ve.comparator),TY=new an(ve.comparator);function Le(...t){let e=TY;for(const n of t)e=e.add(n);return e}const SY=new an(He);function PY(){return SY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(e)?"-0":e}}function _O(t){return{integerValue:""+t}}function DY(t,e){return nY(e)?_O(e):ly(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function IY(t,e,n){return t instanceof oc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ny(s)&&(s=ry(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof lc?wO(t,e):t instanceof uc?EO(t,e):function(i,s){const o=yO(i,s),u=nx(o)+nx(i.Pe);return Bp(o)&&Bp(i.Pe)?_O(u):ly(i.serializer,u)}(t,e)}function OY(t,e,n){return t instanceof lc?wO(t,e):t instanceof uc?EO(t,e):n}function yO(t,e){return t instanceof Ff?function(r){return Bp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class oc extends Wh{}class lc extends Wh{constructor(e){super(),this.elements=e}}function wO(t,e){const n=bO(e);for(const r of t.elements)n.some(i=>mi(i,r))||n.push(r);return{arrayValue:{values:n}}}class uc extends Wh{constructor(e){super(),this.elements=e}}function EO(t,e){let n=bO(e);for(const r of t.elements)n=n.filter(i=>!mi(i,r));return{arrayValue:{values:n}}}class Ff extends Wh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function nx(t){return Dt(t.integerValue||t.doubleValue)}function bO(t){return iy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(e,n){this.field=e,this.transform=n}}function MY(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof lc&&i instanceof lc||r instanceof uc&&i instanceof uc?Tl(r.elements,i.elements,mi):r instanceof Ff&&i instanceof Ff?mi(r.Pe,i.Pe):r instanceof oc&&i instanceof oc}(t.transform,e.transform)}class NY{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uh{}function xO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uy(t.key,di.none()):new zc(t.key,t.data,di.none());{const n=t.data,r=vr.empty();let i=new an(rn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new _o(t.key,r,new jr(i.toArray()),di.none())}}function RY(t,e,n){t instanceof zc?function(i,s,o){const u=i.value.clone(),c=ix(i.fieldTransforms,s,o.transformResults);u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof _o?function(i,s,o){if(!$d(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=ix(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(TO(i)),c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Lu(t,e,n,r){return t instanceof zc?function(s,o,u,c){if(!$d(s.precondition,o))return u;const d=s.value.clone(),m=sx(s.fieldTransforms,c,o);return d.setAll(m),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof _o?function(s,o,u,c){if(!$d(s.precondition,o))return u;const d=sx(s.fieldTransforms,c,o),m=o.data;return m.setAll(TO(s)),m.setAll(d),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,u){return $d(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function AY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=yO(r.transform,i||null);s!=null&&(n===null&&(n=vr.empty()),n.set(r.field,s))}return n||null}function rx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Tl(r,i,(s,o)=>MY(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zc extends Uh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _o extends Uh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function TO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ix(t,e,n){const r=new Map;Ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,OY(o,u,n[i]))}return r}function sx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,IY(s,o,e))}return r}class uy extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jY extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&RY(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vO();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const c=xO(o,u);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,(n,r)=>rx(n,r))&&Tl(this.baseMutations,e.baseMutations,(n,r)=>rx(n,r))}}class cy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ke(e.mutations.length===r.length);let i=function(){return xY}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,Ve;function VY(t){switch(t){default:return be();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function SO(t){if(t===void 0)return is("GRPC error has no .code"),K.UNKNOWN;switch(t){case jt.OK:return K.OK;case jt.CANCELLED:return K.CANCELLED;case jt.UNKNOWN:return K.UNKNOWN;case jt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case jt.INTERNAL:return K.INTERNAL;case jt.UNAVAILABLE:return K.UNAVAILABLE;case jt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case jt.NOT_FOUND:return K.NOT_FOUND;case jt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case jt.ABORTED:return K.ABORTED;case jt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case jt.DATA_LOSS:return K.DATA_LOSS;default:return be()}}(Ve=jt||(jt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY=new Za([4294967295,4294967295],0);function ax(t){const e=zY().encode(t),n=new K1;return n.update(e),new Uint8Array(n.digest())}function ox(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Za([n,r],0),new Za([i,s],0)]}class dy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eu(`Invalid padding: ${n}`);if(r<0)throw new Eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Za.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Za.fromNumber(r)));return i.compare(WY)===1&&(i=new Za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=ax(e),[r,i]=ox(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dy(s,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.Ie===0)return;const n=ax(e),[r,i]=ox(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bh(xe.min(),i,new yt(He),ss(),Le())}}class Wc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wc(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class PO{constructor(e,n){this.targetId=e,this.me=n}}class DO{constructor(e,n,r=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lx{constructor(){this.fe=0,this.ge=cx(),this.pe=ln.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),n=Le(),r=Le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be()}}),new Wc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=cx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class UY{constructor(e){this.Le=e,this.Be=new Map,this.ke=ss(),this.qe=ux(),this.Qe=new yt(He)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Hp(s))if(r===0){const o=new ve(s.path);this.Ue(n,o,gn.newNoDocument(o,xe.min()))}else Ke(r===1);else{const o=this.Ye(n);if(o!==r){const u=this.Ze(e),c=u?this.Xe(u,e,o):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,u;try{o=lo(r).toUint8Array()}catch(c){if(c instanceof sO)return xl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new dy(o,i,s)}catch(c){return xl(c instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const u=this.Je(o);if(u){if(s.current&&Hp(u.target)){const c=new ve(u.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,gn.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Le();this.qe.forEach((s,o)=>{let u=!0;o.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Bh(e,n,this.Qe,this.ke,r);return this.ke=ss(),this.qe=ux(),this.Qe=new yt(He),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new lx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new an(He),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ux(){return new yt(ve.comparator)}function cx(){return new yt(ve.comparator)}const BY={asc:"ASCENDING",desc:"DESCENDING"},$Y={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HY={and:"AND",or:"OR"};class YY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qp(t,e){return t.useProto3Json||Lh(e)?e:{value:e}}function Lf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qY(t,e){return Lf(t,e.toTimestamp())}function fi(t){return Ke(!!t),xe.fromTimestamp(function(n){const r=ga(n);return new Bt(r.seconds,r.nanos)}(t))}function fy(t,e){return Gp(t,e).canonicalString()}function Gp(t,e){const n=function(i){return new mt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OO(t){const e=mt.fromString(t);return Ke(AO(e)),e}function Qp(t,e){return fy(t.databaseId,e.path)}function Mg(t,e){const n=OO(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(MO(n))}function CO(t,e){return fy(t.databaseId,e)}function GY(t){const e=OO(t);return e.length===4?mt.emptyPath():MO(e)}function Kp(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MO(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dx(t,e,n){return{name:Qp(t,e),fields:n.value.mapValue.fields}}function QY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,m){return d.useProto3Json?(Ke(m===void 0||typeof m=="string"),ln.fromBase64String(m||"")):(Ke(m===void 0||m instanceof Buffer||m instanceof Uint8Array),ln.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(d){const m=d.code===void 0?K.UNKNOWN:SO(d.code);return new fe(m,d.message||"")}(o);n=new DO(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mg(t,r.document.name),s=fi(r.document.updateTime),o=r.document.createTime?fi(r.document.createTime):xe.min(),u=new vr({mapValue:{fields:r.document.fields}}),c=gn.newFoundDocument(i,s,o,u),d=r.targetIds||[],m=r.removedTargetIds||[];n=new Hd(d,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mg(t,r.document),s=r.readTime?fi(r.readTime):xe.min(),o=gn.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Hd([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mg(t,r.document),s=r.removedTargetIds||[];n=new Hd([],s,i,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new kY(i,s),u=r.targetId;n=new PO(u,o)}}return n}function KY(t,e){let n;if(e instanceof zc)n={update:dx(t,e.key,e.value)};else if(e instanceof uy)n={delete:Qp(t,e.key)};else if(e instanceof _o)n={update:dx(t,e.key,e.data),updateMask:sq(e.fieldMask)};else{if(!(e instanceof jY))return be();n={verify:Qp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const u=o.transform;if(u instanceof oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof lc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof uc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ff)return{fieldPath:o.field.canonicalString(),increment:u.Pe};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:qY(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:be()}(t,e.precondition)),n}function XY(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?fi(i.updateTime):fi(s);return o.isEqual(xe.min())&&(o=fi(s)),new NY(o,i.transformResults||[])}(n,e))):[]}function JY(t,e){return{documents:[CO(t,e.path)]}}function ZY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CO(t,i);const s=function(d){if(d.length!==0)return RO(gi.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(m=>function(_){return{field:$o(_.field),direction:nq(_.dir)}}(m))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=qp(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function eq(t){let e=GY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ke(r===1);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=function(g){const _=NO(g);return _ instanceof gi&&uO(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(O){return new jf(Ho(O.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(_))}(n.orderBy));let u=null;n.limit&&(u=function(g){let _;return _=typeof g=="object"?g.value:g,Lh(_)?null:_}(n.limit));let c=null;n.startAt&&(c=function(g){const _=!!g.before,E=g.values||[];return new Af(E,_)}(n.startAt));let d=null;return n.endAt&&(d=function(g){const _=!g.before,E=g.values||[];return new Af(E,_)}(n.endAt)),vY(e,i,o,s,u,"F",c,d)}function tq(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ho(n.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ho(n.unaryFilter.field);return Wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ho(n.unaryFilter.field);return Wt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ho(n.unaryFilter.field);return Wt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return Wt.create(Ho(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gi.create(n.compositeFilter.filters.map(r=>NO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function nq(t){return BY[t]}function rq(t){return $Y[t]}function iq(t){return HY[t]}function $o(t){return{fieldPath:t.canonicalString()}}function Ho(t){return rn.fromServerFormat(t.fieldPath)}function RO(t){return t instanceof Wt?function(n){if(n.op==="=="){if(Xb(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NAN"}};if(Kb(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xb(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NAN"}};if(Kb(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(n.field),op:rq(n.op),value:n.value}}}(t):t instanceof gi?function(n){const r=n.getFilters().map(i=>RO(i));return r.length===1?r[0]:{compositeFilter:{op:iq(n.op),filters:r}}}(t):be()}function sq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r,i,s=xe.min(),o=xe.min(),u=ln.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e){this.ct=e}}function oq(t){const e=eq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(){this.un=new uq}addToCollectionParentIndex(e,n){return this.un.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(ma.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(ma.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class uq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new an(mt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new an(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Dl(0)}static kn(){return new Dl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(){this.changes=new Ul(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lu(r.mutation,i,jr.empty(),Bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Le()){const i=Qa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=wu();return s.forEach((u,c)=>{o=o.insert(u,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=ss();const o=Fu(),u=function(){return Fu()}();return n.forEach((c,d)=>{const m=r.get(d.key);i.has(d.key)&&(m===void 0||m.mutation instanceof _o)?s=s.insert(d.key,d):m!==void 0?(o.set(d.key,m.mutation.getFieldMask()),Lu(m.mutation,d,m.mutation.getFieldMask(),Bt.now())):o.set(d.key,jr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,m)=>o.set(d,m)),n.forEach((d,m)=>{var g;return u.set(d,new dq(m,(g=o.get(d))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Fu();let i=new yt((o,u)=>o-u),s=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let m=r.get(c)||jr.empty();m=u.applyToLocalView(d,m),r.set(c,m);const g=(i.get(u.batchId)||Le()).add(c);i=i.insert(u.batchId,g)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,m=c.value,g=vO();m.forEach(_=>{if(!s.has(_)){const E=xO(n.get(_),r.get(_));E!==null&&g.set(_,E),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return X.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_Y(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):X.resolve(Qa());let u=-1,c=s;return o.next(d=>X.forEach(d,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(m)?X.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{c=c.insert(m,_)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,Le())).next(m=>({batchId:u,changes:pO(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=wu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=wu();return this.indexManager.getCollectionParents(e,s).next(u=>X.forEach(u,c=>{const d=function(g,_){return new kh(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(m=>{m.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,d)=>{const m=d.getKey();o.get(m)===null&&(o=o.insert(m,gn.newInvalidDocument(m)))});let u=wu();return o.forEach((c,d)=>{const m=s.get(c);m!==void 0&&Lu(m.mutation,d,jr.empty(),Bt.now()),zh(n,d)&&(u=u.insert(c,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return X.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fi(i.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:oq(i.bundledQuery),readTime:fi(i.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(){this.overlays=new yt(ve.comparator),this.Ir=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qa();return X.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),X.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const i=Qa(),s=n.length+1,o=new ve(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return X.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new yt((d,m)=>d-m);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=s.get(d.largestBatchId);m===null&&(m=Qa(),s=s.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=Qa(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,m)=>u.set(d,m)),!(u.size()>=i)););return X.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new LY(n,r));let s=this.Ir.get(n);s===void 0&&(s=Le(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.Tr=new an(Qt.Er),this.dr=new an(Qt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Qt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Qt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ve(new mt([])),r=new Qt(n,e),i=new Qt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ve(new mt([])),r=new Qt(n,e),i=new Qt(n,e+1);let s=Le();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Qt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ve.comparator(e.key,n.key)||He(e.wr,n.wr)}static Ar(e,n){return He(e.wr,n.wr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new an(Qt.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new FY(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this.br=this.br.add(new Qt(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,n){return X.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qt(n,0),i=new Qt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const u=this.Dr(o.wr);s.push(u)}),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(He);return n.forEach(i=>{const s=new Qt(i,0),o=new Qt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],u=>{r=r.add(u.wr)})}),X.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ve.isDocumentKey(s)||(s=s.child(""));const o=new Qt(new ve(s),0);let u=new an(He);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(c.wr)),!0)},o),X.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return X.forEach(n.mutations,i=>{const s=new Qt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Qt(n,0),i=this.br.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e){this.Mr=e,this.docs=function(){return new yt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=ss();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():gn.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ss();const o=n.path,u=new ve(o.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:m}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||JH(XH(m),r)<=0||(i.has(m.key)||zh(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(e,n,r,i){be()}Or(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _q(this)}getSize(e){return X.resolve(this.size)}}class _q extends cq{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e){this.persistence=e,this.Nr=new Ul(n=>sy(n),ay),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new hy,this.targetCount=0,this.kr=Dl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),X.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Kn(n),X.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),X.waitFor(s).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),X.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ty(0),this.Kr=!1,this.Kr=!0,this.$r=new gq,this.referenceDelegate=e(this),this.Ur=new yq(this),this.indexManager=new lq,this.remoteDocumentCache=function(i){return new vq(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new aq(n),this.Gr=new hq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new pq(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const i=new Eq(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return X.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Eq extends eY{constructor(e){super(),this.currentSequenceNumber=e}}class my{constructor(e){this.persistence=e,this.Jr=new hy,this.Yr=null}static Zr(e){return new my(e)}get Xr(){if(this.Yr)return this.Yr;throw be()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,r=>{const i=ve.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,xe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return X.or([()=>X.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Le(),i=Le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new gy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return T$()?8:tY(vn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new bq;return this.Xi(e,n,o).next(u=>{if(s.result=u,this.zi)return this.es(e,n,o,u.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(hu()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(hu()<=ke.DEBUG&&ue("QueryEngine","Query:",Bo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(hu()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):X.resolve())}Yi(e,n){if(tx(n))return X.resolve(null);let r=ci(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Yp(n,null,"F"),r=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Le(...s);return this.Ji.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,u);return this.ns(n,d,o,c.readTime)?this.Yi(e,Yp(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,i){return tx(n)||i.isEqual(xe.min())?X.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?X.resolve(null):(hu()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bo(n)),this.rs(e,o,n,KH(i,-1)).next(u=>u))})}ts(e,n){let r=new an(mO(e));return n.forEach((i,s)=>{zh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return hu()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Bo(n)),this.Ji.getDocumentsMatchingQuery(e,n,ma.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new yt(He),this._s=new Ul(s=>sy(s),ay),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fq(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Sq(t,e,n,r){return new Tq(t,e,n,r)}async function jO(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let c=Le();for(const d of i){o.push(d.batchId);for(const m of d.mutations)c=c.add(m.key)}for(const d of s){u.push(d.batchId);for(const m of d.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:u}))})})}function Pq(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,d,m){const g=d.batch,_=g.keys();let E=X.resolve();return _.forEach(O=>{E=E.next(()=>m.getEntry(c,O)).next(D=>{const A=d.docVersions.get(O);Ke(A!==null),D.version.compareTo(A)<0&&(g.applyToRemoteDocument(D,d),D.isValidDocument()&&(D.setReadTime(d.commitVersion),m.addEntry(D)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=Le();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function FO(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Dq(t,e){const n=Te(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const u=[];e.targetChanges.forEach((m,g)=>{const _=i.get(g);if(!_)return;u.push(n.Ur.removeMatchingKeys(s,m.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,m.addedDocuments,g)));let E=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(ln.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),i=i.insert(g,E),function(D,A,b){return D.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(_,E,m)&&u.push(n.Ur.updateTargetData(s,E))});let c=ss(),d=Le();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(Iq(s,o,e.documentUpdates).next(m=>{c=m.Ps,d=m.Is})),!r.isEqual(xe.min())){const m=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return X.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(n.os=i,s))}function Iq(t,e,n){let r=Le(),i=Le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ss();return n.forEach((u,c)=>{const d=s.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(xe.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):ue("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function Oq(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Cq(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,X.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Xs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Xp(t,e,n){const r=Te(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Vc(o))throw o;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function fx(t,e,n){const r=Te(t);let i=xe.min(),s=Le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,m){const g=Te(c),_=g._s.get(m);return _!==void 0?X.resolve(g.os.get(_)):g.Ur.getTargetData(d,m)}(r,o,ci(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,u.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:xe.min(),n?s:Le())).next(u=>(Mq(r,wY(e),u),{documents:u,Ts:s})))}function Mq(t,e,n){let r=t.us.get(e)||xe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class hx{constructor(){this.activeTargetIds=PY()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nq{constructor(){this.so=new hx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new hx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td=null;function Ng(){return Td===null?Td=function(){return 268435456+Math.round(2147483648*Math.random())}():Td++,"0x"+Td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class Fq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const u=Ng(),c=this.xo(n,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(n,c,d,i).then(m=>(ue("RestConnection",`Received RPC '${n}' ${u}: `,m),m),m=>{throw xl("RestConnection",`RPC '${n}' ${u} failed with error: `,m,"url: ",c,"request:",i),m})}Lo(n,r,i,s,o,u){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=Aq[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Ng();return new Promise((o,u)=>{const c=new X1;c.setWithCredentials(!0),c.listenOnce(J1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ud.NO_ERROR:const m=c.getResponseJson();ue(fn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),o(m);break;case Ud.TIMEOUT:ue(fn,`RPC '${e}' ${s} timed out`),u(new fe(K.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const g=c.getStatus();if(ue(fn,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const O=function(A){const b=A.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(b)>=0?b:K.UNKNOWN}(E.status);u(new fe(O,E.message))}else u(new fe(K.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new fe(K.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ue(fn,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);ue(fn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const i=Ng(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tO(),u=eO(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const m=s.join("");ue(fn,`Creating RPC '${e}' stream ${i}: ${m}`,c);const g=o.createWebChannel(m,c);let _=!1,E=!1;const O=new jq({Io:A=>{E?ue(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(_||(ue(fn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),ue(fn,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},To:()=>g.close()}),D=(A,b,S)=>{A.listen(b,C=>{try{S(C)}catch(j){setTimeout(()=>{throw j},0)}})};return D(g,yu.EventType.OPEN,()=>{E||(ue(fn,`RPC '${e}' stream ${i} transport opened.`),O.yo())}),D(g,yu.EventType.CLOSE,()=>{E||(E=!0,ue(fn,`RPC '${e}' stream ${i} transport closed`),O.So())}),D(g,yu.EventType.ERROR,A=>{E||(E=!0,xl(fn,`RPC '${e}' stream ${i} transport errored:`,A),O.So(new fe(K.UNAVAILABLE,"The operation could not be completed")))}),D(g,yu.EventType.MESSAGE,A=>{var b;if(!E){const S=A.data[0];Ke(!!S);const C=S,j=C.error||((b=C[0])===null||b===void 0?void 0:b.error);if(j){ue(fn,`RPC '${e}' stream ${i} received error:`,j);const H=j.status;let q=function(P){const x=jt[P];if(x!==void 0)return SO(x)}(H),T=j.message;q===void 0&&(q=K.INTERNAL,T="Unknown error status: "+H+" with message "+j.message),E=!0,O.So(new fe(q,T)),g.close()}else ue(fn,`RPC '${e}' stream ${i} received:`,S),O.bo(S)}}),D(u,Z1.STAT_EVENT,A=>{A.stat===Wp.PROXY?ue(fn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Wp.NOPROXY&&ue(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{O.wo()},0),O}}function Rg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){return new YY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r,i,s,o,u,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new LO(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new fe(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lq extends kO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=QY(this.serializer,e),r=function(s){if(!("targetChange"in s))return xe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?xe.min():o.readTime?fi(o.readTime):xe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Kp(this.serializer),n.addTarget=function(s,o){let u;const c=o.target;if(u=Hp(c)?{documents:JY(s,c)}:{query:ZY(s,c)._t},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=IO(s,o.resumeToken);const d=qp(s,o.expectedCount);d!==null&&(u.expectedCount=d)}else if(o.snapshotVersion.compareTo(xe.min())>0){u.readTime=Lf(s,o.snapshotVersion.toTimestamp());const d=qp(s,o.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const r=tq(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Kp(this.serializer),n.removeTarget=e,this.a_(n)}}class kq extends kO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=XY(e.writeResults,e.commitTime),r=fi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Kp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>KY(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new fe(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Gp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(K.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Lo(e,Gp(n,r),i,o,u,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(K.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class zq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(is(n),this.D_=!1):ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{yo(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=Te(c);d.L_.add(4),await Uc(d),d.q_.set("Unknown"),d.L_.delete(4),await Hh(d)}(this))})}),this.q_=new zq(r,i)}}async function Hh(t){if(yo(t))for(const e of t.B_)await e(!0)}async function Uc(t){for(const e of t.B_)await e(!1)}function VO(t,e){const n=Te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),yy(n)?_y(n):Bl(n).r_()&&vy(n,e))}function py(t,e){const n=Te(t),r=Bl(n);n.N_.delete(e),r.r_()&&zO(n,e),n.N_.size===0&&(r.r_()?r.o_():yo(n)&&n.q_.set("Unknown"))}function vy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bl(t).A_(e)}function zO(t,e){t.Q_.xe(e),Bl(t).R_(e)}function _y(t){t.Q_=new UY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Bl(t).start(),t.q_.v_()}function yy(t){return yo(t)&&!Bl(t).n_()&&t.N_.size>0}function yo(t){return Te(t).L_.size===0}function WO(t){t.Q_=void 0}async function Uq(t){t.q_.set("Online")}async function Bq(t){t.N_.forEach((e,n)=>{vy(t,e)})}async function $q(t,e){WO(t),yy(t)?(t.q_.M_(e),_y(t)):t.q_.set("Unknown")}async function Hq(t,e,n){if(t.q_.set("Online"),e instanceof DO&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const u of s.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kf(t,r)}else if(e instanceof Hd?t.Q_.Ke(e):e instanceof PO?t.Q_.He(e):t.Q_.We(e),!n.isEqual(xe.min()))try{const r=await FO(t.localStore);n.compareTo(r)>=0&&await function(s,o){const u=s.Q_.rt(o);return u.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const m=s.N_.get(d);m&&s.N_.set(d,m.withResumeToken(c.resumeToken,o))}}),u.targetMismatches.forEach((c,d)=>{const m=s.N_.get(c);if(!m)return;s.N_.set(c,m.withResumeToken(ln.EMPTY_BYTE_STRING,m.snapshotVersion)),zO(s,c);const g=new Xs(m.target,c,d,m.sequenceNumber);vy(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await kf(t,r)}}async function kf(t,e,n){if(!Vc(e))throw e;t.L_.add(1),await Uc(t),t.q_.set("Offline"),n||(n=()=>FO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Hh(t)})}function UO(t,e){return e().catch(n=>kf(t,n,e))}async function Yh(t){const e=Te(t),n=pa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Yq(e);)try{const i=await Oq(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,qq(e,i)}catch(i){await kf(e,i)}BO(e)&&$O(e)}function Yq(t){return yo(t)&&t.O_.length<10}function qq(t,e){t.O_.push(e);const n=pa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function BO(t){return yo(t)&&!pa(t).n_()&&t.O_.length>0}function $O(t){pa(t).start()}async function Gq(t){pa(t).p_()}async function Qq(t){const e=pa(t);for(const n of t.O_)e.m_(n.mutations)}async function Kq(t,e,n){const r=t.O_.shift(),i=cy.from(r,e,n);await UO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yh(t)}async function Xq(t,e){e&&pa(t).V_&&await async function(r,i){if(function(o){return VY(o)&&o!==K.ABORTED}(i.code)){const s=r.O_.shift();pa(r).s_(),await UO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Yh(r)}}(t,e),BO(t)&&$O(t)}async function gx(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=yo(n);n.L_.add(3),await Uc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Hh(n)}async function Jq(t,e){const n=Te(t);e?(n.L_.delete(2),await Hh(n)):e||(n.L_.add(2),await Uc(n),n.q_.set("Unknown"))}function Bl(t){return t.K_||(t.K_=function(n,r,i){const s=Te(n);return s.w_(),new Lq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Uq.bind(null,t),Ro:Bq.bind(null,t),mo:$q.bind(null,t),d_:Hq.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),yy(t)?_y(t):t.q_.set("Unknown")):(await t.K_.stop(),WO(t))})),t.K_}function pa(t){return t.U_||(t.U_=function(n,r,i){const s=Te(n);return s.w_(),new kq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Gq.bind(null,t),mo:Xq.bind(null,t),f_:Qq.bind(null,t),g_:Kq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Yh(t)):(await t.U_.stop(),t.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new wy(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(t,e){if(is("AsyncQueue",`${e}: ${t}`),Vc(t))return new fe(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=wu(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new hl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.W_=new yt(ve.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):be():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Il{constructor(e,n,r,i,s,o,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new Il(e,n,hl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class eG{constructor(){this.queries=vx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Te(n),s=i.queries;i.queries=vx(),s.forEach((o,u)=>{for(const c of u.j_)c.onError(r)})})(this,new fe(K.ABORTED,"Firestore shutting down"))}}function vx(){return new Ul(t=>hO(t),Vh)}async function HO(t,e){const n=Te(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Zq,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const u=Ey(o,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&by(n)}async function YO(t,e){const n=Te(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tG(t,e){const n=Te(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.j_)u.X_(i)&&(r=!0);o.z_=i}}r&&by(n)}function nG(t,e,n){const r=Te(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function by(t){t.Y_.forEach(e=>{e.next()})}var Jp,_x;(_x=Jp||(Jp={})).ea="default",_x.Cache="cache";class qO{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Jp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.key=e}}class QO{constructor(e){this.key=e}}class rG{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Le(),this.mutatedKeys=Le(),this.Aa=mO(e),this.Ra=new hl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new px,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const _=i.get(m),E=zh(this.query,g)?g:null,O=!!_&&this.mutatedKeys.has(_.key),D=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let A=!1;_&&E?_.data.isEqual(E.data)?O!==D&&(r.track({type:3,doc:E}),A=!0):this.ga(_,E)||(r.track({type:2,doc:E}),A=!0,(c&&this.Aa(E,c)>0||d&&this.Aa(E,d)<0)&&(u=!0)):!_&&E?(r.track({type:0,doc:E}),A=!0):_&&!E&&(r.track({type:1,doc:_}),A=!0,(c||d)&&(u=!0)),A&&(E?(o=o.add(E),s=D?s.add(m):s.delete(m)):(o=o.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{Ra:o,fa:r,ns:u,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((m,g)=>function(E,O){const D=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return D(E)-D(O)}(m.type,g.type)||this.Aa(m.doc,g.doc)),this.pa(r),i=i!=null&&i;const u=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,d=c!==this.Ea;return this.Ea=c,o.length!==0||d?{snapshot:new Il(this.query,e.Ra,s,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new px,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new QO(r))}),this.da.forEach(r=>{e.has(r)||n.push(new GO(r))}),n}ba(e){this.Ta=e.Ts,this.da=Le();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Il.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class iG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sG{constructor(e){this.key=e,this.va=!1}}class aG{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ul(u=>hO(u),Vh),this.Ma=new Map,this.xa=new Set,this.Oa=new yt(ve.comparator),this.Na=new Map,this.La=new hy,this.Ba={},this.ka=new Map,this.qa=Dl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function oG(t,e,n=!0){const r=t2(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await KO(r,e,n,!0),i}async function lG(t,e){const n=t2(t);await KO(n,e,!0,!1)}async function KO(t,e,n,r){const i=await Cq(t.localStore,ci(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await uG(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&VO(t.remoteStore,i),u}async function uG(t,e,n,r,i){t.Ka=(g,_,E)=>async function(D,A,b,S){let C=A.view.ma(b);C.ns&&(C=await fx(D.localStore,A.query,!1).then(({documents:T})=>A.view.ma(T,C)));const j=S&&S.targetChanges.get(A.targetId),H=S&&S.targetMismatches.get(A.targetId)!=null,q=A.view.applyChanges(C,D.isPrimaryClient,j,H);return wx(D,A.targetId,q.wa),q.snapshot}(t,g,_,E);const s=await fx(t.localStore,e,!0),o=new rG(e,s.Ts),u=o.ma(s.documents),c=Wc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(u,t.isPrimaryClient,c);wx(t,n,d.wa);const m=new iG(e,n,o);return t.Fa.set(e,m),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function cG(t,e,n){const r=Te(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Vh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&py(r.remoteStore,i.targetId),Zp(r,i.targetId)}).catch(kc)):(Zp(r,i.targetId),await Xp(r.localStore,i.targetId,!0))}async function dG(t,e){const n=Te(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),py(n.remoteStore,r.targetId))}async function fG(t,e,n){const r=yG(t);try{const i=await function(o,u){const c=Te(o),d=Bt.now(),m=u.reduce((E,O)=>E.add(O.key),Le());let g,_;return c.persistence.runTransaction("Locally write mutations","readwrite",E=>{let O=ss(),D=Le();return c.cs.getEntries(E,m).next(A=>{O=A,O.forEach((b,S)=>{S.isValidDocument()||(D=D.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(E,O)).next(A=>{g=A;const b=[];for(const S of u){const C=AY(S,g.get(S.key).overlayedDocument);C!=null&&b.push(new _o(S.key,C,aO(C.value.mapValue),di.exists(!0)))}return c.mutationQueue.addMutationBatch(E,d,b,u)}).next(A=>{_=A;const b=A.applyToLocalDocumentSet(g,D);return c.documentOverlayCache.saveOverlays(E,A.batchId,b)})}).then(()=>({batchId:_.batchId,changes:pO(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,c){let d=o.Ba[o.currentUser.toKey()];d||(d=new yt(He)),d=d.insert(u,c),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,n),await Bc(r,i.changes),await Yh(r.remoteStore)}catch(i){const s=Ey(i,"Failed to persist write");n.reject(s)}}async function XO(t,e){const n=Te(t);try{const r=await Dq(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ke(o.va):i.removedDocuments.size>0&&(Ke(o.va),o.va=!1))}),await Bc(n,r,e)}catch(r){await kc(r)}}function yx(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const u=o.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const c=Te(o);c.onlineState=u;let d=!1;c.queries.forEach((m,g)=>{for(const _ of g.j_)_.Z_(u)&&(d=!0)}),d&&by(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hG(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new yt(ve.comparator);o=o.insert(s,gn.newNoDocument(s,xe.min()));const u=Le().add(s),c=new Bh(xe.min(),new Map,new yt(He),o,u);await XO(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),xy(r)}else await Xp(r.localStore,e,!1).then(()=>Zp(r,e,n)).catch(kc)}async function mG(t,e){const n=Te(t),r=e.batch.batchId;try{const i=await Pq(n.localStore,e);ZO(n,r,null),JO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bc(n,i)}catch(i){await kc(i)}}async function gG(t,e,n){const r=Te(t);try{const i=await function(o,u){const c=Te(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return c.mutationQueue.lookupMutationBatch(d,u).next(g=>(Ke(g!==null),m=g.keys(),c.mutationQueue.removeMutationBatch(d,g))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,m,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>c.localDocuments.getDocuments(d,m))})}(r.localStore,e);ZO(r,e,n),JO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bc(r,i)}catch(i){await kc(i)}}function JO(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ZO(t,e,n){const r=Te(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Zp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||e2(t,r)})}function e2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(py(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),xy(t))}function wx(t,e,n){for(const r of n)r instanceof GO?(t.La.addReference(r.key,e),pG(t,r)):r instanceof QO?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||e2(t,r.key)):be()}function pG(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),xy(t))}function xy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ve(mt.fromString(e)),r=t.qa.next();t.Na.set(r,new sG(n)),t.Oa=t.Oa.insert(n,r),VO(t.remoteStore,new Xs(ci(oy(n.path)),r,"TargetPurposeLimboResolution",ty.oe))}}async function Bc(t,e,n){const r=Te(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((u,c)=>{o.push(r.Ka(c,e,n).then(d=>{var m;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(m=n==null?void 0:n.targetChanges.get(c.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(d){i.push(d);const g=gy.Wi(c.targetId,d);s.push(g)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,d){const m=Te(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>X.forEach(d,_=>X.forEach(_.$i,E=>m.persistence.referenceDelegate.addReference(g,_.targetId,E)).next(()=>X.forEach(_.Ui,E=>m.persistence.referenceDelegate.removeReference(g,_.targetId,E)))))}catch(g){if(!Vc(g))throw g;ue("LocalStore","Failed to update sequence numbers: "+g)}for(const g of d){const _=g.targetId;if(!g.fromCache){const E=m.os.get(_),O=E.snapshotVersion,D=E.withLastLimboFreeSnapshotVersion(O);m.os=m.os.insert(_,D)}}}(r.localStore,s))}async function vG(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await jO(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(u=>{u.forEach(c=>{c.reject(new fe(K.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bc(n,r.hs)}}function _G(t,e){const n=Te(t),r=n.Na.get(e);if(r&&r.va)return Le().add(r.key);{let i=Le();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const u=n.Fa.get(o);i=i.unionWith(u.view.Va)}return i}}function t2(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_G.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hG.bind(null,e),e.Ca.d_=tG.bind(null,e.eventManager),e.Ca.$a=nG.bind(null,e.eventManager),e}function yG(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gG.bind(null,e),e}class Vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Sq(this.persistence,new xq,e.initialUser,this.serializer)}Ga(e){return new wq(my.Zr,this.serializer)}Wa(e){return new Nq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vf.provider={build:()=>new Vf};class ev{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vG.bind(null,this.syncEngine),await Jq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eG}()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),r=function(s){return new Fq(s)}(e.databaseInfo);return function(s,o,u,c){return new Vq(s,o,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,u){return new Wq(r,i,s,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>yx(this.syncEngine,n,0),function(){return mx.D()?new mx:new Rq}())}createSyncEngine(e,n){return function(i,s,o,u,c,d,m){const g=new aG(i,s,o,u,c,d);return m&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Te(i);ue("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Uc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ev.provider={build:()=>new ev};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=hn.UNAUTHENTICATED,this.clientId=rO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ey(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ag(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ex(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EG(t);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>gx(e.remoteStore,i)),t._onlineComponents=e}async function EG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ag(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===K.FAILED_PRECONDITION||i.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;xl("Error using user provided cache. Falling back to memory cache: "+n),await Ag(t,new Vf)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Ag(t,new Vf);return t._offlineComponents}async function r2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await Ex(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await Ex(t,new ev))),t._onlineComponents}function bG(t){return r2(t).then(e=>e.syncEngine)}async function i2(t){const e=await r2(t),n=e.eventManager;return n.onListen=oG.bind(null,e.syncEngine),n.onUnlisten=cG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dG.bind(null,e.syncEngine),n}function xG(t,e,n={}){const r=new Ki;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,u,c,d){const m=new n2({next:_=>{m.Za(),o.enqueueAndForget(()=>YO(s,g));const E=_.docs.has(u);!E&&_.fromCache?d.reject(new fe(K.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&c&&c.source==="server"?d.reject(new fe(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new qO(oy(u.path),m,{includeMetadataChanges:!0,_a:!0});return HO(s,g)}(await i2(t),t.asyncQueue,e,n,r)),r.promise}function TG(t,e,n={}){const r=new Ki;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,u,c,d){const m=new n2({next:_=>{m.Za(),o.enqueueAndForget(()=>YO(s,g)),_.fromCache&&c.source==="server"?d.reject(new fe(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new qO(u,m,{includeMetadataChanges:!0,_a:!0});return HO(s,g)}(await i2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t,e,n){if(!n)throw new fe(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SG(t,e,n,r){if(e===!0&&r===!0)throw new fe(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xx(t){if(!ve.isDocumentKey(t))throw new fe(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tx(t){if(ve.isDocumentKey(t))throw new fe(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ty(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function va(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ty(t);throw new fe(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WH;switch(r.type){case"firstParty":return new HH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bx.get(n);r&&(ue("ComponentProvider","Removing Datastore"),bx.delete(n),r.terminate())}(this),Promise.resolve()}}function PG(t,e,n,r={}){var i;const s=(t=va(t,qh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=hn.MOCK_USER;else{u=v$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new fe(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new hn(d)}t._authCredentials=new UH(new nO(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gh(this.firestore,e,this._query)}}class ir{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ir(this.firestore,e,this._key)}}class ca extends Gh{constructor(e,n,r){super(e,n,oy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ir(this.firestore,null,new ve(e))}withConverter(e){return new ca(this.firestore,e,this._path)}}function cc(t,e,...n){if(t=ar(t),a2("collection","path",e),t instanceof qh){const r=mt.fromString(e,...n);return Tx(r),new ca(t,null,r)}{if(!(t instanceof ir||t instanceof ca))throw new fe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return Tx(r),new ca(t.firestore,null,r)}}function Lt(t,e,...n){if(t=ar(t),arguments.length===1&&(e=rO.newId()),a2("doc","path",e),t instanceof qh){const r=mt.fromString(e,...n);return xx(r),new ir(t,null,new ve(r))}{if(!(t instanceof ir||t instanceof ca))throw new fe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return xx(r),new ir(t.firestore,t instanceof ca?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new LO(this,"async_queue_retry"),this.Vu=()=>{const r=Rg();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Rg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Rg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ki;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Vc(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw is("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=wy.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&be()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class $c extends qh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Px,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Px(e),this._firestoreClient=void 0,await e}}}function DG(t,e){const n=typeof t=="object"?t:p1(),r=typeof t=="string"?t:"(default)",i=U0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=g$("firestore");s&&PG(i,...s)}return i}function Sy(t){if(t._terminated)throw new fe(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IG(t),t._firestoreClient}function IG(t){var e,n,r;const i=t._freezeSettings(),s=function(u,c,d,m){return new iY(u,c,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,s2(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new wG(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ol(ln.fromBase64String(e))}catch(n){throw new fe(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ol(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG=/^__.*__$/;class CG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _o(e,this.data,this.fieldMask,n,this.fieldTransforms):new zc(e,this.data,n,this.fieldTransforms)}}function o2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Cy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Cy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(o2(this.Cu)&&OG.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class MG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$h(e)}Qu(e,n,r,i=!1){return new Cy({Cu:e,methodName:n,qu:r,path:rn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NG(t){const e=t._freezeSettings(),n=$h(t._databaseId);return new MG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RG(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);d2("Data must be an object, but it was:",o,r);const u=u2(r,o);let c,d;if(s.merge)c=new jr(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const _=AG(e,g,n);if(!o.contains(_))throw new fe(K.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);FG(m,_)||m.push(_)}c=new jr(m),d=o.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,d=o.fieldTransforms;return new CG(new vr(u),c,d)}class My extends Dy{_toFieldTransform(e){return new CY(e.path,new oc)}isEqual(e){return e instanceof My}}function l2(t,e){if(c2(t=ar(t)))return d2("Unsupported field value:",e,t),u2(t,e);if(t instanceof Dy)return function(r,i){if(!o2(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const u of r){let c=l2(u,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ar(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Bt.fromDate(r);return{timestampValue:Lf(i.serializer,s)}}if(r instanceof Bt){const s=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lf(i.serializer,s)}}if(r instanceof Iy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ol)return{bytesValue:IO(i.serializer,r._byteString)};if(r instanceof ir){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Oy)return function(o,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw u.Bu("VectorValues must only contain numeric values.");return ly(u.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Ty(r)}`)}(t,e)}function u2(t,e){const n={};return iO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wl(t,(r,i)=>{const s=l2(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function c2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof Iy||t instanceof Ol||t instanceof ir||t instanceof Dy||t instanceof Oy)}function d2(t,e,n){if(!c2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ty(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function AG(t,e,n){if((e=ar(e))instanceof Py)return e._internalPath;if(typeof e=="string")return f2(t,e);throw zf("Field path arguments must be of type string or ",t,!1,void 0,n)}const jG=new RegExp("[~\\*/\\[\\]]");function f2(t,e,n){if(e.search(jG)>=0)throw zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Py(...e.split("."))._internalPath}catch{throw zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new fe(K.INVALID_ARGUMENT,u+t+c)}function FG(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(m2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LG extends h2{data(){return super.data()}}function m2(t,e){return typeof e=="string"?f2(t,e):e instanceof Py?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VG{convertValue(e,n="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Dt(o.doubleValue));return new Oy(s)}convertGeoPoint(e){return new Iy(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ry(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const n=ga(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mt.fromString(e);Ke(AO(r));const i=new sc(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(n)||is(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zG(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class g2 extends h2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(m2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yd extends g2{data(e={}){return super.data(e)}}class WG{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yd(this._firestore,this._userDataWriter,r.key,r,new bu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const c=new Yd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new Yd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,m=-1;return u.type!==0&&(d=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),m=o.indexOf(u.doc.key)),{type:UG(u.type),doc:c,oldIndex:d,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function UG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){t=va(t,ir);const e=va(t.firestore,$c);return xG(Sy(e),t._key).then(n=>BG(e,t,n))}class p2 extends VG{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,n)}}function dc(t){t=va(t,Gh);const e=va(t.firestore,$c),n=Sy(e),r=new p2(e);return kG(t._query),TG(n,t._query).then(i=>new WG(e,r,t,i))}function Pn(t,e,n){t=va(t,ir);const r=va(t.firestore,$c),i=zG(t.converter,e,n);return v2(r,[RG(NG(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,di.none())])}function Qh(t){return v2(va(t.firestore,$c),[new uy(t._key,di.none())])}function v2(t,e){return function(r,i){const s=new Ki;return r.asyncQueue.enqueueAndForget(async()=>fG(await bG(r),i,s)),s.promise}(Sy(t),e)}function BG(t,e,n){const r=n.docs.get(e._key),i=new p2(t);return new g2(t,i,e._key,r,new bu(n.hasPendingWrites,n.fromCache),e.converter)}function Dn(){return new My("serverTimestamp")}(function(e,n=!0){(function(i){zl=i})(kl),El(new so("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),u=new $c(new BH(r.getProvider("auth-internal")),new qH(r.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new fe(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(d.options.projectId,m)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),ua(Hb,"4.7.3",e),ua(Hb,"4.7.3","esm2017")})();var $G="firebase",HG="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ua($G,HG,"app");const YG={apiKey:"AIzaSyCHmU0EO6DOV8Vr30TdWwRhDuiVm2_JtZg",authDomain:"travel-planner-f39cd.firebaseapp.com",projectId:"travel-planner-f39cd",storageBucket:"travel-planner-f39cd.firebasestorage.app",messagingSenderId:"468788845614",appId:"1:468788845614:web:8e628a48c20ce6c9da53bf"},_2=g1(YG),jg=VH(_2),qG=new Wi,ut=DG(_2),y2=B.createContext({}),xa=()=>{const t=B.useContext(y2);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},GG=({children:t})=>{const[e,n]=B.useState(null),[r,i]=B.useState(!0),[s,o]=B.useState(null),u=async g=>{try{const _=await Wf(Lt(ut,"users",g,"profile","migration"));if(_.exists()&&_.data().completed){console.log("Data already migrated for this user");return}console.log("Starting localStorage migration...");const E=localStorage.getItem("travelPlanner_trips"),O=localStorage.getItem("travelPlanner_currentTrip"),D=localStorage.getItem("travelPlanner_dailyPlans"),A=localStorage.getItem("travelPlanner_flights"),b=localStorage.getItem("travelPlanner_expenses");if(E||D||A||b){const S=E?JSON.parse(E):[],C=D?JSON.parse(D):[],j=A?JSON.parse(A):[],H=b?JSON.parse(b):[],q=O?JSON.parse(O):null;for(const T of S)await Pn(Lt(ut,"users",g,"trips",T.id.toString()),{...T,createdAt:Dn()});q&&await Pn(Lt(ut,"users",g,"profile","currentTrip"),{tripId:q.id,updatedAt:Dn()});for(const T of C)await Pn(Lt(ut,"users",g,"dailyPlans",T.id.toString()),{...T,createdAt:Dn()});for(const T of j)await Pn(Lt(ut,"users",g,"flights",T.id.toString()),{...T,createdAt:Dn()});for(const T of H)await Pn(Lt(ut,"users",g,"expenses",T.id.toString()),{...T,createdAt:Dn()});console.log("Migration completed successfully!")}await Pn(Lt(ut,"users",g,"profile","migration"),{completed:!0,migratedAt:Dn()})}catch(_){throw console.error("Error migrating localStorage data:",_),_}},c=async()=>{try{o(null),i(!0);const g=await G7(jg,qG),_=g.user,E=Lt(ut,"users",_.uid,"profile","info");(await Wf(E)).exists()?await Pn(E,{lastLoginAt:Dn()},{merge:!0}):(await Pn(E,{email:_.email,displayName:_.displayName,photoURL:_.photoURL,createdAt:Dn()}),await u(_.uid));try{typeof window<"u"&&localStorage.setItem("showSetupOnLogin","1")}catch(D){console.warn("Could not set showSetupOnLogin flag in localStorage",D)}return g}catch(g){throw console.error("Error signing in with Google:",g),o(g.message),g}finally{i(!1)}},d=async()=>{try{o(null),await I7(jg)}catch(g){throw console.error("Error signing out:",g),o(g.message),g}};B.useEffect(()=>D7(jg,_=>{n(_),i(!1)}),[]);const m={currentUser:e,loading:r,error:s,signInWithGoogle:c,signOut:d};return f.jsx(y2.Provider,{value:m,children:t})},Ny=()=>{const{currentUser:t}=xa(),[e,n]=B.useState([]),[r,i]=B.useState(!0),[s,o]=B.useState(null);B.useEffect(()=>{if(!t){n([]),i(!1);return}u()},[t]);const u=async()=>{try{i(!0);const m=cc(ut,"users",t.uid,"trips"),_=(await dc(m)).docs.map(E=>({...E.data(),id:parseInt(E.id)}));n(_),o(null)}catch(m){console.error("Error loading trips:",m),o(m.message)}finally{i(!1)}};return{trips:e,loading:r,error:s,saveTrip:async m=>{try{await Pn(Lt(ut,"users",t.uid,"trips",m.id.toString()),{...m,updatedAt:Dn()}),await u()}catch(g){throw console.error("Error saving trip:",g),g}},deleteTrip:async m=>{try{await Qh(Lt(ut,"users",t.uid,"trips",m.toString())),await u()}catch(g){throw console.error("Error deleting trip:",g),g}},reloadTrips:u}},w2=()=>{const{currentUser:t}=xa(),[e,n]=B.useState(null),[r,i]=B.useState(!0);B.useEffect(()=>{if(!t){n(null),i(!1);return}s()},[t]);const s=async()=>{try{i(!0);const u=Lt(ut,"users",t.uid,"profile","currentTrip"),c=await Wf(u);if(c.exists()){const d=c.data().tripId;if(!d){n(null);return}const m=Lt(ut,"users",t.uid,"trips",d.toString()),g=await Wf(m);g.exists()?n({...g.data(),id:parseInt(g.id)}):n(null)}else n(null)}catch(u){console.error("Error loading current trip:",u),n(null)}finally{i(!1)}};return{currentTrip:e,loading:r,saveCurrentTrip:async u=>{try{await Pn(Lt(ut,"users",t.uid,"profile","currentTrip"),{tripId:u.id,updatedAt:Dn()}),n(u)}catch(c){throw console.error("Error saving current trip:",c),c}},reloadCurrentTrip:s}},QG=()=>{const{currentUser:t}=xa(),[e,n]=B.useState([]),[r,i]=B.useState(!0);B.useEffect(()=>{if(!t){n([]),i(!1);return}s()},[t]);const s=async()=>{try{i(!0);const c=cc(ut,"users",t.uid,"flights"),m=(await dc(c)).docs.map(g=>({...g.data(),id:parseInt(g.id)}));n(m)}catch(c){console.error("Error loading flights:",c)}finally{i(!1)}};return{flights:e,loading:r,saveFlight:async c=>{try{await Pn(Lt(ut,"users",t.uid,"flights",c.id.toString()),{...c,updatedAt:Dn()}),await s()}catch(d){throw console.error("Error saving flight:",d),d}},deleteFlight:async c=>{try{await Qh(Lt(ut,"users",t.uid,"flights",c.toString())),await s()}catch(d){throw console.error("Error deleting flight:",d),d}},setFlights:n,reloadFlights:s}},KG=()=>{const{currentUser:t}=xa(),[e,n]=B.useState([]),[r,i]=B.useState(!0);B.useEffect(()=>{if(!t){n([]),i(!1);return}s()},[t]);const s=async()=>{try{i(!0);const d=cc(ut,"users",t.uid,"dailyPlans"),g=(await dc(d)).docs.map(_=>({..._.data(),id:parseInt(_.id)}));g.sort((_,E)=>new Date(_.date)-new Date(E.date)),n(g)}catch(d){console.error("Error loading daily plans:",d)}finally{i(!1)}};return{dailyPlans:e,loading:r,saveDailyPlan:async d=>{try{await Pn(Lt(ut,"users",t.uid,"dailyPlans",d.id.toString()),{...d,updatedAt:Dn()})}catch(m){throw console.error("Error saving daily plan:",m),m}},saveDailyPlans:async d=>{try{const m=d.map(g=>Pn(Lt(ut,"users",t.uid,"dailyPlans",g.id.toString()),{...g,updatedAt:Dn()}));await Promise.all(m)}catch(m){throw console.error("Error saving daily plans:",m),m}},replaceDailyPlans:async d=>{try{const m=cc(ut,"users",t.uid,"dailyPlans"),g=await dc(m),_=new Set(d.map(D=>D.id.toString())),E=g.docs.filter(D=>!_.has(D.id)).map(D=>Qh(D.ref)),O=d.map(D=>Pn(Lt(ut,"users",t.uid,"dailyPlans",D.id.toString()),{...D,updatedAt:Dn()}));await Promise.all([...E,...O]),await s()}catch(m){throw console.error("Error replacing daily plans:",m),m}},setDailyPlans:n,reloadDailyPlans:s}},XG=()=>{const{currentUser:t}=xa(),[e,n]=B.useState([]),[r,i]=B.useState(!0);B.useEffect(()=>{if(!t){n([]),i(!1);return}s()},[t]);const s=async()=>{try{i(!0);const c=cc(ut,"users",t.uid,"expenses"),m=(await dc(c)).docs.map(g=>({...g.data(),id:parseInt(g.id)}));n(m)}catch(c){console.error("Error loading expenses:",c)}finally{i(!1)}};return{expenses:e,loading:r,saveExpense:async c=>{try{await Pn(Lt(ut,"users",t.uid,"expenses",c.id.toString()),{...c,updatedAt:Dn()}),await s()}catch(d){throw console.error("Error saving expense:",d),d}},deleteExpense:async c=>{try{await Qh(Lt(ut,"users",t.uid,"expenses",c.toString())),await s()}catch(d){throw console.error("Error deleting expense:",d),d}},setExpenses:n,reloadExpenses:s}},tv={Switzerland:["Zurich","Geneva","Basel","Lausanne","Bern","Winterthur","Lucerne","St. Gallen","Lugano","Biel/Bienne","Thun","Kniz","La Chaux-de-Fonds","Schaffhausen","Fribourg","Vernier","Chur","Neuchtel","Uster","Sion","Emmen","Zug","Yverdon-les-Bains","Kriens","Rapperswil-Jona","Dbendorf","Montreux","Frauenfeld","Dietikon","Wetzikon","Interlaken","Zermatt","Grindelwald","Lauterbrunnen","Wengen","Murren","Locarno","Ascona","Bellinzona","Davos","St. Moritz","Arosa","Engelberg","Andermatt"],Italy:["Rome","Milan","Naples","Turin","Palermo","Genoa","Bologna","Florence","Bari","Catania","Venice","Verona","Messina","Padua","Trieste","Brescia","Taranto","Prato","Parma","Modena","Reggio Calabria","Reggio Emilia","Perugia","Livorno","Ravenna","Cagliari","Foggia","Rimini","Salerno","Ferrara","Sassari","Latina","Giugliano in Campania","Monza","Syracuse","Pescara","Bergamo","Forl","Trento","Vicenza","Terni","Bolzano","Novara","Piacenza","Ancona","Andria","Arezzo","Udine","Cesena","Lecce","Pisa","Siena","Lucca","Como","La Spezia","Varese","Sorrento","Amalfi","Positano","Capri","Portofino","Cinque Terre","Matera","Assisi","Siracusa","Taormina","Pompeii","Pienza","San Gimignano","Orvieto"],France:["Paris","Marseille","Lyon","Toulouse","Nice","Nantes","Strasbourg","Montpellier","Bordeaux","Lille","Rennes","Reims","Le Havre","Saint-tienne","Toulon","Grenoble","Dijon","Angers","Nmes","Villeurbanne","Saint-Denis","Le Mans","Aix-en-Provence","Clermont-Ferrand","Brest","Tours","Amiens","Limoges","Annecy","Perpignan","Boulogne-Billancourt","Metz","Besanon","Orlans","Saint-Denis","Argenteuil","Rouen","Mulhouse","Montreuil","Caen","Nancy","Avignon","Cannes","Antibes","Saint-Tropez","Monaco","Versailles","Colmar","Chamonix","Annecy","Carcassonne","Arles","Aix-les-Bains","Menton","Grasse","Saint-Malo","La Rochelle","Biarritz","Lourdes","Mont-Saint-Michel","Giverny","Fontainebleau","Chartres","Beaune","pernay","Reims","Troyes"]},JG=(t=null)=>!t||t.length===0?Object.entries(tv).flatMap(([e,n])=>n.map(r=>({city:r,country:e}))):Object.entries(tv).filter(([e])=>t.includes(e)).flatMap(([e,n])=>n.map(r=>({city:r,country:e}))),Dx=({initialTrip:t=null,onExitTrip:e=()=>{}})=>{var Jn,Ds,Is,Os;const{currentUser:n,signOut:r}=xa(),{saveTrip:i}=Ny(),{currentTrip:s,saveCurrentTrip:o}=w2(),{flights:u,loading:c,saveFlight:d,deleteFlight:m}=QG(),{dailyPlans:g,loading:_,saveDailyPlans:E,replaceDailyPlans:O,setDailyPlans:D}=KG(),{expenses:A,loading:b,saveExpense:S,deleteExpense:C}=XG(),[j,H]=B.useState("itinerary"),[q,T]=B.useState(!1),[w,P]=B.useState(!1),[x,N]=B.useState(null),[F,I]=B.useState(!1),[Re,ze]=B.useState(null),[wt,Se]=B.useState(null),[Q,oe]=B.useState({top:0,left:0}),[ce,Ce]=B.useState(null),[G,$]=B.useState(null),k="AIzaSyBFY-pyT3UnUN5bWc_G82xltZ7bqxInCo0",[M,W]=B.useState(k),[ne,ae]=B.useState(!1),[le,de]=B.useState(!1),[ye,Ie]=B.useState(""),[Pe,De]=B.useState([]),[nt,at]=B.useState(!1),[Et,Mn]=B.useState(""),[Nn,qn]=B.useState(""),[br,Rn]=B.useState(!1),[xr,Gn]=B.useState(!1),[Qn,dt]=B.useState(""),[ft,ur]=B.useState(""),[ps,Tr]=B.useState(!1),[Ta,An]=B.useState(!1),[vs,yi]=B.useState(!1),[wi,Ei]=B.useState(!1),[Sa,Sr]=B.useState(!1),[Pr,bi]=B.useState([{startDate:new Date,endDate:new Date,key:"selection"}]),[Dr,jn]=B.useState(!1),[xi,Fn]=B.useState(!1),Ur=B.useRef(null),[Br,$r]=B.useState(!1),[cr,Ti]=B.useState(""),[we,Ln]=B.useState({name:"",startDate:"",endDate:""}),xt=(M||((Ds=(Jn=import.meta)==null?void 0:Jn.env)==null?void 0:Ds.VITE_GOOGLE_MAPS_API_KEY)||"").trim(),$e=B.useMemo(()=>g.find(v=>v.id===x),[g,x]),Pa=B.useMemo(()=>$e!=null&&$e.places?JSON.stringify($e.places.map(v=>({id:v.id,address:v.address,location:v.location?{lat:v.location.lat,lng:v.location.lng}:null,transportMode:v.transportMode}))):"",[$e]);B.useEffect(()=>{!s&&t&&o(t).catch(v=>{console.error("Failed to save initial trip from TravelPlanner:",v)})},[t,s,o]),B.useEffect(()=>{var V,R;const v=(((R=(V=import.meta)==null?void 0:V.env)==null?void 0:R.VITE_GOOGLE_MAPS_API_KEY)||"").trim();v&&v!==M&&W(v)},[M]),B.useEffect(()=>{s&&g.length===0&&!_&&(async()=>{const V=[],R=rt(s.startDate),J=rt(s.endDate);let U=new Date(R),re=1;for(;U<=J;){const he=Ct(U);V.push({id:re++,date:he,title:"",city:"",country:"",places:[]}),U.setDate(U.getDate()+1)}try{await O(V),V.length>0&&N(V[0].id)}catch(he){console.error("Failed to generate daily plans:",he)}})()},[s,g.length,_]),B.useEffect(()=>{g&&g.length>0&&!x&&N(g[0].id)},[g,x]),B.useEffect(()=>{var Ae,ge;if(!s||_||g.length===0)return;const v=rt(s.startDate),V=rt(s.endDate),R=Ct(v),J=Ct(V),U=Math.floor((V-v)/(1e3*60*60*24))+1,re=(Ae=g[0])==null?void 0:Ae.date,he=(ge=g[g.length-1])==null?void 0:ge.date;if(re!==R||he!==J||g.length!==U){const Oe=new Map(g.map(Nt=>[Nt.date,Nt])),_e=[];let je=new Date(v),Mt=1;for(;je<=V;){const Nt=Ct(je),gt=Oe.get(Nt);_e.push({id:Mt++,date:Nt,title:(gt==null?void 0:gt.title)||"",city:(gt==null?void 0:gt.city)||"",country:(gt==null?void 0:gt.country)||"",places:(gt==null?void 0:gt.places)||[]}),je.setDate(je.getDate()+1)}O(_e).then(()=>{_e.length>0&&N(_e[0].id)}).catch(Nt=>{console.error("Failed to realign daily plans with trip dates:",Nt)})}},[s,_,g]);const[et,Ot]=B.useState({airline:"",flightNumber:"",from:"",to:"",date:"",departureTime:"",arrivalTime:"",bookingRef:""}),[_s,Si]=B.useState({name:"",address:"",placeId:"",location:null,notes:"",transportMode:"walking",transportTime:"",distance:"",metroStation:"",metroLine:"",visited:!1}),[Je,Jt]=B.useState({description:"",amount:"",category:"food",date:"",city:"",country:"",currency:"USD"}),Pi=async()=>{const v={id:Date.now(),...et};try{await d(v),Ot({airline:"",flightNumber:"",from:"",to:"",date:"",departureTime:"",arrivalTime:"",bookingRef:""}),T(!1)}catch(V){console.error("Failed to add flight:",V),alert("Failed to add flight. Please try again.")}},Hr=async()=>{const v={id:Date.now(),...Je};try{await S(v),Jt({description:"",amount:"",category:"food",date:"",city:"",country:"",currency:"USD"}),dt(""),ur(""),P(!1)}catch(V){console.error("Failed to add expense:",V),alert("Failed to add expense. Please try again.")}},kn=(v,V)=>{const R=g.map(J=>J.id===v?{...J,places:J.places.filter(U=>U.id!==V)}:J);D(R)},ys=async(v,V,R)=>{const J=g.find(Oe=>Oe.id===v);if(!J)return;const U=J.places.findIndex(Oe=>Oe.id===V);if(U<=0)return;const re=J.places[U],he=J.places[U-1];Mi(null);let Ae=g.map(Oe=>Oe.id===v?{...Oe,places:Oe.places.map(_e=>_e.id===V?{..._e,transportMode:R,distance:"",transportTime:"",isAutoCalculated:!1}:_e)}:Oe),ge={distance:"",time:"",error:null};xt&&he.address&&re.address&&(R==="plane"?ge={distance:"",time:"",error:null,isAutoCalculated:!1}:R==="transit"||R==="bus"?(ge=await dr(he.address,re.address,"transit"),(ge.error||!ge.distance&&!ge.time)&&(ge=await dr(he.address,re.address,"car"))):ge=await dr(he.address,re.address,R)),(ge.distance||ge.time)&&(Ae=Ae.map(Oe=>Oe.id===v?{...Oe,places:Oe.places.map(_e=>_e.id===V?{..._e,distance:ge.distance,transportTime:ge.time,isAutoCalculated:ge.isAutoCalculated||!1}:_e)}:Oe)),D(Ae)},ws=async v=>{try{await m(v)}catch(V){console.error("Failed to delete flight:",V),alert("Failed to delete flight. Please try again.")}},Di=async v=>{try{await C(v)}catch(V){console.error("Failed to delete expense:",V),alert("Failed to delete expense. Please try again.")}},Yr=v=>v&&typeof v=="object"&&typeof v.lat=="number"&&typeof v.lng=="number"?new window.google.maps.LatLng(v.lat,v.lng):v,dr=async(v,V,R)=>{if(!xt)return{distance:"",time:"",error:"API key not set"};de(!0);try{await Qr();const U={walking:"WALKING",transit:"TRANSIT",car:"DRIVING",plane:"DRIVING",metro:"TRANSIT",bus:"TRANSIT",train:"TRANSIT",other:"DRIVING"}[R]||"WALKING";console.log("Travel mode mapping:",R,"->",U);const re=await new Promise((he,Ae)=>{var je;if(!((je=window.google)!=null&&je.maps))return Ae(new Error("Google Maps not loaded"));const ge=new window.google.maps.DistanceMatrixService,Oe=Yr(v),_e=Yr(V);ge.getDistanceMatrix({origins:[Oe],destinations:[_e],travelMode:U},(Mt,Nt)=>{if(Nt==="OK"&&Mt.rows[0].elements[0].status==="OK"){const gt=Mt.rows[0].elements[0],Jr=(gt.distance.value/1e3).toFixed(1),Zn=Math.round(gt.duration.value/60);he({distance:Jr,time:Zn,error:null,isAutoCalculated:!0})}else Ae(new Error("Could not calculate route"))})});return de(!1),re}catch(J){return de(!1),{distance:"",time:"",error:J.message}}},[Vn,Ii]=B.useState(typeof window<"u"&&!!((Is=window.google)!=null&&Is.maps)),fr=B.useRef(null),zn=B.useRef(null),_n=B.useRef([]),yn=B.useRef([]),Yt=B.useRef(null),qr=B.useRef(null),Es=B.useRef(!1),[Zt,Gr]=B.useState(!0),[Oi,Ir]=B.useState(!1),[Ci,bs]=B.useState(!1),[Tt,Mi]=B.useState(null),[Ge,wn]=B.useState(null),Qr=()=>{var v;return Vn&&((v=window.google)!=null&&v.maps)?Promise.resolve():new Promise((V,R)=>{let J=0;const U=setInterval(()=>{var re;(re=window.google)!=null&&re.maps?(clearInterval(U),Ii(!0),V()):J++>30&&(clearInterval(U),R(new Error("Google Maps failed to load")))},200)})},Da=async v=>{if(!xt||!v||v.length<3){De([]);return}at(!0);try{await Qr();const{suggestions:V}=await window.google.maps.places.AutocompleteSuggestion.fetchAutocompleteSuggestions({input:v,includedPrimaryTypes:["tourist_attraction","museum","restaurant","park","point_of_interest"]}),R=V.map(J=>{var re,he,Ae,ge,Oe,_e;const U=J.placePrediction;return{place_id:U.placeId,description:((re=U.text)==null?void 0:re.toString())||"",structured_formatting:{main_text:((Ae=(he=U.structuredFormat)==null?void 0:he.mainText)==null?void 0:Ae.toString())||((ge=U.text)==null?void 0:ge.toString())||"",secondary_text:((_e=(Oe=U.structuredFormat)==null?void 0:Oe.secondaryText)==null?void 0:_e.toString())||""}}});De(R),at(!1)}catch(V){console.error("Place autocomplete failed:",V),De([]),at(!1)}},Kn=async v=>{try{await Qr();const V=new window.google.maps.places.Place({id:v.place_id});await V.fetchFields({fields:["displayName","formattedAddress","location"]});const R={name:V.displayName||ye,address:V.formattedAddress||ye,placeId:v.place_id,location:V.location?{lat:V.location.lat(),lng:V.location.lng()}:null,notes:"",transportMode:"walking",transportTime:"",distance:"",type:Re||"place"},J=g.find(he=>he.id===x);let U={...R};if(J&&J.places.length>0&&xt){const he=J.places[J.places.length-1],Ae=await dr(he.location||he.address,R.location||R.address,"walking");let ge="walking";!Ae.error&&Ae.distance&&parseFloat(Ae.distance)>=1&&(ge="transit");const Oe=await dr(he.location||he.address,R.location||R.address,ge);Oe.error||(U={...R,transportMode:ge,distance:Oe.distance,transportTime:Oe.time,isAutoCalculated:Oe.isAutoCalculated||!1})}const re=g.map(he=>he.id===x?{...he,places:[...he.places,{id:Date.now(),...U}]}:he);D(re),Si({name:"",address:"",placeId:"",location:null,notes:"",transportMode:"walking",transportTime:"",distance:""}),Ie(""),De([]),ze(null)}catch(V){console.error("Failed to get place details:",V)}};B.useEffect(()=>{if(!xt)return;if(window.google&&window.google.maps){Ii(!0);return}const v="google-maps-js";if(document.getElementById(v))return;const V=document.createElement("script");V.id=v,V.src=`https://maps.googleapis.com/maps/api/js?key=${xt}&libraries=places`,V.async=!0,V.defer=!0,V.onload=()=>Ii(!0),V.onerror=()=>console.error("Failed to load Google Maps script"),document.head.appendChild(V)},[xt]),B.useEffect(()=>{if(!(!Zt||!Vn||!fr.current))try{zn.current=new window.google.maps.Map(fr.current,{center:{lat:46.8182,lng:8.2275},zoom:7,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1}),zn.current.addListener("click",()=>{Yt.current&&(Yt.current.close(),Yt.current=null)})}catch(v){console.error("Error creating map instance:",v)}},[Zt,Vn]),B.useEffect(()=>{Zt||(_n.current.forEach(v=>v.setMap(null)),_n.current=[],yn.current.forEach(v=>v.setMap(null)),yn.current=[])},[Zt]),B.useEffect(()=>{var J;if(!Zt||!Vn||!zn.current||(_n.current.forEach(U=>U.setMap(null)),_n.current=[],yn.current.forEach(U=>U.setMap(null)),yn.current=[],!$e||!((J=$e.places)!=null&&J.length)))return;const v=new window.google.maps.LatLngBounds;let V=!1;Ir(!0);const R=(U,re)=>new Promise(he=>{const Ae=U.location&&typeof U.location.lat=="number"&&typeof U.location.lng=="number"?new window.google.maps.LatLng(U.location.lat,U.location.lng):null,ge=je=>{const Mt=new window.google.maps.Marker({map:zn.current,position:je,title:U.name||U.address||"Place",label:{text:`${re+1}`,color:"white",fontSize:"12px",fontWeight:"bold"}}),Nt=Zr=>({EUR:"",USD:"$",GBP:"",CHF:"CHF",BRL:"R$"})[Zr]||"",Jr=`
          <div style="max-width:280px;font-family:system-ui,-apple-system,sans-serif;">
            <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
              <span style="font-size:20px;">${(Zr=>({place:"",restaurant:"",cafe:"",activity:"",note:""})[Zr]||"")(U.type)}</span>
              <strong style="font-size:14px;color:#333;">${U.name||"Place"}</strong>
            </div>
            ${U.address?`<div style="color:#666;font-size:12px;margin-bottom:8px;">${U.address}</div>`:""}
            <div style="display:flex;flex-wrap:wrap;gap:8px;margin-top:8px;font-size:11px;">
              ${U.visitTime?`<div style="background:#f0f0f0;padding:3px 8px;border-radius:4px;"> ${U.visitTime}</div>`:""}
              ${U.duration?`<div style="background:#f0f0f0;padding:3px 8px;border-radius:4px;"> ${U.duration}h</div>`:""}
              ${U.cost?`<div style="background:#f0f0f0;padding:3px 8px;border-radius:4px;"> ${U.cost} ${Nt(U.currency)}</div>`:""}
            </div>
            ${U.notes?`<div style="margin-top:8px;padding:8px;background:#f9f9f9;border-radius:4px;font-size:12px;color:#555;font-style:italic;">${U.notes}</div>`:""}
          </div>
        `,Zn=new window.google.maps.InfoWindow({content:Jr});Mt.addListener("click",()=>{Yt.current&&Yt.current.close(),Zn.open({anchor:Mt,map:zn.current}),Yt.current=Zn}),_n.current.push(Mt),v.extend(je),he(je)};if(Ae){ge(Ae);return}const Oe=U.address||U.name;if(!Oe)return he(null);new window.google.maps.Geocoder().geocode({address:Oe},(je,Mt)=>{if(V)return he(null);Mt==="OK"&&je[0]?ge(je[0].geometry.location):he(null)})});return Promise.all($e.places.map((U,re)=>R(U,re))).then(U=>{if(V)return;const re=U.filter(he=>he!==null);if(re.length>1)for(let he=0;he<re.length-1;he++){const Ae=$e.places[he+1],Oe={walking:"WALKING",transit:"TRANSIT",car:"DRIVING",plane:"DRIVING",metro:"TRANSIT",bus:"TRANSIT",train:"TRANSIT",other:"DRIVING"}[Ae.transportMode]||"WALKING",_e=new window.google.maps.DirectionsService,je=new window.google.maps.DirectionsRenderer({map:zn.current,suppressMarkers:!0,polylineOptions:{strokeColor:"#4ECDC4",strokeWeight:3,strokeOpacity:.7}});_e.route({origin:re[he],destination:re[he+1],travelMode:Oe},(Mt,Nt)=>{Nt==="OK"&&!V&&(je.setDirections(Mt),yn.current.push(je))})}Ir(!1),v.isEmpty()||zn.current.fitBounds(v)}).catch(()=>Ir(!1)),()=>{V=!0}},[Zt,Vn,Pa]),B.useEffect(()=>{if(!Tt)return;const v=()=>{Mi(null)};return document.addEventListener("click",v),()=>document.removeEventListener("click",v)},[Tt]),B.useEffect(()=>{if(g.length>0&&n&&!_){const v=JSON.stringify(g);if(qr.current===v)return;const V=setTimeout(async()=>{Es.current=!0,qr.current=v;try{await E(g)}catch(R){console.error("Failed to save daily plans:",R)}finally{setTimeout(()=>{Es.current=!1},100)}},3e3);return()=>clearTimeout(V)}},[g,n,_]),B.useEffect(()=>{u.length>=0},[u]),B.useEffect(()=>{A.length>=0},[A]);const qt=v=>{if(!v||v.length<1)return[];const V=v.toLowerCase();return JG(s==null?void 0:s.countries).filter(({city:J})=>J.toLowerCase().includes(V)).slice(0,10)},Xn=v=>{if(!v||v.length<1)return[];const V=v.toLowerCase();return(s!=null&&s.countries&&s.countries.length>0?s.countries:Object.keys(tv)).filter(J=>J.toLowerCase().includes(V))},Kr=(v,V)=>{const R=g.map(J=>J.id===x?{...J,city:v,country:V}:J);D(R),Mn(""),Rn(!1)},xs=v=>{const V=g.map(R=>R.id===x?{...R,country:v}:R);D(V),qn(""),Gn(!1)},Ye=()=>{Ln({...we,name:s.name}),Ei(!0)},Xr=()=>{Ln({...we,startDate:s.startDate,endDate:s.endDate});const v=s!=null&&s.startDate?rt(s.startDate):new Date,V=s!=null&&s.endDate?rt(s.endDate):new Date;bi([{startDate:v,endDate:V,key:"selection"}]),Sr(!0)},Ct=v=>{const V=v.getFullYear(),R=String(v.getMonth()+1).padStart(2,"0"),J=String(v.getDate()).padStart(2,"0");return`${V}-${R}-${J}`},rt=v=>{if(!v)return new Date;if(v instanceof Date)return new Date(v.getFullYear(),v.getMonth(),v.getDate());if(typeof v=="string"){const[V,R,J]=v.split("-").map(Number);if(!Number.isNaN(V)&&!Number.isNaN(R)&&!Number.isNaN(J))return new Date(V,R-1,J)}return new Date(v)},Ts=async()=>{if(we.name.trim()&&s)try{const v={...s,name:we.name};await i(v),await o(v)}catch(v){console.error("Failed to save trip name:",v),alert("Failed to save trip name. Please try again.")}Ei(!1)},Ss=async()=>{var J;Sr(!1);const v=Pr&&Pr[0]?Pr[0]:null,V=v&&v.startDate?Ct(new Date(v.startDate)):we.startDate,R=v&&v.endDate?Ct(new Date(v.endDate)):we.endDate;if(V&&R&&s)try{const U={...s,startDate:V,endDate:R};if(await i(U),await o(U),V!==s.startDate||R!==s.endDate){const re=[],he=rt(V),Ae=rt(R);let ge=new Date(he),Oe=1;for(;ge<=Ae;){const _e=Ct(ge),je=g.find(Mt=>Mt.date===_e);re.push({id:Oe++,date:_e,title:(je==null?void 0:je.title)||"",city:(je==null?void 0:je.city)||"",country:(je==null?void 0:je.country)||"",places:(je==null?void 0:je.places)||[]}),ge.setDate(ge.getDate()+1)}await O(re),N((J=re[0])==null?void 0:J.id)}}catch(U){console.error("Failed to save trip dates:",U),alert("Failed to save trip dates. Please try again.")}},Ia=v=>{Ti(v),$r(!0)},Ps=()=>{const v=g.map(V=>V.id===x?{...V,title:cr}:V);D(v),$r(!1)},Oa=async()=>{var v;if(s)try{const V={...s,name:we.name,startDate:we.startDate,endDate:we.endDate};if(await i(V),await o(V),we.startDate!==s.startDate||we.endDate!==s.endDate){const R=[],J=rt(we.startDate),U=rt(we.endDate);let re=new Date(J),he=1;for(;re<=U;){const Ae=Ct(re),ge=g.find(Oe=>Oe.date===Ae);R.push({id:he++,date:Ae,title:(ge==null?void 0:ge.title)||"",city:(ge==null?void 0:ge.city)||"",country:(ge==null?void 0:ge.country)||"",places:(ge==null?void 0:ge.places)||[]}),re.setDate(re.getDate()+1)}await O(R),N((v=R[0])==null?void 0:v.id)}yi(!1)}catch(V){console.error("Failed to save trip:",V),alert("Failed to save trip. Please try again.")}},Ca=v=>{const V=encodeURIComponent(v);window.open(`https://www.google.com/maps/search/?api=1&query=${V}`,"_blank")};B.useEffect(()=>{const v=V=>{Ur.current&&!Ur.current.contains(V.target)&&jn(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const Or=()=>{const v={};return A.forEach(V=>{v[V.category]=(v[V.category]||0)+parseFloat(V.amount||0)}),v},En=()=>{const v={};return A.forEach(V=>{V.city&&(v[V.city]=(v[V.city]||0)+parseFloat(V.amount||0))}),v},Ni=()=>{const v={};return A.forEach(V=>{V.country&&(v[V.country]=(v[V.country]||0)+parseFloat(V.amount||0))}),v},Ri=()=>{const v={walking:0,metro:0,bus:0,train:0,car:0,other:0};return g.forEach(V=>{V.places.forEach(R=>{const J=parseFloat(R.distance||0);v[R.transportMode]=(v[R.transportMode]||0)+J})}),v},Ai=()=>{const v={};return g.forEach(V=>{if(V.city){const R=V.places.reduce((J,U)=>J+parseFloat(U.distance||0),0);v[V.city]=(v[V.city]||0)+R}}),v};return f.jsx("div",{className:"min-h-screen bg-[#F8F9FA] p-2 sm:p-4",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("div",{className:"gradient-header rounded-2xl shadow-lg p-4 sm:p-6 mb-4 sm:mb-6",children:f.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-white flex items-center gap-2 mb-2",children:[f.jsx(bf,{className:"text-white",size:24}),"Travel Planner"]}),s&&f.jsxs("div",{className:"space-y-2",children:[wi?f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("input",{type:"text",value:we.name,onChange:v=>Ln({...we,name:v.target.value}),onBlur:Ts,onKeyDown:v=>{v.key==="Enter"&&Ts(),v.key==="Escape"&&Ei(!1)},autoFocus:!0,className:"px-3 py-1 rounded bg-white/90 text-lg font-medium flex-1 outline-none"})}):f.jsx("div",{onClick:Ye,className:"cursor-pointer hover:bg-white/20 px-3 py-1 rounded transition-colors inline-block",children:f.jsx("span",{className:"text-lg font-medium text-white",children:s.name})}),f.jsx("div",{className:"hidden sm:block",children:Sa?f.jsx("div",{className:"mt-2 flex justify-start",children:f.jsxs("div",{className:"inline-block bg-white border-2 border-gray-200 rounded-xl shadow-lg p-4",children:[f.jsx(Xv.DateRange,{ranges:Pr,onChange:v=>{const V=v.selection;bi([V]),Ln({...we,startDate:Ct(new Date(V.startDate)),endDate:Ct(new Date(V.endDate))})},months:2,direction:"horizontal",showDateDisplay:!1,rangeColors:["#FF6B6B"],className:"rounded-xl"}),f.jsxs("div",{className:"flex gap-2 mt-3",children:[f.jsx("button",{onClick:Ss,className:"px-3 py-2 bg-[#FF6B6B] text-white rounded-lg text-sm hover:bg-[#E85555] transition-colors",children:"Save"}),f.jsx("button",{onClick:()=>Sr(!1),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})}):f.jsx("div",{onClick:Xr,className:"cursor-pointer hover:bg-white/20 px-3 py-1 rounded transition-colors inline-block",children:f.jsxs("span",{className:"text-sm text-white/90",children:[rt(s.startDate).toLocaleDateString()," - ",rt(s.endDate).toLocaleDateString()]})})})]})]}),f.jsxs("div",{className:"flex gap-2 items-center relative",children:[f.jsx("button",{onClick:async()=>{try{await o({id:null,name:null,startDate:null,endDate:null,countries:[]}),e()}catch(v){console.error("Failed to go back to trip setup:",v)}},className:"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors",title:"Back to trip setup",children:f.jsx(qB,{size:20,className:"text-white"})}),n&&f.jsxs("div",{className:"relative",ref:Ur,children:[f.jsx("button",{onClick:()=>jn(v=>!v),className:"w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center focus:outline-none",title:n.displayName||n.email,children:n.photoURL?f.jsx("img",{src:n.photoURL,alt:n.displayName,className:"w-10 h-10 rounded-full object-cover border-2 border-white/50"}):f.jsx("div",{className:"w-10 h-10 rounded-full bg-white/30 flex items-center justify-center text-white font-medium border-2 border-white/50",children:(n.displayName||n.email||"U")[0].toUpperCase()})}),Dr&&f.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white border rounded-lg shadow-lg z-50",children:[f.jsxs("div",{className:"px-3 py-2 border-b",children:[f.jsx("div",{className:"text-sm font-medium text-gray-800",children:n.displayName||"Account"}),f.jsx("div",{className:"text-xs text-gray-500 truncate",children:n.email})]}),f.jsxs("button",{onClick:()=>{ae(!0),jn(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2",children:[f.jsx(wg,{size:16,className:"text-gray-600"}),f.jsx("span",{className:"text-sm text-gray-700",children:"Setup API"})]}),f.jsxs("button",{onClick:()=>{Fn(!0),jn(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2",children:[f.jsx(JB,{size:16,className:"text-gray-600"}),f.jsx("span",{className:"text-sm text-gray-700",children:"Account Settings"})]}),f.jsxs("button",{onClick:async()=>{jn(!1);try{await o({id:null,name:null,startDate:null,endDate:null,countries:[]}),e()}catch(v){console.error("Failed to start new trip:",v),alert("Failed to start new trip. Please try again.")}},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2 border-t",children:[f.jsx(_u,{size:16,className:"text-gray-600"}),f.jsx("span",{className:"text-sm text-gray-700",children:"Start New Trip"})]}),f.jsxs("button",{onClick:async()=>{jn(!1),window.confirm("Are you sure you want to sign out?")&&await r()},className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center gap-2 text-red-600 border-t",children:[f.jsx(KB,{size:16}),f.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})]})]})]})}),f.jsx("div",{className:"bg-white rounded-2xl shadow-lg mb-4 sm:mb-6",children:f.jsxs("div",{className:"flex border-b overflow-x-auto",children:[f.jsxs("button",{onClick:()=>H("itinerary"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${j==="itinerary"?"border-b-3 border-[#FF6B6B] text-[#FF6B6B]":"text-gray-600 hover:text-[#FF6B6B]"}`,children:[f.jsx(Ef,{size:20}),f.jsx("span",{className:"hidden sm:inline",children:"Daily Plans"}),f.jsx("span",{className:"sm:hidden",children:"Plans"})]}),f.jsxs("button",{onClick:()=>H("flights"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${j==="flights"?"border-b-3 border-[#4ECDC4] text-[#4ECDC4]":"text-gray-600 hover:text-[#4ECDC4]"}`,children:[f.jsx(Uo,{size:20}),f.jsx("span",{children:"Flights"})]}),f.jsxs("button",{onClick:()=>H("expenses"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${j==="expenses"?"border-b-3 border-[#FFE66D] text-[#F7B731]":"text-gray-600 hover:text-[#F7B731]"}`,children:[f.jsx(yg,{size:20}),f.jsx("span",{children:"Expenses"})]}),f.jsxs("button",{onClick:()=>H("analytics"),className:`flex-1 px-3 sm:px-6 py-3 sm:py-4 font-medium flex items-center justify-center gap-2 whitespace-nowrap transition-all ${j==="analytics"?"border-b-3 border-[#26DE81] text-[#26DE81]":"text-gray-600 hover:text-[#26DE81]"}`,children:[f.jsx(XB,{size:20}),f.jsx("span",{className:"hidden sm:inline",children:"Analytics"}),f.jsx("span",{className:"sm:hidden",children:"Stats"})]})]})}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-3 sm:p-6",children:[j==="itinerary"&&f.jsxs("div",{className:`grid gap-4 items-start ${Zt?"grid-cols-1 lg:grid-cols-[60%_40%]":"grid-cols-1"}`,children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-semibold text-gray-700",children:"Plan your days"}),f.jsx("p",{className:"text-xs text-gray-500",children:"New stops appear on the map to the right."})]}),f.jsx("button",{onClick:()=>Gr(v=>!v),className:"px-3 py-2 text-sm font-semibold rounded-lg border border-gray-200 hover:border-[#4ECDC4] hover:text-[#4ECDC4] transition-colors",children:Zt?"Hide Map":"Show Map"})]}),f.jsx("div",{className:"flex items-center gap-4 overflow-x-auto pb-4",children:g.map((v,V)=>f.jsxs("button",{onClick:()=>N(v.id),className:`flex-shrink-0 px-4 py-3 rounded-xl border-2 transition-all ${x===v.id?"border-[#FF6B6B] bg-gradient-to-br from-[#FF6B6B]/10 to-[#FFE66D]/10 text-[#FF6B6B] shadow-md":"border-gray-200 hover:border-[#FF6B6B]/50 hover:shadow-sm"}`,children:[f.jsx("div",{className:"font-medium",children:rt(v.date).toLocaleDateString("en-US",{weekday:"short"})}),f.jsx("div",{className:"text-sm",children:rt(v.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},v.id))}),$e&&f.jsxs("div",{children:[f.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[f.jsx("h3",{className:"text-xl font-bold mb-3",children:rt($e.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),f.jsx("div",{className:"mb-4",children:Br?f.jsx("input",{type:"text",value:cr,onChange:v=>Ti(v.target.value),onBlur:Ps,onKeyDown:v=>{v.key==="Enter"&&Ps(),v.key==="Escape"&&$r(!1)},autoFocus:!0,placeholder:`Day ${g.findIndex(v=>v.id===x)+1}`,className:"w-full px-3 py-2 rounded bg-gray-100 font-medium text-[#FF6B6B] outline-none"}):f.jsx("div",{onClick:()=>Ia($e.title),className:"w-full px-3 py-2 rounded cursor-pointer hover:bg-gray-100 transition-colors font-medium text-[#FF6B6B]",children:$e.title||`Day ${g.findIndex(v=>v.id===x)+1}`})}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",placeholder:"City",value:Et||$e.city,onChange:v=>{Mn(v.target.value),Rn(!0);const V=g.map(R=>R.id===x?{...R,city:v.target.value}:R);D(V)},onFocus:()=>Rn(!0),onBlur:()=>setTimeout(()=>Rn(!1),200),className:"w-full px-3 py-2 border rounded-lg"}),br&&Et&&qt(Et).length>0&&f.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:qt(Et).map(({city:v,country:V},R)=>f.jsxs("button",{onClick:()=>Kr(v,V),className:"w-full px-3 py-2 text-left hover:bg-indigo-50 flex justify-between items-center",children:[f.jsx("span",{className:"font-medium",children:v}),f.jsx("span",{className:"text-sm text-gray-500",children:V})]},R))})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",placeholder:"Country",value:Nn||$e.country,onChange:v=>{qn(v.target.value),Gn(!0);const V=g.map(R=>R.id===x?{...R,country:v.target.value}:R);D(V)},onFocus:()=>Gn(!0),onBlur:()=>setTimeout(()=>Gn(!1),200),className:"w-full px-3 py-2 border rounded-lg"}),xr&&Nn&&Xn(Nn).length>0&&f.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Xn(Nn).map((v,V)=>f.jsx("button",{onClick:()=>xs(v),className:"w-full px-3 py-2 text-left hover:bg-indigo-50",children:v},V))})]})]})]}),f.jsx("div",{className:"space-y-3",children:$e.places.map((v,V)=>f.jsxs(Fr.Fragment,{children:[!v.visited&&V>0&&f.jsx("div",{className:"flex items-center justify-center py-1",children:f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:R=>{R.stopPropagation(),Mi((Tt==null?void 0:Tt.dayId)===x&&(Tt==null?void 0:Tt.placeId)===v.id?null:{dayId:x,placeId:v.id})},className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-[#4ECDC4]/5 hover:bg-[#4ECDC4]/10 border border-[#4ECDC4]/20 hover:border-[#4ECDC4]/40 transition-all cursor-pointer text-xs",children:[v.transportMode==="walking"&&f.jsx(pb,{size:14,className:"text-[#4ECDC4]"}),v.transportMode==="car"&&f.jsx(gb,{size:14,className:"text-[#4ECDC4]"}),v.transportMode==="transit"&&f.jsx(bg,{size:14,className:"text-[#4ECDC4]"}),v.transportMode==="plane"&&f.jsx(Uo,{size:14,className:"text-[#4ECDC4]"}),(v.transportMode==="bus"||v.transportMode==="metro"||v.transportMode==="train")&&f.jsx(bg,{size:14,className:"text-[#4ECDC4]"}),!v.isAutoCalculated&&(Ge==null?void 0:Ge.dayId)===x&&(Ge==null?void 0:Ge.placeId)===v.id&&(Ge==null?void 0:Ge.field)==="time"?f.jsx("input",{type:"number",value:Ge.value,onChange:R=>wn({...Ge,value:R.target.value}),onBlur:()=>{const R=g.map(J=>({...J,places:J.places.map(U=>U.id===v.id&&J.id===x?{...U,transportTime:Ge.value,isAutoCalculated:!1}:U)}));D(R),wn(null)},onKeyDown:R=>{R.key==="Enter"&&R.target.blur(),R.key==="Escape"&&wn(null),R.stopPropagation()},onClick:R=>R.stopPropagation(),autoFocus:!0,className:"w-10 px-1 font-semibold text-gray-700 bg-white rounded border border-[#4ECDC4] outline-none"}):f.jsxs("span",{onClick:R=>{v.isAutoCalculated||(R.stopPropagation(),wn({dayId:x,placeId:v.id,field:"time",value:v.transportTime||""}))},className:`font-semibold ${v.isAutoCalculated?"text-gray-700":"text-gray-600"}`,children:[v.transportTime||"--"," min"]}),f.jsx("span",{className:"text-gray-400",children:"|"}),!v.isAutoCalculated&&(Ge==null?void 0:Ge.dayId)===x&&(Ge==null?void 0:Ge.placeId)===v.id&&(Ge==null?void 0:Ge.field)==="distance"?f.jsx("input",{type:"number",step:"0.1",value:Ge.value,onChange:R=>wn({...Ge,value:R.target.value}),onBlur:()=>{const R=g.map(J=>({...J,places:J.places.map(U=>U.id===v.id&&J.id===x?{...U,distance:Ge.value,isAutoCalculated:!1}:U)}));D(R),wn(null)},onKeyDown:R=>{R.key==="Enter"&&R.target.blur(),R.key==="Escape"&&wn(null),R.stopPropagation()},onClick:R=>R.stopPropagation(),autoFocus:!0,className:"w-10 px-1 font-semibold text-gray-700 bg-white rounded border border-[#4ECDC4] outline-none"}):f.jsx("span",{onClick:R=>{v.isAutoCalculated||(R.stopPropagation(),wn({dayId:x,placeId:v.id,field:"distance",value:v.distance||""}))},className:`font-semibold ${v.isAutoCalculated?"text-gray-700":"text-gray-600"}`,children:v.distance?`${v.distance} km`:v.transportTime?"-- km":"--"}),f.jsx(GB,{size:12,className:"text-gray-400"})]}),(Tt==null?void 0:Tt.dayId)===x&&(Tt==null?void 0:Tt.placeId)===v.id&&f.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 z-50 min-w-[140px]",children:["walking","car","transit","plane"].map((R,J,U)=>f.jsxs("button",{type:"button",onClick:re=>{re.preventDefault(),re.stopPropagation(),ys(x,v.id,R)},className:`w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-50 transition-colors ${v.transportMode===R?"bg-[#4ECDC4]/10":""} ${J===0?"rounded-t-lg":""} ${J===U.length-1?"rounded-b-lg":""}`,children:[R==="walking"&&f.jsx(pb,{size:16,className:"text-[#4ECDC4]"}),R==="car"&&f.jsx(gb,{size:16,className:"text-[#4ECDC4]"}),R==="transit"&&f.jsx(bg,{size:16,className:"text-[#4ECDC4]"}),R==="plane"&&f.jsx(Uo,{size:16,className:"text-[#4ECDC4]"}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:R==="transit"?"Transport":R.charAt(0).toUpperCase()+R.slice(1)})]},R))})]})}),f.jsx("div",{onClick:()=>{const R=$e.places.findIndex(J=>J.id===v.id);R!==-1&&_n.current[R]&&(window.google.maps.event.trigger(_n.current[R],"click"),Zt||Gr(!0))},className:`border rounded-lg overflow-hidden transition-all cursor-pointer ${v.visited?"bg-gray-50 border-gray-300":"hover:shadow-md"}`,children:f.jsx("div",{className:"p-3 sm:p-4",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsxs("div",{className:"flex-shrink-0 mt-1",children:[v.type==="place"&&f.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500 flex items-center justify-center",children:f.jsx(yd,{size:16,className:"text-white"})}),v.type==="restaurant"&&f.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-500 flex items-center justify-center",children:f.jsx(xg,{size:14,className:"text-white"})}),v.type==="cafe"&&f.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-600 flex items-center justify-center",children:f.jsx(_g,{size:16,className:"text-white"})}),v.type==="activity"&&f.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500 flex items-center justify-center",children:f.jsx(vg,{size:16,className:"text-white"})}),v.type==="note"&&f.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500 flex items-center justify-center",children:f.jsx(Eg,{size:16,className:"text-white"})}),!v.type&&f.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500 flex items-center justify-center",children:f.jsx(yd,{size:16,className:"text-white"})})]}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[f.jsxs("span",{className:"bg-gradient-to-r from-[#FF6B6B]/10 to-[#FFE66D]/10 text-[#FF6B6B] px-2 py-1 rounded-full text-xs sm:text-sm font-medium",children:["#",V+1]}),f.jsx("h4",{className:"font-bold text-base sm:text-lg",children:v.name})]}),f.jsxs("div",{className:"relative",children:[ce===v.id&&f.jsxs("div",{className:"flex items-center gap-1 mb-1 p-1 bg-gray-50 border border-gray-200 rounded flex-wrap",onMouseDown:R=>R.preventDefault(),onClick:R=>R.stopPropagation(),children:[f.jsx("button",{onMouseDown:R=>{R.preventDefault(),document.execCommand("bold",!1,null)},className:"px-2 py-1 hover:bg-gray-200 rounded text-xs font-bold",title:"Bold",children:"B"}),f.jsx("button",{onMouseDown:R=>{R.preventDefault(),document.execCommand("italic",!1,null)},className:"px-2 py-1 hover:bg-gray-200 rounded text-xs italic",title:"Italic",children:"I"}),f.jsx("span",{className:"text-gray-300",children:"|"}),f.jsxs("select",{onMouseDown:R=>R.preventDefault(),onChange:R=>{document.execCommand("fontName",!1,R.target.value),R.target.value=""},className:"px-1 py-1 text-xs border border-gray-300 rounded hover:bg-gray-200",title:"Font",children:[f.jsx("option",{value:"",children:"Font"}),f.jsx("option",{value:"Arial",children:"Arial"}),f.jsx("option",{value:"Courier New",children:"Courier"}),f.jsx("option",{value:"Georgia",children:"Georgia"}),f.jsx("option",{value:"Times New Roman",children:"Times"}),f.jsx("option",{value:"Verdana",children:"Verdana"}),f.jsx("option",{value:"Comic Sans MS",children:"Comic Sans"})]}),f.jsx("input",{type:"color",onMouseDown:R=>R.preventDefault(),onChange:R=>{document.execCommand("foreColor",!1,R.target.value)},className:"w-6 h-6 border border-gray-300 rounded cursor-pointer",title:"Text Color"}),f.jsx("input",{type:"color",onMouseDown:R=>R.preventDefault(),onChange:R=>{document.execCommand("backColor",!1,R.target.value)},className:"w-6 h-6 border border-gray-300 rounded cursor-pointer",title:"Background Color"}),f.jsx("span",{className:"text-gray-300",children:"|"}),f.jsx("button",{onMouseDown:R=>R.preventDefault(),onClick:R=>{R.stopPropagation(),$(G===v.id?null:v.id)},className:"px-2 py-1 hover:bg-gray-200 rounded text-xs",title:"Add Emoji",children:""}),G===v.id&&f.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded shadow-lg p-2 z-10 flex flex-wrap gap-1 max-w-[200px]",onMouseDown:R=>R.preventDefault(),children:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(R=>f.jsx("button",{onMouseDown:J=>{J.preventDefault(),document.execCommand("insertText",!1,R),$(null)},className:"text-lg hover:bg-gray-100 rounded p-1",children:R},R))})]}),f.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,onFocus:R=>{R.stopPropagation(),Ce(v.id)},onBlur:R=>{setTimeout(()=>{Ce(null),$(null)},200);const J=g.map(U=>({...U,places:U.places.map(re=>re.id===v.id&&U.id===x?{...re,notes:R.currentTarget.innerHTML}:re)}));D(J)},onClick:R=>R.stopPropagation(),onKeyDown:R=>R.stopPropagation(),dangerouslySetInnerHTML:{__html:v.notes||""},"data-placeholder":"Add notes, links and so on...",className:"text-gray-600 text-sm mb-2 px-2 py-1 border border-transparent hover:border-gray-300 focus:border-[#4ECDC4] rounded outline-none min-h-[24px] max-h-[200px] overflow-y-auto transition-all empty:before:content-[attr(data-placeholder)] empty:before:text-gray-400",style:{wordWrap:"break-word",whiteSpace:"pre-wrap"}})]}),f.jsxs("div",{className:"flex items-center gap-2 text-xs flex-wrap",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Ef,{size:14,className:"text-gray-400"}),f.jsx("input",{type:"time",value:v.visitTime||"",onChange:R=>{const J=g.map(U=>({...U,places:U.places.map(re=>re.id===v.id&&U.id===x?{...re,visitTime:R.target.value}:re)}));D(J)},onClick:R=>R.stopPropagation(),className:"w-16 px-1 py-0.5 border border-gray-300 rounded text-xs focus:border-[#4ECDC4] focus:outline-none",placeholder:"--:--"})]}),f.jsx("span",{className:"text-gray-300",children:"|"}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(a$,{size:14,className:"text-gray-400"}),f.jsx("input",{type:"number",step:"0.5",value:v.duration||"",onChange:R=>{const J=g.map(U=>({...U,places:U.places.map(re=>re.id===v.id&&U.id===x?{...re,duration:R.target.value}:re)}));D(J)},onClick:R=>R.stopPropagation(),className:"w-12 px-1 py-0.5 border border-gray-300 rounded text-xs focus:border-[#4ECDC4] focus:outline-none",placeholder:"1.5"}),f.jsx("span",{className:"text-gray-500",children:"h"})]}),f.jsx("span",{className:"text-gray-300",children:"|"}),f.jsxs("div",{className:"flex items-center gap-1 relative",children:[f.jsx(o$,{size:16,className:"text-gray-400"}),f.jsx("input",{type:"number",step:"0.01",value:v.cost||"",onChange:R=>{const J=g.map(U=>({...U,places:U.places.map(re=>re.id===v.id&&U.id===x?{...re,cost:R.target.value}:re)}));D(J)},onClick:R=>R.stopPropagation(),className:"w-16 px-1 py-0.5 border border-gray-300 rounded text-xs focus:border-[#4ECDC4] focus:outline-none",placeholder:"25.00"}),f.jsxs("button",{onClick:R=>{R.stopPropagation();const J=R.currentTarget.getBoundingClientRect();oe({top:J.bottom+8,left:J.right-180}),Se(wt===v.id?null:v.id)},className:"text-gray-500 hover:text-[#4ECDC4] transition-colors cursor-pointer text-xs font-medium",children:[(v.currency||"EUR")==="EUR"&&"",(v.currency||"EUR")==="USD"&&"$",(v.currency||"EUR")==="GBP"&&"",(v.currency||"EUR")==="CHF"&&"CHF",(v.currency||"EUR")==="BRL"&&"R$"]}),wt===v.id&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-[998]",onClick:()=>Se(null)}),f.jsxs("div",{className:"fixed bg-white rounded-lg shadow-2xl border border-gray-200 py-1 z-[999] min-w-[180px]",style:{top:`${Q.top}px`,left:`${Q.left}px`},onClick:R=>R.stopPropagation(),children:[f.jsxs("button",{onClick:R=>{R.stopPropagation();const J=g.map(U=>({...U,places:U.places.map(re=>re.id===v.id&&U.id===x?{...re,currency:"EUR"}:re)}));D(J),Se(null)},className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 transition-colors flex items-center justify-between ${(v.currency||"EUR")==="EUR"?"bg-[#4ECDC4] bg-opacity-10":""}`,children:[f.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:""}),"Euro (EUR)"]}),(v.currency||"EUR")==="EUR"&&f.jsx("span",{className:"text-[#4ECDC4] text-xs",children:""})]}),f.jsxs("button",{onClick:R=>{R.stopPropagation();const J=g.map(U=>({...U,places:U.places.map(re=>re.id===v.id&&U.id===x?{...re,currency:"USD"}:re)}));D(J),Se(null)},className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 transition-colors flex items-center justify-between ${(v.currency||"EUR")==="USD"?"bg-[#4ECDC4] bg-opacity-10":""}`,children:[f.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:""}),"US Dollar (USD)"]}),(v.currency||"EUR")==="USD"&&f.jsx("span",{className:"text-[#4ECDC4] text-xs",children:""})]}),f.jsxs("button",{onClick:R=>{R.stopPropagation();const J=g.map(U=>({...U,places:U.places.map(re=>re.id===v.id&&U.id===x?{...re,currency:"GBP"}:re)}));D(J),Se(null)},className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 transition-colors flex items-center justify-between ${(v.currency||"EUR")==="GBP"?"bg-[#4ECDC4] bg-opacity-10":""}`,children:[f.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:""}),"British Pound (GBP)"]}),(v.currency||"EUR")==="GBP"&&f.jsx("span",{className:"text-[#4ECDC4] text-xs",children:""})]}),f.jsxs("button",{onClick:R=>{R.stopPropagation();const J=g.map(U=>({...U,places:U.places.map(re=>re.id===v.id&&U.id===x?{...re,currency:"CHF"}:re)}));D(J),Se(null)},className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 transition-colors flex items-center justify-between ${(v.currency||"EUR")==="CHF"?"bg-[#4ECDC4] bg-opacity-10":""}`,children:[f.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:""}),"Swiss Franc (CHF)"]}),(v.currency||"EUR")==="CHF"&&f.jsx("span",{className:"text-[#4ECDC4] text-xs",children:""})]}),f.jsxs("button",{onClick:R=>{R.stopPropagation();const J=g.map(U=>({...U,places:U.places.map(re=>re.id===v.id&&U.id===x?{...re,currency:"BRL"}:re)}));D(J),Se(null)},className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 transition-colors flex items-center justify-between ${(v.currency||"EUR")==="BRL"?"bg-[#4ECDC4] bg-opacity-10":""}`,children:[f.jsxs("span",{className:"text-sm text-gray-700 flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:""}),"Brazilian Real (BRL)"]}),(v.currency||"EUR")==="BRL"&&f.jsx("span",{className:"text-[#4ECDC4] text-xs",children:""})]})]})]})]})]})]}),f.jsxs("div",{className:"flex gap-1 sm:gap-2 flex-shrink-0",children:[f.jsx("button",{onClick:R=>{R.stopPropagation(),Ca(v.address)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Open in Google Maps",children:f.jsx(wg,{size:18})}),f.jsx("button",{onClick:R=>{R.stopPropagation(),kn(x,v.id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:f.jsx(Nu,{size:18})})]})]})})})]},v.id))}),f.jsx("div",{className:"mt-4",children:Re?f.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-4 bg-gray-50",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex-shrink-0",children:[Re==="place"&&f.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500 flex items-center justify-center",children:f.jsx(yd,{size:16,className:"text-white"})}),Re==="restaurant"&&f.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-500 flex items-center justify-center",children:f.jsx(xg,{size:14,className:"text-white"})}),Re==="cafe"&&f.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-600 flex items-center justify-center",children:f.jsx(_g,{size:16,className:"text-white"})}),Re==="activity"&&f.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500 flex items-center justify-center",children:f.jsx(vg,{size:16,className:"text-white"})}),Re==="note"&&f.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500 flex items-center justify-center",children:f.jsx(Eg,{size:16,className:"text-white"})})]}),f.jsxs("div",{className:"relative flex-1",children:[f.jsx("input",{type:"text",placeholder:"Search for a place...",value:ye||_s.name,onChange:v=>{Ie(v.target.value),Si({..._s,name:v.target.value}),Da(v.target.value)},className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-[#4ECDC4] focus:outline-none bg-white"}),xt&&Pe.length>0&&f.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border-2 border-gray-200 rounded-lg shadow-lg divide-y max-h-60 overflow-y-auto",children:Pe.map(v=>{var V,R;return f.jsxs("button",{onClick:()=>Kn(v),className:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors",children:[f.jsx("div",{className:"font-medium text-sm",children:((V=v.structured_formatting)==null?void 0:V.main_text)||v.description}),f.jsx("div",{className:"text-xs text-gray-500",children:((R=v.structured_formatting)==null?void 0:R.secondary_text)||"Google Places"})]},v.place_id)})}),nt&&f.jsx("div",{className:"absolute right-3 top-3 text-sm text-gray-400",children:"Searching..."})]}),f.jsx("button",{onClick:()=>{ze(null),Si({name:"",address:"",placeId:"",location:null,notes:"",transportMode:"walking",transportTime:"",distance:""}),Ie(""),De([])},className:"text-gray-400 hover:text-gray-600 flex-shrink-0",children:f.jsx(Ld,{size:20})})]})}):f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>I(!F),className:"w-full px-4 py-3 bg-gradient-to-r from-[#4ECDC4] to-[#3db8b0] text-white rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2 font-medium",children:[f.jsx(_u,{size:20}),"Add to This Day"]}),F&&f.jsxs("div",{className:"absolute z-10 w-full mt-2 bg-white rounded-xl shadow-xl border-2 border-gray-200 overflow-hidden",children:[f.jsxs("button",{onClick:()=>{ze("place"),I(!1)},className:"w-full px-4 py-3 hover:bg-gray-50 transition-colors flex items-center gap-3 border-b border-gray-100",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500 flex items-center justify-center",children:f.jsx(yd,{size:20,className:"text-white"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"font-semibold text-gray-900",children:"Place / Attraction"}),f.jsx("div",{className:"text-xs text-gray-500",children:"Museums, landmarks, parks"})]})]}),f.jsxs("button",{onClick:()=>{ze("restaurant"),I(!1)},className:"w-full px-4 py-3 hover:bg-gray-50 transition-colors flex items-center gap-3 border-b border-gray-100",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-orange-500 flex items-center justify-center",children:f.jsx(xg,{size:18,className:"text-white"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"font-semibold text-gray-900",children:"Restaurant"}),f.jsx("div",{className:"text-xs text-gray-500",children:"Places to eat"})]})]}),f.jsxs("button",{onClick:()=>{ze("cafe"),I(!1)},className:"w-full px-4 py-3 hover:bg-gray-50 transition-colors flex items-center gap-3 border-b border-gray-100",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-600 flex items-center justify-center",children:f.jsx(_g,{size:20,className:"text-white"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"font-semibold text-gray-900",children:"Caf / Bar"}),f.jsx("div",{className:"text-xs text-gray-500",children:"Coffee shops, bars"})]})]}),f.jsxs("button",{onClick:()=>{ze("activity"),I(!1)},className:"w-full px-4 py-3 hover:bg-gray-50 transition-colors flex items-center gap-3 border-b border-gray-100",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500 flex items-center justify-center",children:f.jsx(vg,{size:20,className:"text-white"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"font-semibold text-gray-900",children:"Activity"}),f.jsx("div",{className:"text-xs text-gray-500",children:"Tours, experiences"})]})]}),f.jsxs("button",{onClick:()=>{ze("note"),I(!1)},className:"w-full px-4 py-3 hover:bg-gray-50 transition-colors flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500 flex items-center justify-center",children:f.jsx(Eg,{size:20,className:"text-white"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"font-semibold text-gray-900",children:"Note"}),f.jsx("div",{className:"text-xs text-gray-500",children:"Quick reminder or note"})]})]})]})]})})]})]}),Zt&&f.jsxs("div",{className:"bg-white border rounded-2xl shadow-md p-3 sm:p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(wg,{size:18,className:"text-[#4ECDC4]"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Day Map"}),f.jsx("p",{className:"text-xs text-gray-500",children:$e?rt($e.date).toLocaleDateString():"Select a day to view pins"})]})]}),f.jsx("button",{onClick:()=>Gr(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",title:"Hide map",children:f.jsx(Ld,{size:16})})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{ref:fr,className:"w-full h-96 sm:h-[500px] lg:h-[600px] xl:h-[700px] rounded-xl overflow-hidden bg-gray-100"}),!xt&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50",children:f.jsx("div",{className:"p-4 text-sm text-gray-500 bg-white rounded-lg border border-dashed",children:"Google Maps integration active"})}),xt&&!Vn&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50",children:f.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"Loading map..."})}),Oi&&f.jsx("div",{className:"absolute inset-0 bg-white/60 flex items-center justify-center text-sm text-gray-600",children:"Mapping your stops..."}),Vn&&!((Os=$e==null?void 0:$e.places)!=null&&Os.length)&&!Oi&&!Ci&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("div",{className:"relative p-4 text-sm text-gray-500 bg-white/90 rounded-lg border border-dashed backdrop-blur-sm pointer-events-auto",children:["Add places to this day to see pins here.",f.jsx("button",{onClick:()=>bs(!0),className:"absolute -top-2 -right-2 p-1 bg-white rounded-full shadow-md hover:bg-gray-100 transition-colors",title:"Dismiss",children:f.jsx(Ld,{size:14,className:"text-gray-600"})})]})})]})]})]}),j==="flights"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Flights"}),f.jsxs("button",{onClick:()=>T(!0),className:"px-4 py-2 bg-gradient-to-r from-[#4ECDC4] to-[#44A08D] text-white rounded-xl hover:shadow-lg transition-all hover:scale-[1.02] flex items-center gap-2 font-medium",children:[f.jsx(_u,{size:20}),"Add Flight"]})]}),u.length===0?f.jsxs("div",{className:"text-center py-12 text-gray-500",children:[f.jsx(Uo,{size:48,className:"mx-auto mb-4 opacity-50 text-[#4ECDC4]"}),f.jsx("p",{children:'No flights added yet. Click "Add Flight" to get started.'})]}):f.jsx("div",{className:"space-y-3",children:u.map(v=>f.jsx("div",{className:"border-2 border-gray-100 rounded-xl p-4 hover:shadow-lg hover:border-[#4ECDC4]/30 transition-all",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsxs("span",{className:"font-bold text-lg",children:[v.airline," ",v.flightNumber]}),f.jsx("span",{className:"text-sm text-gray-500",children:v.bookingRef})]}),f.jsxs("div",{className:"flex items-center gap-4 text-gray-700",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:v.from}),f.jsx("div",{className:"text-sm",children:v.departureTime})]}),f.jsx(Uo,{size:20,className:"text-[#4ECDC4]"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:v.to}),f.jsx("div",{className:"text-sm",children:v.arrivalTime})]})]}),f.jsx("div",{className:"text-sm text-gray-500 mt-2",children:new Date(v.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),f.jsx("button",{onClick:()=>ws(v.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:f.jsx(Nu,{size:18})})]})},v.id))}),q&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Add Flight"}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",placeholder:"Airline *",value:et.airline,onChange:v=>Ot({...et,airline:v.target.value}),className:"px-3 py-2 border rounded-lg"}),f.jsx("input",{type:"text",placeholder:"Flight number *",value:et.flightNumber,onChange:v=>Ot({...et,flightNumber:v.target.value}),className:"px-3 py-2 border rounded-lg"}),f.jsx("input",{type:"text",placeholder:"From (airport) *",value:et.from,onChange:v=>Ot({...et,from:v.target.value}),className:"px-3 py-2 border rounded-lg"}),f.jsx("input",{type:"text",placeholder:"To (airport) *",value:et.to,onChange:v=>Ot({...et,to:v.target.value}),className:"px-3 py-2 border rounded-lg"}),f.jsx("input",{type:"date",value:et.date,onChange:v=>Ot({...et,date:v.target.value}),className:"px-3 py-2 border rounded-lg"}),f.jsx("input",{type:"text",placeholder:"Booking reference",value:et.bookingRef,onChange:v=>Ot({...et,bookingRef:v.target.value}),className:"px-3 py-2 border rounded-lg"}),f.jsx("input",{type:"time",placeholder:"Departure time",value:et.departureTime,onChange:v=>Ot({...et,departureTime:v.target.value}),className:"px-3 py-2 border rounded-lg"}),f.jsx("input",{type:"time",placeholder:"Arrival time",value:et.arrivalTime,onChange:v=>Ot({...et,arrivalTime:v.target.value}),className:"px-3 py-2 border rounded-lg"})]})}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[f.jsx("button",{onClick:Pi,disabled:!et.airline||!et.flightNumber||!et.from||!et.to,className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#4ECDC4] to-[#44A08D] text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base font-medium",children:"Add Flight"}),f.jsx("button",{onClick:()=>T(!1),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Cancel"})]})]})})]}),j==="expenses"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Expenses"}),f.jsxs("button",{onClick:()=>P(!0),className:"px-4 py-2 bg-gradient-to-r from-[#FFE66D] to-[#FFBE5C] text-gray-800 rounded-xl hover:shadow-lg transition-all hover:scale-[1.02] flex items-center gap-2 font-medium",children:[f.jsx(_u,{size:20}),"Add Expense"]})]}),A.length===0?f.jsxs("div",{className:"text-center py-12 text-gray-500",children:[f.jsx(yg,{size:48,className:"mx-auto mb-4 opacity-50 text-[#FFE66D]"}),f.jsx("p",{children:'No expenses tracked yet. Click "Add Expense" to get started.'})]}):f.jsx("div",{className:"space-y-3",children:A.map(v=>f.jsx("div",{className:"border-2 border-gray-100 rounded-xl p-4 hover:shadow-lg hover:border-[#FFE66D]/50 transition-all",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("span",{className:"font-bold text-lg",children:v.description}),f.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm",children:v.category})]}),f.jsxs("div",{className:"text-2xl font-bold text-[#F7B731] mb-2",children:[v.currency," $",parseFloat(v.amount).toFixed(2)]}),f.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[f.jsx("span",{children:new Date(v.date).toLocaleDateString()}),v.city&&f.jsxs("span",{children:[" ",v.city]}),v.country&&f.jsxs("span",{children:[" ",v.country]})]})]}),f.jsx("button",{onClick:()=>Di(v.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:f.jsx(Nu,{size:18})})]})},v.id))}),w&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Add Expense"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{type:"text",placeholder:"Description *",value:Je.description,onChange:v=>Jt({...Je,description:v.target.value}),className:"w-full px-3 py-2 border rounded-lg"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"number",step:"0.01",placeholder:"Amount *",value:Je.amount,onChange:v=>Jt({...Je,amount:v.target.value}),className:"px-3 py-2 border rounded-lg"}),f.jsxs("select",{value:Je.currency,onChange:v=>Jt({...Je,currency:v.target.value}),className:"px-3 py-2 border rounded-lg",children:[f.jsx("option",{value:"USD",children:"USD"}),f.jsx("option",{value:"EUR",children:"EUR"}),f.jsx("option",{value:"GBP",children:"GBP"}),f.jsx("option",{value:"BRL",children:"BRL"}),f.jsx("option",{value:"CHF",children:"CHF"})]}),f.jsxs("select",{value:Je.category,onChange:v=>Jt({...Je,category:v.target.value}),className:"px-3 py-2 border rounded-lg",children:[f.jsx("option",{value:"food",children:"Food & Dining"}),f.jsx("option",{value:"accommodation",children:"Accommodation"}),f.jsx("option",{value:"transportation",children:"Transportation"}),f.jsx("option",{value:"activities",children:"Activities"}),f.jsx("option",{value:"shopping",children:"Shopping"}),f.jsx("option",{value:"other",children:"Other"})]}),f.jsx("input",{type:"date",value:Je.date,onChange:v=>Jt({...Je,date:v.target.value}),className:"px-3 py-2 border rounded-lg"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",placeholder:"City",value:Qn||Je.city,onChange:v=>{dt(v.target.value),Jt({...Je,city:v.target.value}),Tr(!0)},onFocus:()=>Tr(!0),onBlur:()=>setTimeout(()=>Tr(!1),200),className:"w-full px-3 py-2 border rounded-lg"}),ps&&Qn&&qt(Qn).length>0&&f.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:qt(Qn).map(({city:v,country:V},R)=>f.jsxs("button",{onClick:()=>{Jt({...Je,city:v,country:V}),dt(""),Tr(!1)},className:"w-full px-3 py-2 text-left hover:bg-indigo-50 flex justify-between items-center",children:[f.jsx("span",{className:"font-medium",children:v}),f.jsx("span",{className:"text-sm text-gray-500",children:V})]},R))})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",placeholder:"Country",value:ft||Je.country,onChange:v=>{ur(v.target.value),Jt({...Je,country:v.target.value}),An(!0)},onFocus:()=>An(!0),onBlur:()=>setTimeout(()=>An(!1),200),className:"w-full px-3 py-2 border rounded-lg"}),Ta&&ft&&Xn(ft).length>0&&f.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Xn(ft).map((v,V)=>f.jsx("button",{onClick:()=>{Jt({...Je,country:v}),ur(""),An(!1)},className:"w-full px-3 py-2 text-left hover:bg-indigo-50",children:v},V))})]})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[f.jsx("button",{onClick:Hr,disabled:!Je.description||!Je.amount,className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#FFE66D] to-[#FFBE5C] text-gray-800 rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base font-medium",children:"Add Expense"}),f.jsx("button",{onClick:()=>P(!1),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Cancel"})]})]})})]}),j==="analytics"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Analytics & Insights"}),f.jsxs("div",{className:"border-2 border-gray-100 rounded-xl p-6",children:[f.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[f.jsx(yg,{className:"text-[#26DE81]"}),"Expense Breakdown"]}),A.length===0?f.jsx("p",{className:"text-gray-500 text-center py-8",children:"No expenses to analyze yet."}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-3",children:"By Category"}),f.jsx("div",{className:"space-y-2",children:Object.entries(Or()).map(([v,V])=>f.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-[#FFE66D]/10 to-[#FFE66D]/5 rounded-lg",children:[f.jsx("span",{className:"capitalize font-medium",children:v}),f.jsxs("span",{className:"font-bold text-[#F7B731]",children:["$",V.toFixed(2)]})]},v))}),f.jsxs("div",{className:"mt-3 pt-3 border-t font-bold text-lg flex justify-between",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{className:"text-[#F7B731]",children:["$",A.reduce((v,V)=>v+parseFloat(V.amount||0),0).toFixed(2)]})]})]}),Object.keys(En()).length>0&&f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-3",children:"By City"}),f.jsx("div",{className:"space-y-2",children:Object.entries(En()).map(([v,V])=>f.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-[#4ECDC4]/10 to-[#4ECDC4]/5 rounded-lg",children:[f.jsx("span",{className:"font-medium",children:v}),f.jsxs("span",{className:"font-bold text-[#4ECDC4]",children:["$",V.toFixed(2)]})]},v))})]}),Object.keys(Ni()).length>0&&f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-3",children:"By Country"}),f.jsx("div",{className:"space-y-2",children:Object.entries(Ni()).map(([v,V])=>f.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-[#FF6B6B]/10 to-[#FF8E53]/10 rounded-lg",children:[f.jsx("span",{className:"font-medium",children:v}),f.jsxs("span",{className:"font-bold text-[#FF6B6B]",children:["$",V.toFixed(2)]})]},v))})]})]})]}),f.jsxs("div",{className:"border-2 border-gray-100 rounded-xl p-6",children:[f.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[f.jsx(Navigation,{className:"text-[#4ECDC4]"}),"Distance Tracking"]}),g.every(v=>v.places.length===0)?f.jsx("p",{className:"text-gray-500 text-center py-8",children:"No distances to analyze yet."}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-3",children:"By Transport Mode"}),f.jsx("div",{className:"space-y-2",children:Object.entries(Ri()).filter(([v,V])=>V>0).map(([v,V])=>f.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-[#4ECDC4]/10 to-[#4ECDC4]/5 rounded-lg",children:[f.jsx("span",{className:"capitalize font-medium",children:v}),f.jsxs("span",{className:"font-bold text-[#4ECDC4]",children:[V.toFixed(2)," km"]})]},v))}),f.jsxs("div",{className:"mt-3 pt-3 border-t font-bold text-lg flex justify-between",children:[f.jsx("span",{children:"Total Distance"}),f.jsxs("span",{className:"text-[#4ECDC4]",children:[Object.values(Ri()).reduce((v,V)=>v+V,0).toFixed(2)," km"]})]})]}),Object.keys(Ai()).length>0&&f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-3",children:"By City"}),f.jsx("div",{className:"space-y-2",children:Object.entries(Ai()).filter(([v,V])=>V>0).map(([v,V])=>f.jsxs("div",{className:"flex justify-between items-center p-3 bg-gradient-to-r from-[#26DE81]/10 to-[#26DE81]/5 rounded-lg",children:[f.jsx("span",{className:"font-medium",children:v}),f.jsxs("span",{className:"font-bold text-[#26DE81]",children:[V.toFixed(2)," km"]})]},v))})]})]})]})]})]}),ne&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Google Maps API Setup"}),f.jsxs("div",{className:"space-y-4 mb-6",children:[f.jsx("p",{className:"text-gray-700",children:"To automatically calculate distances and travel times between places, you need a Google Maps API key."}),f.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-2 text-sm",children:[f.jsx("p",{className:"font-medium text-blue-900",children:"How to get your API key:"}),f.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-blue-800",children:[f.jsxs("li",{children:["Go to ",f.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Google Cloud Console"})]}),f.jsx("li",{children:"Create a new project or select an existing one"}),f.jsx("li",{children:'Enable "Distance Matrix API" and "Maps JavaScript API"'}),f.jsx("li",{children:'Go to "Credentials" and create an API key'}),f.jsx("li",{children:"Copy the API key and paste it below"})]})]}),f.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-sm text-yellow-800",children:[f.jsx("p",{className:"font-medium mb-1",children:" Important Notes:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[f.jsx("li",{children:"Google provides $200 free credit per month"}),f.jsx("li",{children:"The API key is stored only in your browser"}),f.jsx("li",{children:"Never share your API key publicly"}),f.jsx("li",{children:"Consider restricting your API key to specific domains"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Maps API Key"}),f.jsx("input",{type:"text",value:xt,onChange:v=>W(v.target.value),placeholder:"Enter your API key here",className:"w-full px-3 py-2 border rounded-lg font-mono text-sm"})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[f.jsx("div",{className:"flex-1 px-4 py-2 text-center text-sm text-gray-500",children:"API key is provided via environment. No need to paste it here."}),f.jsx("button",{onClick:()=>ae(!1),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Close"})]})]})}),xi&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-md w-full",children:[f.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Account Settings"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),f.jsx("div",{className:"mt-1 text-gray-800",children:(n==null?void 0:n.displayName)||""})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),f.jsx("div",{className:"mt-1 text-gray-800",children:n==null?void 0:n.email})]})]}),f.jsx("div",{className:"mt-6 flex justify-end gap-3",children:f.jsx("button",{onClick:()=>Fn(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Close"})})]})}),vs&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-2xl w-full",children:[f.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Edit Trip Details"}),f.jsxs("div",{className:"space-y-4 mb-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Name"}),f.jsx("input",{type:"text",value:we.name,onChange:v=>Ln({...we,name:v.target.value}),placeholder:"e.g., European Adventure 2026",className:"w-full px-3 py-2 border rounded-lg"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),f.jsx("input",{type:"date",value:we.startDate,onChange:v=>Ln({...we,startDate:v.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),f.jsx("input",{type:"date",value:we.endDate,onChange:v=>Ln({...we,endDate:v.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),we.startDate!==s.startDate||we.endDate!==s.endDate?f.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-sm text-yellow-800",children:[f.jsx("p",{className:"font-medium mb-1",children:" Note about changing dates:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[f.jsx("li",{children:"Your existing daily plans will be preserved where dates match"}),f.jsx("li",{children:"New days will be added if you extend the trip"}),f.jsx("li",{children:"Days outside the new range will be removed"})]})]}):null]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[f.jsx("button",{onClick:Oa,disabled:!we.name||!we.startDate||!we.endDate,className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base font-medium",children:"Save Changes"}),f.jsx("button",{onClick:()=>yi(!1),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-xl hover:bg-gray-50 text-sm sm:text-base transition-all",children:"Cancel"})]})]})})]})})},ZG=()=>{const{signInWithGoogle:t,error:e}=xa(),[n,r]=B.useState(!1),[i,s]=B.useState(null),o=async()=>{try{r(!0),s(null),await t()}catch(u){console.error("Sign in error:",u),s(u.message||"Failed to sign in with Google")}finally{r(!1)}};return f.jsx("div",{className:"min-h-screen bg-[#F8F9FA] flex items-center justify-center p-4",children:f.jsxs("div",{className:"max-w-md w-full",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[f.jsx("div",{className:"bg-gradient-to-br from-[#4ECDC4] to-[#44A08D] p-3 rounded-2xl shadow-lg",children:f.jsx(Uo,{className:"w-8 h-8 text-white"})}),f.jsx("div",{className:"bg-gradient-to-br from-[#FF6B6B] to-[#FF8E53] p-3 rounded-2xl shadow-lg",children:f.jsx(bf,{className:"w-8 h-8 text-white"})})]}),f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Travel Planner"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"Plan your perfect journey"})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 border-2 border-gray-50",children:[f.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2 text-center",children:"Welcome!"}),f.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Sign in to access your trips from any device"}),(e||i)&&f.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-red-50/50 border-2 border-red-200 rounded-xl flex items-start gap-3",children:[f.jsx(YB,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm text-red-800 font-medium",children:"Sign in failed"}),f.jsx("p",{className:"text-sm text-red-600 mt-1",children:i||e})]})]}),f.jsx("button",{onClick:o,disabled:n,className:"w-full bg-white border-2 border-gray-300 hover:border-[#4ECDC4] text-gray-700 font-semibold py-4 px-6 rounded-xl transition-all duration-200 flex items-center justify-center gap-3 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:n?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-[#4ECDC4] rounded-full animate-spin"}),f.jsx("span",{children:"Signing in..."})]}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),f.jsx("span",{children:"Continue with Google"})]})}),f.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[f.jsx("p",{className:"text-sm font-medium text-gray-900 mb-4",children:"With your account you can:"}),f.jsxs("ul",{className:"space-y-3",children:[f.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-[#4ECDC4]/20 to-[#4ECDC4]/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:f.jsx("div",{className:"w-2 h-2 rounded-full bg-[#4ECDC4]"})}),f.jsx("span",{children:"Access your trips from any device"})]}),f.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-[#FF6B6B]/20 to-[#FF6B6B]/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:f.jsx("div",{className:"w-2 h-2 rounded-full bg-[#FF6B6B]"})}),f.jsx("span",{children:"Never lose your travel data"})]}),f.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-600",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-[#FFE66D]/20 to-[#FFE66D]/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:f.jsx("div",{className:"w-2 h-2 rounded-full bg-[#F7B731]"})}),f.jsx("span",{children:"Plan trips seamlessly across phone and desktop"})]})]})]})]}),f.jsx("p",{className:"text-center text-sm text-gray-600 mt-6",children:"By signing in, you agree to sync your data with Firebase"})]})})},eQ={Switzerland:["Zurich","Geneva","Basel","Lausanne","Bern","Winterthur","Lucerne","St. Gallen","Lugano","Biel/Bienne","Thun","Kniz","La Chaux-de-Fonds","Schaffhausen","Fribourg","Vernier","Chur","Neuchtel","Uster","Sion","Emmen","Zug","Yverdon-les-Bains","Kriens","Rapperswil-Jona","Dbendorf","Montreux","Frauenfeld","Dietikon","Wetzikon","Interlaken","Zermatt","Grindelwald","Lauterbrunnen","Wengen","Murren","Locarno","Ascona","Bellinzona","Davos","St. Moritz","Arosa","Engelberg","Andermatt"],Italy:["Rome","Milan","Naples","Turin","Palermo","Genoa","Bologna","Florence","Bari","Catania","Venice","Verona","Messina","Padua","Trieste","Brescia","Taranto","Prato","Parma","Modena","Reggio Calabria","Reggio Emilia","Perugia","Livorno","Ravenna","Cagliari","Foggia","Rimini","Salerno","Ferrara","Sassari","Latina","Giugliano in Campania","Monza","Syracuse","Pescara","Bergamo","Forl","Trento","Vicenza","Terni","Bolzano","Novara","Piacenza","Ancona","Andria","Arezzo","Udine","Cesena","Lecce","Pisa","Siena","Lucca","Como","La Spezia","Varese","Sorrento","Amalfi","Positano","Capri","Portofino","Cinque Terre","Matera","Assisi","Siracusa","Taormina","Pompeii","Pienza","San Gimignano","Orvieto"],France:["Paris","Marseille","Lyon","Toulouse","Nice","Nantes","Strasbourg","Montpellier","Bordeaux","Lille","Rennes","Reims","Le Havre","Saint-tienne","Toulon","Grenoble","Dijon","Angers","Nmes","Villeurbanne","Saint-Denis","Le Mans","Aix-en-Provence","Clermont-Ferrand","Brest","Tours","Amiens","Limoges","Annecy","Perpignan","Boulogne-Billancourt","Metz","Besanon","Orlans","Saint-Denis","Argenteuil","Rouen","Mulhouse","Montreuil","Caen","Nancy","Avignon","Cannes","Antibes","Saint-Tropez","Monaco","Versailles","Colmar","Chamonix","Annecy","Carcassonne","Arles","Aix-les-Bains","Menton","Grasse","Saint-Malo","La Rochelle","Biarritz","Lourdes","Mont-Saint-Michel","Giverny","Fontainebleau","Chartres","Beaune","pernay","Reims","Troyes"],Spain:["Madrid","Barcelona","Valencia","Seville","Bilbao","Mlaga","Granada"],Portugal:["Lisbon","Porto","Faro","Coimbra","Braga"],Germany:["Berlin","Munich","Hamburg","Frankfurt","Cologne","Stuttgart","Dsseldorf"],Austria:["Vienna","Salzburg","Innsbruck","Graz","Linz"],Netherlands:["Amsterdam","Rotterdam","The Hague","Utrecht","Eindhoven"],Belgium:["Brussels","Antwerp","Ghent","Bruges","Lige"],Greece:["Athens","Thessaloniki","Santorini","Mykonos","Crete","Rhodes"],"United Kingdom":["London","Edinburgh","Manchester","Liverpool","Oxford","Cambridge"],"Czech Republic":["Prague","Brno","esk Krumlov"],Croatia:["Zagreb","Dubrovnik","Split","Pula"],Poland:["Warsaw","Krakow","Gdansk","Wroclaw"],Hungary:["Budapest","Debrecen","Szeged"],"United States":["New York","Los Angeles","Chicago","San Francisco","Miami","Las Vegas"],Canada:["Toronto","Vancouver","Montreal","Quebec City","Calgary"],Japan:["Tokyo","Kyoto","Osaka","Hiroshima","Nara"],"South Korea":["Seoul","Busan","Jeju"],Thailand:["Bangkok","Chiang Mai","Phuket","Pattaya"],Australia:["Sydney","Melbourne","Brisbane","Perth","Adelaide"],"New Zealand":["Auckland","Wellington","Christchurch","Queenstown"],Brazil:["Rio de Janeiro","So Paulo","Salvador","Braslia"],Argentina:["Buenos Aires","Mendoza","Bariloche","Crdoba"],Mexico:["Mexico City","Cancun","Playa del Carmen","Guadalajara"],Egypt:["Cairo","Alexandria","Luxor","Aswan"],"United Arab Emirates":["Dubai","Abu Dhabi","Sharjah"],Turkey:["Istanbul","Ankara","Antalya","Izmir"],Morocco:["Marrakech","Casablanca","Fes","Rabat"],"South Africa":["Cape Town","Johannesburg","Durban","Pretoria"]},Ix=({onCreateTrip:t})=>{const{trips:e,loading:n,deleteTrip:r}=Ny(),[i,s]=B.useState([]),[o,u]=B.useState(!1),[c,d]=B.useState(""),[m,g]=B.useState([{startDate:new Date,endDate:new Date(Date.now()+7*24*60*60*1e3),key:"selection"}]),[_,E]=B.useState(!1),[O,D]=B.useState(""),[A,b]=B.useState(!1),[S,C]=B.useState(null),[j,H]=B.useState(!1),[q,T]=B.useState(null),w=B.useRef(null),P=B.useRef(null),N=Object.keys(eQ).filter(k=>!i.includes(k)).filter(k=>k.toLowerCase().includes(c.toLowerCase())),F=k=>{s([...i,k]),d(""),u(!1)},I=k=>{s(i.filter(M=>M!==k))},Re=k=>{C(k)},ze=(k,M)=>{k.preventDefault()},wt=(k,M)=>{if(k.preventDefault(),S===null||S===M)return;const W=[...i],[ne]=W.splice(S,1);W.splice(M,0,ne),s(W),C(null)},Se=()=>i.length===0?"":i.length===1?`Trip to ${i[0]}`:i.length===2?`Trip to ${i[0]} & ${i[1]}`:`Trip to ${i.slice(0,-1).join(", ")} & ${i[i.length-1]}`;B.useEffect(()=>{A||D(Se())},[i,A]),B.useEffect(()=>{const k=M=>{w.current&&!w.current.contains(M.target)&&E(!1)};return _&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[_]),B.useEffect(()=>{const k=M=>{P.current&&!P.current.contains(M.target)&&u(!1)};return o&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[o]);const Q=k=>{const M=k.getFullYear(),W=String(k.getMonth()+1).padStart(2,"0"),ne=String(k.getDate()).padStart(2,"0");return`${M}-${W}-${ne}`},oe=async()=>{if(i.length===0){alert("Please select at least one country");return}if(!O.trim()){alert("Please enter a trip name");return}const k={id:Date.now(),name:O.trim(),startDate:Q(m[0].startDate),endDate:Q(m[0].endDate),countries:i};try{console.log("TripSetup: creating trip",k),await t(k),console.log("TripSetup: onCreateTrip resolved")}catch(M){console.error("Failed to create trip:",M),alert("Failed to create trip. Please try again.")}},ce=async k=>{console.log("TripSetup: selecting existing trip",k),await t(k)},Ce=k=>{T(k),H(!0)},G=async()=>{if(q)try{await r(q.id)}catch(k){console.error("Failed to delete trip:",k),alert("Failed to delete trip. Please try again.")}finally{H(!1),T(null)}},$=e.sort((k,M)=>new Date(M.startDate)-new Date(k.startDate)).slice(0,6);return f.jsxs("div",{className:"min-h-screen bg-[#F8F9FA] flex items-center justify-center p-4",children:[f.jsxs("div",{className:"max-w-2xl w-full",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-block p-4 bg-gradient-to-br from-[#FF6B6B] to-[#FF8E53] rounded-3xl shadow-lg mb-4",children:f.jsx(bf,{className:"w-12 h-12 text-white"})}),f.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Plan Your Adventure"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"Tell us where you're going and when"})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6 sm:p-8 border-2 border-gray-50",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-3",children:"Where are you travelling to?"}),f.jsxs("div",{className:"flex flex-wrap gap-3 mb-3",children:[i.map((k,M)=>f.jsxs("div",{draggable:!0,onDragStart:()=>Re(M),onDragOver:W=>ze(W),onDrop:W=>wt(W,M),className:`flex items-center gap-2 px-5 py-3 bg-gradient-to-r from-[#FF6B6B]/10 to-[#FF8E53]/10 text-[#FF6B6B] rounded-full border-2 border-[#FF6B6B]/20 cursor-move hover:shadow-md hover:border-[#FF6B6B]/40 transition-all ${S===M?"opacity-50 scale-95":""}`,children:[f.jsx(fb,{size:20,className:"text-[#FF6B6B]/60 flex-shrink-0"}),f.jsx("span",{className:"font-medium text-base",children:k}),f.jsx("button",{onClick:W=>{W.stopPropagation(),I(k)},className:"hover:bg-[#FF6B6B]/20 rounded-full p-1 transition-colors",children:f.jsx(Ld,{size:18})})]},k)),f.jsxs("button",{onClick:()=>u(!o),className:"flex items-center gap-2 px-5 py-3 border-2 border-dashed border-gray-300 hover:border-[#4ECDC4] text-gray-600 hover:text-[#4ECDC4] rounded-full transition-all",children:[f.jsx(_u,{size:18}),f.jsx("span",{className:"font-medium",children:"Add Country"})]})]}),i.length>1&&f.jsxs("p",{className:"text-xs text-gray-500 mb-3 flex items-center gap-1",children:[f.jsx(fb,{size:14}),"Drag countries to reorder them"]}),o&&f.jsxs("div",{ref:P,className:"relative mt-2",children:[f.jsx("input",{type:"text",placeholder:"Search countries...",value:c,onChange:k=>d(k.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-[#4ECDC4] transition-colors",autoFocus:!0}),f.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white border-2 border-gray-200 rounded-xl shadow-lg max-h-64 overflow-y-auto",children:N.length>0?N.map(k=>f.jsx("button",{onClick:()=>F(k),className:"w-full px-4 py-3 text-left hover:bg-gradient-to-r hover:from-[#4ECDC4]/10 hover:to-[#4ECDC4]/5 transition-colors border-b border-gray-100 last:border-b-0",children:f.jsx("span",{className:"font-medium",children:k})},k)):f.jsx("div",{className:"px-4 py-3 text-gray-500 text-center",children:"No countries found"})})]})]}),f.jsxs("div",{className:"mb-8",children:[f.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-3",children:"When are you going?"}),f.jsxs("button",{onClick:()=>E(!_),className:"w-full px-4 py-3 bg-gradient-to-r from-[#4ECDC4]/10 to-[#4ECDC4]/5 border-2 border-[#4ECDC4]/30 hover:border-[#4ECDC4] rounded-xl transition-all flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ef,{className:"text-[#4ECDC4]",size:20}),f.jsxs("span",{className:"font-medium text-gray-700",children:[m[0].startDate.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),"  ",m[0].endDate.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),f.jsxs("span",{className:"text-sm text-gray-500",children:[Math.ceil((m[0].endDate-m[0].startDate)/(1e3*60*60*24))+1," days"]})]}),_&&f.jsx("div",{ref:w,className:"mt-4 flex justify-center",children:f.jsx("div",{className:"inline-block bg-white border-2 border-gray-200 rounded-xl shadow-lg p-4",children:f.jsx(Xv.DateRange,{ranges:m,onChange:k=>{const M=k.selection;g([M]),M.startDate&&M.endDate&&M.startDate.getTime()!==M.endDate.getTime()&&E(!1)},months:2,direction:"horizontal",showDateDisplay:!1,rangeColors:["#4ECDC4"],className:"rounded-xl"})})})]}),i.length>0&&f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-3",children:"Trip Name"}),f.jsx("input",{type:"text",value:O,onChange:k=>{D(k.target.value),b(!0)},onBlur:()=>{O.trim()||(D(Se()),b(!1))},placeholder:"Enter trip name",className:"w-full px-4 py-3 border-2 border-[#FFE66D]/30 bg-gradient-to-r from-[#FFE66D]/10 to-[#FFE66D]/5 rounded-xl focus:outline-none focus:border-[#FFE66D] focus:bg-white transition-colors text-lg font-semibold text-gray-900"})]}),f.jsx("button",{onClick:oe,disabled:i.length===0,className:"w-full px-6 py-4 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] text-white rounded-xl font-semibold text-lg hover:shadow-lg transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:"Create My Trip"})]}),!n&&$.length>0&&f.jsxs("div",{className:"mt-8",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(QB,{size:20,className:"text-[#4ECDC4]"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Trips"})]}),f.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Continue planning one of your previous trips"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:$.map(k=>f.jsxs("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl border-2 border-gray-50 hover:border-[#4ECDC4] p-5 text-left transition-all hover:scale-[1.02] group relative",children:[f.jsx("button",{onClick:()=>Ce(k),className:"absolute top-3 right-3 p-2 rounded-full hover:bg-red-50 text-red-500 transition-colors",title:"Delete trip",children:f.jsx(Nu,{size:18})}),f.jsxs("button",{onClick:()=>ce(k),className:"w-full text-left",children:[f.jsx("div",{className:"flex items-start justify-between mb-3 pr-6",children:f.jsx("h3",{className:"font-bold text-lg text-gray-900 line-clamp-2 group-hover:text-[#4ECDC4] transition-colors",children:k.name})}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[f.jsx(Ef,{size:14,className:"text-[#4ECDC4]"}),f.jsxs("span",{children:[new Date(k.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(k.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),k.countries&&k.countries.length>0&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(bf,{size:14,className:"text-[#FF6B6B]"}),f.jsxs("div",{className:"flex flex-wrap gap-1",children:[k.countries.slice(0,2).map((M,W)=>f.jsx("span",{className:"text-xs px-2 py-1 bg-gradient-to-r from-[#FF6B6B]/10 to-[#FF8E53]/10 text-[#FF6B6B] rounded-full font-medium",children:M},W)),k.countries.length>2&&f.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-full font-medium",children:["+",k.countries.length-2]})]})]})]}),f.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:f.jsx("span",{className:"text-xs text-[#4ECDC4] font-medium group-hover:underline",children:"Continue Planning "})})]})]},k.id))})]})]}),j&&q&&f.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 px-4",children:f.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-md w-full",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-red-50 flex items-center justify-center",children:f.jsx(Nu,{className:"text-red-500",size:20})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Delete trip?"})]}),f.jsxs("p",{className:"text-gray-600 mb-6",children:['"',q.name,'" will be removed from your trips. This action cannot be undone.']}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[f.jsx("button",{onClick:G,className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:shadow-lg transition-all",children:"Delete Trip"}),f.jsx("button",{onClick:()=>{H(!1),T(null)},className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl hover:bg-gray-50 transition-all",children:"Cancel"})]})]})})]})},tQ=()=>{const{currentUser:t,loading:e}=xa(),{currentTrip:n,loading:r,saveCurrentTrip:i}=w2(),{saveTrip:s}=Ny(),[o,u]=Fr.useState(null),[c,d]=Fr.useState(!1);if(e||t&&r)return f.jsx("div",{className:"min-h-screen bg-[#F8F9FA] flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-[#4ECDC4]/20 border-t-[#4ECDC4] rounded-full animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"Loading..."})]})});if(!t)return f.jsx(ZG,{});if(typeof window<"u"&&localStorage.getItem("showSetupOnLogin")==="1"&&!o&&(!n||!n.id)){try{localStorage.removeItem("showSetupOnLogin")}catch(m){console.warn("Could not remove showSetupOnLogin flag",m)}return f.jsx(Ix,{onCreateTrip:async m=>{try{await s(m),await i(m),u(m),d(!1)}catch(g){console.error("Failed to create trip:",g),alert("Failed to create trip. Please try again.")}}})}return c||!n||!n.id?o&&!c?f.jsx(Dx,{initialTrip:o,onExitTrip:()=>{u(null),d(!0)}}):f.jsx(Ix,{onCreateTrip:async m=>{try{console.log("App: onCreateTrip start",m),await s(m),console.log("App: saveTrip completed"),await i(m),console.log("App: saveCurrentTrip completed"),u(m),console.log("App: setCreatedTrip",m),d(!1)}catch(g){console.error("Failed to create trip:",g),alert("Failed to create trip. Please try again.")}}}):f.jsx(Dx,{onExitTrip:()=>{u(null),d(!0)}})},nv=document.getElementById("root"),E2=nv._reactRoot||Fg.createRoot(nv);nv._reactRoot=E2;E2.render(f.jsx(Fr.StrictMode,{children:f.jsx(GG,{children:f.jsx(tQ,{})})}));
